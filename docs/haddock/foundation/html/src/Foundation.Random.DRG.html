<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Foundation.Random.DRG</span><span>
</span><span id="line-2"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Foundation.Random.DRG.html#RandomGen"><span class="hs-identifier">RandomGen</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-3"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier">MonadRandomState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Foundation.Random.DRG.html#withRandomGenerator"><span class="hs-identifier">withRandomGenerator</span></a></span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../basement/html/src"><span class="hs-identifier">Basement.Imports</span></a></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Foundation.Random.Class.html"><span class="hs-identifier">Foundation.Random.Class</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">-- | A Deterministic Random Generator (DRG) class</span><span>
</span><span id="line-11"></span><span class="hs-keyword">class</span><span> </span><span id="RandomGen"><span class="annot"><a href="Foundation.Random.DRG.html#RandomGen"><span class="hs-identifier hs-var">RandomGen</span></a></span></span><span> </span><span id="local-6989586621679162287"><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-comment">-- | Initialize a new random generator</span><span>
</span><span id="line-13"></span><span>    </span><span id="randomNew"><span class="annot"><a href="Foundation.Random.DRG.html#randomNew"><span class="hs-identifier hs-type">randomNew</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679162272"><span class="annot"><a href="Foundation.Random.Class.html#MonadRandom"><span class="hs-identifier hs-type">MonadRandom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679162272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-comment">-- | Initialize a new random generator from a binary seed.</span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-comment">-- If `Nothing` is returned, then the data is not acceptable</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-comment">-- for creating a new random generator.</span><span>
</span><span id="line-19"></span><span>    </span><span id="randomNewFrom"><span class="annot"><a href="Foundation.Random.DRG.html#randomNewFrom"><span class="hs-identifier hs-type">randomNewFrom</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../basement/html/src"><span class="hs-identifier hs-type">UArray</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-comment">-- | Generate N bytes of randomness from a DRG</span><span>
</span><span id="line-22"></span><span>    </span><span id="randomGenerate"><span class="annot"><a href="Foundation.Random.DRG.html#randomGenerate"><span class="hs-identifier hs-type">randomGenerate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../basement/html/src"><span class="hs-identifier hs-type">CountOf</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../basement/html/src"><span class="hs-identifier hs-type">UArray</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-comment">-- | Generate a Word64 from a DRG</span><span>
</span><span id="line-25"></span><span>    </span><span id="randomGenerateWord64"><span class="annot"><a href="Foundation.Random.DRG.html#randomGenerateWord64"><span class="hs-identifier hs-type">randomGenerateWord64</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>    </span><span id="randomGenerateF32"><span class="annot"><a href="Foundation.Random.DRG.html#randomGenerateF32"><span class="hs-identifier hs-type">randomGenerateF32</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Float</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>    </span><span id="randomGenerateF64"><span class="annot"><a href="Foundation.Random.DRG.html#randomGenerateF64"><span class="hs-identifier hs-type">randomGenerateF64</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Double</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679162287"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">-- | A simple Monad class very similar to a State Monad</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- with the state being a RandomGenerator.</span><span>
</span><span id="line-33"></span><span class="hs-keyword">newtype</span><span> </span><span id="MonadRandomState"><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span></span><span> </span><span id="local-6989586621679162333"><span class="annot"><a href="#local-6989586621679162333"><span class="hs-identifier hs-type">gen</span></a></span></span><span> </span><span id="local-6989586621679162332"><span class="annot"><a href="#local-6989586621679162332"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MonadRandomState"><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runRandomState"><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var hs-var">runRandomState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679162333"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679162332"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679162333"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679162262"><span id="local-6989586621679162324"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-type">MonadRandomState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162324"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-36"></span><span>    </span><span id="local-6989586621679162260"><span class="annot"><span class="annottext">fmap :: forall a b.
(a -&gt; b) -&gt; MonadRandomState gen a -&gt; MonadRandomState gen b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679162259"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679162259"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679162258"><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162258"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679162257"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162257"><span class="hs-identifier hs-var">g1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-37"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679162256"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162256"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679162255"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162255"><span class="hs-identifier hs-var">g2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var">runRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162258"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162257"><span class="hs-identifier hs-var">g1</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679162259"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162256"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162255"><span class="hs-identifier hs-var">g2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679162245"><span id="local-6989586621679162247"><span id="local-6989586621679162249"><span id="local-6989586621679162307"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-type">MonadRandomState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162307"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-40"></span><span>    </span><span id="local-6989586621679162243"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; MonadRandomState gen a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span id="local-6989586621679162242"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162242"><span class="hs-identifier hs-var">a</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679162241"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162241"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162242"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162241"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>    </span><span id="local-6989586621679162240"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
MonadRandomState gen (a -&gt; b)
-&gt; MonadRandomState gen a -&gt; MonadRandomState gen b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></a></span></span><span> </span><span id="local-6989586621679162239"><span class="annot"><span class="annottext">MonadRandomState gen (a -&gt; b)
</span><a href="#local-6989586621679162239"><span class="hs-identifier hs-var">fm</span></a></span></span><span> </span><span id="local-6989586621679162238"><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162238"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679162237"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162237"><span class="hs-identifier hs-var">g1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-42"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679162236"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679162236"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679162235"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162235"><span class="hs-identifier hs-var">g2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var">runRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">MonadRandomState gen (a -&gt; b)
</span><a href="#local-6989586621679162239"><span class="hs-identifier hs-var">fm</span></a></span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162237"><span class="hs-identifier hs-var">g1</span></a></span><span>
</span><span id="line-43"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679162234"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162234"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679162233"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162233"><span class="hs-identifier hs-var">g3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var">runRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162238"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162235"><span class="hs-identifier hs-var">g2</span></a></span><span>
</span><span id="line-44"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679162236"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162234"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162233"><span class="hs-identifier hs-var">g3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679162228"><span id="local-6989586621679162297"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-type">MonadRandomState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162297"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-47"></span><span>    </span><span id="local-6989586621679162224"><span class="annot"><span class="annottext">return :: forall a. a -&gt; MonadRandomState gen a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">return</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span id="local-6989586621679162223"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b.
MonadRandomState gen a
-&gt; (a -&gt; MonadRandomState gen b) -&gt; MonadRandomState gen b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">(&gt;&gt;=)</span></a></span></span><span> </span><span id="local-6989586621679162222"><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162222"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679162221"><span class="annot"><span class="annottext">a -&gt; MonadRandomState gen b
</span><a href="#local-6989586621679162221"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679162220"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162220"><span class="hs-identifier hs-var">g1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-49"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679162219"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162219"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679162218"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162218"><span class="hs-identifier hs-var">g2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var">runRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162222"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162220"><span class="hs-identifier hs-var">g1</span></a></span><span>
</span><span id="line-50"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var">runRandomState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; MonadRandomState gen b
</span><a href="#local-6989586621679162221"><span class="hs-identifier hs-var">m2</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679162219"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162218"><span class="hs-identifier hs-var">g2</span></a></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679162288"><span class="annot"><a href="Foundation.Random.DRG.html#RandomGen"><span class="hs-identifier hs-type">RandomGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162288"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Foundation.Random.Class.html#MonadRandom"><span class="hs-identifier hs-type">MonadRandom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-type">MonadRandomState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162288"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-53"></span><span>    </span><span id="local-6989586621679162203"><span class="annot"><span class="annottext">getRandomBytes :: CountOf Word8 -&gt; MonadRandomState gen (UArray Word8)
</span><a href="Foundation.Random.Class.html#getRandomBytes"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRandomBytes</span></a></span></span><span> </span><span id="local-6989586621679162201"><span class="annot"><span class="annottext">CountOf Word8
</span><a href="#local-6989586621679162201"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall gen.
RandomGen gen =&gt;
CountOf Word8 -&gt; gen -&gt; (UArray Word8, gen)
</span><a href="Foundation.Random.DRG.html#randomGenerate"><span class="hs-identifier hs-var">randomGenerate</span></a></span><span> </span><span class="annot"><span class="annottext">CountOf Word8
</span><a href="#local-6989586621679162201"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>    </span><span id="local-6989586621679162199"><span class="annot"><span class="annottext">getRandomWord64 :: MonadRandomState gen Word64
</span><a href="Foundation.Random.Class.html#getRandomWord64"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRandomWord64</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall gen. RandomGen gen =&gt; gen -&gt; (Word64, gen)
</span><a href="Foundation.Random.DRG.html#randomGenerateWord64"><span class="hs-identifier hs-var">randomGenerateWord64</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span id="local-6989586621679162196"><span class="annot"><span class="annottext">getRandomF32 :: MonadRandomState gen Float
</span><a href="Foundation.Random.Class.html#getRandomF32"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRandomF32</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall gen. RandomGen gen =&gt; gen -&gt; (Float, gen)
</span><a href="Foundation.Random.DRG.html#randomGenerateF32"><span class="hs-identifier hs-var">randomGenerateF32</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span id="local-6989586621679162193"><span class="annot"><span class="annottext">getRandomF64 :: MonadRandomState gen Double
</span><a href="Foundation.Random.Class.html#getRandomF64"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRandomF64</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. (gen -&gt; (a, gen)) -&gt; MonadRandomState gen a
</span><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-var">MonadRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">forall gen. RandomGen gen =&gt; gen -&gt; (Double, gen)
</span><a href="Foundation.Random.DRG.html#randomGenerateF64"><span class="hs-identifier hs-var">randomGenerateF64</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">-- | Run a pure computation with a Random Generator in the 'MonadRandomState'</span><span>
</span><span id="line-60"></span><span id="local-6989586621679162285"><span id="local-6989586621679162286"><span class="annot"><a href="Foundation.Random.DRG.html#withRandomGenerator"><span class="hs-identifier hs-type">withRandomGenerator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Foundation.Random.DRG.html#RandomGen"><span class="hs-identifier hs-type">RandomGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162286"><span class="hs-identifier hs-type">gen</span></a></span><span>
</span><span id="line-61"></span><span>                    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679162286"><span class="hs-identifier hs-type">gen</span></a></span><span>
</span><span id="line-62"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Foundation.Random.DRG.html#MonadRandomState"><span class="hs-identifier hs-type">MonadRandomState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162286"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679162285"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-63"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679162285"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679162286"><span class="hs-identifier hs-type">gen</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-64"></span><span id="withRandomGenerator"><span class="annot"><span class="annottext">withRandomGenerator :: forall gen a.
RandomGen gen =&gt;
gen -&gt; MonadRandomState gen a -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#withRandomGenerator"><span class="hs-identifier hs-var hs-var">withRandomGenerator</span></a></span></span><span> </span><span id="local-6989586621679162190"><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162190"><span class="hs-identifier hs-var">gen</span></a></span></span><span> </span><span id="local-6989586621679162189"><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162189"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall gen a. MonadRandomState gen a -&gt; gen -&gt; (a, gen)
</span><a href="Foundation.Random.DRG.html#runRandomState"><span class="hs-identifier hs-var">runRandomState</span></a></span><span> </span><span class="annot"><span class="annottext">MonadRandomState gen a
</span><a href="#local-6989586621679162189"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">gen
</span><a href="#local-6989586621679162190"><span class="hs-identifier hs-var">gen</span></a></span><span>
</span><span id="line-65"></span></pre></body></html>
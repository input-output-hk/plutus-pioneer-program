<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Distribution.Compat.Lens</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Cabal-3.6.3.0: A framework for packaging Haskell software</span><ul class="links" id="page-menu"><li><a href="src/Distribution.Compat.Lens.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Distribution.Compat.Lens</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Types</a><ul><li><a href="#g:2">LensLike</a></li><li><a href="#g:3">rank-1 types</a></li></ul></li><li><a href="#g:4">Getter</a></li><li><a href="#g:5">Setter</a></li><li><a href="#g:6">Fold</a></li><li><a href="#g:7">Lens</a></li><li><a href="#g:8">Common lenses</a></li><li><a href="#g:9">Operators</a></li><li><a href="#g:10">Internal Comonads</a></li><li><a href="#g:11">Cabal developer info</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides very basic lens functionality, without extra dependencies.</p><p>For the documentation of the combinators see <a href="http://hackage.haskell.org/package/lens">lens</a> package.
 This module uses the same vocabulary.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Lens">Lens</a> s t a b = <span class="keyword">forall</span> f. <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> f =&gt; <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> f s t a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:Lens-39-">Lens'</a> s a = <a href="Distribution-Compat-Lens.html#t:Lens" title="Distribution.Compat.Lens">Lens</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Traversal">Traversal</a> s t a b = <span class="keyword">forall</span> f. <a href="Distribution-Compat-Prelude-Internal.html#t:Applicative" title="Distribution.Compat.Prelude.Internal">Applicative</a> f =&gt; <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> f s t a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:Traversal-39-">Traversal'</a> s a = <a href="Distribution-Compat-Lens.html#t:Traversal" title="Distribution.Compat.Lens">Traversal</a> s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:LensLike">LensLike</a> f s t a b = (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><span class="keyword">type</span> <a href="#t:LensLike-39-">LensLike'</a> f s a = (a -&gt; f a) -&gt; s -&gt; f s</li><li class="src short"><span class="keyword">type</span> <a href="#t:Getting">Getting</a> r s a = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> (<a href="Distribution-Compat-Prelude-Internal.html#t:Const" title="Distribution.Compat.Prelude.Internal">Const</a> r) s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:AGetter">AGetter</a> s a = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> (<a href="Distribution-Compat-Prelude-Internal.html#t:Const" title="Distribution.Compat.Prelude.Internal">Const</a> a) s s a a</li><li class="src short"><span class="keyword">type</span> <a href="#t:ASetter">ASetter</a> s t a b = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> <a href="Distribution-Compat-Prelude-Internal.html#t:Identity" title="Distribution.Compat.Prelude.Internal">Identity</a> s t a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:ALens">ALens</a> s t a b = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> (<a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b) s t a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:ALens-39-">ALens'</a> s a = <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s s a a</li><li class="src short"><a href="#v:view">view</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> a s a -&gt; s -&gt; a</li><li class="src short"><a href="#v:use">use</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> a s a -&gt; m a</li><li class="src short"><a href="#v:getting">getting</a> :: (s -&gt; a) -&gt; <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> r s a</li><li class="src short"><a href="#v:set">set</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:over">over</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</li><li class="src short"><a href="#v:toDListOf">toDListOf</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> (<a href="Distribution-Compat-DList.html#t:DList" title="Distribution.Compat.DList">DList</a> a) s a -&gt; s -&gt; <a href="Distribution-Compat-DList.html#t:DList" title="Distribution.Compat.DList">DList</a> a</li><li class="src short"><a href="#v:toListOf">toListOf</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> (<a href="Distribution-Compat-DList.html#t:DList" title="Distribution.Compat.DList">DList</a> a) s a -&gt; s -&gt; [a]</li><li class="src short"><a href="#v:toSetOf">toSetOf</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> (<a href="Distribution-Compat-Prelude-Internal.html#t:Set" title="Distribution.Compat.Prelude.Internal">Set</a> a) s a -&gt; s -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Set" title="Distribution.Compat.Prelude.Internal">Set</a> a</li><li class="src short"><a href="#v:cloneLens">cloneLens</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> f =&gt; <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> f s t a b</li><li class="src short"><a href="#v:aview">aview</a> :: <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; s -&gt; a</li><li class="src short"><a href="#v:_1">_1</a> :: <a href="Distribution-Compat-Lens.html#t:Lens" title="Distribution.Compat.Lens">Lens</a> (a, c) (b, c) a b</li><li class="src short"><a href="#v:_2">_2</a> :: <a href="Distribution-Compat-Lens.html#t:Lens" title="Distribution.Compat.Lens">Lens</a> (c, a) (c, b) a b</li><li class="src short"><a href="#v:-38-">(&amp;)</a> :: a -&gt; (a -&gt; b) -&gt; b</li><li class="src short"><a href="#v:-94-.">(^.)</a> :: s -&gt; <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> a s a -&gt; a</li><li class="src short"><a href="#v:.-126-">(.~)</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-63--126-">(?~)</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a (<a href="Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> b) -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-37--126-">(%~)</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</li><li class="src short"><a href="#v:.-61-">(.=)</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s s a b -&gt; b -&gt; m ()</li><li class="src short"><a href="#v:-63--61-">(?=)</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s s a (<a href="Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> b) -&gt; b -&gt; m ()</li><li class="src short"><a href="#v:-37--61-">(%=)</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s s a b -&gt; (a -&gt; b) -&gt; m ()</li><li class="src short"><a href="#v:-94--35-">(^#)</a> :: s -&gt; <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; a</li><li class="src short"><a href="#v:-35--126-">(#~)</a> :: <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-35--37--126-">(#%~)</a> :: <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</li><li class="src short"><span class="keyword">data</span> <a href="#t:Pretext">Pretext</a> a b t = <a href="#v:Pretext">Pretext</a> {<ul class="subs"><li><a href="#v:runPretext">runPretext</a> :: <span class="keyword">forall</span> f. <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> f =&gt; (a -&gt; f b) -&gt; f t</li></ul>}</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Types</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Lens" class="def">Lens</a> s t a b = <span class="keyword">forall</span> f. <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> f =&gt; <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> f s t a b <a href="src/Distribution.Compat.Lens.html#Lens" class="link">Source</a> <a href="#t:Lens" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Lens-39-" class="def">Lens'</a> s a = <a href="Distribution-Compat-Lens.html#t:Lens" title="Distribution.Compat.Lens">Lens</a> s s a a <a href="src/Distribution.Compat.Lens.html#Lens%27" class="link">Source</a> <a href="#t:Lens-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Traversal" class="def">Traversal</a> s t a b = <span class="keyword">forall</span> f. <a href="Distribution-Compat-Prelude-Internal.html#t:Applicative" title="Distribution.Compat.Prelude.Internal">Applicative</a> f =&gt; <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> f s t a b <a href="src/Distribution.Compat.Lens.html#Traversal" class="link">Source</a> <a href="#t:Traversal" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Traversal-39-" class="def">Traversal'</a> s a = <a href="Distribution-Compat-Lens.html#t:Traversal" title="Distribution.Compat.Lens">Traversal</a> s s a a <a href="src/Distribution.Compat.Lens.html#Traversal%27" class="link">Source</a> <a href="#t:Traversal-39-" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h2>LensLike</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LensLike" class="def">LensLike</a> f s t a b = (a -&gt; f b) -&gt; s -&gt; f t <a href="src/Distribution.Compat.Lens.html#LensLike" class="link">Source</a> <a href="#t:LensLike" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LensLike-39-" class="def">LensLike'</a> f s a = (a -&gt; f a) -&gt; s -&gt; f s <a href="src/Distribution.Compat.Lens.html#LensLike%27" class="link">Source</a> <a href="#t:LensLike-39-" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h2>rank-1 types</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Getting" class="def">Getting</a> r s a = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> (<a href="Distribution-Compat-Prelude-Internal.html#t:Const" title="Distribution.Compat.Prelude.Internal">Const</a> r) s s a a <a href="src/Distribution.Compat.Lens.html#Getting" class="link">Source</a> <a href="#t:Getting" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AGetter" class="def">AGetter</a> s a = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> (<a href="Distribution-Compat-Prelude-Internal.html#t:Const" title="Distribution.Compat.Prelude.Internal">Const</a> a) s s a a <a href="src/Distribution.Compat.Lens.html#AGetter" class="link">Source</a> <a href="#t:AGetter" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ASetter" class="def">ASetter</a> s t a b = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> <a href="Distribution-Compat-Prelude-Internal.html#t:Identity" title="Distribution.Compat.Prelude.Internal">Identity</a> s t a b <a href="src/Distribution.Compat.Lens.html#ASetter" class="link">Source</a> <a href="#t:ASetter" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ALens" class="def">ALens</a> s t a b = <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> (<a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b) s t a b <a href="src/Distribution.Compat.Lens.html#ALens" class="link">Source</a> <a href="#t:ALens" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ALens-39-" class="def">ALens'</a> s a = <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s s a a <a href="src/Distribution.Compat.Lens.html#ALens%27" class="link">Source</a> <a href="#t:ALens-39-" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>Getter</h1></a><div class="top"><p class="src"><a id="v:view" class="def">view</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> a s a -&gt; s -&gt; a <a href="src/Distribution.Compat.Lens.html#view" class="link">Source</a> <a href="#v:view" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:use" class="def">use</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> a s a -&gt; m a <a href="src/Distribution.Compat.Lens.html#use" class="link">Source</a> <a href="#v:use" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getting" class="def">getting</a> :: (s -&gt; a) -&gt; <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> r s a <a href="src/Distribution.Compat.Lens.html#getting" class="link">Source</a> <a href="#v:getting" class="selflink">#</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(3 :: Int) ^. getting (+2) . getting show
</code></strong>&quot;5&quot;
</pre><p><em>Since: Cabal-2.4</em></p></div></div><a href="#g:5" id="g:5"><h1>Setter</h1></a><div class="top"><p class="src"><a id="v:set" class="def">set</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; b -&gt; s -&gt; t <a href="src/Distribution.Compat.Lens.html#set" class="link">Source</a> <a href="#v:set" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:over" class="def">over</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t <a href="src/Distribution.Compat.Lens.html#over" class="link">Source</a> <a href="#v:over" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>Fold</h1></a><div class="top"><p class="src"><a id="v:toDListOf" class="def">toDListOf</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> (<a href="Distribution-Compat-DList.html#t:DList" title="Distribution.Compat.DList">DList</a> a) s a -&gt; s -&gt; <a href="Distribution-Compat-DList.html#t:DList" title="Distribution.Compat.DList">DList</a> a <a href="src/Distribution.Compat.Lens.html#toDListOf" class="link">Source</a> <a href="#v:toDListOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toListOf" class="def">toListOf</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> (<a href="Distribution-Compat-DList.html#t:DList" title="Distribution.Compat.DList">DList</a> a) s a -&gt; s -&gt; [a] <a href="src/Distribution.Compat.Lens.html#toListOf" class="link">Source</a> <a href="#v:toListOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toSetOf" class="def">toSetOf</a> :: <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> (<a href="Distribution-Compat-Prelude-Internal.html#t:Set" title="Distribution.Compat.Prelude.Internal">Set</a> a) s a -&gt; s -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Set" title="Distribution.Compat.Prelude.Internal">Set</a> a <a href="src/Distribution.Compat.Lens.html#toSetOf" class="link">Source</a> <a href="#v:toSetOf" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>Lens</h1></a><div class="top"><p class="src"><a id="v:cloneLens" class="def">cloneLens</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> f =&gt; <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; <a href="Distribution-Compat-Lens.html#t:LensLike" title="Distribution.Compat.Lens">LensLike</a> f s t a b <a href="src/Distribution.Compat.Lens.html#cloneLens" class="link">Source</a> <a href="#v:cloneLens" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:aview" class="def">aview</a> :: <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; s -&gt; a <a href="src/Distribution.Compat.Lens.html#aview" class="link">Source</a> <a href="#v:aview" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>Common lenses</h1></a><div class="top"><p class="src"><a id="v:_1" class="def">_1</a> :: <a href="Distribution-Compat-Lens.html#t:Lens" title="Distribution.Compat.Lens">Lens</a> (a, c) (b, c) a b <a href="src/Distribution.Compat.Lens.html#_1" class="link">Source</a> <a href="#v:_1" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_2" class="def">_2</a> :: <a href="Distribution-Compat-Lens.html#t:Lens" title="Distribution.Compat.Lens">Lens</a> (c, a) (c, b) a b <a href="src/Distribution.Compat.Lens.html#_2" class="link">Source</a> <a href="#v:_2" class="selflink">#</a></p></div><a href="#g:9" id="g:9"><h1>Operators</h1></a><div class="top"><p class="src"><a id="v:-38-" class="def">(&amp;)</a> :: a -&gt; (a -&gt; b) -&gt; b <span class="fixity">infixl 1</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%26" class="link">Source</a> <a href="#v:-38-" class="selflink">#</a></p><div class="doc"><p><code><a href="Distribution-Compat-Lens.html#v:-38-" title="Distribution.Compat.Lens">&amp;</a></code> is a reverse application operator</p></div></div><div class="top"><p class="src"><a id="v:-94-." class="def">(^.)</a> :: s -&gt; <a href="Distribution-Compat-Lens.html#t:Getting" title="Distribution.Compat.Lens">Getting</a> a s a -&gt; a <span class="fixity">infixl 8</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%5E." class="link">Source</a> <a href="#v:-94-." class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:.-126-" class="def">(.~)</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; b -&gt; s -&gt; t <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#.~" class="link">Source</a> <a href="#v:.-126-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-63--126-" class="def">(?~)</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a (<a href="Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> b) -&gt; b -&gt; s -&gt; t <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%3F~" class="link">Source</a> <a href="#v:-63--126-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-37--126-" class="def">(%~)</a> :: <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%25~" class="link">Source</a> <a href="#v:-37--126-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:.-61-" class="def">(.=)</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s s a b -&gt; b -&gt; m () <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#.%3D" class="link">Source</a> <a href="#v:.-61-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-63--61-" class="def">(?=)</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s s a (<a href="Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> b) -&gt; b -&gt; m () <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%3F%3D" class="link">Source</a> <a href="#v:-63--61-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-37--61-" class="def">(%=)</a> :: <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="Distribution-Compat-Lens.html#t:ASetter" title="Distribution.Compat.Lens">ASetter</a> s s a b -&gt; (a -&gt; b) -&gt; m () <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%25%3D" class="link">Source</a> <a href="#v:-37--61-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-94--35-" class="def">(^#)</a> :: s -&gt; <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; a <span class="fixity">infixl 8</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%5E%23" class="link">Source</a> <a href="#v:-94--35-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-35--126-" class="def">(#~)</a> :: <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; b -&gt; s -&gt; t <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%23~" class="link">Source</a> <a href="#v:-35--126-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-35--37--126-" class="def">(#%~)</a> :: <a href="Distribution-Compat-Lens.html#t:ALens" title="Distribution.Compat.Lens">ALens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Distribution.Compat.Lens.html#%23%25~" class="link">Source</a> <a href="#v:-35--37--126-" class="selflink">#</a></p></div><a href="#g:10" id="g:10"><h1>Internal Comonads</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Pretext" class="def">Pretext</a> a b t <a href="src/Distribution.Compat.Lens.html#Pretext" class="link">Source</a> <a href="#t:Pretext" class="selflink">#</a></p><div class="doc"><p><code>lens</code> variant is also parametrised by profunctor.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Pretext" class="def">Pretext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runPretext" class="def">runPretext</a> :: <span class="keyword">forall</span> f. <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> f =&gt; (a -&gt; f b) -&gt; f t</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Pretext">Instances</h4><details id="i:Pretext" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Pretext:Functor:1"></span> <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> (<a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b)</span> <a href="src/Distribution.Compat.Lens.html#line-226" class="link">Source</a> <a href="#t:Pretext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Pretext:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Distribution-Compat-Lens.html">Distribution.Compat.Lens</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a0 -&gt; b0) -&gt; <a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b a0 -&gt; <a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b b0 <a href="../base-4.16.3.0/src/GHC-Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a0 -&gt; <a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b b0 -&gt; <a href="Distribution-Compat-Lens.html#t:Pretext" title="Distribution.Compat.Lens">Pretext</a> a b a0 <a href="../base-4.16.3.0/src/GHC-Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:11" id="g:11"><h1>Cabal developer info</h1></a><div class="doc"><p>We cannot depend on <code>template-haskell</code>, because Cabal is a boot library.
 This fact makes defining optics a manual task. Here is a small recipe to
 make the process less tedious.</p><p>First start a repl</p><pre>cabal new-repl Cabal:hackage-tests</pre><p>Because <code>--extra-package</code> isn't yet implemented, we use a test-suite
 with <code>generics-sop</code> dependency.</p><p>In the repl, we load a helper script:</p><pre>:l ../generics-sop-lens.hs</pre><p>Now we are set up to derive lenses!</p><pre>:m +Distribution.Types.SourceRepo
putStr $ genericLenses (Proxy :: Proxy SourceRepo)</pre><pre>repoKind :: Lens' SourceRepo RepoKind
repoKind f s = fmap (\x -&gt; s { T.repoKind = x }) (f (T.repoKind s))
{-# INLINE repoKind #-}
...
</pre><p><em>Note:</em> You may need to adjust type-aliases, e.g. <code><a href="Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a></code> to <code><a href="Distribution-Compat-Prelude-Internal.html#t:FilePath" title="Distribution.Compat.Prelude.Internal">FilePath</a></code>.</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>
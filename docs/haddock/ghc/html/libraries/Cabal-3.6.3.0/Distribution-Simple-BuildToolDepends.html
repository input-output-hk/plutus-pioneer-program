<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Distribution.Simple.BuildToolDepends</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Cabal-3.6.3.0: A framework for packaging Haskell software</span><ul class="links" id="page-menu"><li><a href="src/Distribution.Simple.BuildToolDepends.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Distribution.Simple.BuildToolDepends</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This modules provides functions for working with both the legacy
 &quot;build-tools&quot; field, and its replacement, &quot;build-tool-depends&quot;. Prefer using
 the functions contained to access those fields directly.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:desugarBuildTool">desugarBuildTool</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-LegacyExeDependency.html#t:LegacyExeDependency" title="Distribution.Types.LegacyExeDependency">LegacyExeDependency</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Distribution-Types-ExeDependency.html#t:ExeDependency" title="Distribution.Types.ExeDependency">ExeDependency</a></li><li class="src short"><a href="#v:getAllToolDependencies">getAllToolDependencies</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-BuildInfo.html#t:BuildInfo" title="Distribution.Types.BuildInfo">BuildInfo</a> -&gt; [<a href="Distribution-Types-ExeDependency.html#t:ExeDependency" title="Distribution.Types.ExeDependency">ExeDependency</a>]</li><li class="src short"><a href="#v:isInternal">isInternal</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-ExeDependency.html#t:ExeDependency" title="Distribution.Types.ExeDependency">ExeDependency</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li class="src short"><a href="#v:getAllInternalToolDependencies">getAllInternalToolDependencies</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-BuildInfo.html#t:BuildInfo" title="Distribution.Types.BuildInfo">BuildInfo</a> -&gt; [<a href="Distribution-Types-UnqualComponentName.html#t:UnqualComponentName" title="Distribution.Types.UnqualComponentName">UnqualComponentName</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:desugarBuildTool" class="def">desugarBuildTool</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-LegacyExeDependency.html#t:LegacyExeDependency" title="Distribution.Types.LegacyExeDependency">LegacyExeDependency</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="Distribution-Types-ExeDependency.html#t:ExeDependency" title="Distribution.Types.ExeDependency">ExeDependency</a> <a href="src/Distribution.Simple.BuildToolDepends.html#desugarBuildTool" class="link">Source</a> <a href="#v:desugarBuildTool" class="selflink">#</a></p><div class="doc"><p>Desugar a &quot;build-tools&quot; entry into proper a executable dependency if
 possible.</p><p>An entry can be so desguared in two cases:</p><ol><li>The name in build-tools matches a locally defined executable.  The
    executable dependency produced is on that exe in the current package.</li><li>The name in build-tools matches a hard-coded set of known tools.  For now,
    the executable dependency produced is one an executable in a package of
    the same, but the hard-coding could just as well be per-key.</li></ol><p>The first cases matches first.</p></div></div><div class="top"><p class="src"><a id="v:getAllToolDependencies" class="def">getAllToolDependencies</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-BuildInfo.html#t:BuildInfo" title="Distribution.Types.BuildInfo">BuildInfo</a> -&gt; [<a href="Distribution-Types-ExeDependency.html#t:ExeDependency" title="Distribution.Types.ExeDependency">ExeDependency</a>] <a href="src/Distribution.Simple.BuildToolDepends.html#getAllToolDependencies" class="link">Source</a> <a href="#v:getAllToolDependencies" class="selflink">#</a></p><div class="doc"><p>Get everything from &quot;build-tool-depends&quot;, along with entries from
 &quot;build-tools&quot; that we know how to desugar.</p><p>This should almost always be used instead of just accessing the
 <code><a href="Distribution-Types-BuildInfo.html#v:buildToolDepends" title="Distribution.Types.BuildInfo">buildToolDepends</a></code> field directly.</p></div></div><div class="top"><p class="src"><a id="v:isInternal" class="def">isInternal</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-ExeDependency.html#t:ExeDependency" title="Distribution.Types.ExeDependency">ExeDependency</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> <a href="src/Distribution.Simple.BuildToolDepends.html#isInternal" class="link">Source</a> <a href="#v:isInternal" class="selflink">#</a></p><div class="doc"><p>Does the given executable dependency map to this current package?</p><p>This is a tiny function, but used in a number of places.</p><p>This function is only sound to call on <code><a href="Distribution-Types-BuildInfo.html#t:BuildInfo" title="Distribution.Types.BuildInfo">BuildInfo</a></code>s from the given package
 description. This is because it just filters the package names of each
 dependency, and does not check whether version bounds in fact exclude the
 current package, or the referenced components in fact exist in the current
 package.</p><p>This is OK because when a package is loaded, it is checked (in
 <code><a href="Distribution-Package.html#v:Check" title="Distribution.Package">Check</a></code>) that dependencies matching internal components
 do indeed have version bounds accepting the current package, and any
 depended-on component in the current package actually exists. In fact this
 check is performed by gathering the internal tool dependencies of each
 component of the package according to this module, and ensuring those
 properties on each so-gathered dependency.</p><p>version bounds and components of the package are unchecked. This is because
 we sanitize exe deps so that the matching name implies these other
 conditions.</p></div></div><div class="top"><p class="src"><a id="v:getAllInternalToolDependencies" class="def">getAllInternalToolDependencies</a> :: <a href="Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Types-BuildInfo.html#t:BuildInfo" title="Distribution.Types.BuildInfo">BuildInfo</a> -&gt; [<a href="Distribution-Types-UnqualComponentName.html#t:UnqualComponentName" title="Distribution.Types.UnqualComponentName">UnqualComponentName</a>] <a href="src/Distribution.Simple.BuildToolDepends.html#getAllInternalToolDependencies" class="link">Source</a> <a href="#v:getAllInternalToolDependencies" class="selflink">#</a></p><div class="doc"><p>Get internal &quot;build-tool-depends&quot;, along with internal &quot;build-tools&quot;</p><p>This is a tiny function, but used in a number of places. The same
 restrictions that apply to <code><a href="Distribution-Simple-BuildToolDepends.html#v:isInternal" title="Distribution.Simple.BuildToolDepends">isInternal</a></code> also apply to this function.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>
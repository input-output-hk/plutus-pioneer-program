<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Distribution.Utils.Progress</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Cabal-3.6.3.0: A framework for packaging Haskell software</span><ul class="links" id="page-menu"><li><a href="src/Distribution.Utils.Progress.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Distribution.Utils.Progress</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A progress monad, which we use to report failure and logging from
 otherwise pure code.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Progress">Progress</a> step fail done</li><li class="src short"><a href="#v:stepProgress">stepProgress</a> :: step -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail ()</li><li class="src short"><a href="#v:failProgress">failProgress</a> :: fail -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail done</li><li class="src short"><a href="#v:foldProgress">foldProgress</a> :: (step -&gt; a -&gt; a) -&gt; (fail -&gt; a) -&gt; (done -&gt; a) -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail done -&gt; a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Progress" class="def">Progress</a> step fail done <a href="src/Distribution.Utils.Progress.html#Progress" class="link">Source</a> <a href="#t:Progress" class="selflink">#</a></p><div class="doc"><p>A type to represent the unfolding of an expensive long running
 calculation that may fail (or maybe not expensive, but complicated!)
 We may get intermediate steps before the final
 result which may be used to indicate progress and/or logging messages.</p><p>TODO: Apply Codensity to avoid left-associativity problem.
 See <a href="http://comonad.com/reader/2011/free-monads-for-less/">http://comonad.com/reader/2011/free-monads-for-less/</a> and
 <a href="http://blog.ezyang.com/2012/01/problem-set-the-codensity-transformation/">http://blog.ezyang.com/2012/01/problem-set-the-codensity-transformation/</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Progress">Instances</h4><details id="i:Progress" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Progress:Alternative:1"></span> <a href="Distribution-Compat-Semigroup.html#t:Monoid" title="Distribution.Compat.Semigroup">Monoid</a> fail =&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Alternative" title="Distribution.Compat.Prelude.Internal">Alternative</a> (<a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail)</span> <a href="src/Distribution.Utils.Progress.html#line-65" class="link">Source</a> <a href="#t:Progress" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Progress:Alternative:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Distribution-Utils-Progress.html">Distribution.Utils.Progress</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a <a href="../base-4.16.3.0/src/GHC-Base.html#empty" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a <a href="../base-4.16.3.0/src/GHC-Base.html#%3C%7C%3E" class="link">Source</a> <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail [a] <a href="../base-4.16.3.0/src/GHC-Base.html#some" class="link">Source</a> <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail [a] <a href="../base-4.16.3.0/src/GHC-Base.html#many" class="link">Source</a> <a href="#v:many" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Progress:Applicative:2"></span> <a href="Distribution-Compat-Prelude-Internal.html#t:Applicative" title="Distribution.Compat.Prelude.Internal">Applicative</a> (<a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail)</span> <a href="src/Distribution.Utils.Progress.html#line-61" class="link">Source</a> <a href="#t:Progress" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Progress:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Distribution-Utils-Progress.html">Distribution.Utils.Progress</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a <a href="../base-4.16.3.0/src/GHC-Base.html#pure" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail (a -&gt; b) -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b <a href="../base-4.16.3.0/src/GHC-Base.html#%3C%2A%3E" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail c <a href="../base-4.16.3.0/src/GHC-Base.html#liftA2" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b <a href="../base-4.16.3.0/src/GHC-Base.html#%2A%3E" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a <a href="../base-4.16.3.0/src/GHC-Base.html#%3C%2A" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Progress:Functor:3"></span> <a href="Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> (<a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail)</span> <a href="src/Distribution.Utils.Progress.html#line-32" class="link">Source</a> <a href="#t:Progress" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Progress:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Distribution-Utils-Progress.html">Distribution.Utils.Progress</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b <a href="../base-4.16.3.0/src/GHC-Base.html#fmap" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a <a href="../base-4.16.3.0/src/GHC-Base.html#%3C%24" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Progress:Monad:4"></span> <a href="Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> (<a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail)</span> <a href="src/Distribution.Utils.Progress.html#line-57" class="link">Source</a> <a href="#t:Progress" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Progress:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Distribution-Utils-Progress.html">Distribution.Utils.Progress</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; (a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b) -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b <a href="../base-4.16.3.0/src/GHC-Base.html#%3E%3E%3D" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail b <a href="../base-4.16.3.0/src/GHC-Base.html#%3E%3E" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail a <a href="../base-4.16.3.0/src/GHC-Base.html#return" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:stepProgress" class="def">stepProgress</a> :: step -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail () <a href="src/Distribution.Utils.Progress.html#stepProgress" class="link">Source</a> <a href="#v:stepProgress" class="selflink">#</a></p><div class="doc"><p>Emit a step and then continue.</p></div></div><div class="top"><p class="src"><a id="v:failProgress" class="def">failProgress</a> :: fail -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail done <a href="src/Distribution.Utils.Progress.html#failProgress" class="link">Source</a> <a href="#v:failProgress" class="selflink">#</a></p><div class="doc"><p>Fail the computation.</p></div></div><div class="top"><p class="src"><a id="v:foldProgress" class="def">foldProgress</a> :: (step -&gt; a -&gt; a) -&gt; (fail -&gt; a) -&gt; (done -&gt; a) -&gt; <a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a> step fail done -&gt; a <a href="src/Distribution.Utils.Progress.html#foldProgress" class="link">Source</a> <a href="#v:foldProgress" class="selflink">#</a></p><div class="doc"><p>Consume a <code><a href="Distribution-Utils-Progress.html#t:Progress" title="Distribution.Utils.Progress">Progress</a></code> calculation. Much like <code><a href="Distribution-Compat-Prelude-Internal.html#v:foldr" title="Distribution.Compat.Prelude.Internal">foldr</a></code> for lists but with two
 base cases, one for a final result and one for failure.</p><p>Eg to convert into a simple <code><a href="Distribution-Compat-Prelude-Internal.html#t:Either" title="Distribution.Compat.Prelude.Internal">Either</a></code> result use:</p><pre>foldProgress (flip const) Left Right</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>
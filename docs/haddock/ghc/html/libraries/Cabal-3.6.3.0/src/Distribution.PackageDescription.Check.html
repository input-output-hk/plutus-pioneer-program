<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module      :  Distribution.PackageDescription.Check</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright   :  Lennart Kolmodin 2008</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Maintainer  :  cabal-devel@haskell.org</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Portability :  portable</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- This has code for checking for various problems in packages. There is one</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- set of checks that just looks at a 'PackageDescription' in isolation and</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- another set of checks that also looks at files in the package. Some of the</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- checks are basic sanity checks, others are portability standards that we'd</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- like to encourage. There is a 'PackageCheck' type that distinguishes the</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- different kinds of checks so we can see which ones are appropriate to report</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- in different situations. This code gets used when configuring a package when</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- we consider only basic problems. The higher standard is used when</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- preparing a source tarball and by Hackage when uploading new packages. The</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- reason for this is that we want to hold packages that are expected to be</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- distributed to a higher standard than packages that are only ever expected</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- to be used on the author's own environment.</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Distribution.PackageDescription.Check</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-24"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Package Checking</span></span><span>
</span><span id="line-25"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier">PackageCheck</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackage"><span class="hs-identifier">checkPackage</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkConfiguredPackage"><span class="hs-identifier">checkConfiguredPackage</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Checking package contents</span></span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageFiles"><span class="hs-identifier">checkPackageFiles</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageContent"><span class="hs-identifier">checkPackageContent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier">CheckPackageContentOps</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageFileNames"><span class="hs-identifier">checkPackageFileNames</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Compat.Prelude.html"><span class="hs-identifier">Distribution.Compat.Prelude</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/Prelude.html#"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-List.html#"><span class="hs-identifier">Data.List</span></a></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/Data-OldList.html#group"><span class="hs-identifier">group</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html"><span class="hs-identifier">Distribution.CabalSpecVersion</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Compat.Lens.html"><span class="hs-identifier">Distribution.Compat.Lens</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Compiler.html"><span class="hs-identifier">Distribution.Compiler</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.License.html"><span class="hs-identifier">Distribution.License</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Package.html"><span class="hs-identifier">Distribution.Package</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.html"><span class="hs-identifier">Distribution.PackageDescription</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Configuration.html"><span class="hs-identifier">Distribution.PackageDescription.Configuration</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Pretty.html"><span class="hs-identifier">Distribution.Pretty</span></a></span><span>                           </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier">prettyShow</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html"><span class="hs-identifier">Distribution.Simple.BuildPaths</span></a></span><span>                </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#autogenPathsModuleName"><span class="hs-identifier">autogenPathsModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.BuildToolDepends.html"><span class="hs-identifier">Distribution.Simple.BuildToolDepends</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.CCompiler.html"><span class="hs-identifier">Distribution.Simple.CCompiler</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Glob.html"><span class="hs-identifier">Distribution.Simple.Glob</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html"><span class="hs-identifier">Distribution.Simple.Utils</span></a></span><span>                     </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Utils.html#findPackageDesc"><span class="hs-identifier">findPackageDesc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#notice"><span class="hs-identifier">notice</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.System.html"><span class="hs-identifier">Distribution.System</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentRequestedSpec.html"><span class="hs-identifier">Distribution.Types.ComponentRequestedSpec</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Utils.Generic.html"><span class="hs-identifier">Distribution.Utils.Generic</span></a></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Utils.Generic.html#isAscii"><span class="hs-identifier">isAscii</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html"><span class="hs-identifier">Distribution.Verbosity</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Version.html"><span class="hs-identifier">Distribution.Version</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Utils.Path.html"><span class="hs-identifier">Distribution.Utils.Path</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Extension.html"><span class="hs-identifier">Language.Haskell.Extension</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath.html#"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-61"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitDirectories"><span class="hs-identifier">splitDirectories</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitExtension"><span class="hs-identifier">splitExtension</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitPath"><span class="hs-identifier">splitPath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeExtension"><span class="hs-identifier">takeExtension</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeFileName"><span class="hs-identifier">takeFileName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#%3C.%3E"><span class="hs-operator">(&lt;.&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#%3C%2F%3E"><span class="hs-operator">(&lt;/&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../bytestring-0.11.3.1/src/Data-ByteString-Lazy.html#"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Map.html#"><span class="hs-identifier">Data.Map</span></a></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Compat.DList.html"><span class="hs-identifier">Distribution.Compat.DList</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DList</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.SPDX.html"><span class="hs-identifier">Distribution.SPDX</span></a></span><span>         </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SPDX</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../directory-1.3.6.2/src/System-Directory.html#"><span class="hs-identifier">System.Directory</span></a></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">System</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../directory-1.3.6.2/src/System-Directory.html#"><span class="hs-identifier">System.Directory</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="../../directory-1.3.6.2/src/System-Directory.html#getDirectoryContents"><span class="hs-identifier">getDirectoryContents</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Windows.html#"><span class="hs-identifier">System.FilePath.Windows</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">FilePath.Windows</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../filepath-1.4.2.2/src/System-FilePath-Windows.html#isValid"><span class="hs-identifier">isValid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Set.html#"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Utils.ShortText.html"><span class="hs-identifier">Distribution.Utils.ShortText</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ShortText</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Types.BuildInfo.Lens.html"><span class="hs-identifier">Distribution.Types.BuildInfo.Lens</span></a></span><span>                 </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.Lens.html"><span class="hs-identifier">Distribution.Types.GenericPackageDescription.Lens</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.Lens.html"><span class="hs-identifier">Distribution.Types.PackageDescription.Lens</span></a></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Arrow ((&amp;&amp;&amp;))</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Results of some kind of failed package check.</span><span>
</span><span id="line-83"></span><span class="hs-comment">--</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- There are a range of severities, from merely dubious to totally insane.</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- All of them come with a human readable explanation. In future we may augment</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- them with more machine readable explanations, for example to help an IDE</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- suggest automatic corrections.</span><span>
</span><span id="line-88"></span><span class="hs-comment">--</span><span>
</span><span id="line-89"></span><span class="hs-keyword">data</span><span> </span><span id="PackageCheck"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-var">PackageCheck</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span>       </span><span class="hs-comment">-- | This package description is no good. There's no way it's going to</span><span>
</span><span id="line-92"></span><span>       </span><span class="hs-comment">-- build sensibly. This should give an error at configure time.</span><span>
</span><span id="line-93"></span><span>       </span><span id="PackageBuildImpossible"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="explanation"><span class="annot"><span class="annottext">PackageCheck -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var hs-var">explanation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span>       </span><span class="hs-comment">-- | A problem that is likely to affect building the package, or an</span><span>
</span><span id="line-96"></span><span>       </span><span class="hs-comment">-- issue that we'd like every package author to be aware of, even if</span><span>
</span><span id="line-97"></span><span>       </span><span class="hs-comment">-- the package is never distributed.</span><span>
</span><span id="line-98"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span id="PackageBuildWarning"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="explanation"><span class="annot"><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var">explanation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span>       </span><span class="hs-comment">-- | An issue that might not be a problem for the package author but</span><span>
</span><span id="line-101"></span><span>       </span><span class="hs-comment">-- might be annoying or detrimental when the package is distributed to</span><span>
</span><span id="line-102"></span><span>       </span><span class="hs-comment">-- users. We should encourage distributed packages to be free from these</span><span>
</span><span id="line-103"></span><span>       </span><span class="hs-comment">-- issues, but occasionally there are justifiable reasons so we cannot</span><span>
</span><span id="line-104"></span><span>       </span><span class="hs-comment">-- ban them entirely.</span><span>
</span><span id="line-105"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span id="PackageDistSuspicious"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="explanation"><span class="annot"><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var">explanation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span>       </span><span class="hs-comment">-- | Like PackageDistSuspicious but will only display warnings</span><span>
</span><span id="line-108"></span><span>       </span><span class="hs-comment">-- rather than causing abnormal exit when you run 'cabal check'.</span><span>
</span><span id="line-109"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span id="PackageDistSuspiciousWarn"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="explanation"><span class="annot"><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var">explanation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>       </span><span class="hs-comment">-- | An issue that is OK in the author's environment but is almost</span><span>
</span><span id="line-112"></span><span>       </span><span class="hs-comment">-- certain to be a portability problem for other environments. We can</span><span>
</span><span id="line-113"></span><span>       </span><span class="hs-comment">-- quite legitimately refuse to publicly distribute packages with these</span><span>
</span><span id="line-114"></span><span>       </span><span class="hs-comment">-- problems.</span><span>
</span><span id="line-115"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span id="PackageDistInexcusable"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="explanation"><span class="annot"><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var">explanation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679733469"><span id="local-6989586621679733476"><span class="annot"><span class="annottext">PackageCheck -&gt; PackageCheck -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PackageCheck -&gt; PackageCheck -&gt; Bool
$c/= :: PackageCheck -&gt; PackageCheck -&gt; Bool
== :: PackageCheck -&gt; PackageCheck -&gt; Bool
$c== :: PackageCheck -&gt; PackageCheck -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733445"><span id="local-6989586621679733447"><span id="local-6989586621679733449"><span id="local-6989586621679733451"><span id="local-6989586621679733453"><span id="local-6989586621679733455"><span id="local-6989586621679733464"><span class="annot"><span class="annottext">Eq PackageCheck
PackageCheck -&gt; PackageCheck -&gt; Bool
PackageCheck -&gt; PackageCheck -&gt; Ordering
PackageCheck -&gt; PackageCheck -&gt; PackageCheck
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: PackageCheck -&gt; PackageCheck -&gt; PackageCheck
$cmin :: PackageCheck -&gt; PackageCheck -&gt; PackageCheck
max :: PackageCheck -&gt; PackageCheck -&gt; PackageCheck
$cmax :: PackageCheck -&gt; PackageCheck -&gt; PackageCheck
&gt;= :: PackageCheck -&gt; PackageCheck -&gt; Bool
$c&gt;= :: PackageCheck -&gt; PackageCheck -&gt; Bool
&gt; :: PackageCheck -&gt; PackageCheck -&gt; Bool
$c&gt; :: PackageCheck -&gt; PackageCheck -&gt; Bool
&lt;= :: PackageCheck -&gt; PackageCheck -&gt; Bool
$c&lt;= :: PackageCheck -&gt; PackageCheck -&gt; Bool
&lt; :: PackageCheck -&gt; PackageCheck -&gt; Bool
$c&lt; :: PackageCheck -&gt; PackageCheck -&gt; Bool
compare :: PackageCheck -&gt; PackageCheck -&gt; Ordering
$ccompare :: PackageCheck -&gt; PackageCheck -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679733438"><span id="local-6989586621679733441"><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>    </span><span id="local-6989586621679733436"><span class="annot"><span class="annottext">show :: PackageCheck -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span id="local-6989586621679733434"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733434"><span class="hs-identifier hs-var">notice</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageCheck -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var">explanation</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733434"><span class="hs-identifier hs-var">notice</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-type">check</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-122"></span><span id="check"><span class="annot"><span class="annottext">check :: Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var hs-var">check</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-123"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span id="local-6989586621679733432"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733432"><span class="hs-identifier hs-var">pc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733432"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkSpecVersion"><span class="hs-identifier hs-type">checkSpecVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-126"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-127"></span><span id="checkSpecVersion"><span class="annot"><span class="annottext">checkSpecVersion :: PackageDescription
-&gt; CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkSpecVersion"><span class="hs-identifier hs-var hs-var">checkSpecVersion</span></a></span></span><span> </span><span id="local-6989586621679733430"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733430"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679733429"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679733429"><span class="hs-identifier hs-var">specver</span></a></span></span><span> </span><span id="local-6989586621679733428"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733428"><span class="hs-identifier hs-var">cond</span></a></span></span><span> </span><span id="local-6989586621679733427"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733427"><span class="hs-identifier hs-var">pc</span></a></span></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733430"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679733429"><span class="hs-identifier hs-var">specver</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733428"><span class="hs-identifier hs-var">cond</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733427"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- * Standard checks</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- | Check for common mistakes and problems in package descriptions.</span><span>
</span><span id="line-136"></span><span class="hs-comment">--</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- This is the standard collection of checks covering all aspects except</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- for checks that require looking at files within the package. For those</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- see 'checkPackageFiles'.</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- It requires the 'GenericPackageDescription' and optionally a particular</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- configuration of that package. If you pass 'Nothing' then we just check</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- a version of the generic description using 'flattenPackageDescription'.</span><span>
</span><span id="line-144"></span><span class="hs-comment">--</span><span>
</span><span id="line-145"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackage"><span class="hs-identifier hs-type">checkPackage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span>
</span><span id="line-146"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-147"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-148"></span><span id="checkPackage"><span class="annot"><span class="annottext">checkPackage :: GenericPackageDescription
-&gt; Maybe PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackage"><span class="hs-identifier hs-var hs-var">checkPackage</span></a></span></span><span> </span><span id="local-6989586621679733425"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span></span><span> </span><span id="local-6989586621679733424"><span class="annot"><span class="annottext">Maybe PackageDescription
</span><a href="#local-6989586621679733424"><span class="hs-identifier hs-var">mpkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-149"></span><span>     </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkConfiguredPackage"><span class="hs-identifier hs-var">checkConfiguredPackage</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733423"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkConditionals"><span class="hs-identifier hs-var">checkConditionals</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span>
</span><span id="line-151"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageVersions"><span class="hs-identifier hs-var">checkPackageVersions</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlags"><span class="hs-identifier hs-var">checkDevelopmentOnlyFlags</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkFlagNames"><span class="hs-identifier hs-var">checkFlagNames</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkUnusedFlags"><span class="hs-identifier hs-var">checkUnusedFlags</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkUnicodeXFields"><span class="hs-identifier hs-var">checkUnicodeXFields</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPathsModuleExtensions"><span class="hs-identifier hs-var">checkPathsModuleExtensions</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733423"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>    </span><span id="local-6989586621679733423"><span class="annot"><span class="annottext">pkg :: PackageDescription
</span><a href="#local-6989586621679733423"><span class="hs-identifier hs-var hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; PackageDescription
</span><a href="Distribution.PackageDescription.Configuration.html#flattenPackageDescription"><span class="hs-identifier hs-var">flattenPackageDescription</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679733425"><span class="hs-identifier hs-var">gpkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe PackageDescription
</span><a href="#local-6989586621679733424"><span class="hs-identifier hs-var">mpkg</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">--TODO: make this variant go away</span><span>
</span><span id="line-161"></span><span class="hs-comment">--      we should always know the GenericPackageDescription</span><span>
</span><span id="line-162"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkConfiguredPackage"><span class="hs-identifier hs-type">checkConfiguredPackage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-163"></span><span id="checkConfiguredPackage"><span class="annot"><span class="annottext">checkConfiguredPackage :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkConfiguredPackage"><span class="hs-identifier hs-var hs-var">checkConfiguredPackage</span></a></span></span><span> </span><span id="local-6989586621679733413"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkSanity"><span class="hs-identifier hs-var">checkSanity</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-165"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkFields"><span class="hs-identifier hs-var">checkFields</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-166"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLicense"><span class="hs-identifier hs-var">checkLicense</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-167"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkSourceRepos"><span class="hs-identifier hs-var">checkSourceRepos</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-168"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkAllGhcOptions"><span class="hs-identifier hs-var">checkAllGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-169"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCCOptions"><span class="hs-identifier hs-var">checkCCOptions</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-170"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCxxOptions"><span class="hs-identifier hs-var">checkCxxOptions</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-171"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCPPOptions"><span class="hs-identifier hs-var">checkCPPOptions</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-172"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPaths"><span class="hs-identifier hs-var">checkPaths</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-173"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCabalVersion"><span class="hs-identifier hs-var">checkCabalVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733413"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- * Basic sanity checks</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Check that this package description is sane.</span><span>
</span><span id="line-181"></span><span class="hs-comment">--</span><span>
</span><span id="line-182"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkSanity"><span class="hs-identifier hs-type">checkSanity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-183"></span><span id="checkSanity"><span class="annot"><span class="annottext">checkSanity :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkSanity"><span class="hs-identifier hs-var hs-var">checkSanity</span></a></span></span><span> </span><span id="local-6989586621679733402"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PackageName -&gt; String
</span><a href="Distribution.Types.PackageName.html#unPackageName"><span class="hs-identifier hs-var">unPackageName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'name' field.&quot;</span></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version
</span><a href="Distribution.Types.Version.html#nullVersion"><span class="hs-identifier hs-var">nullVersion</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; Version
</span><a href="Distribution.Package.html#packageVersion"><span class="hs-identifier hs-var">packageVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'version' field.&quot;</span></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#all"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Executable]
</span><a href="Distribution.Types.PackageDescription.html#executables"><span class="hs-identifier hs-var">executables</span></a></span><span>
</span><span id="line-193"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [TestSuite]
</span><a href="Distribution.Types.PackageDescription.html#testSuites"><span class="hs-identifier hs-var">testSuites</span></a></span><span>
</span><span id="line-194"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Benchmark]
</span><a href="Distribution.Types.PackageDescription.html#benchmarks"><span class="hs-identifier hs-var">benchmarks</span></a></span><span>
</span><span id="line-195"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#allLibraries"><span class="hs-identifier hs-var">allLibraries</span></a></span><span>
</span><span id="line-196"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [ForeignLib]
</span><a href="Distribution.Types.PackageDescription.html#foreignLibs"><span class="hs-identifier hs-var">foreignLibs</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No executables, libraries, tests, or benchmarks found. Nothing to do.&quot;</span></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">LibraryName
</span><a href="Distribution.Types.LibraryName.html#LMainLibName"><span class="hs-identifier hs-var">LMainLibName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; LibraryName
</span><a href="Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#subLibraries"><span class="hs-identifier hs-var">subLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Found one or more unnamed internal libraries. &quot;</span></span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Only the non-internal library can have the same name as the package.&quot;</span></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733383"><span class="hs-identifier hs-var">duplicateNames</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Duplicate sections: &quot;</span></span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">UnqualComponentName -&gt; String
</span><a href="Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-var">unUnqualComponentName</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733383"><span class="hs-identifier hs-var">duplicateNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. The name of every library, executable, test suite,&quot;</span></span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; and benchmark section in&quot;</span></span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; the package must be unique.&quot;</span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-comment">-- NB: but it's OK for executables to have the same name!</span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-comment">-- TODO shouldn't need to compare on the string level</span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733379"><span class="hs-identifier hs-var">subLibNames</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Illegal internal library name &quot;</span></span><span>
</span><span id="line-215"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. Internal libraries cannot have the same name as the package.&quot;</span></span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; Maybe you wanted a non-internal library?&quot;</span></span><span>
</span><span id="line-218"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; If so, rewrite the section stanza&quot;</span></span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; from 'library: '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' to 'library'.&quot;</span></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-comment">--TODO: check for name clashes case insensitively: windows file systems cannot</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-comment">--cope.</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Library -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLibrary"><span class="hs-identifier hs-var">checkLibrary</span></a></span><span>    </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#allLibraries"><span class="hs-identifier hs-var">allLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Executable -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkExecutable"><span class="hs-identifier hs-var">checkExecutable</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Executable]
</span><a href="Distribution.Types.PackageDescription.html#executables"><span class="hs-identifier hs-var">executables</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; TestSuite -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkTestSuite"><span class="hs-identifier hs-var">checkTestSuite</span></a></span><span>  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [TestSuite]
</span><a href="Distribution.Types.PackageDescription.html#testSuites"><span class="hs-identifier hs-var">testSuites</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Benchmark -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkBenchmark"><span class="hs-identifier hs-var">checkBenchmark</span></a></span><span>  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Benchmark]
</span><a href="Distribution.Types.PackageDescription.html#benchmarks"><span class="hs-identifier hs-var">benchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-comment">-- The public 'library' gets special dispensation, because it</span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-comment">-- is common practice to export a library and name the executable</span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-comment">-- the same as the package.</span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621679733379"><span class="annot"><span class="annottext">subLibNames :: [UnqualComponentName]
</span><a href="#local-6989586621679733379"><span class="hs-identifier hs-var hs-var">subLibNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LibraryName -&gt; Maybe UnqualComponentName
</span><a href="Distribution.Types.LibraryName.html#libraryNameString"><span class="hs-identifier hs-var">libraryNameString</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; LibraryName
</span><a href="Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#subLibraries"><span class="hs-identifier hs-var">subLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span id="local-6989586621679733371"><span class="annot"><span class="annottext">exeNames :: [UnqualComponentName]
</span><a href="#local-6989586621679733371"><span class="hs-identifier hs-var hs-var">exeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Executable -&gt; UnqualComponentName
</span><a href="Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Executable]
</span><a href="Distribution.Types.PackageDescription.html#executables"><span class="hs-identifier hs-var">executables</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621679733369"><span class="annot"><span class="annottext">testNames :: [UnqualComponentName]
</span><a href="#local-6989586621679733369"><span class="hs-identifier hs-var hs-var">testNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; UnqualComponentName
</span><a href="Distribution.Types.TestSuite.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [TestSuite]
</span><a href="Distribution.Types.PackageDescription.html#testSuites"><span class="hs-identifier hs-var">testSuites</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679733367"><span class="annot"><span class="annottext">bmNames :: [UnqualComponentName]
</span><a href="#local-6989586621679733367"><span class="hs-identifier hs-var hs-var">bmNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; UnqualComponentName
</span><a href="Distribution.Types.Benchmark.html#benchmarkName"><span class="hs-identifier hs-var">benchmarkName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Benchmark]
</span><a href="Distribution.Types.PackageDescription.html#benchmarks"><span class="hs-identifier hs-var">benchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733402"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621679733383"><span class="annot"><span class="annottext">duplicateNames :: [UnqualComponentName]
</span><a href="#local-6989586621679733383"><span class="hs-identifier hs-var hs-var">duplicateNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-var">dups</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733379"><span class="hs-identifier hs-var">subLibNames</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733371"><span class="hs-identifier hs-var">exeNames</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733369"><span class="hs-identifier hs-var">testNames</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733367"><span class="hs-identifier hs-var">bmNames</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkLibrary"><span class="hs-identifier hs-type">checkLibrary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.Library.html#Library"><span class="hs-identifier hs-type">Library</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-240"></span><span id="checkLibrary"><span class="annot"><span class="annottext">checkLibrary :: PackageDescription -&gt; Library -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLibrary"><span class="hs-identifier hs-var hs-var">checkLibrary</span></a></span></span><span> </span><span id="local-6989586621679733362"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733362"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679733361"><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733360"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-244"></span><span>       </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-245"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Duplicate modules in library: &quot;</span></span><span>
</span><span id="line-246"></span><span>         </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733360"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-comment">-- TODO: This check is bogus if a required-signature was passed through</span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#explicitLibModules"><span class="hs-identifier hs-var">explicitLibModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleReexport]
</span><a href="Distribution.Types.Library.html#reexportedModules"><span class="hs-identifier hs-var">reexportedModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-251"></span><span>           </span><span class="annot"><span class="annottext">LibraryName -&gt; String
</span><a href="Distribution.Types.LibraryName.html#showLibraryName"><span class="hs-identifier hs-var">showLibraryName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; LibraryName
</span><a href="Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; does not expose any modules&quot;</span></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-comment">-- check use of signatures sections</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733355"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_0"><span class="hs-identifier hs-var">CabalSpecV2_0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#signatures"><span class="hs-identifier hs-var">signatures</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-256"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'signatures' field the package needs to specify &quot;</span></span><span>
</span><span id="line-257"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at least 'cabal-version: 2.0'.&quot;</span></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-comment">-- check that all autogen-modules appear on other-modules or exposed-modules</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-261"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#explicitLibModules"><span class="hs-identifier hs-var">explicitLibModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#libModulesAutogen"><span class="hs-identifier hs-var">libModulesAutogen</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-263"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;An 'autogen-module' is neither on 'exposed-modules' or &quot;</span></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'other-modules'.&quot;</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-comment">-- check that all autogen-includes appear on includes or install-includes</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; a -&gt; [String]
</span><a href="Distribution.PackageDescription.Check.html#allExplicitIncludes"><span class="hs-identifier hs-var">allExplicitIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#autogenIncludes"><span class="hs-identifier hs-var">L.autogenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-270"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;An include in 'autogen-includes' is neither in 'includes' or &quot;</span></span><span>
</span><span id="line-271"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'install-includes'.&quot;</span></span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-275"></span><span>    </span><span class="annot"><a href="#local-6989586621679733355"><span class="hs-identifier hs-type">checkVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621679733355"><span class="annot"><span class="annottext">checkVersion :: CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733355"><span class="hs-identifier hs-var hs-var">checkVersion</span></a></span></span><span> </span><span id="local-6989586621679733345"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679733345"><span class="hs-identifier hs-var">ver</span></a></span></span><span> </span><span id="local-6989586621679733344"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733344"><span class="hs-identifier hs-var">cond</span></a></span></span><span> </span><span id="local-6989586621679733343"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733343"><span class="hs-identifier hs-var">pc</span></a></span></span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733362"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679733345"><span class="hs-identifier hs-var">ver</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-278"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733344"><span class="hs-identifier hs-var">cond</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733343"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-comment">-- TODO: not sure if this check is always right in Backpack</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679733360"><span class="annot"><span class="annottext">moduleDuplicates :: [ModuleName]
</span><a href="#local-6989586621679733360"><span class="hs-identifier hs-var hs-var">moduleDuplicates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-var">dups</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#explicitLibModules"><span class="hs-identifier hs-var">explicitLibModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-282"></span><span>                             </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleReexport -&gt; ModuleName
</span><a href="Distribution.Types.ModuleReexport.html#moduleReexportName"><span class="hs-identifier hs-var">moduleReexportName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library -&gt; [ModuleReexport]
</span><a href="Distribution.Types.Library.html#reexportedModules"><span class="hs-identifier hs-var">reexportedModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679733361"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span id="local-6989586621679734062"><span class="annot"><a href="Distribution.PackageDescription.Check.html#allExplicitIncludes"><span class="hs-identifier hs-type">allExplicitIncludes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.BuildInfo.Lens.html#HasBuildInfo"><span class="hs-identifier hs-type">L.HasBuildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679734062"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679734062"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-285"></span><span id="allExplicitIncludes"><span class="annot"><span class="annottext">allExplicitIncludes :: forall a. HasBuildInfo a =&gt; a -&gt; [String]
</span><a href="Distribution.PackageDescription.Check.html#allExplicitIncludes"><span class="hs-identifier hs-var hs-var">allExplicitIncludes</span></a></span></span><span> </span><span id="local-6989586621679733333"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679733333"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#includes"><span class="hs-identifier hs-var">L.includes</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679733333"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#installIncludes"><span class="hs-identifier hs-var">L.installIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679733333"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkExecutable"><span class="hs-identifier hs-type">checkExecutable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.Executable.html#Executable"><span class="hs-identifier hs-type">Executable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-288"></span><span id="checkExecutable"><span class="annot"><span class="annottext">checkExecutable :: PackageDescription -&gt; Executable -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkExecutable"><span class="hs-identifier hs-var hs-var">checkExecutable</span></a></span></span><span> </span><span id="local-6989586621679733330"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733330"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679733329"><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; String
</span><a href="Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-292"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-293"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'main-is' field found for executable &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; UnqualComponentName
</span><a href="Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; String
</span><a href="Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.PackageDescription.Check.html#fileExtensionSupportedLanguage"><span class="hs-identifier hs-var">fileExtensionSupportedLanguage</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Executable -&gt; String
</span><a href="Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-297"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-298"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'main-is' field must specify a '.hs' or '.lhs' file &quot;</span></span><span>
</span><span id="line-299"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(even if it is generated by a preprocessor), &quot;</span></span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;or it may specify a C/C++/obj-C source file.&quot;</span></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageDescription
-&gt; CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkSpecVersion"><span class="hs-identifier hs-var">checkSpecVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733330"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_18"><span class="hs-identifier hs-var">CabalSpecV1_18</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.PackageDescription.Check.html#fileExtensionSupportedLanguage"><span class="hs-identifier hs-var">fileExtensionSupportedLanguage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; String
</span><a href="Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeExtension"><span class="hs-identifier hs-var">takeExtension</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; String
</span><a href="Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.hs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.lhs&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-305"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-306"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package uses a C/C++/obj-C source file for the 'main-is' field. &quot;</span></span><span>
</span><span id="line-307"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use this feature you must specify 'cabal-version: &gt;= 1.18'.&quot;</span></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733324"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-310"></span><span>       </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-311"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Duplicate modules in executable '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; UnqualComponentName
</span><a href="Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;': &quot;</span></span><span>
</span><span id="line-312"></span><span>         </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733324"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-comment">-- check that all autogen-modules appear on other-modules</span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-316"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; [ModuleName]
</span><a href="Distribution.Types.Executable.html#exeModules"><span class="hs-identifier hs-var">exeModules</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; [ModuleName]
</span><a href="Distribution.Types.Executable.html#exeModulesAutogen"><span class="hs-identifier hs-var">exeModulesAutogen</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-317"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-318"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;On executable '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; UnqualComponentName
</span><a href="Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' an 'autogen-module' is not &quot;</span></span><span>
</span><span id="line-319"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;on 'other-modules'&quot;</span></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">-- check that all autogen-includes appear on includes</span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#includes"><span class="hs-identifier hs-var">L.includes</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#autogenIncludes"><span class="hs-identifier hs-var">L.autogenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;An include in 'autogen-includes' is not in 'includes'.&quot;</span></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-327"></span><span>    </span><span id="local-6989586621679733324"><span class="annot"><span class="annottext">moduleDuplicates :: [ModuleName]
</span><a href="#local-6989586621679733324"><span class="hs-identifier hs-var hs-var">moduleDuplicates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-var">dups</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; [ModuleName]
</span><a href="Distribution.Types.Executable.html#exeModules"><span class="hs-identifier hs-var">exeModules</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679733329"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkTestSuite"><span class="hs-identifier hs-type">checkTestSuite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.TestSuite.html#TestSuite"><span class="hs-identifier hs-type">TestSuite</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-330"></span><span id="checkTestSuite"><span class="annot"><span class="annottext">checkTestSuite :: PackageDescription -&gt; TestSuite -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkTestSuite"><span class="hs-identifier hs-var hs-var">checkTestSuite</span></a></span></span><span> </span><span id="local-6989586621679733320"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733320"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679733319"><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-331"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; TestSuiteInterface
</span><a href="Distribution.Types.TestSuite.html#testInterface"><span class="hs-identifier hs-var">testInterface</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-334"></span><span>      </span><span class="annot"><a href="Distribution.Types.TestSuiteInterface.html#TestSuiteUnsupported"><span class="hs-identifier hs-type">TestSuiteUnsupported</span></a></span><span> </span><span id="local-6989586621679733316"><span class="annot"><span class="annottext">tt :: TestType
</span><a href="#local-6989586621679733316"><span class="hs-identifier hs-var">tt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.TestType.html#TestTypeUnknown"><span class="hs-identifier hs-type">TestTypeUnknown</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-335"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-336"></span><span>             </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">TestType
</span><a href="#local-6989586621679733316"><span class="hs-identifier hs-var">tt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a known type of test suite. &quot;</span></span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The known test suite types are: &quot;</span></span><span>
</span><span id="line-338"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[TestType]
</span><a href="Distribution.Types.TestType.html#knownTestTypes"><span class="hs-identifier hs-var">knownTestTypes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>      </span><span class="annot"><a href="Distribution.Types.TestSuiteInterface.html#TestSuiteUnsupported"><span class="hs-identifier hs-type">TestSuiteUnsupported</span></a></span><span> </span><span id="local-6989586621679733312"><span class="annot"><span class="annottext">TestType
</span><a href="#local-6989586621679733312"><span class="hs-identifier hs-var">tt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-341"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-342"></span><span>             </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">TestType
</span><a href="#local-6989586621679733312"><span class="hs-identifier hs-var">tt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a supported test suite version. &quot;</span></span><span>
</span><span id="line-343"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The known test suite types are: &quot;</span></span><span>
</span><span id="line-344"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[TestType]
</span><a href="Distribution.Types.TestType.html#knownTestTypes"><span class="hs-identifier hs-var">knownTestTypes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><span class="annottext">TestSuiteInterface
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733311"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-348"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-349"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Duplicate modules in test suite '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestSuite -&gt; UnqualComponentName
</span><a href="Distribution.Types.TestSuite.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;': &quot;</span></span><span>
</span><span id="line-350"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733311"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733310"><span class="hs-identifier hs-var">mainIsWrongExt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-353"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-354"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'main-is' field must specify a '.hs' or '.lhs' file &quot;</span></span><span>
</span><span id="line-355"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(even if it is generated by a preprocessor), &quot;</span></span><span>
</span><span id="line-356"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;or it may specify a C/C++/obj-C source file.&quot;</span></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageDescription
-&gt; CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkSpecVersion"><span class="hs-identifier hs-var">checkSpecVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733320"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_18"><span class="hs-identifier hs-var">CabalSpecV1_18</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733309"><span class="hs-identifier hs-var">mainIsNotHsExt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733310"><span class="hs-identifier hs-var">mainIsWrongExt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-360"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package uses a C/C++/obj-C source file for the 'main-is' field. &quot;</span></span><span>
</span><span id="line-361"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use this feature you must specify 'cabal-version: &gt;= 1.18'.&quot;</span></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-comment">-- check that all autogen-modules appear on other-modules</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-365"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestSuite -&gt; [ModuleName]
</span><a href="Distribution.Types.TestSuite.html#testModules"><span class="hs-identifier hs-var">testModules</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestSuite -&gt; [ModuleName]
</span><a href="Distribution.Types.TestSuite.html#testModulesAutogen"><span class="hs-identifier hs-var">testModulesAutogen</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-366"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-367"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;On test suite '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestSuite -&gt; UnqualComponentName
</span><a href="Distribution.Types.TestSuite.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' an 'autogen-module' is not &quot;</span></span><span>
</span><span id="line-368"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;on 'other-modules'&quot;</span></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span>    </span><span class="hs-comment">-- check that all autogen-includes appear on includes</span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#includes"><span class="hs-identifier hs-var">L.includes</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#autogenIncludes"><span class="hs-identifier hs-var">L.autogenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-373"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;An include in 'autogen-includes' is not in 'includes'.&quot;</span></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621679733311"><span class="annot"><span class="annottext">moduleDuplicates :: [ModuleName]
</span><a href="#local-6989586621679733311"><span class="hs-identifier hs-var hs-var">moduleDuplicates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-var">dups</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; [ModuleName]
</span><a href="Distribution.Types.TestSuite.html#testModules"><span class="hs-identifier hs-var">testModules</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621679733310"><span class="annot"><span class="annottext">mainIsWrongExt :: Bool
</span><a href="#local-6989586621679733310"><span class="hs-identifier hs-var hs-var">mainIsWrongExt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; TestSuiteInterface
</span><a href="Distribution.Types.TestSuite.html#testInterface"><span class="hs-identifier hs-var">testInterface</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-379"></span><span>      </span><span class="annot"><a href="Distribution.Types.TestSuiteInterface.html#TestSuiteExeV10"><span class="hs-identifier hs-type">TestSuiteExeV10</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679733304"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733304"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.PackageDescription.Check.html#fileExtensionSupportedLanguage"><span class="hs-identifier hs-var">fileExtensionSupportedLanguage</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733304"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><span class="annottext">TestSuiteInterface
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621679733309"><span class="annot"><span class="annottext">mainIsNotHsExt :: Bool
</span><a href="#local-6989586621679733309"><span class="hs-identifier hs-var hs-var">mainIsNotHsExt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; TestSuiteInterface
</span><a href="Distribution.Types.TestSuite.html#testInterface"><span class="hs-identifier hs-var">testInterface</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679733319"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-383"></span><span>      </span><span class="annot"><a href="Distribution.Types.TestSuiteInterface.html#TestSuiteExeV10"><span class="hs-identifier hs-type">TestSuiteExeV10</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679733300"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733300"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeExtension"><span class="hs-identifier hs-var">takeExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733300"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.hs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.lhs&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-384"></span><span>      </span><span class="annot"><span class="annottext">TestSuiteInterface
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkBenchmark"><span class="hs-identifier hs-type">checkBenchmark</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.Benchmark.html#Benchmark"><span class="hs-identifier hs-type">Benchmark</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-387"></span><span id="checkBenchmark"><span class="annot"><span class="annottext">checkBenchmark :: PackageDescription -&gt; Benchmark -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkBenchmark"><span class="hs-identifier hs-var hs-var">checkBenchmark</span></a></span></span><span> </span><span id="local-6989586621679733299"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733299"><span class="hs-identifier hs-var">_pkg</span></a></span></span><span> </span><span id="local-6989586621679733298"><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; BenchmarkInterface
</span><a href="Distribution.Types.Benchmark.html#benchmarkInterface"><span class="hs-identifier hs-var">benchmarkInterface</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-391"></span><span>      </span><span class="annot"><a href="Distribution.Types.BenchmarkInterface.html#BenchmarkUnsupported"><span class="hs-identifier hs-type">BenchmarkUnsupported</span></a></span><span> </span><span id="local-6989586621679733295"><span class="annot"><span class="annottext">tt :: BenchmarkType
</span><a href="#local-6989586621679733295"><span class="hs-identifier hs-var">tt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.BenchmarkType.html#BenchmarkTypeUnknown"><span class="hs-identifier hs-type">BenchmarkTypeUnknown</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-392"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-393"></span><span>             </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">BenchmarkType
</span><a href="#local-6989586621679733295"><span class="hs-identifier hs-var">tt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a known type of benchmark. &quot;</span></span><span>
</span><span id="line-394"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The known benchmark types are: &quot;</span></span><span>
</span><span id="line-395"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[BenchmarkType]
</span><a href="Distribution.Types.BenchmarkType.html#knownBenchmarkTypes"><span class="hs-identifier hs-var">knownBenchmarkTypes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span>      </span><span class="annot"><a href="Distribution.Types.BenchmarkInterface.html#BenchmarkUnsupported"><span class="hs-identifier hs-type">BenchmarkUnsupported</span></a></span><span> </span><span id="local-6989586621679733292"><span class="annot"><span class="annottext">BenchmarkType
</span><a href="#local-6989586621679733292"><span class="hs-identifier hs-var">tt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-398"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-399"></span><span>             </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">BenchmarkType
</span><a href="#local-6989586621679733292"><span class="hs-identifier hs-var">tt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a supported benchmark version. &quot;</span></span><span>
</span><span id="line-400"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The known benchmark types are: &quot;</span></span><span>
</span><span id="line-401"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[BenchmarkType]
</span><a href="Distribution.Types.BenchmarkType.html#knownBenchmarkTypes"><span class="hs-identifier hs-var">knownBenchmarkTypes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>      </span><span class="annot"><span class="annottext">BenchmarkInterface
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733291"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-405"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-406"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Duplicate modules in benchmark '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Benchmark -&gt; UnqualComponentName
</span><a href="Distribution.Types.Benchmark.html#benchmarkName"><span class="hs-identifier hs-var">benchmarkName</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;': &quot;</span></span><span>
</span><span id="line-407"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679733291"><span class="hs-identifier hs-var">moduleDuplicates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733290"><span class="hs-identifier hs-var">mainIsWrongExt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-410"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-411"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'main-is' field must specify a '.hs' or '.lhs' file &quot;</span></span><span>
</span><span id="line-412"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(even if it is generated by a preprocessor).&quot;</span></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-comment">-- check that all autogen-modules appear on other-modules</span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-416"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Benchmark -&gt; [ModuleName]
</span><a href="Distribution.Types.Benchmark.html#benchmarkModules"><span class="hs-identifier hs-var">benchmarkModules</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Benchmark -&gt; [ModuleName]
</span><a href="Distribution.Types.Benchmark.html#benchmarkModulesAutogen"><span class="hs-identifier hs-var">benchmarkModulesAutogen</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-417"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-418"></span><span>             </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;On benchmark '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Benchmark -&gt; UnqualComponentName
</span><a href="Distribution.Types.Benchmark.html#benchmarkName"><span class="hs-identifier hs-var">benchmarkName</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' an 'autogen-module' is &quot;</span></span><span>
</span><span id="line-419"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;not on 'other-modules'&quot;</span></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span>    </span><span class="hs-comment">-- check that all autogen-includes appear on includes</span><span>
</span><span id="line-422"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span>
</span><span id="line-423"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#and"><span class="hs-identifier hs-var">and</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#includes"><span class="hs-identifier hs-var">L.includes</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a s. Getting a s a -&gt; s -&gt; a
</span><a href="Distribution.Compat.Lens.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [String]
</span><a href="Distribution.Types.BuildInfo.Lens.html#autogenIncludes"><span class="hs-identifier hs-var">L.autogenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-424"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;An include in 'autogen-includes' is not in 'includes'.&quot;</span></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-427"></span><span>    </span><span id="local-6989586621679733291"><span class="annot"><span class="annottext">moduleDuplicates :: [ModuleName]
</span><a href="#local-6989586621679733291"><span class="hs-identifier hs-var hs-var">moduleDuplicates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-var">dups</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; [ModuleName]
</span><a href="Distribution.Types.Benchmark.html#benchmarkModules"><span class="hs-identifier hs-var">benchmarkModules</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span>    </span><span id="local-6989586621679733290"><span class="annot"><span class="annottext">mainIsWrongExt :: Bool
</span><a href="#local-6989586621679733290"><span class="hs-identifier hs-var hs-var">mainIsWrongExt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; BenchmarkInterface
</span><a href="Distribution.Types.Benchmark.html#benchmarkInterface"><span class="hs-identifier hs-var">benchmarkInterface</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679733298"><span class="hs-identifier hs-var">bm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>      </span><span class="annot"><a href="Distribution.Types.BenchmarkInterface.html#BenchmarkExeV10"><span class="hs-identifier hs-type">BenchmarkExeV10</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679733282"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733282"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeExtension"><span class="hs-identifier hs-var">takeExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733282"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.hs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.lhs&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-431"></span><span>      </span><span class="annot"><span class="annottext">BenchmarkInterface
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- * Additional pure checks</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkFields"><span class="hs-identifier hs-type">checkFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-438"></span><span id="checkFields"><span class="annot"><span class="annottext">checkFields :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkFields"><span class="hs-identifier hs-var hs-var">checkFields</span></a></span></span><span> </span><span id="local-6989586621679733281"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Windows.html#isValid"><span class="hs-identifier hs-var">FilePath.Windows.isValid</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-442"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-443"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately, the package name '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' is one of the reserved system file names on Windows. Many tools &quot;</span></span><span>
</span><span id="line-445"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;need to convert package names to file names so using this name &quot;</span></span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;would cause problems.&quot;</span></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#isPrefixOf"><span class="hs-identifier hs-var">isPrefixOf</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;z-&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-449"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-450"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Package names with the prefix 'z-' are reserved by Cabal and &quot;</span></span><span>
</span><span id="line-451"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cannot be used.&quot;</span></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Maybe BuildType
</span><a href="Distribution.Types.PackageDescription.html#buildTypeRaw"><span class="hs-identifier hs-var">buildTypeRaw</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_2"><span class="hs-identifier hs-var">CabalSpecV2_2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-454"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-455"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'build-type' specified. If you do not need a custom Setup.hs or &quot;</span></span><span>
</span><span id="line-456"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;./configure script then use 'build-type: Simple'.&quot;</span></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Maybe SetupBuildInfo
</span><a href="Distribution.Types.PackageDescription.html#setupBuildInfo"><span class="hs-identifier hs-var">setupBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; BuildType
</span><a href="Distribution.Types.PackageDescription.html#buildType"><span class="hs-identifier hs-var">buildType</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">BuildType
</span><a href="Distribution.Types.BuildType.html#Custom"><span class="hs-identifier hs-var">Custom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-459"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-460"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Ignoring the 'custom-setup' section because the 'build-type' is &quot;</span></span><span>
</span><span id="line-461"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;not 'Custom'. Use 'build-type: Custom' if you need to use a &quot;</span></span><span>
</span><span id="line-462"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;custom Setup.hs script.&quot;</span></span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733270"><span class="hs-identifier hs-var">unknownCompilers</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-465"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-466"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unknown compiler &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733270"><span class="hs-identifier hs-var">unknownCompilers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>                            </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; in 'tested-with' field.&quot;</span></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733269"><span class="hs-identifier hs-var">unknownLanguages</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-470"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-471"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unknown languages: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733269"><span class="hs-identifier hs-var">unknownLanguages</span></a></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733268"><span class="hs-identifier hs-var">unknownExtensions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-474"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-475"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unknown extensions: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733268"><span class="hs-identifier hs-var">unknownExtensions</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733267"><span class="hs-identifier hs-var">languagesUsedAsExtensions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-478"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-479"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Languages listed as extensions: &quot;</span></span><span>
</span><span id="line-480"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733267"><span class="hs-identifier hs-var">languagesUsedAsExtensions</span></a></span><span>
</span><span id="line-481"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. Languages must be specified in either the 'default-language' &quot;</span></span><span>
</span><span id="line-482"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; or the 'other-languages' field.&quot;</span></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[(Extension, Maybe Extension)]
</span><a href="#local-6989586621679733266"><span class="hs-identifier hs-var">ourDeprecatedExtensions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-485"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-486"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Deprecated extensions: &quot;</span></span><span>
</span><span id="line-487"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Extension, Maybe Extension)]
</span><a href="#local-6989586621679733266"><span class="hs-identifier hs-var">ourDeprecatedExtensions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span>
</span><span id="line-489"></span><span>             </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Instead of '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733264"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-490"></span><span>            </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' use '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733263"><span class="hs-identifier hs-var">replacement</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'.&quot;</span></span><span>
</span><span id="line-491"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679733264"><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733264"><span class="hs-identifier hs-var">ext</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733263"><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733263"><span class="hs-identifier hs-var">replacement</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Extension, Maybe Extension)]
</span><a href="#local-6989586621679733266"><span class="hs-identifier hs-var">ourDeprecatedExtensions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#category"><span class="hs-identifier hs-var">category</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-494"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'category' field.&quot;</span></span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#maintainer"><span class="hs-identifier hs-var">maintainer</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-497"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'maintainer' field.&quot;</span></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#description"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-500"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'synopsis' or 'description' field.&quot;</span></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#description"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-503"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'description' field.&quot;</span></span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#description"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-506"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No 'synopsis' field.&quot;</span></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span>    </span><span class="hs-comment">--TODO: recommend the bug reports URL, author and homepage fields</span><span>
</span><span id="line-509"></span><span>    </span><span class="hs-comment">--TODO: recommend not using the stability field</span><span>
</span><span id="line-510"></span><span>    </span><span class="hs-comment">--TODO: recommend specifying a source repo</span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Int
</span><a href="Distribution.Utils.ShortText.html#length"><span class="hs-identifier hs-var">ShortText.length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">80</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-513"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span>
</span><span id="line-514"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'synopsis' field is rather long (max 80 chars is recommended).&quot;</span></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span>    </span><span class="hs-comment">-- See also https://github.com/haskell/cabal/pull/3479</span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#description"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Int
</span><a href="Distribution.Utils.ShortText.html#length"><span class="hs-identifier hs-var">ShortText.length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#description"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Int
</span><a href="Distribution.Utils.ShortText.html#length"><span class="hs-identifier hs-var">ShortText.length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-519"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-520"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'description' field should be longer than the 'synopsis' &quot;</span></span><span>
</span><span id="line-521"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;field. &quot;</span></span><span>
</span><span id="line-522"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;It's useful to provide an informative 'description' to allow &quot;</span></span><span>
</span><span id="line-523"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Haskell programmers who have never heard about your package to &quot;</span></span><span>
</span><span id="line-524"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;understand the purpose of your package. &quot;</span></span><span>
</span><span id="line-525"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'description' field content is typically shown by tooling &quot;</span></span><span>
</span><span id="line-526"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(e.g. 'cabal info', Haddock, Hackage) below the 'synopsis' which &quot;</span></span><span>
</span><span id="line-527"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;serves as a headline. &quot;</span></span><span>
</span><span id="line-528"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please refer to &lt;https://www.haskell.org/&quot;</span></span><span>
</span><span id="line-529"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cabal/users-guide/developing-packages.html#package-properties&gt;&quot;</span></span><span>
</span><span id="line-530"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; for more details.&quot;</span></span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span>    </span><span class="hs-comment">-- check use of impossible constraints &quot;tested-with: GHC== 6.10 &amp;&amp; ==6.12&quot;</span><span>
</span><span id="line-533"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Dependency]
</span><a href="#local-6989586621679733255"><span class="hs-identifier hs-var">testedWithImpossibleRanges</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-534"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-535"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid 'tested-with' version range: &quot;</span></span><span>
</span><span id="line-536"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[Dependency]
</span><a href="#local-6989586621679733255"><span class="hs-identifier hs-var">testedWithImpossibleRanges</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. To indicate that you have tested a package with multiple &quot;</span></span><span>
</span><span id="line-538"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;different versions of the same compiler use multiple entries, &quot;</span></span><span>
</span><span id="line-539"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for example 'tested-with: GHC==6.10.4, GHC==6.12.3' and not &quot;</span></span><span>
</span><span id="line-540"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'tested-with: GHC==6.10.4 &amp;&amp; ==6.12.3'.&quot;</span></span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-comment">-- for more details on why the following was commented out,</span><span>
</span><span id="line-543"></span><span>  </span><span class="hs-comment">-- check https://github.com/haskell/cabal/pull/7470#issuecomment-875878507</span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-comment">-- , check (not (null depInternalLibraryWithExtraVersion)) $</span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-comment">--     PackageBuildWarning $</span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-comment">--          &quot;The package has an extraneous version range for a dependency on an &quot;</span><span>
</span><span id="line-547"></span><span>  </span><span class="hs-comment">--       ++ &quot;internal library: &quot;</span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-comment">--       ++ commaSep (map prettyShow depInternalLibraryWithExtraVersion)</span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-comment">--       ++ &quot;. This version range includes the current package but isn't needed &quot;</span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-comment">--       ++ &quot;as the current package's library will always be used.&quot;</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Dependency]
</span><a href="#local-6989586621679733254"><span class="hs-identifier hs-var">depInternalLibraryWithImpossibleVersion</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-553"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-554"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package has an impossible version range for a dependency on an &quot;</span></span><span>
</span><span id="line-555"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;internal library: &quot;</span></span><span>
</span><span id="line-556"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[Dependency]
</span><a href="#local-6989586621679733254"><span class="hs-identifier hs-var">depInternalLibraryWithImpossibleVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-557"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. This version range does not include the current package, and must &quot;</span></span><span>
</span><span id="line-558"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;be removed as the current package's library will always be used.&quot;</span></span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span>  </span><span class="hs-comment">-- , check (not (null depInternalExecutableWithExtraVersion)) $</span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-comment">--     PackageBuildWarning $</span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-comment">--          &quot;The package has an extraneous version range for a dependency on an &quot;</span><span>
</span><span id="line-563"></span><span>  </span><span class="hs-comment">--       ++ &quot;internal executable: &quot;</span><span>
</span><span id="line-564"></span><span>  </span><span class="hs-comment">--       ++ commaSep (map prettyShow depInternalExecutableWithExtraVersion)</span><span>
</span><span id="line-565"></span><span>  </span><span class="hs-comment">--       ++ &quot;. This version range includes the current package but isn't needed &quot;</span><span>
</span><span id="line-566"></span><span>  </span><span class="hs-comment">--       ++ &quot;as the current package's executable will always be used.&quot;</span><span>
</span><span id="line-567"></span><span>
</span><span id="line-568"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ExeDependency]
</span><a href="#local-6989586621679733253"><span class="hs-identifier hs-var">depInternalExecutableWithImpossibleVersion</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-569"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-570"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package has an impossible version range for a dependency on an &quot;</span></span><span>
</span><span id="line-571"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;internal executable: &quot;</span></span><span>
</span><span id="line-572"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[ExeDependency]
</span><a href="#local-6989586621679733253"><span class="hs-identifier hs-var">depInternalExecutableWithImpossibleVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. This version range does not include the current package, and must &quot;</span></span><span>
</span><span id="line-574"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;be removed as the current package's executable will always be used.&quot;</span></span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[ExeDependency]
</span><a href="#local-6989586621679733252"><span class="hs-identifier hs-var">depMissingInternalExecutable</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-577"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-578"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package depends on a missing internal executable: &quot;</span></span><span>
</span><span id="line-579"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[ExeDependency]
</span><a href="#local-6989586621679733253"><span class="hs-identifier hs-var">depInternalExecutableWithImpossibleVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-581"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-582"></span><span>    </span><span id="local-6989586621679733270"><span class="annot"><span class="annottext">unknownCompilers :: [String]
</span><a href="#local-6989586621679733270"><span class="hs-identifier hs-var hs-var">unknownCompilers</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733251"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Compiler.html#OtherCompiler"><span class="hs-identifier hs-type">OtherCompiler</span></a></span><span> </span><span id="local-6989586621679733251"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733251"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [(CompilerFlavor, VersionRange)]
</span><a href="Distribution.Types.PackageDescription.html#testedWith"><span class="hs-identifier hs-var">testedWith</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-583"></span><span>    </span><span id="local-6989586621679733269"><span class="annot"><span class="annottext">unknownLanguages :: [String]
</span><a href="#local-6989586621679733269"><span class="hs-identifier hs-var hs-var">unknownLanguages</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733248"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733247"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733247"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-584"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Extension.html#UnknownLanguage"><span class="hs-identifier hs-type">UnknownLanguage</span></a></span><span> </span><span id="local-6989586621679733248"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733248"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Language]
</span><a href="Distribution.Types.BuildInfo.html#allLanguages"><span class="hs-identifier hs-var">allLanguages</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733247"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-585"></span><span>    </span><span id="local-6989586621679733268"><span class="annot"><span class="annottext">unknownExtensions :: [String]
</span><a href="#local-6989586621679733268"><span class="hs-identifier hs-var hs-var">unknownExtensions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733238"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733237"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733237"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-586"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Extension.html#UnknownExtension"><span class="hs-identifier hs-type">UnknownExtension</span></a></span><span> </span><span id="local-6989586621679733238"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733238"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Extension]
</span><a href="Distribution.Types.BuildInfo.html#allExtensions"><span class="hs-identifier hs-var">allExtensions</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733237"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-587"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733238"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[Language]
</span><a href="Language.Haskell.Extension.html#knownLanguages"><span class="hs-identifier hs-var">knownLanguages</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-588"></span><span>    </span><span id="local-6989586621679733266"><span class="annot"><span class="annottext">ourDeprecatedExtensions :: [(Extension, Maybe Extension)]
</span><a href="#local-6989586621679733266"><span class="hs-identifier hs-var hs-var">ourDeprecatedExtensions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#nub"><span class="hs-identifier hs-var">nub</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-589"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#find"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733224"><span class="hs-identifier hs-var">ext</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Extension, Maybe Extension)]
</span><a href="Language.Haskell.Extension.html#deprecatedExtensions"><span class="hs-identifier hs-var">deprecatedExtensions</span></a></span><span>
</span><span id="line-590"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733222"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733222"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-591"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733224"><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733224"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Extension]
</span><a href="Distribution.Types.BuildInfo.html#allExtensions"><span class="hs-identifier hs-var">allExtensions</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733222"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-592"></span><span>    </span><span id="local-6989586621679733267"><span class="annot"><span class="annottext">languagesUsedAsExtensions :: [String]
</span><a href="#local-6989586621679733267"><span class="hs-identifier hs-var hs-var">languagesUsedAsExtensions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-593"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733217"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733216"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733216"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-594"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Extension.html#UnknownExtension"><span class="hs-identifier hs-type">UnknownExtension</span></a></span><span> </span><span id="local-6989586621679733217"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733217"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Extension]
</span><a href="Distribution.Types.BuildInfo.html#allExtensions"><span class="hs-identifier hs-var">allExtensions</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733216"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-595"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733217"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[Language]
</span><a href="Language.Haskell.Extension.html#knownLanguages"><span class="hs-identifier hs-var">knownLanguages</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span>    </span><span id="local-6989586621679733255"><span class="annot"><span class="annottext">testedWithImpossibleRanges :: [Dependency]
</span><a href="#local-6989586621679733255"><span class="hs-identifier hs-var hs-var">testedWithImpossibleRanges</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-598"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">PackageName
-&gt; VersionRange -&gt; NonEmptySet LibraryName -&gt; Dependency
</span><a href="Distribution.Types.Dependency.html#Dependency"><span class="hs-identifier hs-var">Dependency</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; PackageName
</span><a href="Distribution.Types.PackageName.html#mkPackageName"><span class="hs-identifier hs-var">mkPackageName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="#local-6989586621679733211"><span class="hs-identifier hs-var">compiler</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733210"><span class="hs-identifier hs-var">vr</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmptySet LibraryName
</span><a href="Distribution.Types.Dependency.html#mainLibSet"><span class="hs-identifier hs-var">mainLibSet</span></a></span><span>
</span><span id="line-599"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679733211"><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="#local-6989586621679733211"><span class="hs-identifier hs-var">compiler</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733210"><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733210"><span class="hs-identifier hs-var">vr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [(CompilerFlavor, VersionRange)]
</span><a href="Distribution.Types.PackageDescription.html#testedWith"><span class="hs-identifier hs-var">testedWith</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-600"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VersionRange -&gt; Bool
</span><a href="Distribution.Version.html#isNoVersion"><span class="hs-identifier hs-var">isNoVersion</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733210"><span class="hs-identifier hs-var">vr</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-601"></span><span>
</span><span id="line-602"></span><span>    </span><span id="local-6989586621679733206"><span class="annot"><span class="annottext">internalLibraries :: [PackageName]
</span><a href="#local-6989586621679733206"><span class="hs-identifier hs-var hs-var">internalLibraries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-603"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnqualComponentName -&gt; PackageName
</span><a href="Distribution.Types.UnqualComponentName.html#unqualComponentNameToPackageName"><span class="hs-identifier hs-var">unqualComponentNameToPackageName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LibraryName -&gt; Maybe UnqualComponentName
</span><a href="Distribution.Types.LibraryName.html#libraryNameString"><span class="hs-identifier hs-var">libraryNameString</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; LibraryName
</span><a href="Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-604"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#allLibraries"><span class="hs-identifier hs-var">allLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span>    </span><span id="local-6989586621679733203"><span class="annot"><span class="annottext">internalExecutables :: [UnqualComponentName]
</span><a href="#local-6989586621679733203"><span class="hs-identifier hs-var hs-var">internalExecutables</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Executable -&gt; UnqualComponentName
</span><a href="Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Executable]
</span><a href="Distribution.Types.PackageDescription.html#executables"><span class="hs-identifier hs-var">executables</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span>    </span><span id="local-6989586621679733199"><span class="annot"><span class="annottext">internalLibDeps :: [Dependency]
</span><a href="#local-6989586621679733199"><span class="hs-identifier hs-var hs-var">internalLibDeps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-609"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Dependency
</span><a href="#local-6989586621679733198"><span class="hs-identifier hs-var">dep</span></a></span><span>
</span><span id="line-610"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733197"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733197"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-611"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733198"><span class="annot"><span class="annottext">dep :: Dependency
</span><a href="#local-6989586621679733198"><span class="hs-identifier hs-var">dep</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Dependency.html#Dependency"><span class="hs-identifier hs-type">Dependency</span></a></span><span> </span><span id="local-6989586621679733196"><span class="annot"><span class="annottext">PackageName
</span><a href="#local-6989586621679733196"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonEmptySet LibraryName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Dependency]
</span><a href="Distribution.Types.BuildInfo.html#targetBuildDepends"><span class="hs-identifier hs-var">targetBuildDepends</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733197"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-612"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageName
</span><a href="#local-6989586621679733196"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageName]
</span><a href="#local-6989586621679733206"><span class="hs-identifier hs-var">internalLibraries</span></a></span><span>
</span><span id="line-613"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-614"></span><span>
</span><span id="line-615"></span><span>    </span><span id="local-6989586621679733194"><span class="annot"><span class="annottext">internalExeDeps :: [ExeDependency]
</span><a href="#local-6989586621679733194"><span class="hs-identifier hs-var hs-var">internalExeDeps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-616"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ExeDependency
</span><a href="#local-6989586621679733193"><span class="hs-identifier hs-var">dep</span></a></span><span>
</span><span id="line-617"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733192"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733192"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-618"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733193"><span class="annot"><span class="annottext">ExeDependency
</span><a href="#local-6989586621679733193"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; BuildInfo -&gt; [ExeDependency]
</span><a href="Distribution.Simple.BuildToolDepends.html#getAllToolDependencies"><span class="hs-identifier hs-var">getAllToolDependencies</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733192"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-619"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; ExeDependency -&gt; Bool
</span><a href="Distribution.Simple.BuildToolDepends.html#isInternal"><span class="hs-identifier hs-var">isInternal</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">ExeDependency
</span><a href="#local-6989586621679733193"><span class="hs-identifier hs-var">dep</span></a></span><span>
</span><span id="line-620"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span>    </span><span class="hs-comment">-- depInternalLibraryWithExtraVersion =</span><span>
</span><span id="line-623"></span><span>    </span><span class="hs-comment">--   [ dep</span><span>
</span><span id="line-624"></span><span>    </span><span class="hs-comment">--   | dep@(Dependency _ versionRange _) &lt;- internalLibDeps</span><span>
</span><span id="line-625"></span><span>    </span><span class="hs-comment">--   , not $ isAnyVersion versionRange</span><span>
</span><span id="line-626"></span><span>    </span><span class="hs-comment">--   , packageVersion pkg `withinRange` versionRange</span><span>
</span><span id="line-627"></span><span>    </span><span class="hs-comment">--   ]</span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span>    </span><span id="local-6989586621679733254"><span class="annot"><span class="annottext">depInternalLibraryWithImpossibleVersion :: [Dependency]
</span><a href="#local-6989586621679733254"><span class="hs-identifier hs-var hs-var">depInternalLibraryWithImpossibleVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-630"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Dependency
</span><a href="#local-6989586621679733188"><span class="hs-identifier hs-var">dep</span></a></span><span>
</span><span id="line-631"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733188"><span class="annot"><span class="annottext">dep :: Dependency
</span><a href="#local-6989586621679733188"><span class="hs-identifier hs-var">dep</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Dependency.html#Dependency"><span class="hs-identifier hs-type">Dependency</span></a></span><span> </span><span class="annot"><span class="annottext">PackageName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679733187"><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733187"><span class="hs-identifier hs-var">versionRange</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmptySet LibraryName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Dependency]
</span><a href="#local-6989586621679733199"><span class="hs-identifier hs-var">internalLibDeps</span></a></span><span>
</span><span id="line-632"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; Version
</span><a href="Distribution.Package.html#packageVersion"><span class="hs-identifier hs-var">packageVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; VersionRange -&gt; Bool
</span><a href="Distribution.Types.VersionRange.html#withinRange"><span class="hs-operator hs-var">`withinRange`</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733187"><span class="hs-identifier hs-var">versionRange</span></a></span><span>
</span><span id="line-633"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-634"></span><span>
</span><span id="line-635"></span><span>    </span><span class="hs-comment">-- depInternalExecutableWithExtraVersion =</span><span>
</span><span id="line-636"></span><span>    </span><span class="hs-comment">--   [ dep</span><span>
</span><span id="line-637"></span><span>    </span><span class="hs-comment">--   | dep@(ExeDependency _ _ versionRange) &lt;- internalExeDeps</span><span>
</span><span id="line-638"></span><span>    </span><span class="hs-comment">--   , not $ isAnyVersion versionRange</span><span>
</span><span id="line-639"></span><span>    </span><span class="hs-comment">--   , packageVersion pkg `withinRange` versionRange</span><span>
</span><span id="line-640"></span><span>    </span><span class="hs-comment">--   ]</span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span>    </span><span id="local-6989586621679733253"><span class="annot"><span class="annottext">depInternalExecutableWithImpossibleVersion :: [ExeDependency]
</span><a href="#local-6989586621679733253"><span class="hs-identifier hs-var hs-var">depInternalExecutableWithImpossibleVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-643"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ExeDependency
</span><a href="#local-6989586621679733184"><span class="hs-identifier hs-var">dep</span></a></span><span>
</span><span id="line-644"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733184"><span class="annot"><span class="annottext">dep :: ExeDependency
</span><a href="#local-6989586621679733184"><span class="hs-identifier hs-var">dep</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.ExeDependency.html#ExeDependency"><span class="hs-identifier hs-type">ExeDependency</span></a></span><span> </span><span class="annot"><span class="annottext">PackageName
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UnqualComponentName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679733182"><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733182"><span class="hs-identifier hs-var">versionRange</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ExeDependency]
</span><a href="#local-6989586621679733194"><span class="hs-identifier hs-var">internalExeDeps</span></a></span><span>
</span><span id="line-645"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; Version
</span><a href="Distribution.Package.html#packageVersion"><span class="hs-identifier hs-var">packageVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733281"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; VersionRange -&gt; Bool
</span><a href="Distribution.Types.VersionRange.html#withinRange"><span class="hs-operator hs-var">`withinRange`</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679733182"><span class="hs-identifier hs-var">versionRange</span></a></span><span>
</span><span id="line-646"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span>    </span><span id="local-6989586621679733252"><span class="annot"><span class="annottext">depMissingInternalExecutable :: [ExeDependency]
</span><a href="#local-6989586621679733252"><span class="hs-identifier hs-var hs-var">depMissingInternalExecutable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-649"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ExeDependency
</span><a href="#local-6989586621679733178"><span class="hs-identifier hs-var">dep</span></a></span><span>
</span><span id="line-650"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733178"><span class="annot"><span class="annottext">dep :: ExeDependency
</span><a href="#local-6989586621679733178"><span class="hs-identifier hs-var">dep</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.ExeDependency.html#ExeDependency"><span class="hs-identifier hs-type">ExeDependency</span></a></span><span> </span><span class="annot"><span class="annottext">PackageName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679733177"><span class="annot"><span class="annottext">UnqualComponentName
</span><a href="#local-6989586621679733177"><span class="hs-identifier hs-var">eName</span></a></span></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ExeDependency]
</span><a href="#local-6989586621679733194"><span class="hs-identifier hs-var">internalExeDeps</span></a></span><span>
</span><span id="line-651"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UnqualComponentName
</span><a href="#local-6989586621679733177"><span class="hs-identifier hs-var">eName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[UnqualComponentName]
</span><a href="#local-6989586621679733203"><span class="hs-identifier hs-var">internalExecutables</span></a></span><span>
</span><span id="line-652"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkLicense"><span class="hs-identifier hs-type">checkLicense</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-656"></span><span id="checkLicense"><span class="annot"><span class="annottext">checkLicense :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLicense"><span class="hs-identifier hs-var hs-var">checkLicense</span></a></span></span><span> </span><span id="local-6989586621679733176"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733176"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; Either License License
</span><a href="Distribution.Types.PackageDescription.html#licenseRaw"><span class="hs-identifier hs-var">licenseRaw</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733176"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-657"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679733174"><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733174"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; License -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkOldLicense"><span class="hs-identifier hs-var">checkOldLicense</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733176"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733174"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-658"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span>  </span><span id="local-6989586621679733172"><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733172"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; License -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkNewLicense"><span class="hs-identifier hs-var">checkNewLicense</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733176"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733172"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkNewLicense"><span class="hs-identifier hs-type">checkNewLicense</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.SPDX.License.html#License"><span class="hs-identifier hs-type">SPDX.License</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-661"></span><span id="checkNewLicense"><span class="annot"><span class="annottext">checkNewLicense :: PackageDescription -&gt; License -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkNewLicense"><span class="hs-identifier hs-var hs-var">checkNewLicense</span></a></span></span><span> </span><span id="local-6989586621679733170"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733170"><span class="hs-identifier hs-var">_pkg</span></a></span></span><span> </span><span id="local-6989586621679733169"><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733169"><span class="hs-identifier hs-var">lic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-662"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733169"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.SPDX.License.html#NONE"><span class="hs-identifier hs-var">SPDX.NONE</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-663"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-664"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'license' field is missing or is NONE.&quot;</span></span><span>
</span><span id="line-665"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-666"></span><span>
</span><span id="line-667"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkOldLicense"><span class="hs-identifier hs-type">checkOldLicense</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.License.html#License"><span class="hs-identifier hs-type">License</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-668"></span><span id="checkOldLicense"><span class="annot"><span class="annottext">checkOldLicense :: PackageDescription -&gt; License -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkOldLicense"><span class="hs-identifier hs-var hs-var">checkOldLicense</span></a></span></span><span> </span><span id="local-6989586621679733167"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733167"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679733166"><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#UnspecifiedLicense"><span class="hs-identifier hs-var">UnspecifiedLicense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-670"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-671"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'license' field is missing.&quot;</span></span><span>
</span><span id="line-672"></span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#AllRightsReserved"><span class="hs-identifier hs-var">AllRightsReserved</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-674"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span>
</span><span id="line-675"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'license' is AllRightsReserved. Is that really what you want?&quot;</span></span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733163"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_4"><span class="hs-identifier hs-var">CabalSpecV1_4</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[License]
</span><a href="#local-6989586621679733161"><span class="hs-identifier hs-var">compatLicenses</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-678"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-679"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately the license &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; License
</span><a href="Distribution.Types.PackageDescription.html#license"><span class="hs-identifier hs-var">license</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733167"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; messes up the parser in earlier Cabal versions so you need to &quot;</span></span><span>
</span><span id="line-681"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;specify 'cabal-version: &gt;= 1.4'. Alternatively if you require &quot;</span></span><span>
</span><span id="line-682"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;compatibility with earlier Cabal versions then use 'OtherLicense'.&quot;</span></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-685"></span><span>      </span><span class="annot"><a href="Distribution.License.html#UnknownLicense"><span class="hs-identifier hs-type">UnknownLicense</span></a></span><span> </span><span id="local-6989586621679733158"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733158"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-686"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-687"></span><span>             </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;license: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733158"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a recognised license. The &quot;</span></span><span>
</span><span id="line-688"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;known licenses are: &quot;</span></span><span>
</span><span id="line-689"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[License]
</span><a href="Distribution.License.html#knownLicenses"><span class="hs-identifier hs-var">knownLicenses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-690"></span><span>      </span><span class="annot"><span class="annottext">License
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-691"></span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#BSD4"><span class="hs-identifier hs-var">BSD4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-693"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-694"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Using 'license: BSD4' is almost always a misunderstanding. 'BSD4' &quot;</span></span><span>
</span><span id="line-695"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;refers to the old 4-clause BSD license with the advertising &quot;</span></span><span>
</span><span id="line-696"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;clause. 'BSD3' refers the new 3-clause BSD license.&quot;</span></span><span>
</span><span id="line-697"></span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">License -&gt; Maybe [Version]
</span><a href="#local-6989586621679733155"><span class="hs-identifier hs-var">unknownLicenseVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-699"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733154"><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733154"><span class="hs-identifier hs-var">knownVersions</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-700"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-701"></span><span>             </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'license: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' is not a known &quot;</span></span><span>
</span><span id="line-702"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;version of that license. The known versions are &quot;</span></span><span>
</span><span id="line-703"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733154"><span class="hs-identifier hs-var">knownVersions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-704"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. If this is not a mistake and you think it should be a known &quot;</span></span><span>
</span><span id="line-705"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;version then please file a ticket.&quot;</span></span><span>
</span><span id="line-706"></span><span>      </span><span class="annot"><span class="annottext">Maybe [Version]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-707"></span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">License
</span><a href="#local-6989586621679733166"><span class="hs-identifier hs-var">lic</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#AllRightsReserved"><span class="hs-identifier hs-var">AllRightsReserved</span></a></span><span>
</span><span id="line-709"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#UnspecifiedLicense"><span class="hs-identifier hs-var">UnspecifiedLicense</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#PublicDomain"><span class="hs-identifier hs-var">PublicDomain</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-710"></span><span>           </span><span class="hs-comment">-- AllRightsReserved and PublicDomain are not strictly</span><span>
</span><span id="line-711"></span><span>           </span><span class="hs-comment">-- licenses so don't need license files.</span><span>
</span><span id="line-712"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [SymbolicPath PackageDir LicenseFile]
</span><a href="Distribution.Types.PackageDescription.html#licenseFiles"><span class="hs-identifier hs-var">licenseFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733167"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-713"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A 'license-file' is not specified.&quot;</span></span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-715"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-716"></span><span>    </span><span id="local-6989586621679733155"><span class="annot"><span class="annottext">unknownLicenseVersion :: License -&gt; Maybe [Version]
</span><a href="#local-6989586621679733155"><span class="hs-identifier hs-var hs-var">unknownLicenseVersion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.License.html#GPL"><span class="hs-identifier hs-type">GPL</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733142"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733142"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-717"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733142"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733141"><span class="hs-identifier hs-var">knownVersions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733141"><span class="hs-identifier hs-var">knownVersions</span></a></span><span>
</span><span id="line-718"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679733141"><span class="annot"><span class="annottext">knownVersions :: [Version]
</span><a href="#local-6989586621679733141"><span class="hs-identifier hs-var hs-var">knownVersions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733140"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.License.html#GPL"><span class="hs-identifier hs-type">GPL</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733140"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733140"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[License]
</span><a href="Distribution.License.html#knownLicenses"><span class="hs-identifier hs-var">knownLicenses</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-719"></span><span>    </span><span class="annot"><a href="#local-6989586621679733155"><span class="hs-identifier hs-var">unknownLicenseVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.License.html#LGPL"><span class="hs-identifier hs-type">LGPL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733138"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733138"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733138"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733137"><span class="hs-identifier hs-var">knownVersions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733137"><span class="hs-identifier hs-var">knownVersions</span></a></span><span>
</span><span id="line-721"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679733137"><span class="annot"><span class="annottext">knownVersions :: [Version]
</span><a href="#local-6989586621679733137"><span class="hs-identifier hs-var hs-var">knownVersions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733136"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.License.html#LGPL"><span class="hs-identifier hs-type">LGPL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733136"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733136"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[License]
</span><a href="Distribution.License.html#knownLicenses"><span class="hs-identifier hs-var">knownLicenses</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-722"></span><span>    </span><span class="annot"><a href="#local-6989586621679733155"><span class="hs-identifier hs-var">unknownLicenseVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.License.html#AGPL"><span class="hs-identifier hs-type">AGPL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733134"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733134"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-723"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733134"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733133"><span class="hs-identifier hs-var">knownVersions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733133"><span class="hs-identifier hs-var">knownVersions</span></a></span><span>
</span><span id="line-724"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679733133"><span class="annot"><span class="annottext">knownVersions :: [Version]
</span><a href="#local-6989586621679733133"><span class="hs-identifier hs-var hs-var">knownVersions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733132"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.License.html#AGPL"><span class="hs-identifier hs-type">AGPL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733132"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733132"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[License]
</span><a href="Distribution.License.html#knownLicenses"><span class="hs-identifier hs-var">knownLicenses</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-725"></span><span>    </span><span class="annot"><a href="#local-6989586621679733155"><span class="hs-identifier hs-var">unknownLicenseVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.License.html#Apache"><span class="hs-identifier hs-type">Apache</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733130"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733130"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733130"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733129"><span class="hs-identifier hs-var">knownVersions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">[Version]
</span><a href="#local-6989586621679733129"><span class="hs-identifier hs-var">knownVersions</span></a></span><span>
</span><span id="line-727"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679733129"><span class="annot"><span class="annottext">knownVersions :: [Version]
</span><a href="#local-6989586621679733129"><span class="hs-identifier hs-var hs-var">knownVersions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733128"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.License.html#Apache"><span class="hs-identifier hs-type">Apache</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733128"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679733128"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[License]
</span><a href="Distribution.License.html#knownLicenses"><span class="hs-identifier hs-var">knownLicenses</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-728"></span><span>    </span><span class="annot"><a href="#local-6989586621679733155"><span class="hs-identifier hs-var">unknownLicenseVersion</span></a></span><span> </span><span class="annot"><span class="annottext">License
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span>    </span><span class="annot"><a href="#local-6989586621679733163"><span class="hs-identifier hs-type">checkVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-731"></span><span>    </span><span id="local-6989586621679733163"><span class="annot"><span class="annottext">checkVersion :: CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733163"><span class="hs-identifier hs-var hs-var">checkVersion</span></a></span></span><span> </span><span id="local-6989586621679733127"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679733127"><span class="hs-identifier hs-var">ver</span></a></span></span><span> </span><span id="local-6989586621679733126"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733126"><span class="hs-identifier hs-var">cond</span></a></span></span><span> </span><span id="local-6989586621679733125"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733125"><span class="hs-identifier hs-var">pc</span></a></span></span><span>
</span><span id="line-732"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733167"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679733127"><span class="hs-identifier hs-var">ver</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-733"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679733126"><span class="hs-identifier hs-var">cond</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679733125"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span>    </span><span id="local-6989586621679733161"><span class="annot"><span class="annottext">compatLicenses :: [License]
</span><a href="#local-6989586621679733161"><span class="hs-identifier hs-var hs-var">compatLicenses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Maybe Version -&gt; License
</span><a href="Distribution.License.html#GPL"><span class="hs-identifier hs-var">GPL</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Version -&gt; License
</span><a href="Distribution.License.html#LGPL"><span class="hs-identifier hs-var">LGPL</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Version -&gt; License
</span><a href="Distribution.License.html#AGPL"><span class="hs-identifier hs-var">AGPL</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#BSD3"><span class="hs-identifier hs-var">BSD3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#BSD4"><span class="hs-identifier hs-var">BSD4</span></a></span><span>
</span><span id="line-736"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#PublicDomain"><span class="hs-identifier hs-var">PublicDomain</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#AllRightsReserved"><span class="hs-identifier hs-var">AllRightsReserved</span></a></span><span>
</span><span id="line-737"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#UnspecifiedLicense"><span class="hs-identifier hs-var">UnspecifiedLicense</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">License
</span><a href="Distribution.License.html#OtherLicense"><span class="hs-identifier hs-var">OtherLicense</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkSourceRepos"><span class="hs-identifier hs-type">checkSourceRepos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-740"></span><span id="checkSourceRepos"><span class="annot"><span class="annottext">checkSourceRepos :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkSourceRepos"><span class="hs-identifier hs-var hs-var">checkSourceRepos</span></a></span></span><span> </span><span id="local-6989586621679733122"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733122"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-741"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SourceRepo -&gt; RepoKind
</span><a href="Distribution.Types.SourceRepo.html#repoKind"><span class="hs-identifier hs-var">repoKind</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-744"></span><span>      </span><span class="annot"><a href="Distribution.Types.SourceRepo.html#RepoKindUnknown"><span class="hs-identifier hs-type">RepoKindUnknown</span></a></span><span> </span><span id="local-6989586621679733117"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733117"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-745"></span><span>        </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733117"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a recognised kind of source-repository. &quot;</span></span><span>
</span><span id="line-746"></span><span>                   </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The repo kind is usually 'head' or 'this'&quot;</span></span><span>
</span><span id="line-747"></span><span>      </span><span class="annot"><span class="annottext">RepoKind
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe RepoType
</span><a href="Distribution.Types.SourceRepo.html#repoType"><span class="hs-identifier hs-var">repoType</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-750"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-751"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The source-repository 'type' is a required field.&quot;</span></span><span>
</span><span id="line-752"></span><span>
</span><span id="line-753"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe String
</span><a href="Distribution.Types.SourceRepo.html#repoLocation"><span class="hs-identifier hs-var">repoLocation</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-754"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-755"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The source-repository 'location' is a required field.&quot;</span></span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe RepoType
</span><a href="Distribution.Types.SourceRepo.html#repoType"><span class="hs-identifier hs-var">repoType</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KnownRepoType -&gt; RepoType
</span><a href="Distribution.Types.SourceRepo.html#KnownRepoType"><span class="hs-identifier hs-var">KnownRepoType</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#CVS"><span class="hs-identifier hs-var">CVS</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe String
</span><a href="Distribution.Types.SourceRepo.html#repoModule"><span class="hs-identifier hs-var">repoModule</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-758"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-759"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;For a CVS source-repository, the 'module' is a required field.&quot;</span></span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; RepoKind
</span><a href="Distribution.Types.SourceRepo.html#repoKind"><span class="hs-identifier hs-var">repoKind</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RepoKind
</span><a href="Distribution.Types.SourceRepo.html#RepoThis"><span class="hs-identifier hs-var">RepoThis</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe String
</span><a href="Distribution.Types.SourceRepo.html#repoTag"><span class="hs-identifier hs-var">repoTag</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-762"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-763"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;For the 'this' kind of source-repository, the 'tag' is a required &quot;</span></span><span>
</span><span id="line-764"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;field. It should specify the tag corresponding to this version &quot;</span></span><span>
</span><span id="line-765"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;or release of the package.&quot;</span></span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier hs-var">isAbsoluteOnAnyPlatform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe String
</span><a href="Distribution.Types.SourceRepo.html#repoSubdir"><span class="hs-identifier hs-var">repoSubdir</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-768"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-769"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'subdir' field of a source-repository must be a relative path.&quot;</span></span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier hs-var">isAbsoluteOnAnyPlatform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe String
</span><a href="Distribution.Types.SourceRepo.html#repoSubdir"><span class="hs-identifier hs-var">repoSubdir</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-772"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-773"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'subdir' field of a source-repository must be a relative path.&quot;</span></span><span>
</span><span id="line-774"></span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-776"></span><span>      </span><span id="local-6989586621679733107"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733107"><span class="hs-identifier hs-var">subdir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SourceRepo -&gt; Maybe String
</span><a href="Distribution.Types.SourceRepo.html#repoSubdir"><span class="hs-identifier hs-var">repoSubdir</span></a></span><span> </span><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span><span>
</span><span id="line-777"></span><span>      </span><span id="local-6989586621679733106"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733106"><span class="hs-identifier hs-var">err</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeDirectoryPath"><span class="hs-identifier hs-var">isGoodRelativeDirectoryPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733107"><span class="hs-identifier hs-var">subdir</span></a></span><span>
</span><span id="line-778"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-779"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'subdir' field of a source-repository is not a good relative path: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733106"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733119"><span class="annot"><span class="annottext">SourceRepo
</span><a href="#local-6989586621679733119"><span class="hs-identifier hs-var">repo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [SourceRepo]
</span><a href="Distribution.Types.PackageDescription.html#sourceRepos"><span class="hs-identifier hs-var">sourceRepos</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733122"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-782"></span><span>
</span><span id="line-783"></span><span class="hs-comment">--TODO: check location looks like a URL for some repo types.</span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span class="hs-comment">-- | Checks GHC options from all ghc-*-options fields in the given</span><span>
</span><span id="line-786"></span><span class="hs-comment">-- PackageDescription and reports commonly misused or non-portable flags</span><span>
</span><span id="line-787"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkAllGhcOptions"><span class="hs-identifier hs-type">checkAllGhcOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-788"></span><span id="checkAllGhcOptions"><span class="annot"><span class="annottext">checkAllGhcOptions :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkAllGhcOptions"><span class="hs-identifier hs-var hs-var">checkAllGhcOptions</span></a></span></span><span> </span><span id="local-6989586621679733103"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733103"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-789"></span><span>    </span><span class="annot"><span class="annottext">String
-&gt; (BuildInfo -&gt; [String]) -&gt; PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkGhcOptions"><span class="hs-identifier hs-var">checkGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc-options&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#hcOptions"><span class="hs-identifier hs-var">hcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733103"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-790"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
-&gt; (BuildInfo -&gt; [String]) -&gt; PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkGhcOptions"><span class="hs-identifier hs-var">checkGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc-prof-options&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#hcProfOptions"><span class="hs-identifier hs-var">hcProfOptions</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733103"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-791"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
-&gt; (BuildInfo -&gt; [String]) -&gt; PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkGhcOptions"><span class="hs-identifier hs-var">checkGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc-shared-options&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#hcSharedOptions"><span class="hs-identifier hs-var">hcSharedOptions</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733103"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span class="hs-comment">-- | Extracts GHC options belonging to the given field from the given</span><span>
</span><span id="line-794"></span><span class="hs-comment">-- PackageDescription using given function and checks them for commonly misused</span><span>
</span><span id="line-795"></span><span class="hs-comment">-- or non-portable flags</span><span>
</span><span id="line-796"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkGhcOptions"><span class="hs-identifier hs-type">checkGhcOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-797"></span><span id="checkGhcOptions"><span class="annot"><span class="annottext">checkGhcOptions :: String
-&gt; (BuildInfo -&gt; [String]) -&gt; PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkGhcOptions"><span class="hs-identifier hs-var hs-var">checkGhcOptions</span></a></span></span><span> </span><span id="local-6989586621679733097"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621679733096"><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733096"><span class="hs-identifier hs-var">getOptions</span></a></span></span><span> </span><span id="local-6989586621679733095"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733095"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-798"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span>    </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fasm&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-801"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-802"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -fasm' is unnecessary and will not work on CPU &quot;</span></span><span>
</span><span id="line-803"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;architectures other than x86, x86-64, ppc or sparc.&quot;</span></span><span>
</span><span id="line-804"></span><span>
</span><span id="line-805"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fvia-C&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-806"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-807"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -fvia-C' is usually unnecessary. If your package &quot;</span></span><span>
</span><span id="line-808"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;needs -via-C for correctness rather than performance then it &quot;</span></span><span>
</span><span id="line-809"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;is using the FFI incorrectly and will probably not work with GHC &quot;</span></span><span>
</span><span id="line-810"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;6.10 or later.&quot;</span></span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fhpc&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-813"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-814"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -fhpc' is not necessary. Use the configure flag &quot;</span></span><span>
</span><span id="line-815"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; --enable-coverage instead.&quot;</span></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-prof&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-818"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-819"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -prof' is not necessary and will lead to problems &quot;</span></span><span>
</span><span id="line-820"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;when used on a library. Use the configure flag &quot;</span></span><span>
</span><span id="line-821"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--enable-library-profiling and/or --enable-profiling.&quot;</span></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-o&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-824"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-825"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -o' is not needed. &quot;</span></span><span>
</span><span id="line-826"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The output files are named automatically.&quot;</span></span><span>
</span><span id="line-827"></span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-hide-package&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-829"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-830"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -hide-package' is never needed. &quot;</span></span><span>
</span><span id="line-831"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cabal hides all packages.&quot;</span></span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--make&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-834"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-835"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: --make' is never needed. Cabal uses this automatically.&quot;</span></span><span>
</span><span id="line-836"></span><span>
</span><span id="line-837"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-main-is&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-838"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-839"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -main-is' is not portable.&quot;</span></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733093"><span class="hs-identifier hs-var">checkNonTestAndBenchmarkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O0&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-Onot&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-842"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-843"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -O0' is not needed. &quot;</span></span><span>
</span><span id="line-844"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use the --disable-optimization configure flag.&quot;</span></span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733092"><span class="hs-identifier hs-var">checkTestAndBenchmarkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O0&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-Onot&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-847"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-848"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -O0' is not needed. &quot;</span></span><span>
</span><span id="line-849"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use the --disable-optimization configure flag.&quot;</span></span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O1&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-852"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-853"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -O' is not needed. &quot;</span></span><span>
</span><span id="line-854"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cabal automatically adds the '-O' flag. &quot;</span></span><span>
</span><span id="line-855"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Setting it yourself interferes with the --disable-optimization flag.&quot;</span></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O2&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-858"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-859"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -O2' is rarely needed. &quot;</span></span><span>
</span><span id="line-860"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Check that it is giving a real benefit &quot;</span></span><span>
</span><span id="line-861"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;and not just imposing longer compile times on your users.&quot;</span></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-split-sections&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-864"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-865"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -split-sections' is not needed. &quot;</span></span><span>
</span><span id="line-866"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use the --enable-split-sections configure flag.&quot;</span></span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-split-objs&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-869"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-870"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -split-objs' is not needed. &quot;</span></span><span>
</span><span id="line-871"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Use the --enable-split-objs configure flag.&quot;</span></span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-optl-Wl,-s&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-optl-s&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-874"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-875"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -optl-Wl,-s' is not needed and is not portable to all&quot;</span></span><span>
</span><span id="line-876"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; operating systems. Cabal 1.4 and later automatically strip&quot;</span></span><span>
</span><span id="line-877"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; executables. Cabal also has a flag --disable-executable-stripping&quot;</span></span><span>
</span><span id="line-878"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; which is necessary when building packages for some Linux&quot;</span></span><span>
</span><span id="line-879"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; distributions and using '-optl-Wl,-s' prevents that from working.&quot;</span></span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fglasgow-exts&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-882"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-883"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Instead of '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -fglasgow-exts' it is preferable to use &quot;</span></span><span>
</span><span id="line-884"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;the 'extensions' field.&quot;</span></span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-threaded&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733091"><span class="hs-identifier hs-var">lib_ghc_options</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-887"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-888"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -threaded' has no effect for libraries. It should &quot;</span></span><span>
</span><span id="line-889"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;only be used for executables.&quot;</span></span><span>
</span><span id="line-890"></span><span>
</span><span id="line-891"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-rtsopts&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733091"><span class="hs-identifier hs-var">lib_ghc_options</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-892"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-893"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -rtsopts' has no effect for libraries. It should &quot;</span></span><span>
</span><span id="line-894"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;only be used for executables.&quot;</span></span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679733090"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733090"><span class="hs-identifier hs-var">opt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-with-rtsopts&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#isPrefixOf"><span class="hs-operator hs-var">`isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733090"><span class="hs-identifier hs-var">opt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733091"><span class="hs-identifier hs-var">lib_ghc_options</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-897"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-898"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -with-rtsopts' has no effect for libraries. It &quot;</span></span><span>
</span><span id="line-899"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;should only be used for executables.&quot;</span></span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extensions&quot;</span></span><span>
</span><span id="line-902"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733088"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733087"><span class="hs-identifier hs-var">extension</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733088"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733088"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span>
</span><span id="line-903"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679733087"><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679733087"><span class="hs-identifier hs-var">extension</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Maybe Extension
</span><a href="#local-6989586621679733085"><span class="hs-identifier hs-var">ghcExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733088"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extensions&quot;</span></span><span>
</span><span id="line-906"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733084"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733083"><span class="hs-identifier hs-var">extension</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733084"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733084"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'X'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733083"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733083"><span class="hs-identifier hs-var">extension</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-907"></span><span>
</span><span id="line-908"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cpp-options&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-909"></span><span>         </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733082"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733082"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733082"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733082"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'D'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-910"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733081"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733081"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733081"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733081"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'U'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-911"></span><span>
</span><span id="line-912"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;include-dirs&quot;</span></span><span>
</span><span id="line-913"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733080"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733079"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733080"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733080"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'I'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733079"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733079"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-914"></span><span>
</span><span id="line-915"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-libraries&quot;</span></span><span>
</span><span id="line-916"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733078"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733077"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733078"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733078"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'l'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733077"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733077"><span class="hs-identifier hs-var">lib</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-lib-dirs&quot;</span></span><span>
</span><span id="line-919"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733076"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733075"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733076"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733076"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'L'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733075"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733075"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;frameworks&quot;</span></span><span>
</span><span id="line-922"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733074"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733073"><span class="hs-identifier hs-var">fmwk</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679733074"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733074"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-framework&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733073"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733073"><span class="hs-identifier hs-var">fmwk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-923"></span><span>           </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="Distribution.Utils.Generic.html#safeTail"><span class="hs-identifier hs-var">safeTail</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-924"></span><span>
</span><span id="line-925"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733097"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-framework-dirs&quot;</span></span><span>
</span><span id="line-926"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733071"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733070"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679733071"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733071"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-framework-path&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733070"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733070"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-927"></span><span>           </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="Distribution.Utils.Generic.html#safeTail"><span class="hs-identifier hs-var">safeTail</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-928"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-929"></span><span>
</span><span id="line-930"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-931"></span><span>    </span><span id="local-6989586621679733086"><span class="annot"><span class="annottext">all_ghc_options :: [String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var hs-var">all_ghc_options</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733096"><span class="hs-identifier hs-var">getOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733095"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span>    </span><span id="local-6989586621679733091"><span class="annot"><span class="annottext">lib_ghc_options :: [String]
</span><a href="#local-6989586621679733091"><span class="hs-identifier hs-var hs-var">lib_ghc_options</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733096"><span class="hs-identifier hs-var">getOptions</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; BuildInfo
</span><a href="Distribution.Types.Library.html#libBuildInfo"><span class="hs-identifier hs-var">libBuildInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#allLibraries"><span class="hs-identifier hs-var">allLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733095"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-934"></span><span>    </span><span id="local-6989586621679733065"><span class="annot"><span class="annottext">test_ghc_options :: [String]
</span><a href="#local-6989586621679733065"><span class="hs-identifier hs-var hs-var">test_ghc_options</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733096"><span class="hs-identifier hs-var">getOptions</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; BuildInfo
</span><a href="Distribution.Types.TestSuite.html#testBuildInfo"><span class="hs-identifier hs-var">testBuildInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-935"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [TestSuite]
</span><a href="Distribution.Types.PackageDescription.html#testSuites"><span class="hs-identifier hs-var">testSuites</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733095"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-936"></span><span>    </span><span id="local-6989586621679733062"><span class="annot"><span class="annottext">benchmark_ghc_options :: [String]
</span><a href="#local-6989586621679733062"><span class="hs-identifier hs-var hs-var">benchmark_ghc_options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733096"><span class="hs-identifier hs-var">getOptions</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; BuildInfo
</span><a href="Distribution.Types.Benchmark.html#benchmarkBuildInfo"><span class="hs-identifier hs-var">benchmarkBuildInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-937"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Benchmark]
</span><a href="Distribution.Types.PackageDescription.html#benchmarks"><span class="hs-identifier hs-var">benchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733095"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-938"></span><span>    </span><span id="local-6989586621679733060"><span class="annot"><span class="annottext">test_and_benchmark_ghc_options :: [String]
</span><a href="#local-6989586621679733060"><span class="hs-identifier hs-var hs-var">test_and_benchmark_ghc_options</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733065"><span class="hs-identifier hs-var">test_ghc_options</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-939"></span><span>                                         </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733062"><span class="hs-identifier hs-var">benchmark_ghc_options</span></a></span><span>
</span><span id="line-940"></span><span>    </span><span id="local-6989586621679733058"><span class="annot"><span class="annottext">non_test_and_benchmark_ghc_options :: [String]
</span><a href="#local-6989586621679733058"><span class="hs-identifier hs-var hs-var">non_test_and_benchmark_ghc_options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733096"><span class="hs-identifier hs-var">getOptions</span></a></span><span>
</span><span id="line-941"></span><span>                                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733095"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">testSuites :: [TestSuite]
</span><a href="Distribution.Types.PackageDescription.html#testSuites"><span class="hs-identifier hs-var">testSuites</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-942"></span><span>                                                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">benchmarks :: [Benchmark]
</span><a href="Distribution.Types.PackageDescription.html#benchmarks"><span class="hs-identifier hs-var">benchmarks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-943"></span><span>                                                            </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-944"></span><span>
</span><span id="line-945"></span><span>    </span><span class="annot"><a href="#local-6989586621679733094"><span class="hs-identifier hs-type">checkFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-946"></span><span>    </span><span id="local-6989586621679733094"><span class="annot"><span class="annottext">checkFlags :: [String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733094"><span class="hs-identifier hs-var hs-var">checkFlags</span></a></span></span><span> </span><span id="local-6989586621679733057"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733057"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733057"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733086"><span class="hs-identifier hs-var">all_ghc_options</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-947"></span><span>
</span><span id="line-948"></span><span>    </span><span class="annot"><a href="#local-6989586621679733092"><span class="hs-identifier hs-type">checkTestAndBenchmarkFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-949"></span><span>    </span><span id="local-6989586621679733092"><span class="annot"><span class="annottext">checkTestAndBenchmarkFlags :: [String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733092"><span class="hs-identifier hs-var hs-var">checkTestAndBenchmarkFlags</span></a></span></span><span> </span><span id="local-6989586621679733056"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733056"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733056"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733060"><span class="hs-identifier hs-var">test_and_benchmark_ghc_options</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-950"></span><span>
</span><span id="line-951"></span><span>    </span><span class="annot"><a href="#local-6989586621679733093"><span class="hs-identifier hs-type">checkNonTestAndBenchmarkFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-952"></span><span>    </span><span id="local-6989586621679733093"><span class="annot"><span class="annottext">checkNonTestAndBenchmarkFlags :: [String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733093"><span class="hs-identifier hs-var hs-var">checkNonTestAndBenchmarkFlags</span></a></span></span><span> </span><span id="local-6989586621679733055"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733055"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733055"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733058"><span class="hs-identifier hs-var">non_test_and_benchmark_ghc_options</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-953"></span><span>
</span><span id="line-954"></span><span>    </span><span id="local-6989586621679733085"><span class="annot"><span class="annottext">ghcExtension :: String -&gt; Maybe Extension
</span><a href="#local-6989586621679733085"><span class="hs-identifier hs-var hs-var">ghcExtension</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'f'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733054"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733054"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733054"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-955"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;allow-overlapping-instances&quot;</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#OverlappingInstances"><span class="hs-identifier hs-var">OverlappingInstances</span></a></span><span>
</span><span id="line-956"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-allow-overlapping-instances&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#OverlappingInstances"><span class="hs-identifier hs-var">OverlappingInstances</span></a></span><span>
</span><span id="line-957"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;th&quot;</span></span><span>                             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#TemplateHaskell"><span class="hs-identifier hs-var">TemplateHaskell</span></a></span><span>
</span><span id="line-958"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-th&quot;</span></span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#TemplateHaskell"><span class="hs-identifier hs-var">TemplateHaskell</span></a></span><span>
</span><span id="line-959"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ffi&quot;</span></span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ForeignFunctionInterface"><span class="hs-identifier hs-var">ForeignFunctionInterface</span></a></span><span>
</span><span id="line-960"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-ffi&quot;</span></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ForeignFunctionInterface"><span class="hs-identifier hs-var">ForeignFunctionInterface</span></a></span><span>
</span><span id="line-961"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fi&quot;</span></span><span>                             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ForeignFunctionInterface"><span class="hs-identifier hs-var">ForeignFunctionInterface</span></a></span><span>
</span><span id="line-962"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-fi&quot;</span></span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ForeignFunctionInterface"><span class="hs-identifier hs-var">ForeignFunctionInterface</span></a></span><span>
</span><span id="line-963"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;monomorphism-restriction&quot;</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MonomorphismRestriction"><span class="hs-identifier hs-var">MonomorphismRestriction</span></a></span><span>
</span><span id="line-964"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-monomorphism-restriction&quot;</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MonomorphismRestriction"><span class="hs-identifier hs-var">MonomorphismRestriction</span></a></span><span>
</span><span id="line-965"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mono-pat-binds&quot;</span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MonoPatBinds"><span class="hs-identifier hs-var">MonoPatBinds</span></a></span><span>
</span><span id="line-966"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-mono-pat-binds&quot;</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MonoPatBinds"><span class="hs-identifier hs-var">MonoPatBinds</span></a></span><span>
</span><span id="line-967"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;allow-undecidable-instances&quot;</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#UndecidableInstances"><span class="hs-identifier hs-var">UndecidableInstances</span></a></span><span>
</span><span id="line-968"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-allow-undecidable-instances&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#UndecidableInstances"><span class="hs-identifier hs-var">UndecidableInstances</span></a></span><span>
</span><span id="line-969"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;allow-incoherent-instances&quot;</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#IncoherentInstances"><span class="hs-identifier hs-var">IncoherentInstances</span></a></span><span>
</span><span id="line-970"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-allow-incoherent-instances&quot;</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#IncoherentInstances"><span class="hs-identifier hs-var">IncoherentInstances</span></a></span><span>
</span><span id="line-971"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;arrows&quot;</span></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Arrows"><span class="hs-identifier hs-var">Arrows</span></a></span><span>
</span><span id="line-972"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-arrows&quot;</span></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Arrows"><span class="hs-identifier hs-var">Arrows</span></a></span><span>
</span><span id="line-973"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;generics&quot;</span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Generics"><span class="hs-identifier hs-var">Generics</span></a></span><span>
</span><span id="line-974"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-generics&quot;</span></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Generics"><span class="hs-identifier hs-var">Generics</span></a></span><span>
</span><span id="line-975"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;implicit-prelude&quot;</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ImplicitPrelude"><span class="hs-identifier hs-var">ImplicitPrelude</span></a></span><span>
</span><span id="line-976"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-implicit-prelude&quot;</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ImplicitPrelude"><span class="hs-identifier hs-var">ImplicitPrelude</span></a></span><span>
</span><span id="line-977"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;implicit-params&quot;</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ImplicitParams"><span class="hs-identifier hs-var">ImplicitParams</span></a></span><span>
</span><span id="line-978"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-implicit-params&quot;</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ImplicitParams"><span class="hs-identifier hs-var">ImplicitParams</span></a></span><span>
</span><span id="line-979"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bang-patterns&quot;</span></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#BangPatterns"><span class="hs-identifier hs-var">BangPatterns</span></a></span><span>
</span><span id="line-980"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-bang-patterns&quot;</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#BangPatterns"><span class="hs-identifier hs-var">BangPatterns</span></a></span><span>
</span><span id="line-981"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;scoped-type-variables&quot;</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ScopedTypeVariables"><span class="hs-identifier hs-var">ScopedTypeVariables</span></a></span><span>
</span><span id="line-982"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-scoped-type-variables&quot;</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ScopedTypeVariables"><span class="hs-identifier hs-var">ScopedTypeVariables</span></a></span><span>
</span><span id="line-983"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extended-default-rules&quot;</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span>  </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ExtendedDefaultRules"><span class="hs-identifier hs-var">ExtendedDefaultRules</span></a></span><span>
</span><span id="line-984"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;no-extended-default-rules&quot;</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var">disable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ExtendedDefaultRules"><span class="hs-identifier hs-var">ExtendedDefaultRules</span></a></span><span>
</span><span id="line-985"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>                                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-986"></span><span>    </span><span class="annot"><a href="#local-6989586621679733085"><span class="hs-identifier hs-var">ghcExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-cpp&quot;</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var">enable</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#CPP"><span class="hs-identifier hs-var">CPP</span></a></span><span>
</span><span id="line-987"></span><span>    </span><span class="annot"><a href="#local-6989586621679733085"><span class="hs-identifier hs-var">ghcExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-988"></span><span>
</span><span id="line-989"></span><span>    </span><span id="local-6989586621679733053"><span class="annot"><span class="annottext">enable :: KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733053"><span class="hs-identifier hs-var hs-var">enable</span></a></span></span><span>  </span><span id="local-6989586621679733036"><span class="annot"><span class="annottext">KnownExtension
</span><a href="#local-6989586621679733036"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#EnableExtension"><span class="hs-identifier hs-var">EnableExtension</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="#local-6989586621679733036"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>    </span><span id="local-6989586621679733051"><span class="annot"><span class="annottext">disable :: KnownExtension -&gt; Maybe Extension
</span><a href="#local-6989586621679733051"><span class="hs-identifier hs-var hs-var">disable</span></a></span></span><span> </span><span id="local-6989586621679733034"><span class="annot"><span class="annottext">KnownExtension
</span><a href="#local-6989586621679733034"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#DisableExtension"><span class="hs-identifier hs-var">DisableExtension</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="#local-6989586621679733034"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-991"></span><span>
</span><span id="line-992"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCCOptions"><span class="hs-identifier hs-type">checkCCOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-993"></span><span id="checkCCOptions"><span class="annot"><span class="annottext">checkCCOptions :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCCOptions"><span class="hs-identifier hs-var hs-var">checkCCOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (BuildInfo -&gt; [String])
-&gt; PackageDescription
-&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCLikeOptions"><span class="hs-identifier hs-var">checkCLikeOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;C&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cc-options&quot;</span></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#ccOptions"><span class="hs-identifier hs-var">ccOptions</span></a></span><span>
</span><span id="line-994"></span><span>
</span><span id="line-995"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCxxOptions"><span class="hs-identifier hs-type">checkCxxOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-996"></span><span id="checkCxxOptions"><span class="annot"><span class="annottext">checkCxxOptions :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCxxOptions"><span class="hs-identifier hs-var hs-var">checkCxxOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (BuildInfo -&gt; [String])
-&gt; PackageDescription
-&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCLikeOptions"><span class="hs-identifier hs-var">checkCLikeOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;C++&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cxx-options&quot;</span></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#cxxOptions"><span class="hs-identifier hs-var">cxxOptions</span></a></span><span>
</span><span id="line-997"></span><span>
</span><span id="line-998"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCLikeOptions"><span class="hs-identifier hs-type">checkCLikeOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-999"></span><span id="checkCLikeOptions"><span class="annot"><span class="annottext">checkCLikeOptions :: String
-&gt; String
-&gt; (BuildInfo -&gt; [String])
-&gt; PackageDescription
-&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCLikeOptions"><span class="hs-identifier hs-var hs-var">checkCLikeOptions</span></a></span></span><span> </span><span id="local-6989586621679733029"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733029"><span class="hs-keyword hs-var">label</span></a></span></span><span> </span><span id="local-6989586621679733028"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733028"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679733027"><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733027"><span class="hs-identifier hs-var">accessor</span></a></span></span><span> </span><span id="local-6989586621679733026"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733026"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1000"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-1001"></span><span>
</span><span id="line-1002"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733028"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;include-dirs&quot;</span></span><span>
</span><span id="line-1003"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733025"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733024"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733025"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733025"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'I'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733024"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733024"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733023"><span class="hs-identifier hs-var">all_cLikeOptions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1004"></span><span>
</span><span id="line-1005"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733028"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-libraries&quot;</span></span><span>
</span><span id="line-1006"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733022"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733021"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733022"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733022"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'l'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733021"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733021"><span class="hs-identifier hs-var">lib</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733023"><span class="hs-identifier hs-var">all_cLikeOptions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1007"></span><span>
</span><span id="line-1008"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733028"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-lib-dirs&quot;</span></span><span>
</span><span id="line-1009"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733020"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733019"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733020"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733020"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'L'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733019"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733019"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733023"><span class="hs-identifier hs-var">all_cLikeOptions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1010"></span><span>
</span><span id="line-1011"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ld-options&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-libraries&quot;</span></span><span>
</span><span id="line-1012"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733018"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733017"><span class="hs-identifier hs-var">lib</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733018"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733018"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'l'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733017"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733017"><span class="hs-identifier hs-var">lib</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733016"><span class="hs-identifier hs-var">all_ldOptions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1013"></span><span>
</span><span id="line-1014"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ld-options&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-lib-dirs&quot;</span></span><span>
</span><span id="line-1015"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733015"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733014"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733015"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733015"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'L'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733014"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733014"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733016"><span class="hs-identifier hs-var">all_ldOptions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1016"></span><span>
</span><span id="line-1017"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733013"><span class="hs-identifier hs-var">checkCCFlags</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-Os&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O0&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O1&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O2&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-O3&quot;</span></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1018"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1019"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733028"><span class="hs-identifier hs-var">prefix</span></a></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -O[n]' is generally not needed. When building with &quot;</span></span><span>
</span><span id="line-1020"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; optimisations Cabal automatically adds '-O2' for &quot;</span></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733029"><span class="hs-keyword hs-var">label</span></a></span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; code. &quot;</span></span><span>
</span><span id="line-1021"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Setting it yourself interferes with the --disable-optimization flag.&quot;</span></span><span>
</span><span id="line-1022"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1023"></span><span>
</span><span id="line-1024"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679733023"><span class="annot"><span class="annottext">all_cLikeOptions :: [String]
</span><a href="#local-6989586621679733023"><span class="hs-identifier hs-var hs-var">all_cLikeOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733012"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733011"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733011"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733026"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1025"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733012"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733012"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="#local-6989586621679733027"><span class="hs-identifier hs-var">accessor</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733011"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1026"></span><span>        </span><span id="local-6989586621679733016"><span class="annot"><span class="annottext">all_ldOptions :: [String]
</span><a href="#local-6989586621679733016"><span class="hs-identifier hs-var hs-var">all_ldOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733010"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733009"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733009"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733026"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1027"></span><span>                               </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733010"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733010"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#ldOptions"><span class="hs-identifier hs-var">ldOptions</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733009"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1028"></span><span>
</span><span id="line-1029"></span><span>        </span><span class="annot"><a href="#local-6989586621679733013"><span class="hs-identifier hs-type">checkCCFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-1030"></span><span>        </span><span id="local-6989586621679733013"><span class="annot"><span class="annottext">checkCCFlags :: [String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679733013"><span class="hs-identifier hs-var hs-var">checkCCFlags</span></a></span></span><span> </span><span id="local-6989586621679733007"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733007"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733007"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733023"><span class="hs-identifier hs-var">all_cLikeOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1031"></span><span>
</span><span id="line-1032"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCPPOptions"><span class="hs-identifier hs-type">checkCPPOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1033"></span><span id="checkCPPOptions"><span class="annot"><span class="annottext">checkCPPOptions :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCPPOptions"><span class="hs-identifier hs-var hs-var">checkCPPOptions</span></a></span></span><span> </span><span id="local-6989586621679733006"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733006"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-1034"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var">checkAlternatives</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cpp-options&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;include-dirs&quot;</span></span><span>
</span><span id="line-1035"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733005"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733004"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733005"><span class="annot"><span class="annottext">flag :: String
</span><a href="#local-6989586621679733005"><span class="hs-identifier hs-var">flag</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'I'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679733004"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733004"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733003"><span class="hs-identifier hs-var">all_cppOptions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1036"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-1037"></span><span>    </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1038"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'cpp-options': &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733002"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not portable C-preprocessor flag&quot;</span></span><span>
</span><span id="line-1039"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733002"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733002"><span class="hs-identifier hs-var">opt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679733003"><span class="hs-identifier hs-var">all_cppOptions</span></a></span><span>
</span><span id="line-1040"></span><span>    </span><span class="hs-comment">-- &quot;-I&quot; is handled above, we allow only -DNEWSTUFF and -UOLDSTUFF</span><span>
</span><span id="line-1041"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#isPrefixOf"><span class="hs-operator hs-var">`isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733002"><span class="hs-identifier hs-var">opt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-D&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-U&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-I&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1042"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-1043"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1044"></span><span>    </span><span id="local-6989586621679733003"><span class="annot"><span class="annottext">all_cppOptions :: [String]
</span><a href="#local-6989586621679733003"><span class="hs-identifier hs-var hs-var">all_cppOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733001"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679733000"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733000"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679733006"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679733001"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679733001"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#cppOptions"><span class="hs-identifier hs-var">cppOptions</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679733000"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1045"></span><span>
</span><span id="line-1046"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-type">checkAlternatives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1047"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-1048"></span><span id="checkAlternatives"><span class="annot"><span class="annottext">checkAlternatives :: String -&gt; String -&gt; [(String, String)] -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkAlternatives"><span class="hs-identifier hs-var hs-var">checkAlternatives</span></a></span></span><span> </span><span id="local-6989586621679732998"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732998"><span class="hs-identifier hs-var">badField</span></a></span></span><span> </span><span id="local-6989586621679732997"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732997"><span class="hs-identifier hs-var">goodField</span></a></span></span><span> </span><span id="local-6989586621679732996"><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679732996"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1049"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732995"><span class="hs-identifier hs-var">badFlags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1050"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1051"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Instead of &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732998"><span class="hs-identifier hs-var">badField</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732995"><span class="hs-identifier hs-var">badFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1052"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; use &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732997"><span class="hs-identifier hs-var">goodField</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732994"><span class="hs-identifier hs-var">goodFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1053"></span><span>
</span><span id="line-1054"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732995"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732995"><span class="hs-identifier hs-var">badFlags</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732994"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732994"><span class="hs-identifier hs-var">goodFlags</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../../base-4.16.3.0/src/GHC-List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679732996"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1055"></span><span>
</span><span id="line-1056"></span><span class="hs-keyword">data</span><span> </span><span id="PathKind"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PathKind"><span class="hs-identifier hs-var">PathKind</span></a></span></span><span>
</span><span id="line-1057"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="PathKindFile"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span></span><span>
</span><span id="line-1058"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="PathKindDirectory"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PathKindDirectory"><span class="hs-identifier hs-var">PathKindDirectory</span></a></span></span><span>
</span><span id="line-1059"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="PathKindGlob"><span class="annot"><a href="Distribution.PackageDescription.Check.html#PathKindGlob"><span class="hs-identifier hs-var">PathKindGlob</span></a></span></span><span>
</span><span id="line-1060"></span><span>
</span><span id="line-1061"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPaths"><span class="hs-identifier hs-type">checkPaths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1062"></span><span id="checkPaths"><span class="annot"><span class="annottext">checkPaths :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPaths"><span class="hs-identifier hs-var hs-var">checkPaths</span></a></span></span><span> </span><span id="local-6989586621679732989"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1063"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1064"></span><span>         </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732988"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732987"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1065"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is a relative path outside of the source tree. &quot;</span></span><span>
</span><span id="line-1066"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;This will not work when generating a tarball with 'sdist'.&quot;</span></span><span>
</span><span id="line-1067"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732987"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732987"><span class="hs-identifier hs-var">path</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732988"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732988"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String, PathKind)]
</span><a href="#local-6989586621679732986"><span class="hs-identifier hs-var">relPaths</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, String, PathKind)]
</span><a href="#local-6989586621679732985"><span class="hs-identifier hs-var">absPaths</span></a></span><span>
</span><span id="line-1068"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621679732984"><span class="hs-identifier hs-var">isOutsideTree</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732987"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1069"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1070"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1071"></span><span>      </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732983"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732982"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is an absolute path.&quot;</span></span><span>
</span><span id="line-1072"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732982"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732982"><span class="hs-identifier hs-var">path</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732983"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732983"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String, PathKind)]
</span><a href="#local-6989586621679732986"><span class="hs-identifier hs-var">relPaths</span></a></span><span>
</span><span id="line-1073"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform"><span class="hs-identifier hs-var">isAbsoluteOnAnyPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732982"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1074"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1075"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1076"></span><span>      </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732981"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732980"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not good relative path: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732979"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-1077"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732980"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732980"><span class="hs-identifier hs-var">path</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732981"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732981"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732978"><span class="annot"><span class="annottext">PathKind
</span><a href="#local-6989586621679732978"><span class="hs-identifier hs-var">kind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String, PathKind)]
</span><a href="#local-6989586621679732986"><span class="hs-identifier hs-var">relPaths</span></a></span><span>
</span><span id="line-1078"></span><span>  </span><span class="hs-comment">-- these are not paths, but globs...</span><span>
</span><span id="line-1079"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732979"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732979"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><a href="#local-6989586621679732978"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1080"></span><span>      </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeFilePath"><span class="hs-identifier hs-var">isGoodRelativeFilePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732980"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-1081"></span><span>      </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindGlob"><span class="hs-identifier hs-var">PathKindGlob</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeGlob"><span class="hs-identifier hs-var">isGoodRelativeGlob</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732980"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-1082"></span><span>      </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindDirectory"><span class="hs-identifier hs-var">PathKindDirectory</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeDirectoryPath"><span class="hs-identifier hs-var">isGoodRelativeDirectoryPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732980"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-1083"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1084"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1085"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1086"></span><span>         </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732974"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732973"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; points inside the 'dist' &quot;</span></span><span>
</span><span id="line-1087"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;directory. This is not reliable because the location of this &quot;</span></span><span>
</span><span id="line-1088"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;directory is configurable by the user (or package manager). In &quot;</span></span><span>
</span><span id="line-1089"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;addition the layout of the 'dist' directory is subject to change &quot;</span></span><span>
</span><span id="line-1090"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in future versions of Cabal.&quot;</span></span><span>
</span><span id="line-1091"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732973"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732973"><span class="hs-identifier hs-var">path</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732974"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732974"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String, PathKind)]
</span><a href="#local-6989586621679732986"><span class="hs-identifier hs-var">relPaths</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, String, PathKind)]
</span><a href="#local-6989586621679732985"><span class="hs-identifier hs-var">absPaths</span></a></span><span>
</span><span id="line-1092"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621679732972"><span class="hs-identifier hs-var">isInsideDist</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732973"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1093"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1094"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1095"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'ghc-options' contains the path '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732971"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' which points &quot;</span></span><span>
</span><span id="line-1096"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;inside the 'dist' directory. This is not reliable because the &quot;</span></span><span>
</span><span id="line-1097"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;location of this directory is configurable by the user (or package &quot;</span></span><span>
</span><span id="line-1098"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;manager). In addition the layout of the 'dist' directory is subject &quot;</span></span><span>
</span><span id="line-1099"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;to change in future versions of Cabal.&quot;</span></span><span>
</span><span id="line-1100"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732970"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732970"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1101"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732969"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732969"><span class="hs-identifier hs-var">flags</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall v. PerCompilerFlavor v -&gt; [(CompilerFlavor, v)]
</span><a href="Distribution.Compiler.html#perCompilerFlavorToList"><span class="hs-identifier hs-var">perCompilerFlavorToList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; PerCompilerFlavor [String]
</span><a href="Distribution.Types.BuildInfo.html#options"><span class="hs-identifier hs-var">options</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732970"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-1102"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732971"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732971"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732969"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1103"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621679732972"><span class="hs-identifier hs-var">isInsideDist</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732971"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1104"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1105"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1106"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the 'data-files' field: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; GlobSyntaxError -&gt; String
</span><a href="Distribution.Simple.Glob.html#explainGlobSyntaxError"><span class="hs-identifier hs-var">explainGlobSyntaxError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732965"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">GlobSyntaxError
</span><a href="#local-6989586621679732964"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-1107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732965"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732965"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#dataFiles"><span class="hs-identifier hs-var">dataFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679732964"><span class="annot"><span class="annottext">GlobSyntaxError
</span><a href="#local-6989586621679732964"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; String -&gt; Either GlobSyntaxError Glob
</span><a href="Distribution.Simple.Glob.html#parseFileGlob"><span class="hs-identifier hs-var">parseFileGlob</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732965"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1109"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1110"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1111"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1112"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the 'extra-source-files' field: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; GlobSyntaxError -&gt; String
</span><a href="Distribution.Simple.Glob.html#explainGlobSyntaxError"><span class="hs-identifier hs-var">explainGlobSyntaxError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732961"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">GlobSyntaxError
</span><a href="#local-6989586621679732960"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-1113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732961"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732961"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraSrcFiles"><span class="hs-identifier hs-var">extraSrcFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679732960"><span class="annot"><span class="annottext">GlobSyntaxError
</span><a href="#local-6989586621679732960"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; String -&gt; Either GlobSyntaxError Glob
</span><a href="Distribution.Simple.Glob.html#parseFileGlob"><span class="hs-identifier hs-var">parseFileGlob</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732961"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1115"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1116"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1117"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1118"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In the 'extra-doc-files' field: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; GlobSyntaxError -&gt; String
</span><a href="Distribution.Simple.Glob.html#explainGlobSyntaxError"><span class="hs-identifier hs-var">explainGlobSyntaxError</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732958"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">GlobSyntaxError
</span><a href="#local-6989586621679732957"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-1119"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732958"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732958"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraDocFiles"><span class="hs-identifier hs-var">extraDocFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1120"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679732957"><span class="annot"><span class="annottext">GlobSyntaxError
</span><a href="#local-6989586621679732957"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; String -&gt; Either GlobSyntaxError Glob
</span><a href="Distribution.Simple.Glob.html#parseFileGlob"><span class="hs-identifier hs-var">parseFileGlob</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732958"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1121"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1122"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1123"></span><span>    </span><span id="local-6989586621679732984"><span class="annot"><span class="annottext">isOutsideTree :: String -&gt; Bool
</span><a href="#local-6989586621679732984"><span class="hs-identifier hs-var hs-var">isOutsideTree</span></a></span></span><span> </span><span id="local-6989586621679732955"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732955"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitDirectories"><span class="hs-identifier hs-var">splitDirectories</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732955"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1124"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1125"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1126"></span><span>      </span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1127"></span><span>    </span><span id="local-6989586621679732972"><span class="annot"><span class="annottext">isInsideDist :: String -&gt; Bool
</span><a href="#local-6989586621679732972"><span class="hs-identifier hs-var hs-var">isInsideDist</span></a></span></span><span> </span><span id="local-6989586621679732954"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732954"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.Utils.Generic.html#lowercase"><span class="hs-identifier hs-var">lowercase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitDirectories"><span class="hs-identifier hs-var">splitDirectories</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732954"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1128"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dist&quot;</span></span><span>    </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1129"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dist&quot;</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1130"></span><span>      </span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1131"></span><span>
</span><span id="line-1132"></span><span>    </span><span class="hs-comment">-- paths that must be relative</span><span>
</span><span id="line-1133"></span><span>    </span><span class="annot"><a href="#local-6989586621679732986"><span class="hs-identifier hs-type">relPaths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PathKind"><span class="hs-identifier hs-type">PathKind</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1134"></span><span>    </span><span id="local-6989586621679732986"><span class="annot"><span class="annottext">relPaths :: [(String, String, PathKind)]
</span><a href="#local-6989586621679732986"><span class="hs-identifier hs-var hs-var">relPaths</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1135"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732952"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-source-files&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindGlob"><span class="hs-identifier hs-var">PathKindGlob</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732952"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732952"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraSrcFiles"><span class="hs-identifier hs-var">extraSrcFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1136"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732951"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-tmp-files&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732951"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732951"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraTmpFiles"><span class="hs-identifier hs-var">extraTmpFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1137"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732949"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-doc-files&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindGlob"><span class="hs-identifier hs-var">PathKindGlob</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732949"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732949"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraDocFiles"><span class="hs-identifier hs-var">extraDocFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1138"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732948"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data-files&quot;</span></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindGlob"><span class="hs-identifier hs-var">PathKindGlob</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732948"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732948"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#dataFiles"><span class="hs-identifier hs-var">dataFiles</span></a></span><span>     </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1139"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732947"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data-dir&quot;</span></span><span class="hs-special">,</span><span>           </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindDirectory"><span class="hs-identifier hs-var">PathKindDirectory</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732947"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732947"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PackageDescription -&gt; String
</span><a href="Distribution.Types.PackageDescription.html#dataDir"><span class="hs-identifier hs-var">dataDir</span></a></span><span>      </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1140"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732945"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;license-file&quot;</span></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732945"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732945"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall from to. SymbolicPath from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [SymbolicPath PackageDir LicenseFile]
</span><a href="Distribution.Types.PackageDescription.html#licenseFiles"><span class="hs-identifier hs-var">licenseFiles</span></a></span><span>  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1141"></span><span>      </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-1142"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732943"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;asm-sources&quot;</span></span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732943"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732943"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#asmSources"><span class="hs-identifier hs-var">asmSources</span></a></span><span>      </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1143"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732940"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cmm-sources&quot;</span></span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732940"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732940"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#cmmSources"><span class="hs-identifier hs-var">cmmSources</span></a></span><span>      </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1144"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732938"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;c-sources&quot;</span></span><span class="hs-special">,</span><span>        </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732938"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732938"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#cSources"><span class="hs-identifier hs-var">cSources</span></a></span><span>        </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1145"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732936"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cxx-sources&quot;</span></span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732936"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732936"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#cxxSources"><span class="hs-identifier hs-var">cxxSources</span></a></span><span>      </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1146"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732934"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;js-sources&quot;</span></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732934"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732934"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#jsSources"><span class="hs-identifier hs-var">jsSources</span></a></span><span>       </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1147"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732932"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;install-includes&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732932"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732932"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#installIncludes"><span class="hs-identifier hs-var">installIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1148"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732930"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs-source-dirs&quot;</span></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindDirectory"><span class="hs-identifier hs-var">PathKindDirectory</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732930"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732930"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall from to. SymbolicPath from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [SymbolicPath PackageDir SourceDir]
</span><a href="Distribution.Types.BuildInfo.html#hsSourceDirs"><span class="hs-identifier hs-var">hsSourceDirs</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1149"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732941"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732941"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1150"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1151"></span><span>
</span><span id="line-1152"></span><span>    </span><span class="hs-comment">-- paths that are allowed to be absolute</span><span>
</span><span id="line-1153"></span><span>    </span><span class="annot"><a href="#local-6989586621679732985"><span class="hs-identifier hs-type">absPaths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PathKind"><span class="hs-identifier hs-type">PathKind</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1154"></span><span>    </span><span id="local-6989586621679732985"><span class="annot"><span class="annottext">absPaths :: [(String, String, PathKind)]
</span><a href="#local-6989586621679732985"><span class="hs-identifier hs-var hs-var">absPaths</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-1155"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732928"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;includes&quot;</span></span><span class="hs-special">,</span><span>       </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindFile"><span class="hs-identifier hs-var">PathKindFile</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732928"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732928"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#includes"><span class="hs-identifier hs-var">includes</span></a></span><span>     </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732926"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1156"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732925"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;include-dirs&quot;</span></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindDirectory"><span class="hs-identifier hs-var">PathKindDirectory</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732925"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732925"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#includeDirs"><span class="hs-identifier hs-var">includeDirs</span></a></span><span>  </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732926"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1157"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732923"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-lib-dirs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathKind
</span><a href="Distribution.PackageDescription.Check.html#PathKindDirectory"><span class="hs-identifier hs-var">PathKindDirectory</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732923"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732923"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraLibDirs"><span class="hs-identifier hs-var">extraLibDirs</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732926"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1158"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732926"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732926"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732989"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1159"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1160"></span><span>
</span><span id="line-1161"></span><span class="hs-comment">--TODO: check sets of paths that would be interpreted differently between Unix</span><span>
</span><span id="line-1162"></span><span class="hs-comment">-- and windows, ie case-sensitive or insensitive. Things that might clash, or</span><span>
</span><span id="line-1163"></span><span class="hs-comment">-- conversely be distinguished.</span><span>
</span><span id="line-1164"></span><span>
</span><span id="line-1165"></span><span class="hs-comment">--TODO: use the tar path checks on all the above paths</span><span>
</span><span id="line-1166"></span><span>
</span><span id="line-1167"></span><span class="hs-comment">-- | Check that the package declares the version in the @\&quot;cabal-version\&quot;@</span><span>
</span><span id="line-1168"></span><span class="hs-comment">-- field correctly.</span><span>
</span><span id="line-1169"></span><span class="hs-comment">--</span><span>
</span><span id="line-1170"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCabalVersion"><span class="hs-identifier hs-type">checkCabalVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1171"></span><span id="checkCabalVersion"><span class="annot"><span class="annottext">checkCabalVersion :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkCabalVersion"><span class="hs-identifier hs-var hs-var">checkCabalVersion</span></a></span></span><span> </span><span id="local-6989586621679732921"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1172"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-1173"></span><span>
</span><span id="line-1174"></span><span>    </span><span class="hs-comment">-- check use of test suite sections</span><span>
</span><span id="line-1175"></span><span>    </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_8"><span class="hs-identifier hs-var">CabalSpecV1_8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [TestSuite]
</span><a href="Distribution.Types.PackageDescription.html#testSuites"><span class="hs-identifier hs-var">testSuites</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1176"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1177"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'test-suite' section is new in Cabal 1.10. &quot;</span></span><span>
</span><span id="line-1178"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately it messes up the parser in older Cabal versions &quot;</span></span><span>
</span><span id="line-1179"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;so you must specify at least 'cabal-version: &gt;= 1.8', but note &quot;</span></span><span>
</span><span id="line-1180"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;that only Cabal 1.10 and later can actually run such test suites.&quot;</span></span><span>
</span><span id="line-1181"></span><span>
</span><span id="line-1182"></span><span>    </span><span class="hs-comment">-- check use of default-language field</span><span>
</span><span id="line-1183"></span><span>    </span><span class="hs-comment">-- note that we do not need to do an equivalent check for the</span><span>
</span><span id="line-1184"></span><span>    </span><span class="hs-comment">-- other-language field since that one does not change behaviour</span><span>
</span><span id="line-1185"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_10"><span class="hs-identifier hs-var">CabalSpecV1_10</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; Maybe Language
</span><a href="Distribution.Types.BuildInfo.html#defaultLanguage"><span class="hs-identifier hs-var">defaultLanguage</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1186"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1187"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'default-language' field the package needs to specify &quot;</span></span><span>
</span><span id="line-1188"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at least 'cabal-version: &gt;= 1.10'.&quot;</span></span><span>
</span><span id="line-1189"></span><span>
</span><span id="line-1190"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_10"><span class="hs-identifier hs-var">CabalSpecV1_10</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV3_4"><span class="hs-identifier hs-var">CabalSpecV3_4</span></a></span><span>
</span><span id="line-1191"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; Maybe Language
</span><a href="Distribution.Types.BuildInfo.html#defaultLanguage"><span class="hs-identifier hs-var">defaultLanguage</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1192"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1193"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Packages using 'cabal-version: &gt;= 1.10' and before 'cabal-version: 3.4' must specify the &quot;</span></span><span>
</span><span id="line-1194"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'default-language' field for each component (e.g. Haskell98 or &quot;</span></span><span>
</span><span id="line-1195"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Haskell2010). If a component uses different languages in &quot;</span></span><span>
</span><span id="line-1196"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;different modules then list the other ones in the &quot;</span></span><span>
</span><span id="line-1197"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'other-languages' field.&quot;</span></span><span>
</span><span id="line-1198"></span><span>
</span><span id="line-1199"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_18"><span class="hs-identifier hs-var">CabalSpecV1_18</span></a></span><span>
</span><span id="line-1200"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraDocFiles"><span class="hs-identifier hs-var">extraDocFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1201"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1202"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'extra-doc-files' field the package needs to specify &quot;</span></span><span>
</span><span id="line-1203"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at least 'cabal-version: &gt;= 1.18'.&quot;</span></span><span>
</span><span id="line-1204"></span><span>
</span><span id="line-1205"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_0"><span class="hs-identifier hs-var">CabalSpecV2_0</span></a></span><span>
</span><span id="line-1206"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#subLibraries"><span class="hs-identifier hs-var">subLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1207"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1208"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use multiple 'library' sections or a named library section &quot;</span></span><span>
</span><span id="line-1209"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;the package needs to specify at least 'cabal-version: 2.0'.&quot;</span></span><span>
</span><span id="line-1210"></span><span>
</span><span id="line-1211"></span><span>    </span><span class="hs-comment">-- check use of reexported-modules sections</span><span>
</span><span id="line-1212"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_22"><span class="hs-identifier hs-var">CabalSpecV1_22</span></a></span><span>
</span><span id="line-1213"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span class="annot"><span class="annottext">Library -&gt; [ModuleReexport]
</span><a href="Distribution.Types.Library.html#reexportedModules"><span class="hs-identifier hs-var">reexportedModules</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#allLibraries"><span class="hs-identifier hs-var">allLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1214"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1215"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'reexported-module' field the package needs to specify &quot;</span></span><span>
</span><span id="line-1216"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at least 'cabal-version: &gt;= 1.22'.&quot;</span></span><span>
</span><span id="line-1217"></span><span>
</span><span id="line-1218"></span><span>    </span><span class="hs-comment">-- check use of thinning and renaming</span><span>
</span><span id="line-1219"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_0"><span class="hs-identifier hs-var">CabalSpecV2_0</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732913"><span class="hs-identifier hs-var">usesBackpackIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1220"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1221"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'mixins' field the package needs to specify &quot;</span></span><span>
</span><span id="line-1222"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at least 'cabal-version: 2.0'.&quot;</span></span><span>
</span><span id="line-1223"></span><span>
</span><span id="line-1224"></span><span>    </span><span class="hs-comment">-- check use of 'extra-framework-dirs' field</span><span>
</span><span id="line-1225"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_24"><span class="hs-identifier hs-var">CabalSpecV1_24</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraFrameworkDirs"><span class="hs-identifier hs-var">extraFrameworkDirs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1226"></span><span>      </span><span class="hs-comment">-- Just a warning, because this won't break on old Cabal versions.</span><span>
</span><span id="line-1227"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1228"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'extra-framework-dirs' field the package needs to specify&quot;</span></span><span>
</span><span id="line-1229"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; at least 'cabal-version: &gt;= 1.24'.&quot;</span></span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span>    </span><span class="hs-comment">-- check use of default-extensions field</span><span>
</span><span id="line-1232"></span><span>    </span><span class="hs-comment">-- don't need to do the equivalent check for other-extensions</span><span>
</span><span id="line-1233"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_10"><span class="hs-identifier hs-var">CabalSpecV1_10</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Extension]
</span><a href="Distribution.Types.BuildInfo.html#defaultExtensions"><span class="hs-identifier hs-var">defaultExtensions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1234"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1235"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use the 'default-extensions' field the package needs to specify &quot;</span></span><span>
</span><span id="line-1236"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;at least 'cabal-version: &gt;= 1.10'.&quot;</span></span><span>
</span><span id="line-1237"></span><span>
</span><span id="line-1238"></span><span>    </span><span class="hs-comment">-- check use of extensions field</span><span>
</span><span id="line-1239"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_10"><span class="hs-identifier hs-var">CabalSpecV1_10</span></a></span><span>
</span><span id="line-1240"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Extension]
</span><a href="Distribution.Types.BuildInfo.html#oldExtensions"><span class="hs-identifier hs-var">oldExtensions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1241"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1242"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;For packages using 'cabal-version: &gt;= 1.10' the 'extensions' &quot;</span></span><span>
</span><span id="line-1243"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;field is deprecated. The new 'default-extensions' field lists &quot;</span></span><span>
</span><span id="line-1244"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extensions that are used in all modules in the component, while &quot;</span></span><span>
</span><span id="line-1245"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;the 'other-extensions' field lists extensions that are used in &quot;</span></span><span>
</span><span id="line-1246"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;some modules, e.g. via the {-# LANGUAGE #-} pragma.&quot;</span></span><span>
</span><span id="line-1247"></span><span>
</span><span id="line-1248"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV3_0"><span class="hs-identifier hs-var">CabalSpecV3_0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1249"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span>
</span><span id="line-1250"></span><span>                         </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#asmSources"><span class="hs-identifier hs-var">asmSources</span></a></span><span>
</span><span id="line-1251"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#cmmSources"><span class="hs-identifier hs-var">cmmSources</span></a></span><span>
</span><span id="line-1252"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraBundledLibs"><span class="hs-identifier hs-var">extraBundledLibs</span></a></span><span>
</span><span id="line-1253"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraLibFlavours"><span class="hs-identifier hs-var">extraLibFlavours</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1254"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1255"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The use of 'asm-sources', 'cmm-sources', 'extra-bundled-libraries' &quot;</span></span><span>
</span><span id="line-1256"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; and 'extra-library-flavours' requires the package &quot;</span></span><span>
</span><span id="line-1257"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; to specify at least 'cabal-version: 3.0'.&quot;</span></span><span>
</span><span id="line-1258"></span><span>
</span><span id="line-1259"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV3_0"><span class="hs-identifier hs-var">CabalSpecV3_0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraDynLibFlavours"><span class="hs-identifier hs-var">extraDynLibFlavours</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1260"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1261"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The use of 'extra-dynamic-library-flavours' requires the package &quot;</span></span><span>
</span><span id="line-1262"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; to specify at least 'cabal-version: 3.0'. The flavours are: &quot;</span></span><span>
</span><span id="line-1263"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732904"><span class="hs-identifier hs-var">flav</span></a></span><span>
</span><span id="line-1264"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732903"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732903"><span class="hs-identifier hs-var">flavs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraDynLibFlavours"><span class="hs-identifier hs-var">extraDynLibFlavours</span></a></span><span>
</span><span id="line-1265"></span><span>                    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732904"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732904"><span class="hs-identifier hs-var">flav</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732903"><span class="hs-identifier hs-var">flavs</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1266"></span><span>
</span><span id="line-1267"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_2"><span class="hs-identifier hs-var">CabalSpecV2_2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1268"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b}. (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var">buildInfoField</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [ModuleName]
</span><a href="Distribution.Types.BuildInfo.html#virtualModules"><span class="hs-identifier hs-var">virtualModules</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1269"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1270"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The use of 'virtual-modules' requires the package &quot;</span></span><span>
</span><span id="line-1271"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; to specify at least 'cabal-version: 2.2'.&quot;</span></span><span>
</span><span id="line-1272"></span><span>
</span><span id="line-1273"></span><span>    </span><span class="hs-comment">-- check use of &quot;source-repository&quot; section</span><span>
</span><span id="line-1274"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_6"><span class="hs-identifier hs-var">CabalSpecV1_6</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [SourceRepo]
</span><a href="Distribution.Types.PackageDescription.html#sourceRepos"><span class="hs-identifier hs-var">sourceRepos</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1275"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1276"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'source-repository' section is new in Cabal 1.6. &quot;</span></span><span>
</span><span id="line-1277"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately it messes up the parser in earlier Cabal versions &quot;</span></span><span>
</span><span id="line-1278"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;so you need to specify 'cabal-version: &gt;= 1.6'.&quot;</span></span><span>
</span><span id="line-1279"></span><span>
</span><span id="line-1280"></span><span>    </span><span class="hs-comment">-- check for new language extensions</span><span>
</span><span id="line-1281"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_4"><span class="hs-identifier hs-var">CabalSpecV1_4</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732900"><span class="hs-identifier hs-var">mentionedExtensionsThatNeedCabal12</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1282"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1283"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately the language extensions &quot;</span></span><span>
</span><span id="line-1284"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732900"><span class="hs-identifier hs-var">mentionedExtensionsThatNeedCabal12</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1285"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; break the parser in earlier Cabal versions so you need to &quot;</span></span><span>
</span><span id="line-1286"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;specify 'cabal-version: &gt;= 1.4'. Alternatively if you require &quot;</span></span><span>
</span><span id="line-1287"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;compatibility with earlier Cabal versions then you may be able to &quot;</span></span><span>
</span><span id="line-1288"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;use an equivalent compiler-specific flag.&quot;</span></span><span>
</span><span id="line-1289"></span><span>
</span><span id="line-1290"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var">checkVersion</span></a></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_4"><span class="hs-identifier hs-var">CabalSpecV1_4</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732899"><span class="hs-identifier hs-var">mentionedExtensionsThatNeedCabal14</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1291"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1292"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately the language extensions &quot;</span></span><span>
</span><span id="line-1293"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Pretty a =&gt; a -&gt; String
</span><a href="Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732899"><span class="hs-identifier hs-var">mentionedExtensionsThatNeedCabal14</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1294"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; break the parser in earlier Cabal versions so you need to &quot;</span></span><span>
</span><span id="line-1295"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;specify 'cabal-version: &gt;= 1.4'. Alternatively if you require &quot;</span></span><span>
</span><span id="line-1296"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;compatibility with earlier Cabal versions then you may be able to &quot;</span></span><span>
</span><span id="line-1297"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;use an equivalent compiler-specific flag.&quot;</span></span><span>
</span><span id="line-1298"></span><span>
</span><span id="line-1299"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_24"><span class="hs-identifier hs-var">CabalSpecV1_24</span></a></span><span>
</span><span id="line-1300"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Maybe SetupBuildInfo
</span><a href="Distribution.Types.PackageDescription.html#setupBuildInfo"><span class="hs-identifier hs-var">setupBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; BuildType
</span><a href="Distribution.Types.PackageDescription.html#buildType"><span class="hs-identifier hs-var">buildType</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">BuildType
</span><a href="Distribution.Types.BuildType.html#Custom"><span class="hs-identifier hs-var">Custom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1302"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1303"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Packages using 'cabal-version: &gt;= 1.24' with 'build-type: Custom' &quot;</span></span><span>
</span><span id="line-1304"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;must use a 'custom-setup' section with a 'setup-depends' field &quot;</span></span><span>
</span><span id="line-1305"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;that specifies the dependencies of the Setup.hs script itself. &quot;</span></span><span>
</span><span id="line-1306"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'setup-depends' field uses the same syntax as 'build-depends', &quot;</span></span><span>
</span><span id="line-1307"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;so a simple example would be 'setup-depends: base, Cabal'.&quot;</span></span><span>
</span><span id="line-1308"></span><span>
</span><span id="line-1309"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV1_24"><span class="hs-identifier hs-var">CabalSpecV1_24</span></a></span><span>
</span><span id="line-1310"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isNothing"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Maybe SetupBuildInfo
</span><a href="Distribution.Types.PackageDescription.html#setupBuildInfo"><span class="hs-identifier hs-var">setupBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1311"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; BuildType
</span><a href="Distribution.Types.PackageDescription.html#buildType"><span class="hs-identifier hs-var">buildType</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">BuildType
</span><a href="Distribution.Types.BuildType.html#Custom"><span class="hs-identifier hs-var">Custom</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1312"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1313"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;From version 1.24 cabal supports specifying explicit dependencies &quot;</span></span><span>
</span><span id="line-1314"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for Custom setup scripts. Consider using cabal-version &gt;= 1.24 and &quot;</span></span><span>
</span><span id="line-1315"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;adding a 'custom-setup' section with a 'setup-depends' field &quot;</span></span><span>
</span><span id="line-1316"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;that specifies the dependencies of the Setup.hs script itself. &quot;</span></span><span>
</span><span id="line-1317"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'setup-depends' field uses the same syntax as 'build-depends', &quot;</span></span><span>
</span><span id="line-1318"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;so a simple example would be 'setup-depends: base, Cabal'.&quot;</span></span><span>
</span><span id="line-1319"></span><span>
</span><span id="line-1320"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_0"><span class="hs-identifier hs-var">CabalSpecV2_0</span></a></span><span>
</span><span id="line-1321"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ModuleName
</span><a href="Distribution.Simple.BuildPaths.html#autogenPathsModuleName"><span class="hs-identifier hs-var">autogenPathsModuleName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679732898"><span class="hs-identifier hs-var">allModuleNames</span></a></span><span>
</span><span id="line-1322"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-identifier hs-var">elem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ModuleName
</span><a href="Distribution.Simple.BuildPaths.html#autogenPathsModuleName"><span class="hs-identifier hs-var">autogenPathsModuleName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679732897"><span class="hs-identifier hs-var">allModuleNamesAutogen</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1323"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1324"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Packages using 'cabal-version: 2.0' and the autogenerated &quot;</span></span><span>
</span><span id="line-1325"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;module Paths_* must include it also on the 'autogen-modules' field &quot;</span></span><span>
</span><span id="line-1326"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;besides 'exposed-modules' and 'other-modules'. This specifies that &quot;</span></span><span>
</span><span id="line-1327"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;the module does not come with the package and is generated on &quot;</span></span><span>
</span><span id="line-1328"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;setup. Modules built with a custom Setup.hs script also go here &quot;</span></span><span>
</span><span id="line-1329"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;to ensure that commands like sdist don't fail.&quot;</span></span><span>
</span><span id="line-1330"></span><span>
</span><span id="line-1331"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1332"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1333"></span><span>    </span><span class="hs-comment">-- Perform a check on packages that use a version of the spec less than</span><span>
</span><span id="line-1334"></span><span>    </span><span class="hs-comment">-- the version given. This is for cases where a new Cabal version adds</span><span>
</span><span id="line-1335"></span><span>    </span><span class="hs-comment">-- a new feature and we want to check that it is not used prior to that</span><span>
</span><span id="line-1336"></span><span>    </span><span class="hs-comment">-- version.</span><span>
</span><span id="line-1337"></span><span>    </span><span class="annot"><a href="#local-6989586621679732920"><span class="hs-identifier hs-type">checkVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.CabalSpecVersion.html#CabalSpecVersion"><span class="hs-identifier hs-type">CabalSpecVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-1338"></span><span>    </span><span id="local-6989586621679732920"><span class="annot"><span class="annottext">checkVersion :: CabalSpecVersion -&gt; Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732920"><span class="hs-identifier hs-var hs-var">checkVersion</span></a></span></span><span> </span><span id="local-6989586621679732896"><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679732896"><span class="hs-identifier hs-var">ver</span></a></span></span><span> </span><span id="local-6989586621679732895"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732895"><span class="hs-identifier hs-var">cond</span></a></span></span><span> </span><span id="local-6989586621679732894"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732894"><span class="hs-identifier hs-var">pc</span></a></span></span><span>
</span><span id="line-1339"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="#local-6989586621679732896"><span class="hs-identifier hs-var">ver</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1340"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732895"><span class="hs-identifier hs-var">cond</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732894"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-1341"></span><span>
</span><span id="line-1342"></span><span>    </span><span id="local-6989586621679732917"><span class="annot"><span class="annottext">buildInfoField :: (BuildInfo -&gt; b) -&gt; [b]
</span><a href="#local-6989586621679732917"><span class="hs-identifier hs-var hs-var">buildInfoField</span></a></span></span><span> </span><span id="local-6989586621679732893"><span class="annot"><span class="annottext">BuildInfo -&gt; b
</span><a href="#local-6989586621679732893"><span class="hs-identifier hs-var">field</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; b
</span><a href="#local-6989586621679732893"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1343"></span><span>
</span><span id="line-1344"></span><span>    </span><span id="local-6989586621679732913"><span class="annot"><span class="annottext">usesBackpackIncludes :: Bool
</span><a href="#local-6989586621679732913"><span class="hs-identifier hs-var hs-var">usesBackpackIncludes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Mixin]
</span><a href="Distribution.Types.BuildInfo.html#mixins"><span class="hs-identifier hs-var">mixins</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1345"></span><span>
</span><span id="line-1346"></span><span>    </span><span id="local-6989586621679732889"><span class="annot"><span class="annottext">mentionedExtensions :: [Extension]
</span><a href="#local-6989586621679732889"><span class="hs-identifier hs-var hs-var">mentionedExtensions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679732888"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732887"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732887"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1347"></span><span>                                </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732888"><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679732888"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [Extension]
</span><a href="Distribution.Types.BuildInfo.html#allExtensions"><span class="hs-identifier hs-var">allExtensions</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732887"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1348"></span><span>    </span><span id="local-6989586621679732900"><span class="annot"><span class="annottext">mentionedExtensionsThatNeedCabal12 :: [Extension]
</span><a href="#local-6989586621679732900"><span class="hs-identifier hs-var hs-var">mentionedExtensionsThatNeedCabal12</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1349"></span><span>      </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#nub"><span class="hs-identifier hs-var">nub</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732883"><span class="hs-identifier hs-var">compatExtensionsExtra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732889"><span class="hs-identifier hs-var">mentionedExtensions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1350"></span><span>
</span><span id="line-1351"></span><span>    </span><span class="hs-comment">-- As of Cabal-1.4 we can add new extensions without worrying about</span><span>
</span><span id="line-1352"></span><span>    </span><span class="hs-comment">-- breaking old versions of cabal.</span><span>
</span><span id="line-1353"></span><span>    </span><span id="local-6989586621679732899"><span class="annot"><span class="annottext">mentionedExtensionsThatNeedCabal14 :: [Extension]
</span><a href="#local-6989586621679732899"><span class="hs-identifier hs-var hs-var">mentionedExtensionsThatNeedCabal14</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1354"></span><span>      </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#nub"><span class="hs-identifier hs-var">nub</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#notElem"><span class="hs-operator hs-var">`notElem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732879"><span class="hs-identifier hs-var">compatExtensions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732889"><span class="hs-identifier hs-var">mentionedExtensions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1355"></span><span>
</span><span id="line-1356"></span><span>    </span><span class="hs-comment">-- The known extensions in Cabal-1.2.3</span><span>
</span><span id="line-1357"></span><span>    </span><span id="local-6989586621679732879"><span class="annot"><span class="annottext">compatExtensions :: [Extension]
</span><a href="#local-6989586621679732879"><span class="hs-identifier hs-var hs-var">compatExtensions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1358"></span><span>      </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#EnableExtension"><span class="hs-identifier hs-var">EnableExtension</span></a></span><span>
</span><span id="line-1359"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#OverlappingInstances"><span class="hs-identifier hs-var">OverlappingInstances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#UndecidableInstances"><span class="hs-identifier hs-var">UndecidableInstances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#IncoherentInstances"><span class="hs-identifier hs-var">IncoherentInstances</span></a></span><span>
</span><span id="line-1360"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RecursiveDo"><span class="hs-identifier hs-var">RecursiveDo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ParallelListComp"><span class="hs-identifier hs-var">ParallelListComp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MultiParamTypeClasses"><span class="hs-identifier hs-var">MultiParamTypeClasses</span></a></span><span>
</span><span id="line-1361"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#FunctionalDependencies"><span class="hs-identifier hs-var">FunctionalDependencies</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Rank2Types"><span class="hs-identifier hs-var">Rank2Types</span></a></span><span>
</span><span id="line-1362"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RankNTypes"><span class="hs-identifier hs-var">RankNTypes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#PolymorphicComponents"><span class="hs-identifier hs-var">PolymorphicComponents</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ExistentialQuantification"><span class="hs-identifier hs-var">ExistentialQuantification</span></a></span><span>
</span><span id="line-1363"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ScopedTypeVariables"><span class="hs-identifier hs-var">ScopedTypeVariables</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ImplicitParams"><span class="hs-identifier hs-var">ImplicitParams</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#FlexibleContexts"><span class="hs-identifier hs-var">FlexibleContexts</span></a></span><span>
</span><span id="line-1364"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#FlexibleInstances"><span class="hs-identifier hs-var">FlexibleInstances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#EmptyDataDecls"><span class="hs-identifier hs-var">EmptyDataDecls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#CPP"><span class="hs-identifier hs-var">CPP</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#BangPatterns"><span class="hs-identifier hs-var">BangPatterns</span></a></span><span>
</span><span id="line-1365"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#TypeSynonymInstances"><span class="hs-identifier hs-var">TypeSynonymInstances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#TemplateHaskell"><span class="hs-identifier hs-var">TemplateHaskell</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ForeignFunctionInterface"><span class="hs-identifier hs-var">ForeignFunctionInterface</span></a></span><span>
</span><span id="line-1366"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Arrows"><span class="hs-identifier hs-var">Arrows</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#Generics"><span class="hs-identifier hs-var">Generics</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#NamedFieldPuns"><span class="hs-identifier hs-var">NamedFieldPuns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#PatternGuards"><span class="hs-identifier hs-var">PatternGuards</span></a></span><span>
</span><span id="line-1367"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#GeneralizedNewtypeDeriving"><span class="hs-identifier hs-var">GeneralizedNewtypeDeriving</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ExtensibleRecords"><span class="hs-identifier hs-var">ExtensibleRecords</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RestrictedTypeSynonyms"><span class="hs-identifier hs-var">RestrictedTypeSynonyms</span></a></span><span>
</span><span id="line-1368"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#HereDocuments"><span class="hs-identifier hs-var">HereDocuments</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1369"></span><span>      </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#DisableExtension"><span class="hs-identifier hs-var">DisableExtension</span></a></span><span>
</span><span id="line-1370"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MonomorphismRestriction"><span class="hs-identifier hs-var">MonomorphismRestriction</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ImplicitPrelude"><span class="hs-identifier hs-var">ImplicitPrelude</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1371"></span><span>      </span><span class="annot"><span class="annottext">[Extension]
</span><a href="#local-6989586621679732883"><span class="hs-identifier hs-var">compatExtensionsExtra</span></a></span><span>
</span><span id="line-1372"></span><span>
</span><span id="line-1373"></span><span>    </span><span class="hs-comment">-- The extra known extensions in Cabal-1.2.3 vs Cabal-1.1.6</span><span>
</span><span id="line-1374"></span><span>    </span><span class="hs-comment">-- (Cabal-1.1.6 came with ghc-6.6. Cabal-1.2 came with ghc-6.8)</span><span>
</span><span id="line-1375"></span><span>    </span><span id="local-6989586621679732883"><span class="annot"><span class="annottext">compatExtensionsExtra :: [Extension]
</span><a href="#local-6989586621679732883"><span class="hs-identifier hs-var hs-var">compatExtensionsExtra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1376"></span><span>      </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#EnableExtension"><span class="hs-identifier hs-var">EnableExtension</span></a></span><span>
</span><span id="line-1377"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#KindSignatures"><span class="hs-identifier hs-var">KindSignatures</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MagicHash"><span class="hs-identifier hs-var">MagicHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#TypeFamilies"><span class="hs-identifier hs-var">TypeFamilies</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#StandaloneDeriving"><span class="hs-identifier hs-var">StandaloneDeriving</span></a></span><span>
</span><span id="line-1378"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#UnicodeSyntax"><span class="hs-identifier hs-var">UnicodeSyntax</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#PatternSignatures"><span class="hs-identifier hs-var">PatternSignatures</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#UnliftedFFITypes"><span class="hs-identifier hs-var">UnliftedFFITypes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#LiberalTypeSynonyms"><span class="hs-identifier hs-var">LiberalTypeSynonyms</span></a></span><span>
</span><span id="line-1379"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#TypeOperators"><span class="hs-identifier hs-var">TypeOperators</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RecordWildCards"><span class="hs-identifier hs-var">RecordWildCards</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RecordPuns"><span class="hs-identifier hs-var">RecordPuns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#DisambiguateRecordFields"><span class="hs-identifier hs-var">DisambiguateRecordFields</span></a></span><span>
</span><span id="line-1380"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#OverloadedStrings"><span class="hs-identifier hs-var">OverloadedStrings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#GADTs"><span class="hs-identifier hs-var">GADTs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RelaxedPolyRec"><span class="hs-identifier hs-var">RelaxedPolyRec</span></a></span><span>
</span><span id="line-1381"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ExtendedDefaultRules"><span class="hs-identifier hs-var">ExtendedDefaultRules</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#UnboxedTuples"><span class="hs-identifier hs-var">UnboxedTuples</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#DeriveDataTypeable"><span class="hs-identifier hs-var">DeriveDataTypeable</span></a></span><span>
</span><span id="line-1382"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#ConstrainedClassMethods"><span class="hs-identifier hs-var">ConstrainedClassMethods</span></a></span><span>
</span><span id="line-1383"></span><span>      </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1384"></span><span>      </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#DisableExtension"><span class="hs-identifier hs-var">DisableExtension</span></a></span><span>
</span><span id="line-1385"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#MonoPatBinds"><span class="hs-identifier hs-var">MonoPatBinds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1386"></span><span>
</span><span id="line-1387"></span><span>    </span><span id="local-6989586621679732898"><span class="annot"><span class="annottext">allModuleNames :: [ModuleName]
</span><a href="#local-6989586621679732898"><span class="hs-identifier hs-var hs-var">allModuleNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1388"></span><span>         </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; Maybe Library
</span><a href="Distribution.Types.PackageDescription.html#library"><span class="hs-identifier hs-var">library</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1389"></span><span>           </span><span class="annot"><span class="annottext">Maybe Library
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1390"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679732840"><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679732840"><span class="hs-identifier hs-var">lib</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#explicitLibModules"><span class="hs-identifier hs-var">explicitLibModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679732840"><span class="hs-identifier hs-var">lib</span></a></span><span>
</span><span id="line-1391"></span><span>         </span><span class="hs-special">)</span><span>
</span><span id="line-1392"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [ModuleName]
</span><a href="Distribution.Types.BuildInfo.html#otherModules"><span class="hs-identifier hs-var">otherModules</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1393"></span><span>
</span><span id="line-1394"></span><span>    </span><span id="local-6989586621679732897"><span class="annot"><span class="annottext">allModuleNamesAutogen :: [ModuleName]
</span><a href="#local-6989586621679732897"><span class="hs-identifier hs-var hs-var">allModuleNamesAutogen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [ModuleName]
</span><a href="Distribution.Types.BuildInfo.html#autogenModules"><span class="hs-identifier hs-var">autogenModules</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732921"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1395"></span><span>
</span><span id="line-1396"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-1397"></span><span class="hs-comment">-- * Checks on the GenericPackageDescription</span><span>
</span><span id="line-1398"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-1399"></span><span>
</span><span id="line-1400"></span><span class="hs-comment">-- | Check the build-depends fields for any weirdness or bad practice.</span><span>
</span><span id="line-1401"></span><span class="hs-comment">--</span><span>
</span><span id="line-1402"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageVersions"><span class="hs-identifier hs-type">checkPackageVersions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1403"></span><span id="checkPackageVersions"><span class="annot"><span class="annottext">checkPackageVersions :: GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageVersions"><span class="hs-identifier hs-var hs-var">checkPackageVersions</span></a></span></span><span> </span><span id="local-6989586621679732836"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732836"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1404"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-1405"></span><span>
</span><span id="line-1406"></span><span>    </span><span class="hs-comment">-- Check that the version of base is bounded above.</span><span>
</span><span id="line-1407"></span><span>    </span><span class="hs-comment">-- For example this bans &quot;build-depends: base &gt;= 3&quot;.</span><span>
</span><span id="line-1408"></span><span>    </span><span class="hs-comment">-- It should probably be &quot;build-depends: base &gt;= 3 &amp;&amp; &lt; 4&quot;</span><span>
</span><span id="line-1409"></span><span>    </span><span class="hs-comment">-- which is the same as  &quot;build-depends: base == 3.*&quot;</span><span>
</span><span id="line-1410"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VersionRange -&gt; Bool
</span><a href="#local-6989586621679732835"><span class="hs-identifier hs-var">boundedAbove</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679732834"><span class="hs-identifier hs-var">baseDependency</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1411"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1412"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The dependency 'build-depends: base' does not specify an upper &quot;</span></span><span>
</span><span id="line-1413"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bound on the version number. Each major release of the 'base' &quot;</span></span><span>
</span><span id="line-1414"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;package changes the API in various ways and most packages will &quot;</span></span><span>
</span><span id="line-1415"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;need some changes to compile with it. The recommended practice &quot;</span></span><span>
</span><span id="line-1416"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;is to specify an upper bound on the version of the 'base' &quot;</span></span><span>
</span><span id="line-1417"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;package. This ensures your package will continue to build when a &quot;</span></span><span>
</span><span id="line-1418"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;new major version of the 'base' package is released. If you are &quot;</span></span><span>
</span><span id="line-1419"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;not sure what upper bound to use then use the next  major &quot;</span></span><span>
</span><span id="line-1420"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;version. For example if you have tested your package with 'base' &quot;</span></span><span>
</span><span id="line-1421"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;version 4.5 and 4.6 then use 'build-depends: base &gt;= 4.5 &amp;&amp; &lt; 4.7'.&quot;</span></span><span>
</span><span id="line-1422"></span><span>
</span><span id="line-1423"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1424"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1425"></span><span>    </span><span class="hs-comment">-- TODO: What we really want to do is test if there exists any</span><span>
</span><span id="line-1426"></span><span>    </span><span class="hs-comment">-- configuration in which the base version is unbounded above.</span><span>
</span><span id="line-1427"></span><span>    </span><span class="hs-comment">-- However that's a bit tricky because there are many possible</span><span>
</span><span id="line-1428"></span><span>    </span><span class="hs-comment">-- configurations. As a cheap easy and safe approximation we will</span><span>
</span><span id="line-1429"></span><span>    </span><span class="hs-comment">-- pick a single &quot;typical&quot; configuration and check if that has an</span><span>
</span><span id="line-1430"></span><span>    </span><span class="hs-comment">-- open upper bound. To get a typical configuration we finalise</span><span>
</span><span id="line-1431"></span><span>    </span><span class="hs-comment">-- using no package index and the current platform.</span><span>
</span><span id="line-1432"></span><span>    </span><span id="local-6989586621679732831"><span class="annot"><span class="annottext">finalised :: Either [Dependency] (PackageDescription, FlagAssignment)
</span><a href="#local-6989586621679732831"><span class="hs-identifier hs-var hs-var">finalised</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FlagAssignment
-&gt; ComponentRequestedSpec
-&gt; (Dependency -&gt; Bool)
-&gt; Platform
-&gt; CompilerInfo
-&gt; [PackageVersionConstraint]
-&gt; GenericPackageDescription
-&gt; Either [Dependency] (PackageDescription, FlagAssignment)
</span><a href="Distribution.PackageDescription.Configuration.html#finalizePD"><span class="hs-identifier hs-var">finalizePD</span></a></span><span>
</span><span id="line-1433"></span><span>                              </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentRequestedSpec
</span><a href="Distribution.Types.ComponentRequestedSpec.html#defaultComponentRequestedSpec"><span class="hs-identifier hs-var">defaultComponentRequestedSpec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-1434"></span><span>                              </span><span class="annot"><span class="annottext">Platform
</span><a href="Distribution.System.html#buildPlatform"><span class="hs-identifier hs-var">buildPlatform</span></a></span><span>
</span><span id="line-1435"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerId -&gt; AbiTag -&gt; CompilerInfo
</span><a href="Distribution.Compiler.html#unknownCompilerInfo"><span class="hs-identifier hs-var">unknownCompilerInfo</span></a></span><span>
</span><span id="line-1436"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; Version -&gt; CompilerId
</span><a href="Distribution.Compiler.html#CompilerId"><span class="hs-identifier hs-var">CompilerId</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#buildCompilerFlavor"><span class="hs-identifier hs-var">buildCompilerFlavor</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Distribution.Types.Version.html#nullVersion"><span class="hs-identifier hs-var">nullVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1437"></span><span>                                </span><span class="annot"><span class="annottext">AbiTag
</span><a href="Distribution.Compiler.html#NoAbiTag"><span class="hs-identifier hs-var">NoAbiTag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1438"></span><span>                              </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732836"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1439"></span><span>    </span><span id="local-6989586621679732834"><span class="annot"><span class="annottext">baseDependency :: VersionRange
</span><a href="#local-6989586621679732834"><span class="hs-identifier hs-var hs-var">baseDependency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either [Dependency] (PackageDescription, FlagAssignment)
</span><a href="#local-6989586621679732831"><span class="hs-identifier hs-var">finalised</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1440"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732820"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732820"><span class="hs-identifier hs-var">pkg'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FlagAssignment
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[VersionRange]
</span><a href="#local-6989586621679732819"><span class="hs-identifier hs-var">baseDeps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1441"></span><span>          </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange -&gt; VersionRange -&gt; VersionRange
</span><a href="Distribution.Types.VersionRange.Internal.html#intersectVersionRanges"><span class="hs-identifier hs-var">intersectVersionRanges</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="Distribution.Types.VersionRange.Internal.html#anyVersion"><span class="hs-identifier hs-var">anyVersion</span></a></span><span> </span><span class="annot"><span class="annottext">[VersionRange]
</span><a href="#local-6989586621679732819"><span class="hs-identifier hs-var">baseDeps</span></a></span><span>
</span><span id="line-1442"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-1443"></span><span>          </span><span id="local-6989586621679732819"><span class="annot"><span class="annottext">baseDeps :: [VersionRange]
</span><a href="#local-6989586621679732819"><span class="hs-identifier hs-var hs-var">baseDeps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1444"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679732814"><span class="hs-identifier hs-var">vr</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.Types.Dependency.html#Dependency"><span class="hs-identifier hs-type">Dependency</span></a></span><span> </span><span id="local-6989586621679732813"><span class="annot"><span class="annottext">PackageName
</span><a href="#local-6989586621679732813"><span class="hs-identifier hs-var">pname</span></a></span></span><span> </span><span id="local-6989586621679732814"><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679732814"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonEmptySet LibraryName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [Dependency]
</span><a href="Distribution.Types.PackageDescription.html#allBuildDepends"><span class="hs-identifier hs-var">allBuildDepends</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732820"><span class="hs-identifier hs-var">pkg'</span></a></span><span>
</span><span id="line-1445"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageName
</span><a href="#local-6989586621679732813"><span class="hs-identifier hs-var">pname</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageName
</span><a href="Distribution.Types.PackageName.html#mkPackageName"><span class="hs-identifier hs-var">mkPackageName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;base&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1446"></span><span>
</span><span id="line-1447"></span><span>      </span><span class="hs-comment">-- Just in case finalizePD fails for any reason,</span><span>
</span><span id="line-1448"></span><span>      </span><span class="hs-comment">-- or if the package doesn't depend on the base package at all,</span><span>
</span><span id="line-1449"></span><span>      </span><span class="hs-comment">-- then we will just skip the check, since boundedAbove noVersion = True</span><span>
</span><span id="line-1450"></span><span>      </span><span class="annot"><span class="annottext">Either [Dependency] (PackageDescription, FlagAssignment)
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="Distribution.Types.VersionRange.Internal.html#noVersion"><span class="hs-identifier hs-var">noVersion</span></a></span><span>
</span><span id="line-1451"></span><span>
</span><span id="line-1452"></span><span>    </span><span class="hs-comment">-- TODO: move to Distribution.Version</span><span>
</span><span id="line-1453"></span><span>    </span><span class="annot"><a href="#local-6989586621679732835"><span class="hs-identifier hs-type">boundedAbove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.VersionRange.Internal.html#VersionRange"><span class="hs-identifier hs-type">VersionRange</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1454"></span><span>    </span><span id="local-6989586621679732835"><span class="annot"><span class="annottext">boundedAbove :: VersionRange -&gt; Bool
</span><a href="#local-6989586621679732835"><span class="hs-identifier hs-var hs-var">boundedAbove</span></a></span></span><span> </span><span id="local-6989586621679732810"><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679732810"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">VersionRange -&gt; [VersionInterval]
</span><a href="Distribution.Types.VersionInterval.html#asVersionIntervals"><span class="hs-identifier hs-var">asVersionIntervals</span></a></span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><a href="#local-6989586621679732810"><span class="hs-identifier hs-var">vr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1455"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-comment">-- this is the inconsistent version range.</span><span>
</span><span id="line-1456"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679732808"><span class="annot"><span class="annottext">VersionInterval
</span><a href="#local-6989586621679732808"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732807"><span class="annot"><span class="annottext">[VersionInterval]
</span><a href="#local-6989586621679732807"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. NonEmpty a -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-List-NonEmpty.html#last"><span class="hs-identifier hs-var">last</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VersionInterval
</span><a href="#local-6989586621679732808"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a></span><span class="annot"><span class="annottext">[VersionInterval]
</span><a href="#local-6989586621679732807"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1457"></span><span>        </span><span class="annot"><a href="Distribution.Types.VersionInterval.html#VersionInterval"><span class="hs-identifier hs-type">VersionInterval</span></a></span><span> </span><span class="annot"><span class="annottext">LowerBound
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="Distribution.Types.VersionInterval.html#UpperBound"><span class="hs-identifier hs-type">UpperBound</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1458"></span><span>        </span><span class="annot"><a href="Distribution.Types.VersionInterval.html#VersionInterval"><span class="hs-identifier hs-type">VersionInterval</span></a></span><span> </span><span class="annot"><span class="annottext">LowerBound
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UpperBound
</span><a href="Distribution.Types.VersionInterval.html#NoUpperBound"><span class="hs-identifier hs-var">NoUpperBound</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1459"></span><span>
</span><span id="line-1460"></span><span>
</span><span id="line-1461"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkConditionals"><span class="hs-identifier hs-type">checkConditionals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1462"></span><span id="checkConditionals"><span class="annot"><span class="annottext">checkConditionals :: GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkConditionals"><span class="hs-identifier hs-var hs-var">checkConditionals</span></a></span></span><span> </span><span id="local-6989586621679732802"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1463"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-1464"></span><span>
</span><span id="line-1465"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732801"><span class="hs-identifier hs-var">unknownOSs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1466"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1467"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unknown operating system name &quot;</span></span><span>
</span><span id="line-1468"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732801"><span class="hs-identifier hs-var">unknownOSs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1469"></span><span>
</span><span id="line-1470"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732800"><span class="hs-identifier hs-var">unknownArches</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1471"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1472"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unknown architecture name &quot;</span></span><span>
</span><span id="line-1473"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732800"><span class="hs-identifier hs-var">unknownArches</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1474"></span><span>
</span><span id="line-1475"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732799"><span class="hs-identifier hs-var">unknownImpls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1476"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1477"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unknown compiler name &quot;</span></span><span>
</span><span id="line-1478"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732799"><span class="hs-identifier hs-var">unknownImpls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1479"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1480"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1481"></span><span>    </span><span id="local-6989586621679732801"><span class="annot"><span class="annottext">unknownOSs :: [String]
</span><a href="#local-6989586621679732801"><span class="hs-identifier hs-var hs-var">unknownOSs</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732798"><span class="hs-identifier hs-var">os</span></a></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.Types.ConfVar.html#OS"><span class="hs-identifier hs-type">OS</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.System.html#OtherOS"><span class="hs-identifier hs-type">OtherOS</span></a></span><span> </span><span id="local-6989586621679732798"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732798"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ConfVar]
</span><a href="#local-6989586621679732795"><span class="hs-identifier hs-var">conditions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1482"></span><span>    </span><span id="local-6989586621679732800"><span class="annot"><span class="annottext">unknownArches :: [String]
</span><a href="#local-6989586621679732800"><span class="hs-identifier hs-var hs-var">unknownArches</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732794"><span class="hs-identifier hs-var">arch</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.Types.ConfVar.html#Arch"><span class="hs-identifier hs-type">Arch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.System.html#OtherArch"><span class="hs-identifier hs-type">OtherArch</span></a></span><span> </span><span id="local-6989586621679732794"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732794"><span class="hs-identifier hs-var">arch</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ConfVar]
</span><a href="#local-6989586621679732795"><span class="hs-identifier hs-var">conditions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1483"></span><span>    </span><span id="local-6989586621679732799"><span class="annot"><span class="annottext">unknownImpls :: [String]
</span><a href="#local-6989586621679732799"><span class="hs-identifier hs-var hs-var">unknownImpls</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732791"><span class="hs-identifier hs-var">impl</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.Types.ConfVar.html#Impl"><span class="hs-identifier hs-type">Impl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Compiler.html#OtherCompiler"><span class="hs-identifier hs-type">OtherCompiler</span></a></span><span> </span><span id="local-6989586621679732791"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732791"><span class="hs-identifier hs-var">impl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VersionRange
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ConfVar]
</span><a href="#local-6989586621679732795"><span class="hs-identifier hs-var">conditions</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1484"></span><span>    </span><span id="local-6989586621679732795"><span class="annot"><span class="annottext">conditions :: [ConfVar]
</span><a href="#local-6989586621679732795"><span class="hs-identifier hs-var hs-var">conditions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall {b} {c} {a}. CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; Maybe (CondTree ConfVar [Dependency] Library)
</span><a href="Distribution.Types.GenericPackageDescription.html#condLibrary"><span class="hs-identifier hs-var">condLibrary</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1485"></span><span>              </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b} {c} {a}. CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName, CondTree ConfVar [Dependency] Library)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condSubLibraries"><span class="hs-identifier hs-var">condSubLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1486"></span><span>              </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b} {c} {a}. CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName,
     CondTree ConfVar [Dependency] ForeignLib)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condForeignLibs"><span class="hs-identifier hs-var">condForeignLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1487"></span><span>              </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b} {c} {a}. CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName,
     CondTree ConfVar [Dependency] Executable)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condExecutables"><span class="hs-identifier hs-var">condExecutables</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1488"></span><span>              </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b} {c} {a}. CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName, CondTree ConfVar [Dependency] TestSuite)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condTestSuites"><span class="hs-identifier hs-var">condTestSuites</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1489"></span><span>              </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {b} {c} {a}. CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName, CondTree ConfVar [Dependency] Benchmark)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condBenchmarks"><span class="hs-identifier hs-var">condBenchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732802"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1490"></span><span>    </span><span id="local-6989586621679732783"><span class="annot"><span class="annottext">fvs :: CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var hs-var">fvs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.CondTree.html#CondNode"><span class="hs-identifier hs-type">CondNode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">c
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679732774"><span class="annot"><span class="annottext">[CondBranch b c a]
</span><a href="#local-6989586621679732774"><span class="hs-identifier hs-var">ifs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">CondBranch b c a -&gt; [b]
</span><a href="#local-6989586621679732773"><span class="hs-identifier hs-var">compfv</span></a></span><span> </span><span class="annot"><span class="annottext">[CondBranch b c a]
</span><a href="#local-6989586621679732774"><span class="hs-identifier hs-var">ifs</span></a></span><span> </span><span class="hs-comment">-- free variables</span><span>
</span><span id="line-1491"></span><span>    </span><span id="local-6989586621679732773"><span class="annot"><span class="annottext">compfv :: CondBranch b c a -&gt; [b]
</span><a href="#local-6989586621679732773"><span class="hs-identifier hs-var hs-var">compfv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.CondTree.html#CondBranch"><span class="hs-identifier hs-type">CondBranch</span></a></span><span> </span><span id="local-6989586621679732771"><span class="annot"><span class="annottext">Condition b
</span><a href="#local-6989586621679732771"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679732770"><span class="annot"><span class="annottext">CondTree b c a
</span><a href="#local-6989586621679732770"><span class="hs-identifier hs-var">ct</span></a></span></span><span> </span><span id="local-6989586621679732769"><span class="annot"><span class="annottext">Maybe (CondTree b c a)
</span><a href="#local-6989586621679732769"><span class="hs-identifier hs-var">mct</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var">condfv</span></a></span><span> </span><span class="annot"><span class="annottext">Condition b
</span><a href="#local-6989586621679732771"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">CondTree b c a
</span><a href="#local-6989586621679732770"><span class="hs-identifier hs-var">ct</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">CondTree b c a -&gt; [b]
</span><a href="#local-6989586621679732783"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (CondTree b c a)
</span><a href="#local-6989586621679732769"><span class="hs-identifier hs-var">mct</span></a></span><span>
</span><span id="line-1492"></span><span>    </span><span id="local-6989586621679732768"><span class="annot"><span class="annottext">condfv :: Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var hs-var">condfv</span></a></span></span><span> </span><span id="local-6989586621679732767"><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732767"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732767"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1493"></span><span>      </span><span class="annot"><a href="Distribution.Types.Condition.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span id="local-6989586621679732765"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679732765"><span class="hs-identifier hs-var">v</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679732765"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1494"></span><span>      </span><span class="annot"><a href="Distribution.Types.Condition.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1495"></span><span>      </span><span class="annot"><a href="Distribution.Types.Condition.html#CNot"><span class="hs-identifier hs-type">CNot</span></a></span><span> </span><span id="local-6989586621679732762"><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732762"><span class="hs-identifier hs-var">c1</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var">condfv</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732762"><span class="hs-identifier hs-var">c1</span></a></span><span>
</span><span id="line-1496"></span><span>      </span><span class="annot"><a href="Distribution.Types.Condition.html#COr"><span class="hs-identifier hs-type">COr</span></a></span><span>  </span><span id="local-6989586621679732760"><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732760"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621679732759"><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732759"><span class="hs-identifier hs-var">c2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var">condfv</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732760"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var">condfv</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732759"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-1497"></span><span>      </span><span class="annot"><a href="Distribution.Types.Condition.html#CAnd"><span class="hs-identifier hs-type">CAnd</span></a></span><span> </span><span id="local-6989586621679732757"><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732757"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621679732756"><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732756"><span class="hs-identifier hs-var">c2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var">condfv</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732757"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a -&gt; [a]
</span><a href="#local-6989586621679732768"><span class="hs-identifier hs-var">condfv</span></a></span><span> </span><span class="annot"><span class="annottext">Condition a
</span><a href="#local-6989586621679732756"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-1498"></span><span>
</span><span id="line-1499"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkFlagNames"><span class="hs-identifier hs-type">checkFlagNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1500"></span><span id="checkFlagNames"><span class="annot"><span class="annottext">checkFlagNames :: GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkFlagNames"><span class="hs-identifier hs-var hs-var">checkFlagNames</span></a></span></span><span> </span><span id="local-6989586621679732755"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732755"><span class="hs-identifier hs-var">gpd</span></a></span></span><span>
</span><span id="line-1501"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732754"><span class="hs-identifier hs-var">invalidFlagNames</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1502"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-1503"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Suspicious flag names: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732754"><span class="hs-identifier hs-var">invalidFlagNames</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. &quot;</span></span><span>
</span><span id="line-1504"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To avoid ambiguity in command line interfaces, flag shouldn't &quot;</span></span><span>
</span><span id="line-1505"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;start with a dash. Also for better compatibility, flag names &quot;</span></span><span>
</span><span id="line-1506"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;shouldn't contain non-ascii characters.&quot;</span></span><span>
</span><span id="line-1507"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1508"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1509"></span><span>    </span><span id="local-6989586621679732754"><span class="annot"><span class="annottext">invalidFlagNames :: [String]
</span><a href="#local-6989586621679732754"><span class="hs-identifier hs-var hs-var">invalidFlagNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1510"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732753"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-1511"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732752"><span class="annot"><span class="annottext">PackageFlag
</span><a href="#local-6989586621679732752"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageFlag]
</span><a href="Distribution.Types.GenericPackageDescription.html#genPackageFlags"><span class="hs-identifier hs-var">genPackageFlags</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732755"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1512"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679732753"><span class="annot"><span class="annottext">fn :: String
</span><a href="#local-6989586621679732753"><span class="hs-identifier hs-var hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FlagName -&gt; String
</span><a href="Distribution.Types.Flag.html#unFlagName"><span class="hs-identifier hs-var">unFlagName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageFlag -&gt; FlagName
</span><a href="Distribution.Types.Flag.html#flagName"><span class="hs-identifier hs-var">flagName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageFlag
</span><a href="#local-6989586621679732752"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1513"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621679732748"><span class="hs-identifier hs-var">invalidFlagName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732753"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-1514"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1515"></span><span>    </span><span class="hs-comment">-- starts with dash</span><span>
</span><span id="line-1516"></span><span>    </span><span id="local-6989586621679732748"><span class="annot"><span class="annottext">invalidFlagName :: String -&gt; Bool
</span><a href="#local-6989586621679732748"><span class="hs-identifier hs-var hs-var">invalidFlagName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1517"></span><span>    </span><span class="hs-comment">-- mon ascii letter</span><span>
</span><span id="line-1518"></span><span>    </span><span class="annot"><a href="#local-6989586621679732748"><span class="hs-identifier hs-var">invalidFlagName</span></a></span><span> </span><span id="local-6989586621679732746"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732746"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAscii"><span class="hs-identifier hs-var">isAscii</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732746"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-1519"></span><span>
</span><span id="line-1520"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkUnusedFlags"><span class="hs-identifier hs-type">checkUnusedFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1521"></span><span id="checkUnusedFlags"><span class="annot"><span class="annottext">checkUnusedFlags :: GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkUnusedFlags"><span class="hs-identifier hs-var hs-var">checkUnusedFlags</span></a></span></span><span> </span><span id="local-6989586621679732745"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span></span><span>
</span><span id="line-1522"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Set FlagName
</span><a href="#local-6989586621679732744"><span class="hs-identifier hs-var">declared</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Set FlagName
</span><a href="#local-6989586621679732743"><span class="hs-identifier hs-var">used</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1523"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span>
</span><span id="line-1524"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Declared and used flag sets differ: &quot;</span></span><span>
</span><span id="line-1525"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Set FlagName -&gt; String
</span><a href="#local-6989586621679732742"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Set FlagName
</span><a href="#local-6989586621679732744"><span class="hs-identifier hs-var">declared</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; /= &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Set FlagName -&gt; String
</span><a href="#local-6989586621679732742"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Set FlagName
</span><a href="#local-6989586621679732743"><span class="hs-identifier hs-var">used</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. &quot;</span></span><span>
</span><span id="line-1526"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1527"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1528"></span><span>    </span><span class="annot"><a href="#local-6989586621679732742"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Set-Internal.html#Set"><span class="hs-identifier hs-type">Set.Set</span></a></span><span> </span><span class="annot"><a href="Distribution.Types.Flag.html#FlagName"><span class="hs-identifier hs-type">FlagName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-1529"></span><span>    </span><span id="local-6989586621679732742"><span class="annot"><span class="annottext">s :: Set FlagName -&gt; String
</span><a href="#local-6989586621679732742"><span class="hs-identifier hs-var hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var">commaSep</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">FlagName -&gt; String
</span><a href="Distribution.Types.Flag.html#unFlagName"><span class="hs-identifier hs-var">unFlagName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Set a -&gt; [a]
</span><a href="../../containers-0.6.5.1/src/Data-Set-Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span>
</span><span id="line-1530"></span><span>
</span><span id="line-1531"></span><span>    </span><span class="annot"><a href="#local-6989586621679732744"><span class="hs-identifier hs-type">declared</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Set-Internal.html#Set"><span class="hs-identifier hs-type">Set.Set</span></a></span><span> </span><span class="annot"><a href="Distribution.Types.Flag.html#FlagName"><span class="hs-identifier hs-type">FlagName</span></a></span><span>
</span><span id="line-1532"></span><span>    </span><span id="local-6989586621679732744"><span class="annot"><span class="annottext">declared :: Set FlagName
</span><a href="#local-6989586621679732744"><span class="hs-identifier hs-var hs-var">declared</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens' GenericPackageDescription [PackageFlag]
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#genPackageFlags"><span class="hs-identifier hs-var">L.genPackageFlags</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Lens' PackageFlag FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#flagName"><span class="hs-identifier hs-var">L.flagName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1533"></span><span>
</span><span id="line-1534"></span><span>    </span><span class="annot"><a href="#local-6989586621679732743"><span class="hs-identifier hs-type">used</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.6.5.1/src/Data-Set-Internal.html#Set"><span class="hs-identifier hs-type">Set.Set</span></a></span><span> </span><span class="annot"><a href="Distribution.Types.Flag.html#FlagName"><span class="hs-identifier hs-type">FlagName</span></a></span><span>
</span><span id="line-1535"></span><span>    </span><span id="local-6989586621679732743"><span class="annot"><span class="annottext">used :: Set FlagName
</span><a href="#local-6989586621679732743"><span class="hs-identifier hs-var hs-var">used</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-1536"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  GenericPackageDescription
  (Maybe (CondTree ConfVar [Dependency] Library))
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#condLibrary"><span class="hs-identifier hs-var">L.condLibrary</span></a></span><span>      </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span>      </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall v c a w. Traversal (CondTree v c a) (CondTree w c a) v w
</span><a href="Distribution.Types.CondTree.html#traverseCondTreeV"><span class="hs-identifier hs-var">traverseCondTreeV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConfVar FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#_PackageFlag"><span class="hs-identifier hs-var">L._PackageFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1537"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  GenericPackageDescription
  [(UnqualComponentName, CondTree ConfVar [Dependency] Library)]
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#condSubLibraries"><span class="hs-identifier hs-var">L.condSubLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall c a b. Lens (c, a) (c, b) a b
</span><a href="Distribution.Compat.Lens.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall v c a w. Traversal (CondTree v c a) (CondTree w c a) v w
</span><a href="Distribution.Types.CondTree.html#traverseCondTreeV"><span class="hs-identifier hs-var">traverseCondTreeV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConfVar FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#_PackageFlag"><span class="hs-identifier hs-var">L._PackageFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1538"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  GenericPackageDescription
  [(UnqualComponentName, CondTree ConfVar [Dependency] ForeignLib)]
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#condForeignLibs"><span class="hs-identifier hs-var">L.condForeignLibs</span></a></span><span>  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall c a b. Lens (c, a) (c, b) a b
</span><a href="Distribution.Compat.Lens.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall v c a w. Traversal (CondTree v c a) (CondTree w c a) v w
</span><a href="Distribution.Types.CondTree.html#traverseCondTreeV"><span class="hs-identifier hs-var">traverseCondTreeV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConfVar FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#_PackageFlag"><span class="hs-identifier hs-var">L._PackageFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1539"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  GenericPackageDescription
  [(UnqualComponentName, CondTree ConfVar [Dependency] Executable)]
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#condExecutables"><span class="hs-identifier hs-var">L.condExecutables</span></a></span><span>  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall c a b. Lens (c, a) (c, b) a b
</span><a href="Distribution.Compat.Lens.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall v c a w. Traversal (CondTree v c a) (CondTree w c a) v w
</span><a href="Distribution.Types.CondTree.html#traverseCondTreeV"><span class="hs-identifier hs-var">traverseCondTreeV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConfVar FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#_PackageFlag"><span class="hs-identifier hs-var">L._PackageFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1540"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  GenericPackageDescription
  [(UnqualComponentName, CondTree ConfVar [Dependency] TestSuite)]
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#condTestSuites"><span class="hs-identifier hs-var">L.condTestSuites</span></a></span><span>   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall c a b. Lens (c, a) (c, b) a b
</span><a href="Distribution.Compat.Lens.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall v c a w. Traversal (CondTree v c a) (CondTree w c a) v w
</span><a href="Distribution.Types.CondTree.html#traverseCondTreeV"><span class="hs-identifier hs-var">traverseCondTreeV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConfVar FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#_PackageFlag"><span class="hs-identifier hs-var">L._PackageFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1541"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (Set a) s a -&gt; s -&gt; Set a
</span><a href="Distribution.Compat.Lens.html#toSetOf"><span class="hs-identifier hs-var">toSetOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens'
  GenericPackageDescription
  [(UnqualComponentName, CondTree ConfVar [Dependency] Benchmark)]
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#condBenchmarks"><span class="hs-identifier hs-var">L.condBenchmarks</span></a></span><span>   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall c a b. Lens (c, a) (c, b) a b
</span><a href="Distribution.Compat.Lens.html#_2"><span class="hs-identifier hs-var">_2</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall v c a w. Traversal (CondTree v c a) (CondTree w c a) v w
</span><a href="Distribution.Types.CondTree.html#traverseCondTreeV"><span class="hs-identifier hs-var">traverseCondTreeV</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Traversal' ConfVar FlagName
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#_PackageFlag"><span class="hs-identifier hs-var">L._PackageFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732745"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1542"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1543"></span><span>
</span><span id="line-1544"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkUnicodeXFields"><span class="hs-identifier hs-type">checkUnicodeXFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1545"></span><span id="checkUnicodeXFields"><span class="annot"><span class="annottext">checkUnicodeXFields :: GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkUnicodeXFields"><span class="hs-identifier hs-var hs-var">checkUnicodeXFields</span></a></span></span><span> </span><span id="local-6989586621679732727"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732727"><span class="hs-identifier hs-var">gpd</span></a></span></span><span>
</span><span id="line-1546"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732726"><span class="hs-identifier hs-var">nonAsciiXFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1547"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span>
</span><span id="line-1548"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Non ascii custom fields: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732726"><span class="hs-identifier hs-var">nonAsciiXFields</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;. &quot;</span></span><span>
</span><span id="line-1549"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;For better compatibility, custom field names &quot;</span></span><span>
</span><span id="line-1550"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;shouldn't contain non-ascii characters.&quot;</span></span><span>
</span><span id="line-1551"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1552"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1553"></span><span>    </span><span class="annot"><a href="#local-6989586621679732726"><span class="hs-identifier hs-type">nonAsciiXFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1554"></span><span>    </span><span id="local-6989586621679732726"><span class="annot"><span class="annottext">nonAsciiXFields :: [String]
</span><a href="#local-6989586621679732726"><span class="hs-identifier hs-var hs-var">nonAsciiXFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732725"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732725"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732725"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679732724"><span class="hs-identifier hs-var">xfields</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isAscii"><span class="hs-identifier hs-var">isAscii</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732725"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1555"></span><span>
</span><span id="line-1556"></span><span>    </span><span class="annot"><a href="#local-6989586621679732724"><span class="hs-identifier hs-type">xfields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1557"></span><span>    </span><span id="local-6989586621679732724"><span class="annot"><span class="annottext">xfields :: [(String, String)]
</span><a href="#local-6989586621679732724"><span class="hs-identifier hs-var hs-var">xfields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. DList a -&gt; [a]
</span><a href="Distribution.Compat.DList.html#runDList"><span class="hs-identifier hs-var">DList.runDList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-1558"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (DList a) s a -&gt; s -&gt; DList a
</span><a href="Distribution.Compat.Lens.html#toDListOf"><span class="hs-identifier hs-var">toDListOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Lens' GenericPackageDescription PackageDescription
</span><a href="Distribution.Types.GenericPackageDescription.Lens.html#packageDescription"><span class="hs-identifier hs-var">L.packageDescription</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Lens' PackageDescription [(String, String)]
</span><a href="Distribution.Types.PackageDescription.Lens.html#customFieldsPD"><span class="hs-identifier hs-var">L.customFieldsPD</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732727"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1559"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a s. Getting (DList a) s a -&gt; s -&gt; DList a
</span><a href="Distribution.Compat.Lens.html#toDListOf"><span class="hs-identifier hs-var">toDListOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HasBuildInfos a =&gt; Traversal' a BuildInfo
</span><a href="Distribution.Types.BuildInfo.Lens.html#traverseBuildInfos"><span class="hs-identifier hs-var">L.traverseBuildInfos</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [(String, String)]
</span><a href="Distribution.Types.BuildInfo.Lens.html#customFieldsBI"><span class="hs-identifier hs-var">L.customFieldsBI</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732727"><span class="hs-identifier hs-var">gpd</span></a></span><span>
</span><span id="line-1560"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1561"></span><span>
</span><span id="line-1562"></span><span class="hs-comment">-- | cabal-version &lt;2.2 + Paths_module + default-extensions: doesn't build.</span><span>
</span><span id="line-1563"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPathsModuleExtensions"><span class="hs-identifier hs-type">checkPathsModuleExtensions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1564"></span><span id="checkPathsModuleExtensions"><span class="annot"><span class="annottext">checkPathsModuleExtensions :: PackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPathsModuleExtensions"><span class="hs-identifier hs-var hs-var">checkPathsModuleExtensions</span></a></span></span><span> </span><span id="local-6989586621679732717"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732717"><span class="hs-identifier hs-var">pd</span></a></span></span><span>
</span><span id="line-1565"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732717"><span class="hs-identifier hs-var">pd</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion
</span><a href="Distribution.CabalSpecVersion.html#CabalSpecV2_2"><span class="hs-identifier hs-var">CabalSpecV2_2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1566"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; Bool
</span><a href="#local-6989586621679732716"><span class="hs-identifier hs-var">checkBI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732717"><span class="hs-identifier hs-var">pd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; Bool
</span><a href="#local-6989586621679732714"><span class="hs-identifier hs-var">checkLib</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [Library]
</span><a href="Distribution.Types.PackageDescription.html#allLibraries"><span class="hs-identifier hs-var">allLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732717"><span class="hs-identifier hs-var">pd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1567"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#unwords"><span class="hs-identifier hs-var">unwords</span></a></span><span>
</span><span id="line-1568"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package uses RebindableSyntax with OverloadedStrings or OverloadedLists&quot;</span></span><span>
</span><span id="line-1569"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;in default-extensions, and also Paths_ autogen module.&quot;</span></span><span>
</span><span id="line-1570"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;That configuration is known to cause compile failures with Cabal &lt; 2.2.&quot;</span></span><span>
</span><span id="line-1571"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;To use these default-extensions with Paths_ autogen module&quot;</span></span><span>
</span><span id="line-1572"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;specify at least 'cabal-version: 2.2'.&quot;</span></span><span>
</span><span id="line-1573"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-1574"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1575"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1576"></span><span>    </span><span id="local-6989586621679732713"><span class="annot"><span class="annottext">mn :: ModuleName
</span><a href="#local-6989586621679732713"><span class="hs-identifier hs-var hs-var">mn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; ModuleName
</span><a href="Distribution.Simple.BuildPaths.html#autogenPathsModuleName"><span class="hs-identifier hs-var">autogenPathsModuleName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732717"><span class="hs-identifier hs-var">pd</span></a></span><span>
</span><span id="line-1577"></span><span>
</span><span id="line-1578"></span><span>    </span><span class="annot"><a href="#local-6989586621679732714"><span class="hs-identifier hs-type">checkLib</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.Library.html#Library"><span class="hs-identifier hs-type">Library</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1579"></span><span>    </span><span id="local-6989586621679732714"><span class="annot"><span class="annottext">checkLib :: Library -&gt; Bool
</span><a href="#local-6989586621679732714"><span class="hs-identifier hs-var hs-var">checkLib</span></a></span></span><span> </span><span id="local-6989586621679732712"><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679732712"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679732713"><span class="hs-identifier hs-var">mn</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; [ModuleName]
</span><a href="Distribution.Types.Library.html#exposedModules"><span class="hs-identifier hs-var">exposedModules</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679732712"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall {t :: * -&gt; *}. Foldable t =&gt; t Extension -&gt; Bool
</span><a href="#local-6989586621679732710"><span class="hs-identifier hs-var">checkExts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679732712"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="Distribution.Compat.Lens.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [Extension]
</span><a href="Distribution.Types.BuildInfo.Lens.html#defaultExtensions"><span class="hs-identifier hs-var">L.defaultExtensions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1580"></span><span>
</span><span id="line-1581"></span><span>    </span><span class="annot"><a href="#local-6989586621679732716"><span class="hs-identifier hs-type">checkBI</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1582"></span><span>    </span><span id="local-6989586621679732716"><span class="annot"><span class="annottext">checkBI :: BuildInfo -&gt; Bool
</span><a href="#local-6989586621679732716"><span class="hs-identifier hs-var hs-var">checkBI</span></a></span></span><span> </span><span id="local-6989586621679732707"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732707"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1583"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679732713"><span class="hs-identifier hs-var">mn</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [ModuleName]
</span><a href="Distribution.Types.BuildInfo.html#otherModules"><span class="hs-identifier hs-var">otherModules</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732707"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679732713"><span class="hs-identifier hs-var">mn</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [ModuleName]
</span><a href="Distribution.Types.BuildInfo.html#autogenModules"><span class="hs-identifier hs-var">autogenModules</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732707"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-1584"></span><span>        </span><span class="annot"><span class="annottext">forall {t :: * -&gt; *}. Foldable t =&gt; t Extension -&gt; Bool
</span><a href="#local-6989586621679732710"><span class="hs-identifier hs-var">checkExts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732707"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="Distribution.Compat.Lens.html#%5E."><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HasBuildInfo a =&gt; Lens' a [Extension]
</span><a href="Distribution.Types.BuildInfo.Lens.html#defaultExtensions"><span class="hs-identifier hs-var">L.defaultExtensions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1585"></span><span>
</span><span id="line-1586"></span><span>    </span><span id="local-6989586621679732710"><span class="annot"><span class="annottext">checkExts :: t Extension -&gt; Bool
</span><a href="#local-6989586621679732710"><span class="hs-identifier hs-var hs-var">checkExts</span></a></span></span><span> </span><span id="local-6989586621679732699"><span class="annot"><span class="annottext">t Extension
</span><a href="#local-6989586621679732699"><span class="hs-identifier hs-var">exts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679732698"><span class="hs-identifier hs-var">rebind</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">t Extension
</span><a href="#local-6989586621679732699"><span class="hs-identifier hs-var">exts</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679732697"><span class="hs-identifier hs-var">strings</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">t Extension
</span><a href="#local-6989586621679732699"><span class="hs-identifier hs-var">exts</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Extension
</span><a href="#local-6989586621679732696"><span class="hs-identifier hs-var">lists</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">t Extension
</span><a href="#local-6989586621679732699"><span class="hs-identifier hs-var">exts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1587"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1588"></span><span>        </span><span id="local-6989586621679732698"><span class="annot"><span class="annottext">rebind :: Extension
</span><a href="#local-6989586621679732698"><span class="hs-identifier hs-var hs-var">rebind</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#EnableExtension"><span class="hs-identifier hs-var">EnableExtension</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#RebindableSyntax"><span class="hs-identifier hs-var">RebindableSyntax</span></a></span><span>
</span><span id="line-1589"></span><span>        </span><span id="local-6989586621679732697"><span class="annot"><span class="annottext">strings :: Extension
</span><a href="#local-6989586621679732697"><span class="hs-identifier hs-var hs-var">strings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#EnableExtension"><span class="hs-identifier hs-var">EnableExtension</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#OverloadedStrings"><span class="hs-identifier hs-var">OverloadedStrings</span></a></span><span>
</span><span id="line-1590"></span><span>        </span><span id="local-6989586621679732696"><span class="annot"><span class="annottext">lists :: Extension
</span><a href="#local-6989586621679732696"><span class="hs-identifier hs-var hs-var">lists</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KnownExtension -&gt; Extension
</span><a href="Language.Haskell.Extension.html#EnableExtension"><span class="hs-identifier hs-var">EnableExtension</span></a></span><span> </span><span class="annot"><span class="annottext">KnownExtension
</span><a href="Language.Haskell.Extension.html#OverloadedLists"><span class="hs-identifier hs-var">OverloadedLists</span></a></span><span>
</span><span id="line-1591"></span><span>
</span><span id="line-1592"></span><span class="hs-comment">-- | Checks GHC options from all ghc-*-options fields from the given BuildInfo</span><span>
</span><span id="line-1593"></span><span class="hs-comment">-- and reports flags that are OK during development process, but are</span><span>
</span><span id="line-1594"></span><span class="hs-comment">-- unacceptable in a distrubuted package</span><span>
</span><span id="line-1595"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsBuildInfo"><span class="hs-identifier hs-type">checkDevelopmentOnlyFlagsBuildInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1596"></span><span id="checkDevelopmentOnlyFlagsBuildInfo"><span class="annot"><span class="annottext">checkDevelopmentOnlyFlagsBuildInfo :: BuildInfo -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsBuildInfo"><span class="hs-identifier hs-var hs-var">checkDevelopmentOnlyFlagsBuildInfo</span></a></span></span><span> </span><span id="local-6989586621679732692"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732692"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1597"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsOptions"><span class="hs-identifier hs-var">checkDevelopmentOnlyFlagsOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc-options&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#hcOptions"><span class="hs-identifier hs-var">hcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732692"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1598"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsOptions"><span class="hs-identifier hs-var">checkDevelopmentOnlyFlagsOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc-prof-options&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#hcProfOptions"><span class="hs-identifier hs-var">hcProfOptions</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732692"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1599"></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsOptions"><span class="hs-identifier hs-var">checkDevelopmentOnlyFlagsOptions</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc-shared-options&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CompilerFlavor -&gt; BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#hcSharedOptions"><span class="hs-identifier hs-var">hcSharedOptions</span></a></span><span> </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732692"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1600"></span><span>
</span><span id="line-1601"></span><span class="hs-comment">-- | Checks the given list of flags belonging to the given field and reports</span><span>
</span><span id="line-1602"></span><span class="hs-comment">-- flags that are OK during development process, but are unacceptable in a</span><span>
</span><span id="line-1603"></span><span class="hs-comment">-- distributed package</span><span>
</span><span id="line-1604"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsOptions"><span class="hs-identifier hs-type">checkDevelopmentOnlyFlagsOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1605"></span><span id="checkDevelopmentOnlyFlagsOptions"><span class="annot"><span class="annottext">checkDevelopmentOnlyFlagsOptions :: String -&gt; [String] -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsOptions"><span class="hs-identifier hs-var hs-var">checkDevelopmentOnlyFlagsOptions</span></a></span></span><span> </span><span id="local-6989586621679732690"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621679732689"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1606"></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-1607"></span><span>
</span><span id="line-1608"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732688"><span class="hs-identifier hs-var">has_WerrorWall</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1609"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1610"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -Wall -Werror' makes the package very easy to &quot;</span></span><span>
</span><span id="line-1611"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;break with future GHC versions because new GHC versions often &quot;</span></span><span>
</span><span id="line-1612"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;add new warnings. Use just '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -Wall' instead.&quot;</span></span><span>
</span><span id="line-1613"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var">extraExplanation</span></a></span><span>
</span><span id="line-1614"></span><span>
</span><span id="line-1615"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732688"><span class="hs-identifier hs-var">has_WerrorWall</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732686"><span class="hs-identifier hs-var">has_Werror</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1616"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1617"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -Werror' makes the package easy to &quot;</span></span><span>
</span><span id="line-1618"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;break with future GHC versions because new GHC versions often &quot;</span></span><span>
</span><span id="line-1619"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;add new warnings. &quot;</span></span><span>
</span><span id="line-1620"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var">extraExplanation</span></a></span><span>
</span><span id="line-1621"></span><span>
</span><span id="line-1622"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732685"><span class="hs-identifier hs-var">has_J</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1623"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1624"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -j[N]' can make sense for specific user's setup,&quot;</span></span><span>
</span><span id="line-1625"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; but it is not appropriate for a distributed package.&quot;</span></span><span>
</span><span id="line-1626"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var">extraExplanation</span></a></span><span>
</span><span id="line-1627"></span><span>
</span><span id="line-1628"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732684"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fdefer-type-errors&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1629"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1630"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -fdefer-type-errors' is fine during development but &quot;</span></span><span>
</span><span id="line-1631"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;is not appropriate for a distributed package. &quot;</span></span><span>
</span><span id="line-1632"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var">extraExplanation</span></a></span><span>
</span><span id="line-1633"></span><span>
</span><span id="line-1634"></span><span>    </span><span class="hs-comment">-- -dynamic is not a debug flag</span><span>
</span><span id="line-1635"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679732683"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732683"><span class="hs-identifier hs-var">opt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-d&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#isPrefixOf"><span class="hs-operator hs-var">`isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732683"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732683"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-dynamic&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1636"></span><span>           </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1637"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1638"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -d*' debug flags are not appropriate &quot;</span></span><span>
</span><span id="line-1639"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for a distributed package. &quot;</span></span><span>
</span><span id="line-1640"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var">extraExplanation</span></a></span><span>
</span><span id="line-1641"></span><span>
</span><span id="line-1642"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732684"><span class="hs-identifier hs-var">checkFlags</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fprof-auto&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fprof-auto-top&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fprof-auto-calls&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-1643"></span><span>               </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fprof-cafs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-fno-prof-count-entries&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-1644"></span><span>               </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-auto-all&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-auto&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-caf-all&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1645"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1646"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732690"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: -fprof*' profiling flags are typically not &quot;</span></span><span>
</span><span id="line-1647"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;appropriate for a distributed library package. These flags are &quot;</span></span><span>
</span><span id="line-1648"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;useful to profile this package, but when profiling other packages &quot;</span></span><span>
</span><span id="line-1649"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;that use this one these flags clutter the profile output with &quot;</span></span><span>
</span><span id="line-1650"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;excessive detail. If you think other packages really want to see &quot;</span></span><span>
</span><span id="line-1651"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cost centres from this package then use '-fprof-auto-exported' &quot;</span></span><span>
</span><span id="line-1652"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;which puts cost centres only on exported functions. &quot;</span></span><span>
</span><span id="line-1653"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var">extraExplanation</span></a></span><span>
</span><span id="line-1654"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-1655"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1656"></span><span>    </span><span id="local-6989586621679732687"><span class="annot"><span class="annottext">extraExplanation :: String
</span><a href="#local-6989586621679732687"><span class="hs-identifier hs-var hs-var">extraExplanation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1657"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; Alternatively, if you want to use this, make it conditional based &quot;</span></span><span>
</span><span id="line-1658"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;on a Cabal configuration flag (with 'manual: True' and 'default: &quot;</span></span><span>
</span><span id="line-1659"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;False') and enable that flag during development.&quot;</span></span><span>
</span><span id="line-1660"></span><span>
</span><span id="line-1661"></span><span>    </span><span id="local-6989586621679732688"><span class="annot"><span class="annottext">has_WerrorWall :: Bool
</span><a href="#local-6989586621679732688"><span class="hs-identifier hs-var hs-var">has_WerrorWall</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732686"><span class="hs-identifier hs-var">has_Werror</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732682"><span class="hs-identifier hs-var">has_Wall</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732681"><span class="hs-identifier hs-var">has_W</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-1662"></span><span>    </span><span id="local-6989586621679732686"><span class="annot"><span class="annottext">has_Werror :: Bool
</span><a href="#local-6989586621679732686"><span class="hs-identifier hs-var hs-var">has_Werror</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-Werror&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span><span>
</span><span id="line-1663"></span><span>    </span><span id="local-6989586621679732682"><span class="annot"><span class="annottext">has_Wall :: Bool
</span><a href="#local-6989586621679732682"><span class="hs-identifier hs-var hs-var">has_Wall</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-Wall&quot;</span></span><span>   </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span><span>
</span><span id="line-1664"></span><span>    </span><span id="local-6989586621679732681"><span class="annot"><span class="annottext">has_W :: Bool
</span><a href="#local-6989586621679732681"><span class="hs-identifier hs-var hs-var">has_W</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-W&quot;</span></span><span>      </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span><span>
</span><span id="line-1665"></span><span>    </span><span id="local-6989586621679732685"><span class="annot"><span class="annottext">has_J :: Bool
</span><a href="#local-6989586621679732685"><span class="hs-identifier hs-var hs-var">has_J</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span>
</span><span id="line-1666"></span><span>                         </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679732670"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732670"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732670"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1667"></span><span>                           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-j&quot;</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1668"></span><span>                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'-'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'j'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621679732669"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732669"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="../../base-4.16.3.0/src/GHC-Unicode.html#isDigit"><span class="hs-identifier hs-var">isDigit</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732669"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-1669"></span><span>                           </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1670"></span><span>                         </span><span class="hs-special">)</span><span>
</span><span id="line-1671"></span><span>                         </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span><span>
</span><span id="line-1672"></span><span>    </span><span class="annot"><a href="#local-6989586621679732684"><span class="hs-identifier hs-type">checkFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-1673"></span><span>    </span><span id="local-6989586621679732684"><span class="annot"><span class="annottext">checkFlags :: [String] -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="#local-6989586621679732684"><span class="hs-identifier hs-var hs-var">checkFlags</span></a></span></span><span> </span><span id="local-6989586621679732667"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732667"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732667"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732689"><span class="hs-identifier hs-var">ghcOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1674"></span><span>
</span><span id="line-1675"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlags"><span class="hs-identifier hs-type">checkDevelopmentOnlyFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.GenericPackageDescription.html#GenericPackageDescription"><span class="hs-identifier hs-type">GenericPackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1676"></span><span id="checkDevelopmentOnlyFlags"><span class="annot"><span class="annottext">checkDevelopmentOnlyFlags :: GenericPackageDescription -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlags"><span class="hs-identifier hs-var hs-var">checkDevelopmentOnlyFlags</span></a></span></span><span> </span><span id="local-6989586621679732666"><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1677"></span><span>    </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkDevelopmentOnlyFlagsBuildInfo"><span class="hs-identifier hs-var">checkDevelopmentOnlyFlagsBuildInfo</span></a></span><span>
</span><span id="line-1678"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732665"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-1679"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732664"><span class="annot"><span class="annottext">[Condition ConfVar]
</span><a href="#local-6989586621679732664"><span class="hs-identifier hs-var">conditions</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732665"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732665"><span class="hs-identifier hs-var">bi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[([Condition ConfVar], BuildInfo)]
</span><a href="#local-6989586621679732663"><span class="hs-identifier hs-var">allConditionalBuildInfo</span></a></span><span>
</span><span id="line-1680"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732662"><span class="hs-identifier hs-var">guardedByManualFlag</span></a></span><span> </span><span class="annot"><span class="annottext">[Condition ConfVar]
</span><a href="#local-6989586621679732664"><span class="hs-identifier hs-var">conditions</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1681"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1682"></span><span>    </span><span id="local-6989586621679732662"><span class="annot"><span class="annottext">guardedByManualFlag :: Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732662"><span class="hs-identifier hs-var hs-var">guardedByManualFlag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span>
</span><span id="line-1683"></span><span>
</span><span id="line-1684"></span><span>    </span><span class="hs-comment">-- We've basically got three-values logic here: True, False or unknown</span><span>
</span><span id="line-1685"></span><span>    </span><span class="hs-comment">-- hence this pattern to propagate the unknown cases properly.</span><span>
</span><span id="line-1686"></span><span>    </span><span id="local-6989586621679732661"><span class="annot"><span class="annottext">definitelyFalse :: Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var hs-var">definitelyFalse</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.ConfVar.html#PackageFlag"><span class="hs-identifier hs-type">PackageFlag</span></a></span><span> </span><span id="local-6989586621679732657"><span class="annot"><span class="annottext">FlagName
</span><a href="#local-6989586621679732657"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FlagName
</span><a href="#local-6989586621679732657"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Map FlagName Bool
</span><a href="#local-6989586621679732655"><span class="hs-identifier hs-var">manualFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1687"></span><span>    </span><span class="annot"><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><span class="annottext">ConfVar
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1688"></span><span>    </span><span class="annot"><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span>  </span><span id="local-6989586621679732654"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732654"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732654"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1689"></span><span>    </span><span class="annot"><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#CNot"><span class="hs-identifier hs-type">CNot</span></a></span><span> </span><span id="local-6989586621679732653"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732653"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732653"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1690"></span><span>    </span><span class="annot"><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#COr"><span class="hs-identifier hs-type">COr</span></a></span><span>  </span><span id="local-6989586621679732651"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732651"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621679732650"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732650"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732651"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732650"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-1691"></span><span>    </span><span class="annot"><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#CAnd"><span class="hs-identifier hs-type">CAnd</span></a></span><span> </span><span id="local-6989586621679732649"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732649"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621679732648"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732648"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732649"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732648"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-1692"></span><span>
</span><span id="line-1693"></span><span>    </span><span id="local-6989586621679732652"><span class="annot"><span class="annottext">definitelyTrue :: Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732652"><span class="hs-identifier hs-var hs-var">definitelyTrue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.ConfVar.html#PackageFlag"><span class="hs-identifier hs-type">PackageFlag</span></a></span><span> </span><span id="local-6989586621679732647"><span class="annot"><span class="annottext">FlagName
</span><a href="#local-6989586621679732647"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FlagName
</span><a href="#local-6989586621679732647"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Map FlagName Bool
</span><a href="#local-6989586621679732655"><span class="hs-identifier hs-var">manualFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1694"></span><span>    </span><span class="annot"><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><span class="annottext">ConfVar
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1695"></span><span>    </span><span class="annot"><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#Lit"><span class="hs-identifier hs-type">Lit</span></a></span><span>  </span><span id="local-6989586621679732646"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732646"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732646"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1696"></span><span>    </span><span class="annot"><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#CNot"><span class="hs-identifier hs-type">CNot</span></a></span><span> </span><span id="local-6989586621679732645"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732645"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732661"><span class="hs-identifier hs-var">definitelyFalse</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732645"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1697"></span><span>    </span><span class="annot"><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#COr"><span class="hs-identifier hs-type">COr</span></a></span><span>  </span><span id="local-6989586621679732644"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732644"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621679732643"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732643"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732644"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732643"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-1698"></span><span>    </span><span class="annot"><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.Condition.html#CAnd"><span class="hs-identifier hs-type">CAnd</span></a></span><span> </span><span id="local-6989586621679732642"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732642"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span id="local-6989586621679732641"><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732641"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732642"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar -&gt; Bool
</span><a href="#local-6989586621679732652"><span class="hs-identifier hs-var">definitelyTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Condition ConfVar
</span><a href="#local-6989586621679732641"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-1699"></span><span>
</span><span id="line-1700"></span><span>    </span><span id="local-6989586621679732655"><span class="annot"><span class="annottext">manualFlags :: Map FlagName Bool
</span><a href="#local-6989586621679732655"><span class="hs-identifier hs-var hs-var">manualFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.6.5.1/src/Data-Map-Internal.html#fromList"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span>
</span><span id="line-1701"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageFlag -&gt; FlagName
</span><a href="Distribution.Types.Flag.html#flagName"><span class="hs-identifier hs-var">flagName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageFlag
</span><a href="#local-6989586621679732638"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageFlag -&gt; Bool
</span><a href="Distribution.Types.Flag.html#flagDefault"><span class="hs-identifier hs-var">flagDefault</span></a></span><span> </span><span class="annot"><span class="annottext">PackageFlag
</span><a href="#local-6989586621679732638"><span class="hs-identifier hs-var">flag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1702"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732638"><span class="annot"><span class="annottext">PackageFlag
</span><a href="#local-6989586621679732638"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription -&gt; [PackageFlag]
</span><a href="Distribution.Types.GenericPackageDescription.html#genPackageFlags"><span class="hs-identifier hs-var">genPackageFlags</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1703"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageFlag -&gt; Bool
</span><a href="Distribution.Types.Flag.html#flagManual"><span class="hs-identifier hs-var">flagManual</span></a></span><span> </span><span class="annot"><span class="annottext">PackageFlag
</span><a href="#local-6989586621679732638"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1704"></span><span>
</span><span id="line-1705"></span><span>    </span><span class="annot"><a href="#local-6989586621679732663"><span class="hs-identifier hs-type">allConditionalBuildInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Types.Condition.html#Condition"><span class="hs-identifier hs-type">Condition</span></a></span><span> </span><span class="annot"><a href="Distribution.Types.ConfVar.html#ConfVar"><span class="hs-identifier hs-type">ConfVar</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1706"></span><span>    </span><span id="local-6989586621679732663"><span class="annot"><span class="annottext">allConditionalBuildInfo :: [([Condition ConfVar], BuildInfo)]
</span><a href="#local-6989586621679732663"><span class="hs-identifier hs-var hs-var">allConditionalBuildInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1707"></span><span>        </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b v c. (a -&gt; b) -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732635"><span class="hs-identifier hs-var">collectCondTreePaths</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; BuildInfo
</span><a href="Distribution.Types.Library.html#libBuildInfo"><span class="hs-identifier hs-var">libBuildInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1708"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#maybeToList"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; Maybe (CondTree ConfVar [Dependency] Library)
</span><a href="Distribution.Types.GenericPackageDescription.html#condLibrary"><span class="hs-identifier hs-var">condLibrary</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1709"></span><span>
</span><span id="line-1710"></span><span>     </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b v c. (a -&gt; b) -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732635"><span class="hs-identifier hs-var">collectCondTreePaths</span></a></span><span> </span><span class="annot"><span class="annottext">Library -&gt; BuildInfo
</span><a href="Distribution.Types.Library.html#libBuildInfo"><span class="hs-identifier hs-var">libBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1711"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName, CondTree ConfVar [Dependency] Library)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condSubLibraries"><span class="hs-identifier hs-var">condSubLibraries</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1712"></span><span>
</span><span id="line-1713"></span><span>     </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b v c. (a -&gt; b) -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732635"><span class="hs-identifier hs-var">collectCondTreePaths</span></a></span><span> </span><span class="annot"><span class="annottext">Executable -&gt; BuildInfo
</span><a href="Distribution.Types.Executable.html#buildInfo"><span class="hs-identifier hs-var">buildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1714"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName,
     CondTree ConfVar [Dependency] Executable)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condExecutables"><span class="hs-identifier hs-var">condExecutables</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1715"></span><span>
</span><span id="line-1716"></span><span>     </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b v c. (a -&gt; b) -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732635"><span class="hs-identifier hs-var">collectCondTreePaths</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; BuildInfo
</span><a href="Distribution.Types.TestSuite.html#testBuildInfo"><span class="hs-identifier hs-var">testBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1717"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName, CondTree ConfVar [Dependency] TestSuite)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condTestSuites"><span class="hs-identifier hs-var">condTestSuites</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1718"></span><span>
</span><span id="line-1719"></span><span>     </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b v c. (a -&gt; b) -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732635"><span class="hs-identifier hs-var">collectCondTreePaths</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; BuildInfo
</span><a href="Distribution.Types.Benchmark.html#benchmarkBuildInfo"><span class="hs-identifier hs-var">benchmarkBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1720"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericPackageDescription
-&gt; [(UnqualComponentName, CondTree ConfVar [Dependency] Benchmark)]
</span><a href="Distribution.Types.GenericPackageDescription.html#condBenchmarks"><span class="hs-identifier hs-var">condBenchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">GenericPackageDescription
</span><a href="#local-6989586621679732666"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1721"></span><span>
</span><span id="line-1722"></span><span>    </span><span class="hs-comment">-- get all the leaf BuildInfo, paired up with the path (in the tree sense)</span><span>
</span><span id="line-1723"></span><span>    </span><span class="hs-comment">-- of if-conditions that guard it</span><span>
</span><span id="line-1724"></span><span>    </span><span id="local-6989586621679733946"><span id="local-6989586621679733947"><span id="local-6989586621679733948"><span id="local-6989586621679733949"><span class="annot"><a href="#local-6989586621679732635"><span class="hs-identifier hs-type">collectCondTreePaths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679733949"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733948"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1725"></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.CondTree.html#CondTree"><span class="hs-identifier hs-type">CondTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733947"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733946"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733949"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1726"></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Types.Condition.html#Condition"><span class="hs-identifier hs-type">Condition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733947"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679733948"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-1727"></span><span>    </span><span id="local-6989586621679732635"><span class="annot"><span class="annottext">collectCondTreePaths :: forall a b v c. (a -&gt; b) -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732635"><span class="hs-identifier hs-var hs-var">collectCondTreePaths</span></a></span></span><span> </span><span id="local-6989586621679732633"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679732633"><span class="hs-identifier hs-var">mapData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {v} {c}.
[Condition v] -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732632"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1728"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1729"></span><span>        </span><span id="local-6989586621679732632"><span class="annot"><span class="annottext">go :: [Condition v] -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732632"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679732629"><span class="annot"><span class="annottext">[Condition v]
</span><a href="#local-6989586621679732629"><span class="hs-identifier hs-var">conditions</span></a></span></span><span> </span><span id="local-6989586621679732628"><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732628"><span class="hs-identifier hs-var">condNode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1730"></span><span>            </span><span class="hs-comment">-- the data at this level in the tree:</span><span>
</span><span id="line-1731"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">[Condition v]
</span><a href="#local-6989586621679732629"><span class="hs-identifier hs-var">conditions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679732633"><span class="hs-identifier hs-var">mapData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall v c a. CondTree v c a -&gt; a
</span><a href="Distribution.Types.CondTree.html#condTreeData"><span class="hs-identifier hs-var">condTreeData</span></a></span><span> </span><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732628"><span class="hs-identifier hs-var">condNode</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1732"></span><span>
</span><span id="line-1733"></span><span>          </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-1734"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Condition v] -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732632"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Condition v
</span><a href="#local-6989586621679732625"><span class="hs-identifier hs-var">condition</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Condition v]
</span><a href="#local-6989586621679732629"><span class="hs-identifier hs-var">conditions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732624"><span class="hs-identifier hs-var">ifThen</span></a></span><span>
</span><span id="line-1735"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.CondTree.html#CondBranch"><span class="hs-identifier hs-type">CondBranch</span></a></span><span> </span><span id="local-6989586621679732625"><span class="annot"><span class="annottext">Condition v
</span><a href="#local-6989586621679732625"><span class="hs-identifier hs-var">condition</span></a></span></span><span> </span><span id="local-6989586621679732624"><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732624"><span class="hs-identifier hs-var">ifThen</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (CondTree v c a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall v c a. CondTree v c a -&gt; [CondBranch v c a]
</span><a href="Distribution.Types.CondTree.html#condTreeComponents"><span class="hs-identifier hs-var">condTreeComponents</span></a></span><span> </span><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732628"><span class="hs-identifier hs-var">condNode</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1736"></span><span>
</span><span id="line-1737"></span><span>         </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-1738"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Condition v] -&gt; CondTree v c a -&gt; [([Condition v], b)]
</span><a href="#local-6989586621679732632"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Condition v
</span><a href="#local-6989586621679732622"><span class="hs-identifier hs-var">condition</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Condition v]
</span><a href="#local-6989586621679732629"><span class="hs-identifier hs-var">conditions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732621"><span class="hs-identifier hs-var">elseThen</span></a></span><span>
</span><span id="line-1739"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.CondTree.html#CondBranch"><span class="hs-identifier hs-type">CondBranch</span></a></span><span> </span><span id="local-6989586621679732622"><span class="annot"><span class="annottext">Condition v
</span><a href="#local-6989586621679732622"><span class="hs-identifier hs-var">condition</span></a></span></span><span> </span><span class="annot"><span class="annottext">CondTree v c a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679732621"><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732621"><span class="hs-identifier hs-var">elseThen</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall v c a. CondTree v c a -&gt; [CondBranch v c a]
</span><a href="Distribution.Types.CondTree.html#condTreeComponents"><span class="hs-identifier hs-var">condTreeComponents</span></a></span><span> </span><span class="annot"><span class="annottext">CondTree v c a
</span><a href="#local-6989586621679732628"><span class="hs-identifier hs-var">condNode</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1740"></span><span>
</span><span id="line-1741"></span><span>
</span><span id="line-1742"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-1743"></span><span class="hs-comment">-- * Checks involving files in the package</span><span>
</span><span id="line-1744"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-1745"></span><span>
</span><span id="line-1746"></span><span class="hs-comment">-- | Sanity check things that requires IO. It looks at the files in the</span><span>
</span><span id="line-1747"></span><span class="hs-comment">-- package and expects to find the package unpacked in at the given file path.</span><span>
</span><span id="line-1748"></span><span class="hs-comment">--</span><span>
</span><span id="line-1749"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageFiles"><span class="hs-identifier hs-type">checkPackageFiles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1750"></span><span id="checkPackageFiles"><span class="annot"><span class="annottext">checkPackageFiles :: Verbosity -&gt; PackageDescription -&gt; String -&gt; IO [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageFiles"><span class="hs-identifier hs-var hs-var">checkPackageFiles</span></a></span></span><span> </span><span id="local-6989586621679732620"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679732620"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679732619"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732619"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679732618"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732618"><span class="hs-identifier hs-var">root</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1751"></span><span>  </span><span id="local-6989586621679732617"><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732617"><span class="hs-identifier hs-var">contentChecks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
(Monad m, Applicative m) =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageContent"><span class="hs-identifier hs-var">checkPackageContent</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps IO
</span><a href="#local-6989586621679732616"><span class="hs-identifier hs-var">checkFilesIO</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732619"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1752"></span><span>  </span><span id="local-6989586621679732615"><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732615"><span class="hs-identifier hs-var">preDistributionChecks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; PackageDescription -&gt; String -&gt; IO [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageFilesPreDistribution"><span class="hs-identifier hs-var">checkPackageFilesPreDistribution</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679732620"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732619"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732618"><span class="hs-identifier hs-var">root</span></a></span><span>
</span><span id="line-1753"></span><span>  </span><span class="hs-comment">-- Sort because different platforms will provide files from</span><span>
</span><span id="line-1754"></span><span>  </span><span class="hs-comment">-- `getDirectoryContents` in different orders, and we'd like to be</span><span>
</span><span id="line-1755"></span><span>  </span><span class="hs-comment">-- stable for test output.</span><span>
</span><span id="line-1756"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#sort"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732617"><span class="hs-identifier hs-var">contentChecks</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#sort"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732615"><span class="hs-identifier hs-var">preDistributionChecks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1757"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1758"></span><span>    </span><span id="local-6989586621679732616"><span class="annot"><span class="annottext">checkFilesIO :: CheckPackageContentOps IO
</span><a href="#local-6989586621679732616"><span class="hs-identifier hs-var hs-var">checkFilesIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1759"></span><span>      </span><span class="annot"><span class="annottext">doesFileExist :: String -&gt; IO Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Bool
</span><a href="../../directory-1.3.6.2/src/System-Directory.html#doesFileExist"><span class="hs-identifier hs-var">System.doesFileExist</span></a></span><span>                  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621679732609"><span class="hs-identifier hs-var">relative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1760"></span><span>      </span><span class="annot"><span class="annottext">doesDirectoryExist :: String -&gt; IO Bool
</span><a href="Distribution.PackageDescription.Check.html#doesDirectoryExist"><span class="hs-identifier hs-var">doesDirectoryExist</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Bool
</span><a href="../../directory-1.3.6.2/src/System-Directory.html#doesDirectoryExist"><span class="hs-identifier hs-var">System.doesDirectoryExist</span></a></span><span>             </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621679732609"><span class="hs-identifier hs-var">relative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1761"></span><span>      </span><span class="annot"><span class="annottext">getDirectoryContents :: String -&gt; IO [String]
</span><a href="Distribution.PackageDescription.Check.html#getDirectoryContents"><span class="hs-identifier hs-var">getDirectoryContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO [String]
</span><a href="../../directory-1.3.6.2/src/System-Directory.html#getDirectoryContents"><span class="hs-identifier hs-var">System.Directory.getDirectoryContents</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621679732609"><span class="hs-identifier hs-var">relative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1762"></span><span>      </span><span class="annot"><span class="annottext">getFileContents :: String -&gt; IO ByteString
</span><a href="Distribution.PackageDescription.Check.html#getFileContents"><span class="hs-identifier hs-var">getFileContents</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ByteString
</span><a href="../../bytestring-0.11.3.1/src/Data-ByteString-Lazy.html#readFile"><span class="hs-identifier hs-var">BS.readFile</span></a></span><span>                           </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621679732609"><span class="hs-identifier hs-var">relative</span></a></span><span>
</span><span id="line-1763"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1764"></span><span>    </span><span id="local-6989586621679732609"><span class="annot"><span class="annottext">relative :: ShowS
</span><a href="#local-6989586621679732609"><span class="hs-identifier hs-var hs-var">relative</span></a></span></span><span> </span><span id="local-6989586621679732603"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732603"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732618"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732603"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-1765"></span><span>
</span><span id="line-1766"></span><span class="hs-comment">-- | A record of operations needed to check the contents of packages.</span><span>
</span><span id="line-1767"></span><span class="hs-comment">-- Used by 'checkPackageContent'.</span><span>
</span><span id="line-1768"></span><span class="hs-comment">--</span><span>
</span><span id="line-1769"></span><span class="hs-keyword">data</span><span> </span><span id="CheckPackageContentOps"><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-var">CheckPackageContentOps</span></a></span></span><span> </span><span id="local-6989586621679733934"><span class="annot"><a href="#local-6989586621679733934"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CheckPackageContentOps"><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-var">CheckPackageContentOps</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1770"></span><span>    </span><span id="doesFileExist"><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var hs-var">doesFileExist</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733934"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-1771"></span><span>    </span><span id="doesDirectoryExist"><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesDirectoryExist"><span class="hs-identifier hs-var hs-var">doesDirectoryExist</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733934"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-1772"></span><span>    </span><span id="getDirectoryContents"><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
CheckPackageContentOps m -&gt; String -&gt; m [String]
</span><a href="Distribution.PackageDescription.Check.html#getDirectoryContents"><span class="hs-identifier hs-var hs-var">getDirectoryContents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733934"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-1773"></span><span>    </span><span id="getFileContents"><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
CheckPackageContentOps m -&gt; String -&gt; m ByteString
</span><a href="Distribution.PackageDescription.Check.html#getFileContents"><span class="hs-identifier hs-var hs-var">getFileContents</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733934"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../bytestring-0.11.3.1/src/Data-ByteString-Lazy-Internal.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-1774"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-1775"></span><span>
</span><span id="line-1776"></span><span class="hs-comment">-- | Sanity check things that requires looking at files in the package.</span><span>
</span><span id="line-1777"></span><span class="hs-comment">-- This is a generalised version of 'checkPackageFiles' that can work in any</span><span>
</span><span id="line-1778"></span><span class="hs-comment">-- monad for which you can provide 'CheckPackageContentOps' operations.</span><span>
</span><span id="line-1779"></span><span class="hs-comment">--</span><span>
</span><span id="line-1780"></span><span class="hs-comment">-- The point of this extra generality is to allow doing checks in some virtual</span><span>
</span><span id="line-1781"></span><span class="hs-comment">-- file system, for example a tarball in memory.</span><span>
</span><span id="line-1782"></span><span class="hs-comment">--</span><span>
</span><span id="line-1783"></span><span id="local-6989586621679733937"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageContent"><span class="hs-identifier hs-type">checkPackageContent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1784"></span><span>                    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733937"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1785"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1786"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733937"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-1787"></span><span id="checkPackageContent"><span class="annot"><span class="annottext">checkPackageContent :: forall (m :: * -&gt; *).
(Monad m, Applicative m) =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageContent"><span class="hs-identifier hs-var hs-var">checkPackageContent</span></a></span></span><span> </span><span id="local-6989586621679732583"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732582"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1788"></span><span>  </span><span id="local-6989586621679732581"><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732581"><span class="hs-identifier hs-var">cabalBomError</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkCabalFileBOM"><span class="hs-identifier hs-var">checkCabalFileBOM</span></a></span><span>    </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-1789"></span><span>  </span><span id="local-6989586621679732579"><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732579"><span class="hs-identifier hs-var">cabalNameError</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m
-&gt; PackageDescription -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkCabalFileName"><span class="hs-identifier hs-var">checkCabalFileName</span></a></span><span>   </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1790"></span><span>  </span><span id="local-6989586621679732577"><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732577"><span class="hs-identifier hs-var">licenseErrors</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
(Monad m, Applicative m) =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLicensesExist"><span class="hs-identifier hs-var">checkLicensesExist</span></a></span><span>   </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1791"></span><span>  </span><span id="local-6989586621679732575"><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732575"><span class="hs-identifier hs-var">setupError</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m
-&gt; PackageDescription -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkSetupExists"><span class="hs-identifier hs-var">checkSetupExists</span></a></span><span>     </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1792"></span><span>  </span><span id="local-6989586621679732573"><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732573"><span class="hs-identifier hs-var">configureError</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m
-&gt; PackageDescription -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkConfigureExists"><span class="hs-identifier hs-var">checkConfigureExists</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1793"></span><span>  </span><span id="local-6989586621679732571"><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732571"><span class="hs-identifier hs-var">localPathErrors</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLocalPathsExist"><span class="hs-identifier hs-var">checkLocalPathsExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1794"></span><span>  </span><span id="local-6989586621679732569"><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732569"><span class="hs-identifier hs-var">vcsLocation</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
(Monad m, Applicative m) =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkMissingVcsInfo"><span class="hs-identifier hs-var">checkMissingVcsInfo</span></a></span><span>  </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732583"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732582"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1795"></span><span>
</span><span id="line-1796"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732577"><span class="hs-identifier hs-var">licenseErrors</span></a></span><span>
</span><span id="line-1797"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732581"><span class="hs-identifier hs-var">cabalBomError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732579"><span class="hs-identifier hs-var">cabalNameError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732575"><span class="hs-identifier hs-var">setupError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe PackageCheck
</span><a href="#local-6989586621679732573"><span class="hs-identifier hs-var">configureError</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1798"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732571"><span class="hs-identifier hs-var">localPathErrors</span></a></span><span>
</span><span id="line-1799"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732569"><span class="hs-identifier hs-var">vcsLocation</span></a></span><span>
</span><span id="line-1800"></span><span>
</span><span id="line-1801"></span><span id="local-6989586621679733928"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCabalFileBOM"><span class="hs-identifier hs-type">checkCabalFileBOM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733928"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733928"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1802"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733928"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1803"></span><span id="checkCabalFileBOM"><span class="annot"><span class="annottext">checkCabalFileBOM :: forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkCabalFileBOM"><span class="hs-identifier hs-var hs-var">checkCabalFileBOM</span></a></span></span><span> </span><span id="local-6989586621679732558"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732558"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1804"></span><span>  </span><span id="local-6989586621679732557"><span class="annot"><span class="annottext">Either PackageCheck String
</span><a href="#local-6989586621679732557"><span class="hs-identifier hs-var">epdfile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; m (Either PackageCheck String)
</span><a href="Distribution.PackageDescription.Check.html#findPackageDesc"><span class="hs-identifier hs-var">findPackageDesc</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732558"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-1805"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either PackageCheck String
</span><a href="#local-6989586621679732557"><span class="hs-identifier hs-var">epdfile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1806"></span><span>    </span><span class="hs-comment">-- MASSIVE HACK.  If the Cabal file doesn't exist, that is</span><span>
</span><span id="line-1807"></span><span>    </span><span class="hs-comment">-- a very strange situation to be in, because the driver code</span><span>
</span><span id="line-1808"></span><span>    </span><span class="hs-comment">-- in 'Distribution.Setup' ought to have noticed already!</span><span>
</span><span id="line-1809"></span><span>    </span><span class="hs-comment">-- But this can be an issue, see #3552 and also when</span><span>
</span><span id="line-1810"></span><span>    </span><span class="hs-comment">-- --cabal-file is specified.  So if you can't find the file,</span><span>
</span><span id="line-1811"></span><span>    </span><span class="hs-comment">-- just don't bother with this check.</span><span>
</span><span id="line-1812"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1813"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679732555"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732555"><span class="hs-identifier hs-var">pdfile</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#flip"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732554"><span class="hs-identifier hs-var">pc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
</span><a href="../../bytestring-0.11.3.1/src/Data-ByteString-Lazy.html#isPrefixOf"><span class="hs-identifier hs-var">BS.isPrefixOf</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679732552"><span class="hs-identifier hs-var">bomUtf8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1814"></span><span>                    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#liftM"><span class="hs-operator hs-var">`liftM`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
CheckPackageContentOps m -&gt; String -&gt; m ByteString
</span><a href="Distribution.PackageDescription.Check.html#getFileContents"><span class="hs-identifier hs-var">getFileContents</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732558"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732555"><span class="hs-identifier hs-var">pdfile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1815"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679732554"><span class="annot"><span class="annottext">pc :: PackageCheck
</span><a href="#local-6989586621679732554"><span class="hs-identifier hs-var hs-var">pc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1816"></span><span>                 </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732555"><span class="hs-identifier hs-var">pdfile</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; starts with an Unicode byte order mark (BOM).&quot;</span></span><span>
</span><span id="line-1817"></span><span>                 </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; This may cause problems with older cabal versions.&quot;</span></span><span>
</span><span id="line-1818"></span><span>
</span><span id="line-1819"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1820"></span><span>    </span><span class="annot"><a href="#local-6989586621679732552"><span class="hs-identifier hs-type">bomUtf8</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../bytestring-0.11.3.1/src/Data-ByteString-Lazy-Internal.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-1821"></span><span>    </span><span id="local-6989586621679732552"><span class="annot"><span class="annottext">bomUtf8 :: ByteString
</span><a href="#local-6989586621679732552"><span class="hs-identifier hs-var hs-var">bomUtf8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Word8] -&gt; ByteString
</span><a href="../../bytestring-0.11.3.1/src/Data-ByteString-Lazy.html#pack"><span class="hs-identifier hs-var">BS.pack</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0xef</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0xbb</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0xbf</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- U+FEFF encoded as UTF8</span><span>
</span><span id="line-1822"></span><span>
</span><span id="line-1823"></span><span id="local-6989586621679733927"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkCabalFileName"><span class="hs-identifier hs-type">checkCabalFileName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733927"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733927"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1824"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1825"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733927"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1826"></span><span id="checkCabalFileName"><span class="annot"><span class="annottext">checkCabalFileName :: forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m
-&gt; PackageDescription -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkCabalFileName"><span class="hs-identifier hs-var hs-var">checkCabalFileName</span></a></span></span><span> </span><span id="local-6989586621679732542"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732542"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732541"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732541"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1827"></span><span>  </span><span class="hs-comment">-- findPackageDesc already takes care to detect missing/multiple</span><span>
</span><span id="line-1828"></span><span>  </span><span class="hs-comment">-- .cabal files; we don't include this check in 'findPackageDesc' in</span><span>
</span><span id="line-1829"></span><span>  </span><span class="hs-comment">-- order not to short-cut other checks which call 'findPackageDesc'</span><span>
</span><span id="line-1830"></span><span>  </span><span id="local-6989586621679732540"><span class="annot"><span class="annottext">Either PackageCheck String
</span><a href="#local-6989586621679732540"><span class="hs-identifier hs-var">epdfile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; m (Either PackageCheck String)
</span><a href="Distribution.PackageDescription.Check.html#findPackageDesc"><span class="hs-identifier hs-var">findPackageDesc</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732542"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-1831"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either PackageCheck String
</span><a href="#local-6989586621679732540"><span class="hs-identifier hs-var">epdfile</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1832"></span><span>    </span><span class="hs-comment">-- see &quot;MASSIVE HACK&quot; note in 'checkCabalFileBOM'</span><span>
</span><span id="line-1833"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1834"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679732539"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732539"><span class="hs-identifier hs-var">pdfile</span></a></span></span><span>
</span><span id="line-1835"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeFileName"><span class="hs-identifier hs-var">takeFileName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732539"><span class="hs-identifier hs-var">pdfile</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732538"><span class="hs-identifier hs-var">expectedCabalname</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1836"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1837"></span><span>                 </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The filename &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732539"><span class="hs-identifier hs-var">pdfile</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; does not match package name &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1838"></span><span>                 </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(expected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732538"><span class="hs-identifier hs-var">expectedCabalname</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1839"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1840"></span><span>    </span><span id="local-6989586621679732536"><span class="annot"><span class="annottext">pkgname :: String
</span><a href="#local-6989586621679732536"><span class="hs-identifier hs-var hs-var">pkgname</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageName -&gt; String
</span><a href="Distribution.Types.PackageName.html#unPackageName"><span class="hs-identifier hs-var">unPackageName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732541"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1841"></span><span>    </span><span id="local-6989586621679732538"><span class="annot"><span class="annottext">expectedCabalname :: String
</span><a href="#local-6989586621679732538"><span class="hs-identifier hs-var hs-var">expectedCabalname</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732536"><span class="hs-identifier hs-var">pkgname</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#%3C.%3E"><span class="hs-operator hs-var">&lt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cabal&quot;</span></span><span>
</span><span id="line-1842"></span><span>
</span><span id="line-1843"></span><span>
</span><span id="line-1844"></span><span class="hs-comment">-- |Find a package description file in the given directory.  Looks for</span><span>
</span><span id="line-1845"></span><span class="hs-comment">-- @.cabal@ files.  Like 'Distribution.Simple.Utils.findPackageDesc',</span><span>
</span><span id="line-1846"></span><span class="hs-comment">-- but generalized over monads.</span><span>
</span><span id="line-1847"></span><span id="local-6989586621679733924"><span class="annot"><a href="Distribution.PackageDescription.Check.html#findPackageDesc"><span class="hs-identifier hs-type">findPackageDesc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733924"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733924"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1848"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733924"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-comment">-- ^&lt;pkgname&gt;.cabal</span><span>
</span><span id="line-1849"></span><span id="findPackageDesc"><span class="annot"><span class="annottext">findPackageDesc :: forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; m (Either PackageCheck String)
</span><a href="Distribution.PackageDescription.Check.html#findPackageDesc"><span class="hs-identifier hs-var hs-var">findPackageDesc</span></a></span></span><span> </span><span id="local-6989586621679732524"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732524"><span class="hs-identifier hs-var">ops</span></a></span></span><span>
</span><span id="line-1850"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679732523"><span class="annot"><span class="annottext">dir :: String
</span><a href="#local-6989586621679732523"><span class="hs-identifier hs-var hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-1851"></span><span>      </span><span id="local-6989586621679732522"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732522"><span class="hs-identifier hs-var">files</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
CheckPackageContentOps m -&gt; String -&gt; m [String]
</span><a href="Distribution.PackageDescription.Check.html#getDirectoryContents"><span class="hs-identifier hs-var">getDirectoryContents</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732524"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732523"><span class="hs-identifier hs-var">dir</span></a></span><span>
</span><span id="line-1852"></span><span>      </span><span class="hs-comment">-- to make sure we do not mistake a ~/.cabal/ dir for a &lt;pkgname&gt;.cabal</span><span>
</span><span id="line-1853"></span><span>      </span><span class="hs-comment">-- file we filter to exclude dirs and null base file names:</span><span>
</span><span id="line-1854"></span><span>      </span><span id="local-6989586621679732521"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732521"><span class="hs-identifier hs-var">cabalFiles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
Applicative m =&gt;
(a -&gt; m Bool) -&gt; [a] -&gt; m [a]
</span><a href="../../base-4.16.3.0/src/Control-Monad.html#filterM"><span class="hs-identifier hs-var">filterM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732524"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1855"></span><span>                       </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732523"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732519"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-1856"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732519"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732519"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732522"><span class="hs-identifier hs-var">files</span></a></span><span>
</span><span id="line-1857"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732518"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732518"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732517"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732517"><span class="hs-identifier hs-var">ext</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (String, String)
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitExtension"><span class="hs-identifier hs-var">splitExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732519"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-1858"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732518"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732517"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.cabal&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1859"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732521"><span class="hs-identifier hs-var">cabalFiles</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1860"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732516"><span class="hs-identifier hs-var">noDesc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1861"></span><span>        </span><span class="hs-special">[</span><span id="local-6989586621679732515"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732515"><span class="hs-identifier hs-var">cabalFile</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732515"><span class="hs-identifier hs-var">cabalFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1862"></span><span>        </span><span id="local-6989586621679732514"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732514"><span class="hs-identifier hs-var">multiple</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildImpossible"><span class="hs-identifier hs-var">PackageBuildImpossible</span></a></span><span>
</span><span id="line-1863"></span><span>                               </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="#local-6989586621679732513"><span class="hs-identifier hs-var">multiDesc</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732514"><span class="hs-identifier hs-var">multiple</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1864"></span><span>
</span><span id="line-1865"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1866"></span><span>    </span><span class="annot"><a href="#local-6989586621679732516"><span class="hs-identifier hs-type">noDesc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-1867"></span><span>    </span><span id="local-6989586621679732516"><span class="annot"><span class="annottext">noDesc :: String
</span><a href="#local-6989586621679732516"><span class="hs-identifier hs-var hs-var">noDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No cabal file found.\n&quot;</span></span><span>
</span><span id="line-1868"></span><span>             </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please create a package description file &lt;pkgname&gt;.cabal&quot;</span></span><span>
</span><span id="line-1869"></span><span>
</span><span id="line-1870"></span><span>    </span><span class="annot"><a href="#local-6989586621679732513"><span class="hs-identifier hs-type">multiDesc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-1871"></span><span>    </span><span id="local-6989586621679732513"><span class="annot"><span class="annottext">multiDesc :: [String] -&gt; String
</span><a href="#local-6989586621679732513"><span class="hs-identifier hs-var hs-var">multiDesc</span></a></span></span><span> </span><span id="local-6989586621679732512"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732512"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Multiple cabal files found while checking.\n&quot;</span></span><span>
</span><span id="line-1872"></span><span>                  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Please use only one of: &quot;</span></span><span>
</span><span id="line-1873"></span><span>                  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [[a]] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#intercalate"><span class="hs-identifier hs-var">intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732512"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1874"></span><span>
</span><span id="line-1875"></span><span id="local-6989586621679732510"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkLicensesExist"><span class="hs-identifier hs-type">checkLicensesExist</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732510"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732510"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1876"></span><span>                   </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732510"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1877"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1878"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679732510"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-1879"></span><span id="checkLicensesExist"><span class="annot"><span class="annottext">checkLicensesExist :: forall (m :: * -&gt; *).
(Monad m, Applicative m) =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLicensesExist"><span class="hs-identifier hs-var hs-var">checkLicensesExist</span></a></span></span><span> </span><span id="local-6989586621679732503"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732503"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732502"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732502"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1880"></span><span>    </span><span id="local-6989586621679732501"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679732501"><span class="hs-identifier hs-var">exists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732503"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall from to. SymbolicPath from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [SymbolicPath PackageDir LicenseFile]
</span><a href="Distribution.Types.PackageDescription.html#licenseFiles"><span class="hs-identifier hs-var">licenseFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732502"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1881"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span>
</span><span id="line-1882"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1883"></span><span>           </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732500"><span class="hs-identifier hs-var">fieldname</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' field refers to the file &quot;</span></span><span>
</span><span id="line-1884"></span><span>        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall from to. SymbolicPath from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath PackageDir LicenseFile
</span><a href="#local-6989586621679732499"><span class="hs-identifier hs-var">file</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; which does not exist.&quot;</span></span><span>
</span><span id="line-1885"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732499"><span class="annot"><span class="annottext">SymbolicPath PackageDir LicenseFile
</span><a href="#local-6989586621679732499"><span class="hs-identifier hs-var">file</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [SymbolicPath PackageDir LicenseFile]
</span><a href="Distribution.Types.PackageDescription.html#licenseFiles"><span class="hs-identifier hs-var">licenseFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732502"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679732501"><span class="hs-identifier hs-var">exists</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1886"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1887"></span><span>    </span><span id="local-6989586621679732500"><span class="annot"><span class="annottext">fieldname :: String
</span><a href="#local-6989586621679732500"><span class="hs-identifier hs-var hs-var">fieldname</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [SymbolicPath PackageDir LicenseFile]
</span><a href="Distribution.Types.PackageDescription.html#licenseFiles"><span class="hs-identifier hs-var">licenseFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732502"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;license-file&quot;</span></span><span>
</span><span id="line-1888"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;license-files&quot;</span></span><span>
</span><span id="line-1889"></span><span>
</span><span id="line-1890"></span><span id="local-6989586621679732493"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkSetupExists"><span class="hs-identifier hs-type">checkSetupExists</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732493"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732493"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1891"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1892"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679732493"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1893"></span><span id="checkSetupExists"><span class="annot"><span class="annottext">checkSetupExists :: forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m
-&gt; PackageDescription -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkSetupExists"><span class="hs-identifier hs-var hs-var">checkSetupExists</span></a></span></span><span> </span><span id="local-6989586621679732488"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732488"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732487"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732487"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1894"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679732485"><span class="annot"><span class="annottext">simpleBuild :: Bool
</span><a href="#local-6989586621679732485"><span class="hs-identifier hs-var hs-var">simpleBuild</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; BuildType
</span><a href="Distribution.Types.PackageDescription.html#buildType"><span class="hs-identifier hs-var">buildType</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732487"><span class="hs-identifier hs-var">pkg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">BuildType
</span><a href="Distribution.Types.BuildType.html#Simple"><span class="hs-identifier hs-var">Simple</span></a></span><span>
</span><span id="line-1895"></span><span>  </span><span id="local-6989586621679732483"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732483"><span class="hs-identifier hs-var">hsexists</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732488"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Setup.hs&quot;</span></span><span>
</span><span id="line-1896"></span><span>  </span><span id="local-6989586621679732482"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732482"><span class="hs-identifier hs-var">lhsexists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732488"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Setup.lhs&quot;</span></span><span>
</span><span id="line-1897"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732485"><span class="hs-identifier hs-var">simpleBuild</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732483"><span class="hs-identifier hs-var">hsexists</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732482"><span class="hs-identifier hs-var">lhsexists</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1898"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1899"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The package is missing a Setup.hs or Setup.lhs script.&quot;</span></span><span>
</span><span id="line-1900"></span><span>
</span><span id="line-1901"></span><span id="local-6989586621679732481"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkConfigureExists"><span class="hs-identifier hs-type">checkConfigureExists</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732481"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732481"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1902"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1903"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679732481"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1904"></span><span id="checkConfigureExists"><span class="annot"><span class="annottext">checkConfigureExists :: forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m
-&gt; PackageDescription -&gt; m (Maybe PackageCheck)
</span><a href="Distribution.PackageDescription.Check.html#checkConfigureExists"><span class="hs-identifier hs-var hs-var">checkConfigureExists</span></a></span></span><span> </span><span id="local-6989586621679732475"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732475"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732474"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732474"><span class="hs-identifier hs-var">pd</span></a></span></span><span>
</span><span id="line-1905"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; BuildType
</span><a href="Distribution.Types.PackageDescription.html#buildType"><span class="hs-identifier hs-var">buildType</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732474"><span class="hs-identifier hs-var">pd</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">BuildType
</span><a href="Distribution.Types.BuildType.html#Configure"><span class="hs-identifier hs-var">Configure</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1906"></span><span>      </span><span id="local-6989586621679732472"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732472"><span class="hs-identifier hs-var">exists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732475"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;configure&quot;</span></span><span>
</span><span id="line-1907"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732472"><span class="hs-identifier hs-var">exists</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1908"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-var">PackageBuildWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1909"></span><span>          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The 'build-type' is 'Configure' but there is no 'configure' script. &quot;</span></span><span>
</span><span id="line-1910"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;You probably need to run 'autoreconf -i' to generate it.&quot;</span></span><span>
</span><span id="line-1911"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1912"></span><span>
</span><span id="line-1913"></span><span id="local-6989586621679733926"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkLocalPathsExist"><span class="hs-identifier hs-type">checkLocalPathsExist</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733926"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679733926"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1914"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1915"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679733926"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-1916"></span><span id="checkLocalPathsExist"><span class="annot"><span class="annottext">checkLocalPathsExist :: forall (m :: * -&gt; *).
Monad m =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkLocalPathsExist"><span class="hs-identifier hs-var hs-var">checkLocalPathsExist</span></a></span></span><span> </span><span id="local-6989586621679732465"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732465"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732464"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732464"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1917"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679732463"><span class="annot"><span class="annottext">dirs :: [(String, String)]
</span><a href="#local-6989586621679732463"><span class="hs-identifier hs-var hs-var">dirs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732462"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732461"><span class="hs-identifier hs-var">kind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1918"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732460"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732460"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [BuildInfo]
</span><a href="Distribution.Types.PackageDescription.html#allBuildInfo"><span class="hs-identifier hs-var">allBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732464"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-1919"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732462"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732462"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732461"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732461"><span class="hs-identifier hs-var">kind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1920"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732459"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-lib-dirs&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732459"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732459"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraLibDirs"><span class="hs-identifier hs-var">extraLibDirs</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732460"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1921"></span><span>               </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732458"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-framework-dirs&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1922"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732458"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732458"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#extraFrameworkDirs"><span class="hs-identifier hs-var">extraFrameworkDirs</span></a></span><span>  </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732460"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1923"></span><span>               </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732457"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;include-dirs&quot;</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732457"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732457"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [String]
</span><a href="Distribution.Types.BuildInfo.html#includeDirs"><span class="hs-identifier hs-var">includeDirs</span></a></span><span>  </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732460"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1924"></span><span>               </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall from to. SymbolicPath from to -&gt; String
</span><a href="Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-var">getSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath PackageDir SourceDir
</span><a href="#local-6989586621679732456"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hs-source-dirs&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732456"><span class="annot"><span class="annottext">SymbolicPath PackageDir SourceDir
</span><a href="#local-6989586621679732456"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BuildInfo -&gt; [SymbolicPath PackageDir SourceDir]
</span><a href="Distribution.Types.BuildInfo.html#hsSourceDirs"><span class="hs-identifier hs-var">hsSourceDirs</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679732460"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1925"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Distribution.Utils.Generic.html#isRelativeOnAnyPlatform"><span class="hs-identifier hs-var">isRelativeOnAnyPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732462"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1926"></span><span>  </span><span id="local-6989586621679732454"><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679732454"><span class="hs-identifier hs-var">missing</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
Applicative m =&gt;
(a -&gt; m Bool) -&gt; [a] -&gt; m [a]
</span><a href="../../base-4.16.3.0/src/Control-Monad.html#filterM"><span class="hs-identifier hs-var">filterM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#liftM"><span class="hs-identifier hs-var">liftM</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesDirectoryExist"><span class="hs-identifier hs-var">doesDirectoryExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732465"><span class="hs-identifier hs-var">ops</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679732463"><span class="hs-identifier hs-var">dirs</span></a></span><span>
</span><span id="line-1927"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageBuildWarning"><span class="hs-identifier hs-type">PackageBuildWarning</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1928"></span><span>             </span><span class="annot"><span class="annottext">explanation :: String
</span><a href="Distribution.PackageDescription.Check.html#explanation"><span class="hs-identifier hs-var">explanation</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732453"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732452"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1929"></span><span>                        </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; directory does not exist.&quot;</span></span><span>
</span><span id="line-1930"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-1931"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732452"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732452"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732453"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732453"><span class="hs-identifier hs-var">kind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621679732454"><span class="hs-identifier hs-var">missing</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1932"></span><span>
</span><span id="line-1933"></span><span id="local-6989586621679732451"><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkMissingVcsInfo"><span class="hs-identifier hs-type">checkMissingVcsInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732451"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732451"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1934"></span><span>                    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#CheckPackageContentOps"><span class="hs-identifier hs-type">CheckPackageContentOps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679732451"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1935"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1936"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679732451"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-1937"></span><span id="checkMissingVcsInfo"><span class="annot"><span class="annottext">checkMissingVcsInfo :: forall (m :: * -&gt; *).
(Monad m, Applicative m) =&gt;
CheckPackageContentOps m -&gt; PackageDescription -&gt; m [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkMissingVcsInfo"><span class="hs-identifier hs-var hs-var">checkMissingVcsInfo</span></a></span></span><span> </span><span id="local-6989586621679732439"><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732439"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span id="local-6989586621679732438"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732438"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; [SourceRepo]
</span><a href="Distribution.Types.PackageDescription.html#sourceRepos"><span class="hs-identifier hs-var">sourceRepos</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732438"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1938"></span><span>    </span><span id="local-6989586621679732437"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732437"><span class="hs-identifier hs-var">vcsInUse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#liftM"><span class="hs-identifier hs-var">liftM</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#or"><span class="hs-identifier hs-var">or</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). CheckPackageContentOps m -&gt; String -&gt; m Bool
</span><a href="Distribution.PackageDescription.Check.html#doesDirectoryExist"><span class="hs-identifier hs-var">doesDirectoryExist</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><a href="#local-6989586621679732439"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732435"><span class="hs-identifier hs-var">repoDirnames</span></a></span><span>
</span><span id="line-1939"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732437"><span class="hs-identifier hs-var">vcsInUse</span></a></span><span>
</span><span id="line-1940"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspicious"><span class="hs-identifier hs-var">PackageDistSuspicious</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732434"><span class="hs-identifier hs-var">message</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1941"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1942"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1943"></span><span>    </span><span id="local-6989586621679732435"><span class="annot"><span class="annottext">repoDirnames :: [String]
</span><a href="#local-6989586621679732435"><span class="hs-identifier hs-var hs-var">repoDirnames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732433"><span class="hs-identifier hs-var">dirname</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679732432"><span class="annot"><span class="annottext">KnownRepoType
</span><a href="#local-6989586621679732432"><span class="hs-identifier hs-var">repo</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[KnownRepoType]
</span><a href="Distribution.Types.SourceRepo.html#knownRepoTypes"><span class="hs-identifier hs-var">knownRepoTypes</span></a></span><span>
</span><span id="line-1944"></span><span>                             </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732433"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732433"><span class="hs-identifier hs-var">dirname</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">KnownRepoType -&gt; [String]
</span><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="#local-6989586621679732432"><span class="hs-identifier hs-var">repo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1945"></span><span>    </span><span id="local-6989586621679732434"><span class="annot"><span class="annottext">message :: String
</span><a href="#local-6989586621679732434"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;When distributing packages it is encouraged to specify source &quot;</span></span><span>
</span><span id="line-1946"></span><span>            </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;control information in the .cabal file using one or more &quot;</span></span><span>
</span><span id="line-1947"></span><span>            </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'source-repository' sections. See the Cabal user guide for &quot;</span></span><span>
</span><span id="line-1948"></span><span>            </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;details.&quot;</span></span><span>
</span><span id="line-1949"></span><span>
</span><span id="line-1950"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkMissingVcsInfo"><span class="hs-identifier hs-var">checkMissingVcsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">CheckPackageContentOps m
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1951"></span><span>
</span><span id="line-1952"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-type">repoTypeDirname</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.SourceRepo.html#KnownRepoType"><span class="hs-identifier hs-type">KnownRepoType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1953"></span><span id="repoTypeDirname"><span class="annot"><span class="annottext">repoTypeDirname :: KnownRepoType -&gt; [String]
</span><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var hs-var">repoTypeDirname</span></a></span></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#Darcs"><span class="hs-identifier hs-var">Darcs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_darcs&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1954"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#Git"><span class="hs-identifier hs-var">Git</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.git&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1955"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#SVN"><span class="hs-identifier hs-var">SVN</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.svn&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1956"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#CVS"><span class="hs-identifier hs-var">CVS</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CVS&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1957"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#Mercurial"><span class="hs-identifier hs-var">Mercurial</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.hg&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1958"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#GnuArch"><span class="hs-identifier hs-var">GnuArch</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.arch-params&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1959"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#Bazaar"><span class="hs-identifier hs-var">Bazaar</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.bzr&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1960"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#Monotone"><span class="hs-identifier hs-var">Monotone</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_MTN&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1961"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#repoTypeDirname"><span class="hs-identifier hs-var">repoTypeDirname</span></a></span><span> </span><span class="annot"><span class="annottext">KnownRepoType
</span><a href="Distribution.Types.SourceRepo.html#Pijul"><span class="hs-identifier hs-var">Pijul</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.pijul&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1962"></span><span>
</span><span id="line-1963"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-1964"></span><span class="hs-comment">-- * Checks involving files in the package</span><span>
</span><span id="line-1965"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-1966"></span><span>
</span><span id="line-1967"></span><span class="hs-comment">-- | Check the names of all files in a package for portability problems. This</span><span>
</span><span id="line-1968"></span><span class="hs-comment">-- should be done for example when creating or validating a package tarball.</span><span>
</span><span id="line-1969"></span><span class="hs-comment">--</span><span>
</span><span id="line-1970"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageFileNames"><span class="hs-identifier hs-type">checkPackageFileNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1971"></span><span id="checkPackageFileNames"><span class="annot"><span class="annottext">checkPackageFileNames :: [String] -&gt; [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageFileNames"><span class="hs-identifier hs-var hs-var">checkPackageFileNames</span></a></span></span><span> </span><span id="local-6989586621679732421"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732421"><span class="hs-identifier hs-var">files</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1972"></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#take"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkWindowsPath"><span class="hs-identifier hs-var">checkWindowsPath</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732421"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1973"></span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#take"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkTarPath"><span class="hs-identifier hs-var">checkTarPath</span></a></span><span>     </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732421"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1974"></span><span>      </span><span class="hs-comment">-- If we get any of these checks triggering then we're likely to get</span><span>
</span><span id="line-1975"></span><span>      </span><span class="hs-comment">-- many, and that's probably not helpful, so return at most one.</span><span>
</span><span id="line-1976"></span><span>
</span><span id="line-1977"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkWindowsPath"><span class="hs-identifier hs-type">checkWindowsPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-1978"></span><span id="checkWindowsPath"><span class="annot"><span class="annottext">checkWindowsPath :: String -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkWindowsPath"><span class="hs-identifier hs-var hs-var">checkWindowsPath</span></a></span></span><span> </span><span id="local-6989586621679732417"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732417"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1979"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; PackageCheck -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#check"><span class="hs-identifier hs-var">check</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Windows.html#isValid"><span class="hs-identifier hs-var">FilePath.Windows.isValid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732416"><span class="hs-identifier hs-var">path'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1980"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1981"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unfortunately, the file &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732417"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; is not a valid file &quot;</span></span><span>
</span><span id="line-1982"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;name on Windows which would cause portability problems for this &quot;</span></span><span>
</span><span id="line-1983"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;package. Windows file names cannot contain any of the characters &quot;</span></span><span>
</span><span id="line-1984"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;:*?&lt;&gt;|\&quot; and there are a few reserved names including \&quot;aux\&quot;, &quot;</span></span><span>
</span><span id="line-1985"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;nul\&quot;, \&quot;con\&quot;, \&quot;prn\&quot;, \&quot;com1-9\&quot;, \&quot;lpt1-9\&quot; and \&quot;clock$\&quot;.&quot;</span></span><span>
</span><span id="line-1986"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1987"></span><span>    </span><span id="local-6989586621679732416"><span class="annot"><span class="annottext">path' :: String
</span><a href="#local-6989586621679732416"><span class="hs-identifier hs-var hs-var">path'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.\\&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732417"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-1988"></span><span>    </span><span class="hs-comment">-- force a relative name to catch invalid file names like &quot;f:oo&quot; which</span><span>
</span><span id="line-1989"></span><span>    </span><span class="hs-comment">-- otherwise parse as file &quot;oo&quot; in the current directory on the 'f' drive.</span><span>
</span><span id="line-1990"></span><span>
</span><span id="line-1991"></span><span class="hs-comment">-- | Check a file name is valid for the portable POSIX tar format.</span><span>
</span><span id="line-1992"></span><span class="hs-comment">--</span><span>
</span><span id="line-1993"></span><span class="hs-comment">-- The POSIX tar format has a restriction on the length of file names. It is</span><span>
</span><span id="line-1994"></span><span class="hs-comment">-- unfortunately not a simple restriction like a maximum length. The exact</span><span>
</span><span id="line-1995"></span><span class="hs-comment">-- restriction is that either the whole path be 100 characters or less, or it</span><span>
</span><span id="line-1996"></span><span class="hs-comment">-- be possible to split the path on a directory separator such that the first</span><span>
</span><span id="line-1997"></span><span class="hs-comment">-- part is 155 characters or less and the second part 100 characters or less.</span><span>
</span><span id="line-1998"></span><span class="hs-comment">--</span><span>
</span><span id="line-1999"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkTarPath"><span class="hs-identifier hs-type">checkTarPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span>
</span><span id="line-2000"></span><span id="checkTarPath"><span class="annot"><span class="annottext">checkTarPath :: String -&gt; Maybe PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#checkTarPath"><span class="hs-identifier hs-var hs-var">checkTarPath</span></a></span></span><span> </span><span id="local-6989586621679732415"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732415"><span class="hs-identifier hs-var">path</span></a></span></span><span>
</span><span id="line-2001"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732415"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">255</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732413"><span class="hs-identifier hs-var">longPath</span></a></span><span>
</span><span id="line-2002"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall {t :: * -&gt; *} {a}.
Foldable t =&gt;
Int -&gt; [t a] -&gt; Either PackageCheck [t a]
</span><a href="#local-6989586621679732412"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732411"><span class="hs-identifier hs-var">nameMax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#splitPath"><span class="hs-identifier hs-var">splitPath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732415"><span class="hs-identifier hs-var">path</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2003"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679732410"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732410"><span class="hs-identifier hs-var">err</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732410"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-2004"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2005"></span><span>    </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732409"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732409"><span class="hs-identifier hs-var">h</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732408"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732408"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall {t :: * -&gt; *} {a}.
Foldable t =&gt;
Int -&gt; [t a] -&gt; Either PackageCheck [t a]
</span><a href="#local-6989586621679732412"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732407"><span class="hs-identifier hs-var">prefixMax</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732406"><span class="hs-identifier hs-var">remainder</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2006"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679732405"><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732405"><span class="hs-identifier hs-var">err</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732405"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-2007"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2008"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732404"><span class="hs-identifier hs-var">noSplit</span></a></span><span>
</span><span id="line-2009"></span><span>     </span><span class="hs-keyword">where</span><span>
</span><span id="line-2010"></span><span>        </span><span class="hs-comment">-- drop the '/' between the name and prefix:</span><span>
</span><span id="line-2011"></span><span>        </span><span id="local-6989586621679732406"><span class="annot"><span class="annottext">remainder :: [String]
</span><a href="#local-6989586621679732406"><span class="hs-identifier hs-var hs-var">remainder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><a href="Distribution.Utils.Generic.html#safeInit"><span class="hs-identifier hs-var">safeInit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732409"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679732408"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-2012"></span><span>
</span><span id="line-2013"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2014"></span><span>    </span><span class="annot"><a href="#local-6989586621679732411"><span class="hs-identifier hs-type">nameMax</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679732407"><span class="hs-identifier hs-type">prefixMax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-2015"></span><span>    </span><span id="local-6989586621679732411"><span class="annot"><span class="annottext">nameMax :: Int
</span><a href="#local-6989586621679732411"><span class="hs-identifier hs-var hs-var">nameMax</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">100</span></span><span>
</span><span id="line-2016"></span><span>    </span><span id="local-6989586621679732407"><span class="annot"><span class="annottext">prefixMax :: Int
</span><a href="#local-6989586621679732407"><span class="hs-identifier hs-var hs-var">prefixMax</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">155</span></span><span>
</span><span id="line-2017"></span><span>
</span><span id="line-2018"></span><span>    </span><span id="local-6989586621679732412"><span class="annot"><span class="annottext">pack :: Int -&gt; [t a] -&gt; Either PackageCheck [t a]
</span><a href="#local-6989586621679732412"><span class="hs-identifier hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732399"><span class="hs-identifier hs-var">emptyName</span></a></span><span>
</span><span id="line-2019"></span><span>    </span><span class="annot"><a href="#local-6989586621679732412"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span id="local-6989586621679732398"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732398"><span class="hs-identifier hs-var">maxLen</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732397"><span class="annot"><span class="annottext">t a
</span><a href="#local-6989586621679732397"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732396"><span class="annot"><span class="annottext">[t a]
</span><a href="#local-6989586621679732396"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2020"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732395"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732398"><span class="hs-identifier hs-var">maxLen</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">PackageCheck
</span><a href="#local-6989586621679732394"><span class="hs-identifier hs-var">longName</span></a></span><span>
</span><span id="line-2021"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {t :: * -&gt; *} {a}.
Foldable t =&gt;
Int -&gt; Int -&gt; [t a] -&gt; [t a]
</span><a href="#local-6989586621679732393"><span class="hs-identifier hs-var">pack'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732398"><span class="hs-identifier hs-var">maxLen</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732395"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[t a]
</span><a href="#local-6989586621679732396"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2022"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679732395"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679732395"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">t a
</span><a href="#local-6989586621679732397"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2023"></span><span>
</span><span id="line-2024"></span><span>    </span><span id="local-6989586621679732393"><span class="annot"><span class="annottext">pack' :: Int -&gt; Int -&gt; [t a] -&gt; [t a]
</span><a href="#local-6989586621679732393"><span class="hs-identifier hs-var hs-var">pack'</span></a></span></span><span> </span><span id="local-6989586621679732389"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732389"><span class="hs-identifier hs-var">maxLen</span></a></span></span><span> </span><span id="local-6989586621679732388"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732388"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732387"><span class="annot"><span class="annottext">t a
</span><a href="#local-6989586621679732387"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732386"><span class="annot"><span class="annottext">[t a]
</span><a href="#local-6989586621679732386"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2025"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732385"><span class="hs-identifier hs-var">n'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732389"><span class="hs-identifier hs-var">maxLen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; [t a] -&gt; [t a]
</span><a href="#local-6989586621679732393"><span class="hs-identifier hs-var">pack'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732389"><span class="hs-identifier hs-var">maxLen</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732385"><span class="hs-identifier hs-var">n'</span></a></span><span> </span><span class="annot"><span class="annottext">[t a]
</span><a href="#local-6989586621679732386"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2026"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679732385"><span class="annot"><span class="annottext">n' :: Int
</span><a href="#local-6989586621679732385"><span class="hs-identifier hs-var hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679732388"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">t a
</span><a href="#local-6989586621679732387"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2027"></span><span>    </span><span class="annot"><a href="#local-6989586621679732393"><span class="hs-identifier hs-var">pack'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>     </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679732381"><span class="annot"><span class="annottext">[t a]
</span><a href="#local-6989586621679732381"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[t a]
</span><a href="#local-6989586621679732381"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2028"></span><span>
</span><span id="line-2029"></span><span>    </span><span id="local-6989586621679732413"><span class="annot"><span class="annottext">longPath :: PackageCheck
</span><a href="#local-6989586621679732413"><span class="hs-identifier hs-var hs-var">longPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2030"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The following file name is too long to store in a portable POSIX &quot;</span></span><span>
</span><span id="line-2031"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;format tar archive. The maximum length is 255 ASCII characters.\n&quot;</span></span><span>
</span><span id="line-2032"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The file in question is:\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732415"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-2033"></span><span>    </span><span id="local-6989586621679732394"><span class="annot"><span class="annottext">longName :: PackageCheck
</span><a href="#local-6989586621679732394"><span class="hs-identifier hs-var hs-var">longName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2034"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The following file name is too long to store in a portable POSIX &quot;</span></span><span>
</span><span id="line-2035"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;format tar archive. The maximum length for the name part (including &quot;</span></span><span>
</span><span id="line-2036"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extension) is 100 ASCII characters. The maximum length for any &quot;</span></span><span>
</span><span id="line-2037"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;individual directory component is 155.\n&quot;</span></span><span>
</span><span id="line-2038"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The file in question is:\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732415"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-2039"></span><span>    </span><span id="local-6989586621679732404"><span class="annot"><span class="annottext">noSplit :: PackageCheck
</span><a href="#local-6989586621679732404"><span class="hs-identifier hs-var hs-var">noSplit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2040"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The following file name is too long to store in a portable POSIX &quot;</span></span><span>
</span><span id="line-2041"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;format tar archive. While the total length is less than 255 ASCII &quot;</span></span><span>
</span><span id="line-2042"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;characters, there are unfortunately further restrictions. It has to &quot;</span></span><span>
</span><span id="line-2043"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;be possible to split the file path on a directory separator into &quot;</span></span><span>
</span><span id="line-2044"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;two parts such that the first part fits in 155 characters or less &quot;</span></span><span>
</span><span id="line-2045"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;and the second part fits in 100 characters or less. Basically you &quot;</span></span><span>
</span><span id="line-2046"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;have to make the file name or directory names shorter, or you could &quot;</span></span><span>
</span><span id="line-2047"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;split a long directory name into nested subdirectories with shorter &quot;</span></span><span>
</span><span id="line-2048"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;names.\nThe file in question is:\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732415"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-2049"></span><span>    </span><span id="local-6989586621679732399"><span class="annot"><span class="annottext">emptyName :: PackageCheck
</span><a href="#local-6989586621679732399"><span class="hs-identifier hs-var hs-var">emptyName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistInexcusable"><span class="hs-identifier hs-var">PackageDistInexcusable</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2050"></span><span>         </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Encountered a file with an empty name, something is very wrong! &quot;</span></span><span>
</span><span id="line-2051"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Files with an empty name cannot be stored in a tar archive or in &quot;</span></span><span>
</span><span id="line-2052"></span><span>      </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;standard file systems.&quot;</span></span><span>
</span><span id="line-2053"></span><span>
</span><span id="line-2054"></span><span class="hs-comment">-- --------------------------------------------------------------</span><span>
</span><span id="line-2055"></span><span class="hs-comment">-- * Checks for missing content and other pre-distribution checks</span><span>
</span><span id="line-2056"></span><span class="hs-comment">-- --------------------------------------------------------------</span><span>
</span><span id="line-2057"></span><span>
</span><span id="line-2058"></span><span class="hs-comment">-- | Similar to 'checkPackageContent', 'checkPackageFilesPreDistribution'</span><span>
</span><span id="line-2059"></span><span class="hs-comment">-- inspects the files included in the package, but is primarily looking for</span><span>
</span><span id="line-2060"></span><span class="hs-comment">-- files in the working tree that may have been missed or other similar</span><span>
</span><span id="line-2061"></span><span class="hs-comment">-- problems that can only be detected pre-distribution.</span><span>
</span><span id="line-2062"></span><span class="hs-comment">--</span><span>
</span><span id="line-2063"></span><span class="hs-comment">-- Because Hackage necessarily checks the uploaded tarball, it is too late to</span><span>
</span><span id="line-2064"></span><span class="hs-comment">-- check these on the server; these checks only make sense in the development</span><span>
</span><span id="line-2065"></span><span class="hs-comment">-- and package-creation environment. Hence we can use IO, rather than needing</span><span>
</span><span id="line-2066"></span><span class="hs-comment">-- to pass a 'CheckPackageContentOps' dictionary around.</span><span>
</span><span id="line-2067"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkPackageFilesPreDistribution"><span class="hs-identifier hs-type">checkPackageFilesPreDistribution</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2068"></span><span class="hs-comment">-- Note: this really shouldn't return any 'Inexcusable' warnings,</span><span>
</span><span id="line-2069"></span><span class="hs-comment">-- because that will make us say that Hackage would reject the package.</span><span>
</span><span id="line-2070"></span><span class="hs-comment">-- But, because Hackage doesn't run these tests, that will be a lie!</span><span>
</span><span id="line-2071"></span><span id="checkPackageFilesPreDistribution"><span class="annot"><span class="annottext">checkPackageFilesPreDistribution :: Verbosity -&gt; PackageDescription -&gt; String -&gt; IO [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkPackageFilesPreDistribution"><span class="hs-identifier hs-var hs-var">checkPackageFilesPreDistribution</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; PackageDescription -&gt; String -&gt; IO [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkGlobFiles"><span class="hs-identifier hs-var">checkGlobFiles</span></a></span><span>
</span><span id="line-2072"></span><span>
</span><span id="line-2073"></span><span class="hs-comment">-- | Discover problems with the package's wildcards.</span><span>
</span><span id="line-2074"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#checkGlobFiles"><span class="hs-identifier hs-type">checkGlobFiles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-2075"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-2076"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-2077"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2078"></span><span id="checkGlobFiles"><span class="annot"><span class="annottext">checkGlobFiles :: Verbosity -&gt; PackageDescription -&gt; String -&gt; IO [PackageCheck]
</span><a href="Distribution.PackageDescription.Check.html#checkGlobFiles"><span class="hs-identifier hs-var hs-var">checkGlobFiles</span></a></span></span><span> </span><span id="local-6989586621679732379"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679732379"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679732378"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span id="local-6989586621679732377"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732377"><span class="hs-identifier hs-var">root</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2079"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../../base-4.16.3.0/src/Data-Traversable.html#for"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, String, String)]
</span><a href="#local-6989586621679732375"><span class="hs-identifier hs-var">allGlobs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679732374"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732374"><span class="hs-identifier hs-var">field</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732373"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732373"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679732372"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732372"><span class="hs-identifier hs-var">glob</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2080"></span><span>    </span><span class="hs-comment">-- Note: we just skip over parse errors here; they're reported elsewhere.</span><span>
</span><span id="line-2081"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CabalSpecVersion -&gt; String -&gt; Either GlobSyntaxError Glob
</span><a href="Distribution.Simple.Glob.html#parseFileGlob"><span class="hs-identifier hs-var">parseFileGlob</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732372"><span class="hs-identifier hs-var">glob</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2082"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span class="annot"><span class="annottext">GlobSyntaxError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2083"></span><span>      </span><span class="annot"><a href="../../base-4.16.3.0/src/Data-Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679732371"><span class="annot"><span class="annottext">Glob
</span><a href="#local-6989586621679732371"><span class="hs-identifier hs-var">parsedGlob</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2084"></span><span>        </span><span id="local-6989586621679732370"><span class="annot"><span class="annottext">[GlobResult String]
</span><a href="#local-6989586621679732370"><span class="hs-identifier hs-var">results</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; Glob -&gt; IO [GlobResult String]
</span><a href="Distribution.Simple.Glob.html#runDirFileGlob"><span class="hs-identifier hs-var">runDirFileGlob</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679732379"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732377"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732373"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Glob
</span><a href="#local-6989586621679732371"><span class="hs-identifier hs-var">parsedGlob</span></a></span><span>
</span><span id="line-2085"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679732367"><span class="annot"><span class="annottext">individualWarnings :: [PackageCheck]
</span><a href="#local-6989586621679732367"><span class="hs-identifier hs-var hs-var">individualWarnings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GlobResult String]
</span><a href="#local-6989586621679732370"><span class="hs-identifier hs-var">results</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; GlobResult String -&gt; [PackageCheck]
</span><a href="#local-6989586621679732366"><span class="hs-identifier hs-var">getWarning</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732374"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732372"><span class="hs-identifier hs-var">glob</span></a></span><span>
</span><span id="line-2086"></span><span>            </span><span id="local-6989586621679732364"><span class="annot"><span class="annottext">noMatchesWarning :: [PackageCheck]
</span><a href="#local-6989586621679732364"><span class="hs-identifier hs-var hs-var">noMatchesWarning</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2087"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2088"></span><span>                     </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732374"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;': the pattern '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732372"><span class="hs-identifier hs-var">glob</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' does not&quot;</span></span><span>
</span><span id="line-2089"></span><span>                  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; match any files.&quot;</span></span><span>
</span><span id="line-2090"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#all"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. GlobResult a -&gt; Bool
</span><a href="#local-6989586621679732363"><span class="hs-identifier hs-var">suppressesNoMatchesWarning</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GlobResult String]
</span><a href="#local-6989586621679732370"><span class="hs-identifier hs-var">results</span></a></span><span>
</span><span id="line-2091"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-2092"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732364"><span class="hs-identifier hs-var">noMatchesWarning</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageCheck]
</span><a href="#local-6989586621679732367"><span class="hs-identifier hs-var">individualWarnings</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2093"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2094"></span><span>    </span><span id="local-6989586621679732361"><span class="annot"><span class="annottext">adjustedDataDir :: String
</span><a href="#local-6989586621679732361"><span class="hs-identifier hs-var hs-var">adjustedDataDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; String
</span><a href="Distribution.Types.PackageDescription.html#dataDir"><span class="hs-identifier hs-var">dataDir</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; String
</span><a href="Distribution.Types.PackageDescription.html#dataDir"><span class="hs-identifier hs-var">dataDir</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-2095"></span><span>    </span><span id="local-6989586621679732375"><span class="annot"><span class="annottext">allGlobs :: [(String, String, String)]
</span><a href="#local-6989586621679732375"><span class="hs-identifier hs-var hs-var">allGlobs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span>
</span><span id="line-2096"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-source-files&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraSrcFiles"><span class="hs-identifier hs-var">extraSrcFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-2097"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extra-doc-files&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#extraDocFiles"><span class="hs-identifier hs-var">extraDocFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-2098"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data-files&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732361"><span class="hs-identifier hs-var">adjustedDataDir</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; [String]
</span><a href="Distribution.Types.PackageDescription.html#dataFiles"><span class="hs-identifier hs-var">dataFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679732378"><span class="hs-identifier hs-var">pkg</span></a></span><span>
</span><span id="line-2099"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-2100"></span><span>
</span><span id="line-2101"></span><span>    </span><span class="hs-comment">-- If there's a missing directory in play, since our globs don't</span><span>
</span><span id="line-2102"></span><span>    </span><span class="hs-comment">-- (currently) support disjunction, that will always mean there are no</span><span>
</span><span id="line-2103"></span><span>    </span><span class="hs-comment">-- matches. The no matches error in this case is strictly less informative</span><span>
</span><span id="line-2104"></span><span>    </span><span class="hs-comment">-- than the missing directory error, so sit on it.</span><span>
</span><span id="line-2105"></span><span>    </span><span id="local-6989586621679732363"><span class="annot"><span class="annottext">suppressesNoMatchesWarning :: GlobResult a -&gt; Bool
</span><a href="#local-6989586621679732363"><span class="hs-identifier hs-var hs-var">suppressesNoMatchesWarning</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobMatch"><span class="hs-identifier hs-type">GlobMatch</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2106"></span><span>    </span><span class="annot"><a href="#local-6989586621679732363"><span class="hs-identifier hs-var">suppressesNoMatchesWarning</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobWarnMultiDot"><span class="hs-identifier hs-type">GlobWarnMultiDot</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2107"></span><span>    </span><span class="annot"><a href="#local-6989586621679732363"><span class="hs-identifier hs-var">suppressesNoMatchesWarning</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobMissingDirectory"><span class="hs-identifier hs-type">GlobMissingDirectory</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2108"></span><span>
</span><span id="line-2109"></span><span>    </span><span class="annot"><a href="#local-6989586621679732366"><span class="hs-identifier hs-type">getWarning</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobResult"><span class="hs-identifier hs-type">GlobResult</span></a></span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.PackageDescription.Check.html#PackageCheck"><span class="hs-identifier hs-type">PackageCheck</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2110"></span><span>    </span><span id="local-6989586621679732366"><span class="annot"><span class="annottext">getWarning :: String -&gt; String -&gt; GlobResult String -&gt; [PackageCheck]
</span><a href="#local-6989586621679732366"><span class="hs-identifier hs-var hs-var">getWarning</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobMatch"><span class="hs-identifier hs-type">GlobMatch</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2111"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2112"></span><span>    </span><span class="hs-comment">-- Before Cabal 2.4, the extensions of globs had to match the file</span><span>
</span><span id="line-2113"></span><span>    </span><span class="hs-comment">-- exactly. This has been relaxed in 2.4 to allow matching only the</span><span>
</span><span id="line-2114"></span><span>    </span><span class="hs-comment">-- suffix. This warning detects when pre-2.4 package descriptions are</span><span>
</span><span id="line-2115"></span><span>    </span><span class="hs-comment">-- omitting files purely because of the stricter check.</span><span>
</span><span id="line-2116"></span><span>    </span><span class="annot"><a href="#local-6989586621679732366"><span class="hs-identifier hs-var">getWarning</span></a></span><span> </span><span id="local-6989586621679732353"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732353"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span id="local-6989586621679732352"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732352"><span class="hs-identifier hs-var">glob</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobWarnMultiDot"><span class="hs-identifier hs-type">GlobWarnMultiDot</span></a></span><span> </span><span id="local-6989586621679732351"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732351"><span class="hs-identifier hs-var">file</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2117"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2118"></span><span>             </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732353"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;': the pattern '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732352"><span class="hs-identifier hs-var">glob</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' does not&quot;</span></span><span>
</span><span id="line-2119"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; match the file '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732351"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' because the extensions do not&quot;</span></span><span>
</span><span id="line-2120"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; exactly match (e.g., foo.en.html does not exactly match *.html).&quot;</span></span><span>
</span><span id="line-2121"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; To enable looser suffix-only matching, set 'cabal-version: 2.4' or higher.&quot;</span></span><span>
</span><span id="line-2122"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-2123"></span><span>    </span><span class="annot"><a href="#local-6989586621679732366"><span class="hs-identifier hs-var">getWarning</span></a></span><span> </span><span id="local-6989586621679732350"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732350"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span id="local-6989586621679732349"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732349"><span class="hs-identifier hs-var">glob</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#GlobMissingDirectory"><span class="hs-identifier hs-type">GlobMissingDirectory</span></a></span><span> </span><span id="local-6989586621679732348"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732348"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2124"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageCheck
</span><a href="Distribution.PackageDescription.Check.html#PackageDistSuspiciousWarn"><span class="hs-identifier hs-var">PackageDistSuspiciousWarn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-2125"></span><span>             </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;In '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732350"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;': the pattern '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732349"><span class="hs-identifier hs-var">glob</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;' attempts to&quot;</span></span><span>
</span><span id="line-2126"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; match files in the directory '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732348"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;', but there is no&quot;</span></span><span>
</span><span id="line-2127"></span><span>          </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; directory by that name.&quot;</span></span><span>
</span><span id="line-2128"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-2129"></span><span>
</span><span id="line-2130"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-2131"></span><span class="hs-comment">-- * Utils</span><span>
</span><span id="line-2132"></span><span class="hs-comment">-- ------------------------------------------------------------</span><span>
</span><span id="line-2133"></span><span>
</span><span id="line-2134"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-type">quote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2135"></span><span id="quote"><span class="annot"><span class="annottext">quote :: ShowS
</span><a href="Distribution.PackageDescription.Check.html#quote"><span class="hs-identifier hs-var hs-var">quote</span></a></span></span><span> </span><span id="local-6989586621679732347"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732347"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732347"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span>
</span><span id="line-2136"></span><span>
</span><span id="line-2137"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-type">commaSep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2138"></span><span id="commaSep"><span class="annot"><span class="annottext">commaSep :: [String] -&gt; String
</span><a href="Distribution.PackageDescription.Check.html#commaSep"><span class="hs-identifier hs-var hs-var">commaSep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [[a]] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#intercalate"><span class="hs-identifier hs-var">intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span>
</span><span id="line-2139"></span><span>
</span><span id="line-2140"></span><span id="local-6989586621679734069"><span class="annot"><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-type">dups</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679734069"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679734069"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679734069"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-2141"></span><span id="dups"><span class="annot"><span class="annottext">dups :: forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="Distribution.PackageDescription.Check.html#dups"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span id="local-6989586621679732341"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679732341"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679732340"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732340"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679732340"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[a]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [[a]]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#group"><span class="hs-identifier hs-var">group</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#sort"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679732341"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2142"></span><span>
</span><span id="line-2143"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#fileExtensionSupportedLanguage"><span class="hs-identifier hs-type">fileExtensionSupportedLanguage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-2144"></span><span id="fileExtensionSupportedLanguage"><span class="annot"><span class="annottext">fileExtensionSupportedLanguage :: String -&gt; Bool
</span><a href="Distribution.PackageDescription.Check.html#fileExtensionSupportedLanguage"><span class="hs-identifier hs-var hs-var">fileExtensionSupportedLanguage</span></a></span></span><span> </span><span id="local-6989586621679732339"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732339"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2145"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732338"><span class="hs-identifier hs-var">isHaskell</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679732337"><span class="hs-identifier hs-var">isC</span></a></span><span>
</span><span id="line-2146"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2147"></span><span>    </span><span id="local-6989586621679732336"><span class="annot"><span class="annottext">extension :: String
</span><a href="#local-6989586621679732336"><span class="hs-identifier hs-var hs-var">extension</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.4.2.2/src/System-FilePath-Posix.html#takeExtension"><span class="hs-identifier hs-var">takeExtension</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732339"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-2148"></span><span>    </span><span id="local-6989586621679732338"><span class="annot"><span class="annottext">isHaskell :: Bool
</span><a href="#local-6989586621679732338"><span class="hs-identifier hs-var hs-var">isHaskell</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732336"><span class="hs-identifier hs-var">extension</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.hs&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.lhs&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-2149"></span><span>    </span><span id="local-6989586621679732337"><span class="annot"><span class="annottext">isC :: Bool
</span><a href="#local-6989586621679732337"><span class="hs-identifier hs-var hs-var">isC</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe (CDialect, Bool)
</span><a href="Distribution.Simple.CCompiler.html#filenameCDialect"><span class="hs-identifier hs-var">filenameCDialect</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732336"><span class="hs-identifier hs-var">extension</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2150"></span><span>
</span><span id="line-2151"></span><span class="hs-comment">-- | Whether a path is a good relative path.</span><span>
</span><span id="line-2152"></span><span class="hs-comment">--</span><span>
</span><span id="line-2153"></span><span class="hs-comment">-- &gt;&gt;&gt; let test fp = putStrLn $ show (isGoodRelativeDirectoryPath fp) ++ &quot;; &quot; ++ show (isGoodRelativeFilePath fp)</span><span>
</span><span id="line-2154"></span><span class="hs-comment">--</span><span>
</span><span id="line-2155"></span><span class="hs-comment">-- &gt;&gt;&gt; test &quot;foo/bar/quu&quot;</span><span>
</span><span id="line-2156"></span><span class="hs-comment">-- Nothing; Nothing</span><span>
</span><span id="line-2157"></span><span class="hs-comment">--</span><span>
</span><span id="line-2158"></span><span class="hs-comment">-- Trailing slash is not allowed for files, for directories it is ok.</span><span>
</span><span id="line-2159"></span><span class="hs-comment">--</span><span>
</span><span id="line-2160"></span><span class="hs-comment">-- &gt;&gt;&gt; test &quot;foo/&quot;</span><span>
</span><span id="line-2161"></span><span class="hs-comment">-- Nothing; Just &quot;trailing slash&quot;</span><span>
</span><span id="line-2162"></span><span class="hs-comment">--</span><span>
</span><span id="line-2163"></span><span class="hs-comment">-- Leading @./@ is fine, but @.@ and @./@ are not valid files.</span><span>
</span><span id="line-2164"></span><span class="hs-comment">--</span><span>
</span><span id="line-2165"></span><span class="hs-comment">-- &gt;&gt;&gt; traverse_ test [&quot;.&quot;, &quot;./&quot;, &quot;./foo/bar&quot;]</span><span>
</span><span id="line-2166"></span><span class="hs-comment">-- Nothing; Just &quot;trailing dot segment&quot;</span><span>
</span><span id="line-2167"></span><span class="hs-comment">-- Nothing; Just &quot;trailing slash&quot;</span><span>
</span><span id="line-2168"></span><span class="hs-comment">-- Nothing; Nothing</span><span>
</span><span id="line-2169"></span><span class="hs-comment">--</span><span>
</span><span id="line-2170"></span><span class="hs-comment">-- Lastly, not good file nor directory cases:</span><span>
</span><span id="line-2171"></span><span class="hs-comment">--</span><span>
</span><span id="line-2172"></span><span class="hs-comment">-- &gt;&gt;&gt; traverse_ test [&quot;&quot;, &quot;/tmp/src&quot;, &quot;foo//bar&quot;, &quot;foo/.&quot;, &quot;foo/./bar&quot;, &quot;foo/../bar&quot;, &quot;foo*bar&quot;]</span><span>
</span><span id="line-2173"></span><span class="hs-comment">-- Just &quot;empty path&quot;; Just &quot;empty path&quot;</span><span>
</span><span id="line-2174"></span><span class="hs-comment">-- Just &quot;posix absolute path&quot;; Just &quot;posix absolute path&quot;</span><span>
</span><span id="line-2175"></span><span class="hs-comment">-- Just &quot;empty path segment&quot;; Just &quot;empty path segment&quot;</span><span>
</span><span id="line-2176"></span><span class="hs-comment">-- Just &quot;trailing same directory segment: .&quot;; Just &quot;trailing same directory segment: .&quot;</span><span>
</span><span id="line-2177"></span><span class="hs-comment">-- Just &quot;same directory segment: .&quot;; Just &quot;same directory segment: ..&quot;</span><span>
</span><span id="line-2178"></span><span class="hs-comment">-- Just &quot;parent directory segment: ..&quot;; Just &quot;parent directory segment: ..&quot;</span><span>
</span><span id="line-2179"></span><span class="hs-comment">-- Just &quot;reserved character '*'&quot;; Just &quot;reserved character '*'&quot;</span><span>
</span><span id="line-2180"></span><span class="hs-comment">--</span><span>
</span><span id="line-2181"></span><span class="hs-comment">-- For the last case, 'isGoodRelativeGlob' doesn't warn:</span><span>
</span><span id="line-2182"></span><span class="hs-comment">--</span><span>
</span><span id="line-2183"></span><span class="hs-comment">-- &gt;&gt;&gt; traverse_ (print . isGoodRelativeGlob) [&quot;foo/../bar&quot;, &quot;foo*bar&quot;]</span><span>
</span><span id="line-2184"></span><span class="hs-comment">-- Just &quot;parent directory segment: ..&quot;</span><span>
</span><span id="line-2185"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-2186"></span><span class="hs-comment">--</span><span>
</span><span id="line-2187"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#isGoodRelativeFilePath"><span class="hs-identifier hs-type">isGoodRelativeFilePath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2188"></span><span id="isGoodRelativeFilePath"><span class="annot"><span class="annottext">isGoodRelativeFilePath :: String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeFilePath"><span class="hs-identifier hs-var hs-var">isGoodRelativeFilePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732331"><span class="hs-identifier hs-var">state0</span></a></span><span>
</span><span id="line-2189"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2190"></span><span>    </span><span class="hs-comment">-- Reserved characters</span><span>
</span><span id="line-2191"></span><span>    </span><span class="hs-comment">-- https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file</span><span>
</span><span id="line-2192"></span><span>    </span><span id="local-6989586621679732328"><span class="annot"><span class="annottext">isReserved :: Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var hs-var">isReserved</span></a></span></span><span> </span><span id="local-6989586621679732327"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732327"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732327"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;&gt;:\&quot;\\/|?*&quot;</span></span><span>
</span><span id="line-2193"></span><span>
</span><span id="line-2194"></span><span>    </span><span class="hs-comment">-- initial state</span><span>
</span><span id="line-2195"></span><span>    </span><span id="local-6989586621679732331"><span class="annot"><span class="annottext">state0 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732331"><span class="hs-identifier hs-var hs-var">state0</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;empty path&quot;</span></span><span>
</span><span id="line-2196"></span><span>    </span><span class="annot"><a href="#local-6989586621679732331"><span class="hs-identifier hs-var">state0</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732323"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732323"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732322"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732322"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732323"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732321"><span class="hs-identifier hs-var">state1</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732322"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2197"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732323"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;posix absolute path&quot;</span></span><span>
</span><span id="line-2198"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732323"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732323"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2199"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732320"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732322"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2200"></span><span>
</span><span id="line-2201"></span><span>    </span><span class="hs-comment">-- after .</span><span>
</span><span id="line-2202"></span><span>    </span><span id="local-6989586621679732321"><span class="annot"><span class="annottext">state1 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732321"><span class="hs-identifier hs-var hs-var">state1</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing dot segment&quot;</span></span><span>
</span><span id="line-2203"></span><span>    </span><span class="annot"><a href="#local-6989586621679732321"><span class="hs-identifier hs-var">state1</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732316"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732316"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732315"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732315"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732316"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732314"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732315"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2204"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732316"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732313"><span class="hs-identifier hs-var">state2</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732315"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2205"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732316"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732316"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2206"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732315"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2207"></span><span>
</span><span id="line-2208"></span><span>    </span><span class="hs-comment">-- after ./</span><span>
</span><span id="line-2209"></span><span>    </span><span id="local-6989586621679732313"><span class="annot"><span class="annottext">state2 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732313"><span class="hs-identifier hs-var hs-var">state2</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing slash&quot;</span></span><span>
</span><span id="line-2210"></span><span>    </span><span class="annot"><a href="#local-6989586621679732313"><span class="hs-identifier hs-var">state2</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732299"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732299"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732298"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732298"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732299"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732320"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732298"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2211"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732299"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;empty path segment&quot;</span></span><span>
</span><span id="line-2212"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732299"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732299"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2213"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732298"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2214"></span><span>
</span><span id="line-2215"></span><span>    </span><span class="hs-comment">-- after non-first segment's .</span><span>
</span><span id="line-2216"></span><span>    </span><span id="local-6989586621679732320"><span class="annot"><span class="annottext">state3 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732320"><span class="hs-identifier hs-var hs-var">state3</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing same directory segment: .&quot;</span></span><span>
</span><span id="line-2217"></span><span>    </span><span class="annot"><a href="#local-6989586621679732320"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732297"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732297"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732296"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732296"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732297"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732314"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732296"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2218"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732297"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;same directory segment: ..&quot;</span></span><span>
</span><span id="line-2219"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732297"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732297"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2220"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732296"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2221"></span><span>
</span><span id="line-2222"></span><span>    </span><span class="hs-comment">-- after non-first segment's ..</span><span>
</span><span id="line-2223"></span><span>    </span><span id="local-6989586621679732314"><span class="annot"><span class="annottext">state4 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732314"><span class="hs-identifier hs-var hs-var">state4</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing parent directory segment: ..&quot;</span></span><span>
</span><span id="line-2224"></span><span>    </span><span class="annot"><a href="#local-6989586621679732314"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732295"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732295"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732294"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732294"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732295"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732294"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2225"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732295"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;parent directory segment: ..&quot;</span></span><span>
</span><span id="line-2226"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732295"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732295"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2227"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732294"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2228"></span><span>
</span><span id="line-2229"></span><span>    </span><span class="hs-comment">-- in a segment which is ok.</span><span>
</span><span id="line-2230"></span><span>    </span><span id="local-6989586621679732312"><span class="annot"><span class="annottext">state5 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var hs-var">state5</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2231"></span><span>    </span><span class="annot"><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732293"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732293"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732292"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732292"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732293"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732320"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732292"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2232"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732293"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732313"><span class="hs-identifier hs-var">state2</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732292"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2233"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732328"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732293"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732293"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2234"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732312"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732292"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2235"></span><span>
</span><span id="line-2236"></span><span class="hs-comment">-- | See 'isGoodRelativeFilePath'.</span><span>
</span><span id="line-2237"></span><span class="hs-comment">--</span><span>
</span><span id="line-2238"></span><span class="hs-comment">-- This is barebones function. We check whether the glob is a valid file</span><span>
</span><span id="line-2239"></span><span class="hs-comment">-- by replacing stars @*@ with @x@ses.</span><span>
</span><span id="line-2240"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#isGoodRelativeGlob"><span class="hs-identifier hs-type">isGoodRelativeGlob</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2241"></span><span id="isGoodRelativeGlob"><span class="annot"><span class="annottext">isGoodRelativeGlob :: String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeGlob"><span class="hs-identifier hs-var hs-var">isGoodRelativeGlob</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeFilePath"><span class="hs-identifier hs-var">isGoodRelativeFilePath</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char
</span><a href="#local-6989586621679732291"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2242"></span><span>    </span><span id="local-6989586621679732291"><span class="annot"><span class="annottext">f :: Char -&gt; Char
</span><a href="#local-6989586621679732291"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'*'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'x'</span></span><span>
</span><span id="line-2243"></span><span>    </span><span class="annot"><a href="#local-6989586621679732291"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621679732290"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732290"><span class="hs-identifier hs-var">c</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732290"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-2244"></span><span>
</span><span id="line-2245"></span><span class="hs-comment">-- | See 'isGoodRelativeFilePath'.</span><span>
</span><span id="line-2246"></span><span class="annot"><a href="Distribution.PackageDescription.Check.html#isGoodRelativeDirectoryPath"><span class="hs-identifier hs-type">isGoodRelativeDirectoryPath</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-2247"></span><span id="isGoodRelativeDirectoryPath"><span class="annot"><span class="annottext">isGoodRelativeDirectoryPath :: String -&gt; Maybe String
</span><a href="Distribution.PackageDescription.Check.html#isGoodRelativeDirectoryPath"><span class="hs-identifier hs-var hs-var">isGoodRelativeDirectoryPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732289"><span class="hs-identifier hs-var">state0</span></a></span><span>
</span><span id="line-2248"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2249"></span><span>    </span><span class="hs-comment">-- Reserved characters</span><span>
</span><span id="line-2250"></span><span>    </span><span class="hs-comment">-- https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file</span><span>
</span><span id="line-2251"></span><span>    </span><span id="local-6989586621679732286"><span class="annot"><span class="annottext">isReserved :: Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var hs-var">isReserved</span></a></span></span><span> </span><span id="local-6989586621679732285"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732285"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732285"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;&gt;:\&quot;\\/|?*&quot;</span></span><span>
</span><span id="line-2252"></span><span>
</span><span id="line-2253"></span><span>    </span><span class="hs-comment">-- initial state</span><span>
</span><span id="line-2254"></span><span>    </span><span id="local-6989586621679732289"><span class="annot"><span class="annottext">state0 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732289"><span class="hs-identifier hs-var hs-var">state0</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;empty path&quot;</span></span><span>
</span><span id="line-2255"></span><span>    </span><span class="annot"><a href="#local-6989586621679732289"><span class="hs-identifier hs-var">state0</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732281"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732281"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732280"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732280"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732281"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732279"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732280"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2256"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732281"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;posix absolute path&quot;</span></span><span>
</span><span id="line-2257"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732281"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732281"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2258"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732280"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2259"></span><span>
</span><span id="line-2260"></span><span>    </span><span class="hs-comment">-- after ./</span><span>
</span><span id="line-2261"></span><span>    </span><span id="local-6989586621679732265"><span class="annot"><span class="annottext">state1 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732265"><span class="hs-identifier hs-var hs-var">state1</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- &quot;./&quot;</span><span>
</span><span id="line-2262"></span><span>    </span><span class="annot"><a href="#local-6989586621679732265"><span class="hs-identifier hs-var">state1</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732264"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732264"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732263"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732263"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732264"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732262"><span class="hs-identifier hs-var">state2</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732263"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2263"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732264"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;empty path segment&quot;</span></span><span>
</span><span id="line-2264"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732264"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732264"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2265"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732263"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2266"></span><span>
</span><span id="line-2267"></span><span>    </span><span class="hs-comment">-- after non-first setgment's .</span><span>
</span><span id="line-2268"></span><span>    </span><span id="local-6989586621679732262"><span class="annot"><span class="annottext">state2 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732262"><span class="hs-identifier hs-var hs-var">state2</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing same directory segment: .&quot;</span></span><span>
</span><span id="line-2269"></span><span>    </span><span class="annot"><a href="#local-6989586621679732262"><span class="hs-identifier hs-var">state2</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732261"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732261"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732260"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732260"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732261"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732259"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732260"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2270"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732261"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;same directory segment: .&quot;</span></span><span>
</span><span id="line-2271"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732261"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732261"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2272"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732260"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2273"></span><span>
</span><span id="line-2274"></span><span>    </span><span class="hs-comment">-- after non-first segment's ..</span><span>
</span><span id="line-2275"></span><span>    </span><span id="local-6989586621679732259"><span class="annot"><span class="annottext">state3 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732259"><span class="hs-identifier hs-var hs-var">state3</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing parent directory segment: .&quot;</span></span><span>
</span><span id="line-2276"></span><span>    </span><span class="annot"><a href="#local-6989586621679732259"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732258"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732258"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732257"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732257"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732258"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732257"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2277"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732258"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;parent directory segment: ..&quot;</span></span><span>
</span><span id="line-2278"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732258"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732258"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2279"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732257"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2280"></span><span>
</span><span id="line-2281"></span><span>    </span><span class="hs-comment">-- in a segment which is ok.</span><span>
</span><span id="line-2282"></span><span>    </span><span id="local-6989586621679732278"><span class="annot"><span class="annottext">state4 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var hs-var">state4</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-2283"></span><span>    </span><span class="annot"><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732256"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732256"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732255"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732255"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732256"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732255"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2284"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732256"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732265"><span class="hs-identifier hs-var">state1</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732255"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2285"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732256"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732256"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2286"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732255"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2287"></span><span>
</span><span id="line-2288"></span><span>    </span><span class="hs-comment">-- after .</span><span>
</span><span id="line-2289"></span><span>    </span><span id="local-6989586621679732279"><span class="annot"><span class="annottext">state5 :: String -&gt; Maybe String
</span><a href="#local-6989586621679732279"><span class="hs-identifier hs-var hs-var">state5</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- &quot;.&quot;</span><span>
</span><span id="line-2290"></span><span>    </span><span class="annot"><a href="#local-6989586621679732279"><span class="hs-identifier hs-var">state5</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679732251"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732251"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679732250"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732250"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732251"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732259"><span class="hs-identifier hs-var">state3</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732250"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2291"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732251"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'/'</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732265"><span class="hs-identifier hs-var">state1</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732250"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2292"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="#local-6989586621679732286"><span class="hs-identifier hs-var">isReserved</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732251"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;reserved character &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679732251"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2293"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
</span><a href="#local-6989586621679732278"><span class="hs-identifier hs-var">state4</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679732250"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-2294"></span><span>
</span><span id="line-2295"></span><span class="hs-comment">-- [Note: Good relative paths]</span><span>
</span><span id="line-2296"></span><span class="hs-comment">--</span><span>
</span><span id="line-2297"></span><span class="hs-comment">-- Using @kleene@ we can define an extended regex:</span><span>
</span><span id="line-2298"></span><span class="hs-comment">--</span><span>
</span><span id="line-2299"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2300"></span><span class="hs-comment">-- import Algebra.Lattice</span><span>
</span><span id="line-2301"></span><span class="hs-comment">-- import Kleene</span><span>
</span><span id="line-2302"></span><span class="hs-comment">-- import Kleene.ERE (ERE (..), intersections)</span><span>
</span><span id="line-2303"></span><span class="hs-comment">--</span><span>
</span><span id="line-2304"></span><span class="hs-comment">-- data C = CDot | CSlash | COtherReserved | CChar</span><span>
</span><span id="line-2305"></span><span class="hs-comment">--   deriving (Eq, Ord, Enum, Bounded, Show)</span><span>
</span><span id="line-2306"></span><span class="hs-comment">--</span><span>
</span><span id="line-2307"></span><span class="hs-comment">-- reservedR :: ERE C</span><span>
</span><span id="line-2308"></span><span class="hs-comment">-- reservedR = notChar CSlash /\ notChar COtherReserved</span><span>
</span><span id="line-2309"></span><span class="hs-comment">--</span><span>
</span><span id="line-2310"></span><span class="hs-comment">-- pathPieceR :: ERE C</span><span>
</span><span id="line-2311"></span><span class="hs-comment">-- pathPieceR = intersections</span><span>
</span><span id="line-2312"></span><span class="hs-comment">--     [ plus reservedR</span><span>
</span><span id="line-2313"></span><span class="hs-comment">--     , ERENot (string [CDot])</span><span>
</span><span id="line-2314"></span><span class="hs-comment">--     , ERENot (string [CDot,CDot])</span><span>
</span><span id="line-2315"></span><span class="hs-comment">--     ]</span><span>
</span><span id="line-2316"></span><span class="hs-comment">--</span><span>
</span><span id="line-2317"></span><span class="hs-comment">-- filePathR :: ERE C</span><span>
</span><span id="line-2318"></span><span class="hs-comment">-- filePathR = optional (string [CDot, CSlash]) &lt;&gt; pathPieceR &lt;&gt; star (char CSlash &lt;&gt; pathPieceR)</span><span>
</span><span id="line-2319"></span><span class="hs-comment">--</span><span>
</span><span id="line-2320"></span><span class="hs-comment">-- dirPathR :: ERE C</span><span>
</span><span id="line-2321"></span><span class="hs-comment">-- dirPathR = (char CDot \/ filePathR) &lt;&gt; optional (char CSlash)</span><span>
</span><span id="line-2322"></span><span class="hs-comment">--</span><span>
</span><span id="line-2323"></span><span class="hs-comment">-- plus :: ERE C -&gt; ERE C</span><span>
</span><span id="line-2324"></span><span class="hs-comment">-- plus r = r &lt;&gt; star r</span><span>
</span><span id="line-2325"></span><span class="hs-comment">--</span><span>
</span><span id="line-2326"></span><span class="hs-comment">-- optional :: ERE C -&gt; ERE C</span><span>
</span><span id="line-2327"></span><span class="hs-comment">-- optional r = mempty \/ r</span><span>
</span><span id="line-2328"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2329"></span><span class="hs-comment">--</span><span>
</span><span id="line-2330"></span><span class="hs-comment">-- Results in following state machine for @filePathR@</span><span>
</span><span id="line-2331"></span><span class="hs-comment">--</span><span>
</span><span id="line-2332"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2333"></span><span class="hs-comment">-- 0 -&gt; \x -&gt; if</span><span>
</span><span id="line-2334"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 1</span><span>
</span><span id="line-2335"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2336"></span><span class="hs-comment">--     | otherwise           -&gt; 5</span><span>
</span><span id="line-2337"></span><span class="hs-comment">-- 1 -&gt; \x -&gt; if</span><span>
</span><span id="line-2338"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 4</span><span>
</span><span id="line-2339"></span><span class="hs-comment">--     | x &lt;= CSlash         -&gt; 2</span><span>
</span><span id="line-2340"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2341"></span><span class="hs-comment">--     | otherwise           -&gt; 5</span><span>
</span><span id="line-2342"></span><span class="hs-comment">-- 2 -&gt; \x -&gt; if</span><span>
</span><span id="line-2343"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 3</span><span>
</span><span id="line-2344"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2345"></span><span class="hs-comment">--     | otherwise           -&gt; 5</span><span>
</span><span id="line-2346"></span><span class="hs-comment">-- 3 -&gt; \x -&gt; if</span><span>
</span><span id="line-2347"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 4</span><span>
</span><span id="line-2348"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2349"></span><span class="hs-comment">--     | otherwise           -&gt; 5</span><span>
</span><span id="line-2350"></span><span class="hs-comment">-- 4 -&gt; \x -&gt; if</span><span>
</span><span id="line-2351"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 5</span><span>
</span><span id="line-2352"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2353"></span><span class="hs-comment">--     | otherwise           -&gt; 5</span><span>
</span><span id="line-2354"></span><span class="hs-comment">-- 5+ -&gt; \x -&gt; if</span><span>
</span><span id="line-2355"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 5</span><span>
</span><span id="line-2356"></span><span class="hs-comment">--     | x &lt;= CSlash         -&gt; 2</span><span>
</span><span id="line-2357"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2358"></span><span class="hs-comment">--     | otherwise           -&gt; 5</span><span>
</span><span id="line-2359"></span><span class="hs-comment">-- 6 -&gt; \_ -&gt; 6 -- black hole</span><span>
</span><span id="line-2360"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2361"></span><span class="hs-comment">--</span><span>
</span><span id="line-2362"></span><span class="hs-comment">-- and @dirPathR@:</span><span>
</span><span id="line-2363"></span><span class="hs-comment">--</span><span>
</span><span id="line-2364"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2365"></span><span class="hs-comment">-- 0 -&gt; \x -&gt; if</span><span>
</span><span id="line-2366"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 5</span><span>
</span><span id="line-2367"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2368"></span><span class="hs-comment">--     | otherwise           -&gt; 4</span><span>
</span><span id="line-2369"></span><span class="hs-comment">-- 1+ -&gt; \x -&gt; if</span><span>
</span><span id="line-2370"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 2</span><span>
</span><span id="line-2371"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2372"></span><span class="hs-comment">--     | otherwise           -&gt; 4</span><span>
</span><span id="line-2373"></span><span class="hs-comment">-- 2 -&gt; \x -&gt; if</span><span>
</span><span id="line-2374"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 3</span><span>
</span><span id="line-2375"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2376"></span><span class="hs-comment">--     | otherwise           -&gt; 4</span><span>
</span><span id="line-2377"></span><span class="hs-comment">-- 3 -&gt; \x -&gt; if</span><span>
</span><span id="line-2378"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 4</span><span>
</span><span id="line-2379"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2380"></span><span class="hs-comment">--     | otherwise           -&gt; 4</span><span>
</span><span id="line-2381"></span><span class="hs-comment">-- 4+ -&gt; \x -&gt; if</span><span>
</span><span id="line-2382"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 4</span><span>
</span><span id="line-2383"></span><span class="hs-comment">--     | x &lt;= CSlash         -&gt; 1</span><span>
</span><span id="line-2384"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2385"></span><span class="hs-comment">--     | otherwise           -&gt; 4</span><span>
</span><span id="line-2386"></span><span class="hs-comment">-- 5+ -&gt; \x -&gt; if</span><span>
</span><span id="line-2387"></span><span class="hs-comment">--     | x &lt;= CDot           -&gt; 3</span><span>
</span><span id="line-2388"></span><span class="hs-comment">--     | x &lt;= CSlash         -&gt; 1</span><span>
</span><span id="line-2389"></span><span class="hs-comment">--     | x &lt;= COtherReserved -&gt; 6</span><span>
</span><span id="line-2390"></span><span class="hs-comment">--     | otherwise           -&gt; 4</span><span>
</span><span id="line-2391"></span><span class="hs-comment">-- 6 -&gt; \_ -&gt; 6 -- black hole</span><span>
</span><span id="line-2392"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2393"></span></pre></body></html>
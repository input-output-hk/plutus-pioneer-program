<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>GHC/Driver/Session.hs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="line-1"></a><span class='hs-comment'>{-# LANGUAGE CPP #-}</span>
<a name="line-2"></a><span class='hs-comment'>{-# LANGUAGE FlexibleInstances #-}</span>
<a name="line-3"></a><span class='hs-comment'>{-# LANGUAGE RankNTypes #-}</span>
<a name="line-4"></a><span class='hs-comment'>{-# LANGUAGE LambdaCase #-}</span>
<a name="line-5"></a>
<a name="line-6"></a><span class='hs-comment'>-------------------------------------------------------------------------------</span>
<a name="line-7"></a><span class='hs-comment'>--</span>
<a name="line-8"></a><span class='hs-comment'>-- | Dynamic flags</span>
<a name="line-9"></a><span class='hs-comment'>--</span>
<a name="line-10"></a><span class='hs-comment'>-- Most flags are dynamic flags, which means they can change from compilation</span>
<a name="line-11"></a><span class='hs-comment'>-- to compilation using @OPTIONS_GHC@ pragmas, and in a multi-session GHC each</span>
<a name="line-12"></a><span class='hs-comment'>-- session can be using different dynamic flags. Dynamic flags can also be set</span>
<a name="line-13"></a><span class='hs-comment'>-- at the prompt in GHCi.</span>
<a name="line-14"></a><span class='hs-comment'>--</span>
<a name="line-15"></a><span class='hs-comment'>-- (c) The University of Glasgow 2005</span>
<a name="line-16"></a><span class='hs-comment'>--</span>
<a name="line-17"></a><span class='hs-comment'>-------------------------------------------------------------------------------</span>
<a name="line-18"></a>
<a name="line-19"></a><span class='hs-comment'>{-# OPTIONS_GHC -Wno-incomplete-uni-patterns #-}</span>
<a name="line-20"></a>
<a name="line-21"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>GHC.Driver.Session</span> <span class='hs-layout'>(</span>
<a name="line-22"></a>        <span class='hs-comment'>-- * Dynamic flags and associated configuration types</span>
<a name="line-23"></a>        <span class='hs-conid'>DumpFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-24"></a>        <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-25"></a>        <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>WarnReason</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-26"></a>        <span class='hs-conid'>Language</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-27"></a>        <span class='hs-conid'>PlatformConstants</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-28"></a>        <span class='hs-conid'>FatalMessager</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlushOut</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlushErr</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-29"></a>        <span class='hs-conid'>ProfAuto</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-30"></a>        <span class='hs-varid'>glasgowExtsFlags</span><span class='hs-layout'>,</span>
<a name="line-31"></a>        <span class='hs-varid'>warningGroups</span><span class='hs-layout'>,</span> <span class='hs-varid'>warningHierarchies</span><span class='hs-layout'>,</span>
<a name="line-32"></a>        <span class='hs-varid'>hasPprDebug</span><span class='hs-layout'>,</span> <span class='hs-varid'>hasNoDebugOutput</span><span class='hs-layout'>,</span> <span class='hs-varid'>hasNoStateHack</span><span class='hs-layout'>,</span> <span class='hs-varid'>hasNoOptCoercion</span><span class='hs-layout'>,</span>
<a name="line-33"></a>        <span class='hs-varid'>dopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>dopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>dopt_unset</span><span class='hs-layout'>,</span>
<a name="line-34"></a>        <span class='hs-varid'>gopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>gopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>gopt_unset</span><span class='hs-layout'>,</span> <span class='hs-varid'>setGeneralFlag'</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetGeneralFlag'</span><span class='hs-layout'>,</span>
<a name="line-35"></a>        <span class='hs-varid'>wopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>wopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>wopt_unset</span><span class='hs-layout'>,</span>
<a name="line-36"></a>        <span class='hs-varid'>wopt_fatal</span><span class='hs-layout'>,</span> <span class='hs-varid'>wopt_set_fatal</span><span class='hs-layout'>,</span> <span class='hs-varid'>wopt_unset_fatal</span><span class='hs-layout'>,</span>
<a name="line-37"></a>        <span class='hs-varid'>xopt</span><span class='hs-layout'>,</span> <span class='hs-varid'>xopt_set</span><span class='hs-layout'>,</span> <span class='hs-varid'>xopt_unset</span><span class='hs-layout'>,</span>
<a name="line-38"></a>        <span class='hs-varid'>xopt_set_unlessExplSpec</span><span class='hs-layout'>,</span>
<a name="line-39"></a>        <span class='hs-varid'>xopt_DuplicateRecordFields</span><span class='hs-layout'>,</span>
<a name="line-40"></a>        <span class='hs-varid'>xopt_FieldSelectors</span><span class='hs-layout'>,</span>
<a name="line-41"></a>        <span class='hs-varid'>lang_set</span><span class='hs-layout'>,</span>
<a name="line-42"></a>        <span class='hs-conid'>DynamicTooState</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>dynamicTooState</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynamicNow</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynamicTooFailed</span><span class='hs-layout'>,</span>
<a name="line-43"></a>        <span class='hs-varid'>dynamicOutputFile</span><span class='hs-layout'>,</span> <span class='hs-varid'>dynamicOutputHi</span><span class='hs-layout'>,</span>
<a name="line-44"></a>        <span class='hs-varid'>sccProfilingEnabled</span><span class='hs-layout'>,</span>
<a name="line-45"></a>        <span class='hs-varid'>needSourceNotes</span><span class='hs-layout'>,</span>
<a name="line-46"></a>        <span class='hs-conid'>DynFlags</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-47"></a>        <span class='hs-varid'>outputFile</span><span class='hs-layout'>,</span> <span class='hs-varid'>hiSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>objectSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>ways</span><span class='hs-layout'>,</span>
<a name="line-48"></a>        <span class='hs-conid'>FlagSpec</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-49"></a>        <span class='hs-conid'>HasDynFlags</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>ContainsDynFlags</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-50"></a>        <span class='hs-conid'>RtsOptsEnabled</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-51"></a>        <span class='hs-conid'>GhcMode</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>isOneShot</span><span class='hs-layout'>,</span>
<a name="line-52"></a>        <span class='hs-conid'>GhcLink</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>isNoLink</span><span class='hs-layout'>,</span>
<a name="line-53"></a>        <span class='hs-conid'>PackageFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>PackageArg</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>ModRenaming</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-54"></a>        <span class='hs-varid'>packageFlagsChanged</span><span class='hs-layout'>,</span>
<a name="line-55"></a>        <span class='hs-conid'>IgnorePackageFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>TrustFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-56"></a>        <span class='hs-conid'>PackageDBFlag</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>PkgDbRef</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-57"></a>        <span class='hs-conid'>Option</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>showOpt</span><span class='hs-layout'>,</span>
<a name="line-58"></a>        <span class='hs-conid'>DynLibLoader</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-59"></a>        <span class='hs-varid'>fFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>fLangFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>xFlags</span><span class='hs-layout'>,</span>
<a name="line-60"></a>        <span class='hs-varid'>wWarningFlags</span><span class='hs-layout'>,</span>
<a name="line-61"></a>        <span class='hs-varid'>wWarningFlagMap</span><span class='hs-layout'>,</span>
<a name="line-62"></a>        <span class='hs-varid'>dynFlagDependencies</span><span class='hs-layout'>,</span>
<a name="line-63"></a>        <span class='hs-varid'>makeDynFlagsConsistent</span><span class='hs-layout'>,</span>
<a name="line-64"></a>        <span class='hs-varid'>positionIndependent</span><span class='hs-layout'>,</span>
<a name="line-65"></a>        <span class='hs-varid'>optimisationFlags</span><span class='hs-layout'>,</span>
<a name="line-66"></a>        <span class='hs-varid'>setFlagsFromEnvFile</span><span class='hs-layout'>,</span>
<a name="line-67"></a>        <span class='hs-varid'>pprDynFlagsDiff</span><span class='hs-layout'>,</span>
<a name="line-68"></a>        <span class='hs-varid'>flagSpecOf</span><span class='hs-layout'>,</span>
<a name="line-69"></a>        <span class='hs-varid'>smallestGroups</span><span class='hs-layout'>,</span>
<a name="line-70"></a>
<a name="line-71"></a>        <span class='hs-varid'>targetProfile</span><span class='hs-layout'>,</span>
<a name="line-72"></a>
<a name="line-73"></a>        <span class='hs-comment'>-- ** Safe Haskell</span>
<a name="line-74"></a>        <span class='hs-varid'>safeHaskellOn</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeHaskellModeEnabled</span><span class='hs-layout'>,</span>
<a name="line-75"></a>        <span class='hs-varid'>safeImportsOn</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeLanguageOn</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeInferOn</span><span class='hs-layout'>,</span>
<a name="line-76"></a>        <span class='hs-varid'>packageTrustOn</span><span class='hs-layout'>,</span>
<a name="line-77"></a>        <span class='hs-varid'>safeDirectImpsReq</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeImplicitImpsReq</span><span class='hs-layout'>,</span>
<a name="line-78"></a>        <span class='hs-varid'>unsafeFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>unsafeFlagsForInfer</span><span class='hs-layout'>,</span>
<a name="line-79"></a>
<a name="line-80"></a>        <span class='hs-comment'>-- ** LLVM Targets</span>
<a name="line-81"></a>        <span class='hs-conid'>LlvmTarget</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-conid'>LlvmConfig</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-82"></a>
<a name="line-83"></a>        <span class='hs-comment'>-- ** System tool settings and locations</span>
<a name="line-84"></a>        <span class='hs-conid'>Settings</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-85"></a>        <span class='hs-varid'>sProgramName</span><span class='hs-layout'>,</span>
<a name="line-86"></a>        <span class='hs-varid'>sProjectVersion</span><span class='hs-layout'>,</span>
<a name="line-87"></a>        <span class='hs-varid'>sGhcUsagePath</span><span class='hs-layout'>,</span>
<a name="line-88"></a>        <span class='hs-varid'>sGhciUsagePath</span><span class='hs-layout'>,</span>
<a name="line-89"></a>        <span class='hs-varid'>sToolDir</span><span class='hs-layout'>,</span>
<a name="line-90"></a>        <span class='hs-varid'>sTopDir</span><span class='hs-layout'>,</span>
<a name="line-91"></a>        <span class='hs-varid'>sTmpDir</span><span class='hs-layout'>,</span>
<a name="line-92"></a>        <span class='hs-varid'>sGlobalPackageDatabasePath</span><span class='hs-layout'>,</span>
<a name="line-93"></a>        <span class='hs-varid'>sLdSupportsCompactUnwind</span><span class='hs-layout'>,</span>
<a name="line-94"></a>        <span class='hs-varid'>sLdSupportsBuildId</span><span class='hs-layout'>,</span>
<a name="line-95"></a>        <span class='hs-varid'>sLdSupportsFilelist</span><span class='hs-layout'>,</span>
<a name="line-96"></a>        <span class='hs-varid'>sLdIsGnuLd</span><span class='hs-layout'>,</span>
<a name="line-97"></a>        <span class='hs-varid'>sGccSupportsNoPie</span><span class='hs-layout'>,</span>
<a name="line-98"></a>        <span class='hs-varid'>sPgm_L</span><span class='hs-layout'>,</span>
<a name="line-99"></a>        <span class='hs-varid'>sPgm_P</span><span class='hs-layout'>,</span>
<a name="line-100"></a>        <span class='hs-varid'>sPgm_F</span><span class='hs-layout'>,</span>
<a name="line-101"></a>        <span class='hs-varid'>sPgm_c</span><span class='hs-layout'>,</span>
<a name="line-102"></a>        <span class='hs-varid'>sPgm_a</span><span class='hs-layout'>,</span>
<a name="line-103"></a>        <span class='hs-varid'>sPgm_l</span><span class='hs-layout'>,</span>
<a name="line-104"></a>        <span class='hs-varid'>sPgm_lm</span><span class='hs-layout'>,</span>
<a name="line-105"></a>        <span class='hs-varid'>sPgm_dll</span><span class='hs-layout'>,</span>
<a name="line-106"></a>        <span class='hs-varid'>sPgm_T</span><span class='hs-layout'>,</span>
<a name="line-107"></a>        <span class='hs-varid'>sPgm_windres</span><span class='hs-layout'>,</span>
<a name="line-108"></a>        <span class='hs-varid'>sPgm_libtool</span><span class='hs-layout'>,</span>
<a name="line-109"></a>        <span class='hs-varid'>sPgm_ar</span><span class='hs-layout'>,</span>
<a name="line-110"></a>        <span class='hs-varid'>sPgm_ranlib</span><span class='hs-layout'>,</span>
<a name="line-111"></a>        <span class='hs-varid'>sPgm_lo</span><span class='hs-layout'>,</span>
<a name="line-112"></a>        <span class='hs-varid'>sPgm_lc</span><span class='hs-layout'>,</span>
<a name="line-113"></a>        <span class='hs-varid'>sPgm_lcc</span><span class='hs-layout'>,</span>
<a name="line-114"></a>        <span class='hs-varid'>sPgm_i</span><span class='hs-layout'>,</span>
<a name="line-115"></a>        <span class='hs-varid'>sOpt_L</span><span class='hs-layout'>,</span>
<a name="line-116"></a>        <span class='hs-varid'>sOpt_P</span><span class='hs-layout'>,</span>
<a name="line-117"></a>        <span class='hs-varid'>sOpt_P_fingerprint</span><span class='hs-layout'>,</span>
<a name="line-118"></a>        <span class='hs-varid'>sOpt_F</span><span class='hs-layout'>,</span>
<a name="line-119"></a>        <span class='hs-varid'>sOpt_c</span><span class='hs-layout'>,</span>
<a name="line-120"></a>        <span class='hs-varid'>sOpt_cxx</span><span class='hs-layout'>,</span>
<a name="line-121"></a>        <span class='hs-varid'>sOpt_a</span><span class='hs-layout'>,</span>
<a name="line-122"></a>        <span class='hs-varid'>sOpt_l</span><span class='hs-layout'>,</span>
<a name="line-123"></a>        <span class='hs-varid'>sOpt_lm</span><span class='hs-layout'>,</span>
<a name="line-124"></a>        <span class='hs-varid'>sOpt_windres</span><span class='hs-layout'>,</span>
<a name="line-125"></a>        <span class='hs-varid'>sOpt_lo</span><span class='hs-layout'>,</span>
<a name="line-126"></a>        <span class='hs-varid'>sOpt_lc</span><span class='hs-layout'>,</span>
<a name="line-127"></a>        <span class='hs-varid'>sOpt_lcc</span><span class='hs-layout'>,</span>
<a name="line-128"></a>        <span class='hs-varid'>sOpt_i</span><span class='hs-layout'>,</span>
<a name="line-129"></a>        <span class='hs-varid'>sExtraGccViaCFlags</span><span class='hs-layout'>,</span>
<a name="line-130"></a>        <span class='hs-varid'>sTargetPlatformString</span><span class='hs-layout'>,</span>
<a name="line-131"></a>        <span class='hs-varid'>sGhcWithInterpreter</span><span class='hs-layout'>,</span>
<a name="line-132"></a>        <span class='hs-varid'>sGhcWithSMP</span><span class='hs-layout'>,</span>
<a name="line-133"></a>        <span class='hs-varid'>sGhcRTSWays</span><span class='hs-layout'>,</span>
<a name="line-134"></a>        <span class='hs-varid'>sLibFFI</span><span class='hs-layout'>,</span>
<a name="line-135"></a>        <span class='hs-varid'>sGhcRtsWithLibdw</span><span class='hs-layout'>,</span>
<a name="line-136"></a>        <span class='hs-conid'>GhcNameVersion</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-137"></a>        <span class='hs-conid'>FileSettings</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-138"></a>        <span class='hs-conid'>PlatformMisc</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-139"></a>        <span class='hs-varid'>settings</span><span class='hs-layout'>,</span>
<a name="line-140"></a>        <span class='hs-varid'>programName</span><span class='hs-layout'>,</span> <span class='hs-varid'>projectVersion</span><span class='hs-layout'>,</span>
<a name="line-141"></a>        <span class='hs-varid'>ghcUsagePath</span><span class='hs-layout'>,</span> <span class='hs-varid'>ghciUsagePath</span><span class='hs-layout'>,</span> <span class='hs-varid'>topDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>tmpDir</span><span class='hs-layout'>,</span>
<a name="line-142"></a>        <span class='hs-varid'>versionedAppDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>versionedFilePath</span><span class='hs-layout'>,</span>
<a name="line-143"></a>        <span class='hs-varid'>extraGccViaCFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>globalPackageDatabasePath</span><span class='hs-layout'>,</span>
<a name="line-144"></a>        <span class='hs-varid'>pgm_L</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_P</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_F</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_c</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_a</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_l</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_lm</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_dll</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_T</span><span class='hs-layout'>,</span>
<a name="line-145"></a>        <span class='hs-varid'>pgm_windres</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_libtool</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_ar</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_otool</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_install_name_tool</span><span class='hs-layout'>,</span>
<a name="line-146"></a>        <span class='hs-varid'>pgm_ranlib</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_lo</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_lc</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_lcc</span><span class='hs-layout'>,</span> <span class='hs-varid'>pgm_i</span><span class='hs-layout'>,</span>
<a name="line-147"></a>        <span class='hs-varid'>opt_L</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_P</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_F</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_c</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_cxx</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_a</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_l</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_lm</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_i</span><span class='hs-layout'>,</span>
<a name="line-148"></a>        <span class='hs-varid'>opt_P_signature</span><span class='hs-layout'>,</span>
<a name="line-149"></a>        <span class='hs-varid'>opt_windres</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_lo</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_lc</span><span class='hs-layout'>,</span> <span class='hs-varid'>opt_lcc</span><span class='hs-layout'>,</span>
<a name="line-150"></a>        <span class='hs-varid'>updatePlatformConstants</span><span class='hs-layout'>,</span>
<a name="line-151"></a>
<a name="line-152"></a>        <span class='hs-comment'>-- ** Manipulating DynFlags</span>
<a name="line-153"></a>        <span class='hs-varid'>addPluginModuleName</span><span class='hs-layout'>,</span>
<a name="line-154"></a>        <span class='hs-varid'>defaultDynFlags</span><span class='hs-layout'>,</span>                <span class='hs-comment'>-- Settings -&gt; DynFlags</span>
<a name="line-155"></a>        <span class='hs-varid'>initDynFlags</span><span class='hs-layout'>,</span>                   <span class='hs-comment'>-- DynFlags -&gt; IO DynFlags</span>
<a name="line-156"></a>        <span class='hs-varid'>defaultFatalMessager</span><span class='hs-layout'>,</span>
<a name="line-157"></a>        <span class='hs-varid'>defaultFlushOut</span><span class='hs-layout'>,</span>
<a name="line-158"></a>        <span class='hs-varid'>defaultFlushErr</span><span class='hs-layout'>,</span>
<a name="line-159"></a>
<a name="line-160"></a>        <span class='hs-varid'>getOpts</span><span class='hs-layout'>,</span>                        <span class='hs-comment'>-- DynFlags -&gt; (DynFlags -&gt; [a]) -&gt; [a]</span>
<a name="line-161"></a>        <span class='hs-varid'>getVerbFlags</span><span class='hs-layout'>,</span>
<a name="line-162"></a>        <span class='hs-varid'>updOptLevel</span><span class='hs-layout'>,</span>
<a name="line-163"></a>        <span class='hs-varid'>setTmpDir</span><span class='hs-layout'>,</span>
<a name="line-164"></a>        <span class='hs-varid'>setUnitId</span><span class='hs-layout'>,</span>
<a name="line-165"></a>
<a name="line-166"></a>        <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>,</span>
<a name="line-167"></a>        <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span>
<a name="line-168"></a>        <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span>
<a name="line-169"></a>        <span class='hs-varid'>impliedGFlags</span><span class='hs-layout'>,</span>
<a name="line-170"></a>        <span class='hs-varid'>impliedOffGFlags</span><span class='hs-layout'>,</span>
<a name="line-171"></a>        <span class='hs-varid'>impliedXFlags</span><span class='hs-layout'>,</span>
<a name="line-172"></a>
<a name="line-173"></a>        <span class='hs-comment'>-- ** Parsing DynFlags</span>
<a name="line-174"></a>        <span class='hs-varid'>parseDynamicFlagsCmdLine</span><span class='hs-layout'>,</span>
<a name="line-175"></a>        <span class='hs-varid'>parseDynamicFilePragma</span><span class='hs-layout'>,</span>
<a name="line-176"></a>        <span class='hs-varid'>parseDynamicFlagsFull</span><span class='hs-layout'>,</span>
<a name="line-177"></a>
<a name="line-178"></a>        <span class='hs-comment'>-- ** Available DynFlags</span>
<a name="line-179"></a>        <span class='hs-varid'>allNonDeprecatedFlags</span><span class='hs-layout'>,</span>
<a name="line-180"></a>        <span class='hs-varid'>flagsAll</span><span class='hs-layout'>,</span>
<a name="line-181"></a>        <span class='hs-varid'>flagsDynamic</span><span class='hs-layout'>,</span>
<a name="line-182"></a>        <span class='hs-varid'>flagsPackage</span><span class='hs-layout'>,</span>
<a name="line-183"></a>        <span class='hs-varid'>flagsForCompletion</span><span class='hs-layout'>,</span>
<a name="line-184"></a>
<a name="line-185"></a>        <span class='hs-varid'>supportedLanguagesAndExtensions</span><span class='hs-layout'>,</span>
<a name="line-186"></a>        <span class='hs-varid'>languageExtensions</span><span class='hs-layout'>,</span>
<a name="line-187"></a>
<a name="line-188"></a>        <span class='hs-comment'>-- ** DynFlags C compiler options</span>
<a name="line-189"></a>        <span class='hs-varid'>picCCOpts</span><span class='hs-layout'>,</span> <span class='hs-varid'>picPOpts</span><span class='hs-layout'>,</span>
<a name="line-190"></a>
<a name="line-191"></a>        <span class='hs-comment'>-- * Compiler configuration suitable for display to the user</span>
<a name="line-192"></a>        <span class='hs-varid'>compilerInfo</span><span class='hs-layout'>,</span>
<a name="line-193"></a>
<a name="line-194"></a>        <span class='hs-varid'>wordAlignment</span><span class='hs-layout'>,</span>
<a name="line-195"></a>
<a name="line-196"></a>        <span class='hs-varid'>setUnsafeGlobalDynFlags</span><span class='hs-layout'>,</span>
<a name="line-197"></a>
<a name="line-198"></a>        <span class='hs-comment'>-- * SSE and AVX</span>
<a name="line-199"></a>        <span class='hs-varid'>isSseEnabled</span><span class='hs-layout'>,</span>
<a name="line-200"></a>        <span class='hs-varid'>isSse2Enabled</span><span class='hs-layout'>,</span>
<a name="line-201"></a>        <span class='hs-varid'>isSse4_2Enabled</span><span class='hs-layout'>,</span>
<a name="line-202"></a>        <span class='hs-varid'>isBmiEnabled</span><span class='hs-layout'>,</span>
<a name="line-203"></a>        <span class='hs-varid'>isBmi2Enabled</span><span class='hs-layout'>,</span>
<a name="line-204"></a>        <span class='hs-varid'>isAvxEnabled</span><span class='hs-layout'>,</span>
<a name="line-205"></a>        <span class='hs-varid'>isAvx2Enabled</span><span class='hs-layout'>,</span>
<a name="line-206"></a>        <span class='hs-varid'>isAvx512cdEnabled</span><span class='hs-layout'>,</span>
<a name="line-207"></a>        <span class='hs-varid'>isAvx512erEnabled</span><span class='hs-layout'>,</span>
<a name="line-208"></a>        <span class='hs-varid'>isAvx512fEnabled</span><span class='hs-layout'>,</span>
<a name="line-209"></a>        <span class='hs-varid'>isAvx512pfEnabled</span><span class='hs-layout'>,</span>
<a name="line-210"></a>
<a name="line-211"></a>        <span class='hs-comment'>-- * Linker/compiler information</span>
<a name="line-212"></a>        <span class='hs-conid'>LinkerInfo</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-213"></a>        <span class='hs-conid'>CompilerInfo</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-214"></a>        <span class='hs-varid'>useXLinkerRPath</span><span class='hs-layout'>,</span>
<a name="line-215"></a>
<a name="line-216"></a>        <span class='hs-comment'>-- * Include specifications</span>
<a name="line-217"></a>        <span class='hs-conid'>IncludeSpecs</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>addGlobalInclude</span><span class='hs-layout'>,</span> <span class='hs-varid'>addQuoteInclude</span><span class='hs-layout'>,</span> <span class='hs-varid'>flattenIncludes</span><span class='hs-layout'>,</span>
<a name="line-218"></a>        <span class='hs-varid'>addImplicitQuoteInclude</span><span class='hs-layout'>,</span>
<a name="line-219"></a>
<a name="line-220"></a>        <span class='hs-comment'>-- * SDoc</span>
<a name="line-221"></a>        <span class='hs-varid'>initSDocContext</span><span class='hs-layout'>,</span> <span class='hs-varid'>initDefaultSDocContext</span><span class='hs-layout'>,</span>
<a name="line-222"></a>  <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-223"></a>
<a name="line-224"></a><span class='hs-cpp'>#include "HsVersions.h"</span>
<a name="line-225"></a>
<a name="line-226"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Prelude</span>
<a name="line-227"></a>
<a name="line-228"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Platform</span>
<a name="line-229"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Platform.Ways</span>
<a name="line-230"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Platform.Profile</span>
<a name="line-231"></a>
<a name="line-232"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.UniqueSubdir</span> <span class='hs-layout'>(</span><span class='hs-varid'>uniqueSubdir</span><span class='hs-layout'>)</span>
<a name="line-233"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Unit.Types</span>
<a name="line-234"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Unit.Parser</span>
<a name="line-235"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Unit.Module</span>
<a name="line-236"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Builtin.Names</span> <span class='hs-layout'>(</span> <span class='hs-varid'>mAIN_NAME</span> <span class='hs-layout'>)</span>
<a name="line-237"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Driver.Phases</span> <span class='hs-layout'>(</span> <span class='hs-conid'>Phase</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-layout'>)</span>
<a name="line-238"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Driver.Flags</span>
<a name="line-239"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Driver.Backend</span>
<a name="line-240"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Settings.Config</span>
<a name="line-241"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.CliOption</span>
<a name="line-242"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>GHC.Core.Unfold</span>
<a name="line-243"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Driver.CmdLine</span> <span class='hs-varid'>hiding</span> <span class='hs-layout'>(</span><span class='hs-conid'>WarnReason</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-244"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>GHC.Driver.CmdLine</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Cmd</span>
<a name="line-245"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Settings.Constants</span>
<a name="line-246"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.Panic</span>
<a name="line-247"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>GHC.Utils.Ppr.Colour</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Col</span>
<a name="line-248"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.Misc</span>
<a name="line-249"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.GlobalVars</span>
<a name="line-250"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Data.Maybe</span>
<a name="line-251"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.Monad</span>
<a name="line-252"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Types.SrcLoc</span>
<a name="line-253"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Types.SafeHaskell</span>
<a name="line-254"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Types.Basic</span> <span class='hs-layout'>(</span> <span class='hs-conid'>Alignment</span><span class='hs-layout'>,</span> <span class='hs-varid'>alignmentOf</span><span class='hs-layout'>,</span> <span class='hs-conid'>IntWithInf</span><span class='hs-layout'>,</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-layout'>)</span>
<a name="line-255"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>GHC.Types.FieldLabel</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>FieldLabel</span>
<a name="line-256"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Data.FastString</span>
<a name="line-257"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.Fingerprint</span>
<a name="line-258"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Utils.Outputable</span>
<a name="line-259"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Settings</span>
<a name="line-260"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.CmmToAsm.CFG.Weight</span>
<a name="line-261"></a><span class='hs-keyword'>import</span> <span class='hs-comment'>{-# SOURCE #-}</span> <span class='hs-conid'>GHC.Core.Opt.CallerCC</span>
<a name="line-262"></a>
<a name="line-263"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.SysTools.Terminal</span> <span class='hs-layout'>(</span> <span class='hs-varid'>stderrSupportsAnsiColors</span> <span class='hs-layout'>)</span>
<a name="line-264"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.SysTools.BaseDir</span> <span class='hs-layout'>(</span> <span class='hs-varid'>expandToolDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>expandTopDir</span> <span class='hs-layout'>)</span>
<a name="line-265"></a>
<a name="line-266"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data.IORef</span>
<a name="line-267"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control.Arrow</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varop'>&amp;&amp;&amp;</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-268"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control.Monad</span>
<a name="line-269"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control.Monad.Trans.Class</span>
<a name="line-270"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control.Monad.Trans.Writer</span>
<a name="line-271"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control.Monad.Trans.Reader</span>
<a name="line-272"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Control.Monad.Trans.Except</span>
<a name="line-273"></a>
<a name="line-274"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data.Ord</span>
<a name="line-275"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data.Char</span>
<a name="line-276"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data.List</span> <span class='hs-layout'>(</span><span class='hs-varid'>intercalate</span><span class='hs-layout'>,</span> <span class='hs-varid'>sortBy</span><span class='hs-layout'>)</span>
<a name="line-277"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data.Map</span> <span class='hs-layout'>(</span><span class='hs-conid'>Map</span><span class='hs-layout'>)</span>
<a name="line-278"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data.Map</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Map</span>
<a name="line-279"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data.Set</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Set</span>
<a name="line-280"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.FilePath</span>
<a name="line-281"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.Directory</span>
<a name="line-282"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.Environment</span> <span class='hs-layout'>(</span><span class='hs-varid'>lookupEnv</span><span class='hs-layout'>)</span>
<a name="line-283"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.IO</span>
<a name="line-284"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>System.IO.Error</span>
<a name="line-285"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Text.ParserCombinators.ReadP</span> <span class='hs-varid'>hiding</span> <span class='hs-layout'>(</span><span class='hs-varid'>char</span><span class='hs-layout'>)</span>
<a name="line-286"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Text.ParserCombinators.ReadP</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>R</span>
<a name="line-287"></a>
<a name="line-288"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Data.EnumSet</span> <span class='hs-layout'>(</span><span class='hs-conid'>EnumSet</span><span class='hs-layout'>)</span>
<a name="line-289"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>GHC.Data.EnumSet</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>EnumSet</span>
<a name="line-290"></a>
<a name="line-291"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>GHC.Foreign</span> <span class='hs-layout'>(</span><span class='hs-varid'>withCString</span><span class='hs-layout'>,</span> <span class='hs-varid'>peekCString</span><span class='hs-layout'>)</span>
<a name="line-292"></a><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>GHC.LanguageExtensions</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>LangExt</span>
<a name="line-293"></a>
<a name="line-294"></a><span class='hs-comment'>-- Note [Updating flag description in the User's Guide]</span>
<a name="line-295"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-296"></a><span class='hs-comment'>--</span>
<a name="line-297"></a><span class='hs-comment'>-- If you modify anything in this file please make sure that your changes are</span>
<a name="line-298"></a><span class='hs-comment'>-- described in the User's Guide. Please update the flag description in the</span>
<a name="line-299"></a><span class='hs-comment'>-- users guide (docs/users_guide) whenever you add or change a flag.</span>
<a name="line-300"></a>
<a name="line-301"></a><span class='hs-comment'>-- Note [Supporting CLI completion]</span>
<a name="line-302"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-303"></a><span class='hs-comment'>--</span>
<a name="line-304"></a><span class='hs-comment'>-- The command line interface completion (in for example bash) is an easy way</span>
<a name="line-305"></a><span class='hs-comment'>-- for the developer to learn what flags are available from GHC.</span>
<a name="line-306"></a><span class='hs-comment'>-- GHC helps by separating which flags are available when compiling with GHC,</span>
<a name="line-307"></a><span class='hs-comment'>-- and which flags are available when using GHCi.</span>
<a name="line-308"></a><span class='hs-comment'>-- A flag is assumed to either work in both these modes, or only in one of them.</span>
<a name="line-309"></a><span class='hs-comment'>-- When adding or changing a flag, please consider for which mode the flag will</span>
<a name="line-310"></a><span class='hs-comment'>-- have effect, and annotate it accordingly. For Flags use defFlag, defGhcFlag,</span>
<a name="line-311"></a><span class='hs-comment'>-- defGhciFlag, and for FlagSpec use flagSpec or flagGhciSpec.</span>
<a name="line-312"></a>
<a name="line-313"></a><span class='hs-comment'>-- Note [Adding a language extension]</span>
<a name="line-314"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-315"></a><span class='hs-comment'>--</span>
<a name="line-316"></a><span class='hs-comment'>-- There are a few steps to adding (or removing) a language extension,</span>
<a name="line-317"></a><span class='hs-comment'>--</span>
<a name="line-318"></a><span class='hs-comment'>--  * Adding the extension to GHC.LanguageExtensions</span>
<a name="line-319"></a><span class='hs-comment'>--</span>
<a name="line-320"></a><span class='hs-comment'>--    The Extension type in libraries/ghc-boot-th/GHC/LanguageExtensions/Type.hs</span>
<a name="line-321"></a><span class='hs-comment'>--    is the canonical list of language extensions known by GHC.</span>
<a name="line-322"></a><span class='hs-comment'>--</span>
<a name="line-323"></a><span class='hs-comment'>--  * Adding a flag to DynFlags.xFlags</span>
<a name="line-324"></a><span class='hs-comment'>--</span>
<a name="line-325"></a><span class='hs-comment'>--    This is fairly self-explanatory. The name should be concise, memorable,</span>
<a name="line-326"></a><span class='hs-comment'>--    and consistent with any previous implementations of the similar idea in</span>
<a name="line-327"></a><span class='hs-comment'>--    other Haskell compilers.</span>
<a name="line-328"></a><span class='hs-comment'>--</span>
<a name="line-329"></a><span class='hs-comment'>--  * Adding the flag to the documentation</span>
<a name="line-330"></a><span class='hs-comment'>--</span>
<a name="line-331"></a><span class='hs-comment'>--    This is the same as any other flag. See</span>
<a name="line-332"></a><span class='hs-comment'>--    Note [Updating flag description in the User's Guide]</span>
<a name="line-333"></a><span class='hs-comment'>--</span>
<a name="line-334"></a><span class='hs-comment'>--  * Adding the flag to Cabal</span>
<a name="line-335"></a><span class='hs-comment'>--</span>
<a name="line-336"></a><span class='hs-comment'>--    The Cabal library has its own list of all language extensions supported</span>
<a name="line-337"></a><span class='hs-comment'>--    by all major compilers. This is the list that user code being uploaded</span>
<a name="line-338"></a><span class='hs-comment'>--    to Hackage is checked against to ensure language extension validity.</span>
<a name="line-339"></a><span class='hs-comment'>--    Consequently, it is very important that this list remains up-to-date.</span>
<a name="line-340"></a><span class='hs-comment'>--</span>
<a name="line-341"></a><span class='hs-comment'>--    To this end, there is a testsuite test (testsuite/tests/driver/T4437.hs)</span>
<a name="line-342"></a><span class='hs-comment'>--    whose job it is to ensure these GHC's extensions are consistent with</span>
<a name="line-343"></a><span class='hs-comment'>--    Cabal.</span>
<a name="line-344"></a><span class='hs-comment'>--</span>
<a name="line-345"></a><span class='hs-comment'>--    The recommended workflow is,</span>
<a name="line-346"></a><span class='hs-comment'>--</span>
<a name="line-347"></a><span class='hs-comment'>--     1. Temporarily add your new language extension to the</span>
<a name="line-348"></a><span class='hs-comment'>--        expectedGhcOnlyExtensions list in T4437 to ensure the test doesn't</span>
<a name="line-349"></a><span class='hs-comment'>--        break while Cabal is updated.</span>
<a name="line-350"></a><span class='hs-comment'>--</span>
<a name="line-351"></a><span class='hs-comment'>--     2. After your GHC change is accepted, submit a Cabal pull request adding</span>
<a name="line-352"></a><span class='hs-comment'>--        your new extension to Cabal's list (found in</span>
<a name="line-353"></a><span class='hs-comment'>--        Cabal/Language/Haskell/Extension.hs).</span>
<a name="line-354"></a><span class='hs-comment'>--</span>
<a name="line-355"></a><span class='hs-comment'>--     3. After your Cabal change is accepted, let the GHC developers know so</span>
<a name="line-356"></a><span class='hs-comment'>--        they can update the Cabal submodule and remove the extensions from</span>
<a name="line-357"></a><span class='hs-comment'>--        expectedGhcOnlyExtensions.</span>
<a name="line-358"></a><span class='hs-comment'>--</span>
<a name="line-359"></a><span class='hs-comment'>--  * Adding the flag to the GHC Wiki</span>
<a name="line-360"></a><span class='hs-comment'>--</span>
<a name="line-361"></a><span class='hs-comment'>--    There is a change log tracking language extension additions and removals</span>
<a name="line-362"></a><span class='hs-comment'>--    on the GHC wiki:  https://gitlab.haskell.org/ghc/ghc/wikis/language-pragma-history</span>
<a name="line-363"></a><span class='hs-comment'>--</span>
<a name="line-364"></a><span class='hs-comment'>--  See #4437 and #8176.</span>
<a name="line-365"></a>
<a name="line-366"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-367"></a><span class='hs-comment'>-- DynFlags</span>
<a name="line-368"></a>
<a name="line-369"></a><a name="IncludeSpecs"></a><span class='hs-comment'>-- | Used to differentiate the scope an include needs to apply to.</span>
<a name="line-370"></a><a name="IncludeSpecs"></a><span class='hs-comment'>-- We have to split the include paths to avoid accidentally forcing recursive</span>
<a name="line-371"></a><a name="IncludeSpecs"></a><span class='hs-comment'>-- includes since -I overrides the system search paths. See #14312.</span>
<a name="line-372"></a><a name="IncludeSpecs"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>IncludeSpecs</span>
<a name="line-373"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IncludeSpecs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>includePathsQuote</span>  <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-374"></a>                 <span class='hs-layout'>,</span> <span class='hs-varid'>includePathsGlobal</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-375"></a>                 <span class='hs-comment'>-- | See note [Implicit include paths]</span>
<a name="line-376"></a>                 <span class='hs-layout'>,</span> <span class='hs-varid'>includePathsQuoteImplicit</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-377"></a>                 <span class='hs-layout'>}</span>
<a name="line-378"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Show</span>
<a name="line-379"></a>
<a name="line-380"></a><a name="addGlobalInclude"></a><span class='hs-comment'>-- | Append to the list of includes a path that shall be included using `-I`</span>
<a name="line-381"></a><span class='hs-comment'>-- when the C compiler is called. These paths override system search paths.</span>
<a name="line-382"></a><span class='hs-definition'>addGlobalInclude</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IncludeSpecs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IncludeSpecs</span>
<a name="line-383"></a><span class='hs-definition'>addGlobalInclude</span> <span class='hs-varid'>spec</span> <span class='hs-varid'>paths</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>includePathsGlobal</span> <span class='hs-varid'>spec</span>
<a name="line-384"></a>                               <span class='hs-keyword'>in</span> <span class='hs-varid'>spec</span> <span class='hs-layout'>{</span> <span class='hs-varid'>includePathsGlobal</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>++</span> <span class='hs-varid'>paths</span> <span class='hs-layout'>}</span>
<a name="line-385"></a>
<a name="line-386"></a><a name="addQuoteInclude"></a><span class='hs-comment'>-- | Append to the list of includes a path that shall be included using</span>
<a name="line-387"></a><span class='hs-comment'>-- `-iquote` when the C compiler is called. These paths only apply when quoted</span>
<a name="line-388"></a><span class='hs-comment'>-- includes are used. e.g. #include "foo.h"</span>
<a name="line-389"></a><span class='hs-definition'>addQuoteInclude</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IncludeSpecs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IncludeSpecs</span>
<a name="line-390"></a><span class='hs-definition'>addQuoteInclude</span> <span class='hs-varid'>spec</span> <span class='hs-varid'>paths</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>includePathsQuote</span> <span class='hs-varid'>spec</span>
<a name="line-391"></a>                              <span class='hs-keyword'>in</span> <span class='hs-varid'>spec</span> <span class='hs-layout'>{</span> <span class='hs-varid'>includePathsQuote</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>++</span> <span class='hs-varid'>paths</span> <span class='hs-layout'>}</span>
<a name="line-392"></a>
<a name="line-393"></a><a name="addImplicitQuoteInclude"></a><span class='hs-comment'>-- | These includes are not considered while fingerprinting the flags for iface</span>
<a name="line-394"></a><span class='hs-comment'>-- | See note [Implicit include paths]</span>
<a name="line-395"></a><span class='hs-definition'>addImplicitQuoteInclude</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IncludeSpecs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IncludeSpecs</span>
<a name="line-396"></a><span class='hs-definition'>addImplicitQuoteInclude</span> <span class='hs-varid'>spec</span> <span class='hs-varid'>paths</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>includePathsQuoteImplicit</span> <span class='hs-varid'>spec</span>
<a name="line-397"></a>                              <span class='hs-keyword'>in</span> <span class='hs-varid'>spec</span> <span class='hs-layout'>{</span> <span class='hs-varid'>includePathsQuoteImplicit</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>++</span> <span class='hs-varid'>paths</span> <span class='hs-layout'>}</span>
<a name="line-398"></a>
<a name="line-399"></a>
<a name="line-400"></a><a name="flattenIncludes"></a><span class='hs-comment'>-- | Concatenate and flatten the list of global and quoted includes returning</span>
<a name="line-401"></a><span class='hs-comment'>-- just a flat list of paths.</span>
<a name="line-402"></a><span class='hs-definition'>flattenIncludes</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IncludeSpecs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-403"></a><span class='hs-definition'>flattenIncludes</span> <span class='hs-varid'>specs</span> <span class='hs-keyglyph'>=</span>
<a name="line-404"></a>    <span class='hs-varid'>includePathsQuote</span> <span class='hs-varid'>specs</span> <span class='hs-varop'>++</span>
<a name="line-405"></a>    <span class='hs-varid'>includePathsQuoteImplicit</span> <span class='hs-varid'>specs</span> <span class='hs-varop'>++</span>
<a name="line-406"></a>    <span class='hs-varid'>includePathsGlobal</span> <span class='hs-varid'>specs</span>
<a name="line-407"></a>
<a name="line-408"></a><span class='hs-comment'>{- Note [Implicit include paths]
<a name="line-409"></a>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<a name="line-410"></a>  The compile driver adds the path to the folder containing the source file being
<a name="line-411"></a>  compiled to the 'IncludeSpecs', and this change gets recorded in the 'DynFlags'
<a name="line-412"></a>  that are used later to compute the interface file. Because of this,
<a name="line-413"></a>  the flags fingerprint derived from these 'DynFlags' and recorded in the
<a name="line-414"></a>  interface file will end up containing the absolute path to the source folder.
<a name="line-415"></a>
<a name="line-416"></a>  Build systems with a remote cache like Bazel or Buck (or Shake, see #16956)
<a name="line-417"></a>  store the build artifacts produced by a build BA for reuse in subsequent builds.
<a name="line-418"></a>
<a name="line-419"></a>  Embedding source paths in interface fingerprints will thwart these attemps and
<a name="line-420"></a>  lead to unnecessary recompilations when the source paths in BA differ from the
<a name="line-421"></a>  source paths in subsequent builds.
<a name="line-422"></a> -}</span>
<a name="line-423"></a>
<a name="line-424"></a>
<a name="line-425"></a><a name="DynFlags"></a><span class='hs-comment'>-- | Contains not only a collection of 'GeneralFlag's but also a plethora of</span>
<a name="line-426"></a><a name="DynFlags"></a><span class='hs-comment'>-- information relating to the compilation of a single file or GHC session</span>
<a name="line-427"></a><a name="DynFlags"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DynFlags</span> <span class='hs-layout'>{</span>
<a name="line-428"></a>  <span class='hs-varid'>ghcMode</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcMode</span><span class='hs-layout'>,</span>
<a name="line-429"></a>  <span class='hs-varid'>ghcLink</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcLink</span><span class='hs-layout'>,</span>
<a name="line-430"></a>  <span class='hs-varid'>backend</span>               <span class='hs-keyglyph'>::</span> <span class='hs-varop'>!</span><span class='hs-conid'>Backend</span><span class='hs-layout'>,</span>
<a name="line-431"></a>   <span class='hs-comment'>-- ^ The backend to use (if any).</span>
<a name="line-432"></a>   <span class='hs-comment'>--</span>
<a name="line-433"></a>   <span class='hs-comment'>-- Whenever you change the backend, also make sure to set 'ghcLink' to</span>
<a name="line-434"></a>   <span class='hs-comment'>-- something sensible.</span>
<a name="line-435"></a>   <span class='hs-comment'>--</span>
<a name="line-436"></a>   <span class='hs-comment'>-- 'NoBackend' can be used to avoid generating any output, however, note that:</span>
<a name="line-437"></a>   <span class='hs-comment'>--</span>
<a name="line-438"></a>   <span class='hs-comment'>--  * If a program uses Template Haskell the typechecker may need to run code</span>
<a name="line-439"></a>   <span class='hs-comment'>--    from an imported module.  To facilitate this, code generation is enabled</span>
<a name="line-440"></a>   <span class='hs-comment'>--    for modules imported by modules that use template haskell, using the</span>
<a name="line-441"></a>   <span class='hs-comment'>--    default backend for the platform.</span>
<a name="line-442"></a>   <span class='hs-comment'>--    See Note [-fno-code mode].</span>
<a name="line-443"></a>
<a name="line-444"></a>
<a name="line-445"></a>  <span class='hs-comment'>-- formerly Settings</span>
<a name="line-446"></a>  <span class='hs-varid'>ghcNameVersion</span>    <span class='hs-keyglyph'>::</span> <span class='hs-comment'>{-# UNPACK #-}</span> <span class='hs-varop'>!</span><span class='hs-conid'>GhcNameVersion</span><span class='hs-layout'>,</span>
<a name="line-447"></a>  <span class='hs-varid'>fileSettings</span>      <span class='hs-keyglyph'>::</span> <span class='hs-comment'>{-# UNPACK #-}</span> <span class='hs-varop'>!</span><span class='hs-conid'>FileSettings</span><span class='hs-layout'>,</span>
<a name="line-448"></a>  <span class='hs-varid'>targetPlatform</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span><span class='hs-layout'>,</span>       <span class='hs-comment'>-- Filled in by SysTools</span>
<a name="line-449"></a>  <span class='hs-varid'>toolSettings</span>      <span class='hs-keyglyph'>::</span> <span class='hs-comment'>{-# UNPACK #-}</span> <span class='hs-varop'>!</span><span class='hs-conid'>ToolSettings</span><span class='hs-layout'>,</span>
<a name="line-450"></a>  <span class='hs-varid'>platformMisc</span>      <span class='hs-keyglyph'>::</span> <span class='hs-comment'>{-# UNPACK #-}</span> <span class='hs-varop'>!</span><span class='hs-conid'>PlatformMisc</span><span class='hs-layout'>,</span>
<a name="line-451"></a>  <span class='hs-varid'>rawSettings</span>       <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-452"></a>
<a name="line-453"></a>  <span class='hs-varid'>llvmConfig</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LlvmConfig</span><span class='hs-layout'>,</span>
<a name="line-454"></a>    <span class='hs-comment'>-- ^ N.B. It's important that this field is lazy since we load the LLVM</span>
<a name="line-455"></a>    <span class='hs-comment'>-- configuration lazily. See Note [LLVM Configuration] in "GHC.SysTools".</span>
<a name="line-456"></a>  <span class='hs-varid'>verbosity</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Verbosity level: see Note [Verbosity levels]</span>
<a name="line-457"></a>  <span class='hs-varid'>optLevel</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Optimisation level</span>
<a name="line-458"></a>  <span class='hs-varid'>debugLevel</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ How much debug information to produce</span>
<a name="line-459"></a>  <span class='hs-varid'>simplPhases</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Number of simplifier phases</span>
<a name="line-460"></a>  <span class='hs-varid'>maxSimplIterations</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Max simplifier iterations</span>
<a name="line-461"></a>  <span class='hs-varid'>ruleCheck</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-462"></a>  <span class='hs-varid'>inlineCheck</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- ^ A prefix to report inlining decisions about</span>
<a name="line-463"></a>  <span class='hs-varid'>strictnessBefore</span>      <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Int</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>       <span class='hs-comment'>-- ^ Additional demand analysis</span>
<a name="line-464"></a>
<a name="line-465"></a>  <span class='hs-varid'>parMakeCount</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ The number of modules to compile in parallel</span>
<a name="line-466"></a>                                        <span class='hs-comment'>--   in --make mode, where Nothing ==&gt; compile as</span>
<a name="line-467"></a>                                        <span class='hs-comment'>--   many in parallel as there are CPUs.</span>
<a name="line-468"></a>
<a name="line-469"></a>  <span class='hs-varid'>enableTimeStats</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>        <span class='hs-comment'>-- ^ Enable RTS timing statistics?</span>
<a name="line-470"></a>  <span class='hs-varid'>ghcHeapSize</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ The heap size to set.</span>
<a name="line-471"></a>
<a name="line-472"></a>  <span class='hs-varid'>maxRelevantBinds</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum number of bindings from the type envt</span>
<a name="line-473"></a>                                        <span class='hs-comment'>--   to show in type error messages</span>
<a name="line-474"></a>  <span class='hs-varid'>maxValidHoleFits</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum number of hole fits to show</span>
<a name="line-475"></a>                                        <span class='hs-comment'>--   in typed hole error messages</span>
<a name="line-476"></a>  <span class='hs-varid'>maxRefHoleFits</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum number of refinement hole</span>
<a name="line-477"></a>                                        <span class='hs-comment'>--   fits to show in typed hole error</span>
<a name="line-478"></a>                                        <span class='hs-comment'>--   messages</span>
<a name="line-479"></a>  <span class='hs-varid'>refLevelHoleFits</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum level of refinement for</span>
<a name="line-480"></a>                                        <span class='hs-comment'>--   refinement hole fits in typed hole</span>
<a name="line-481"></a>                                        <span class='hs-comment'>--   error messages</span>
<a name="line-482"></a>  <span class='hs-varid'>maxUncoveredPatterns</span>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Maximum number of unmatched patterns to show</span>
<a name="line-483"></a>                                        <span class='hs-comment'>--   in non-exhaustiveness warnings</span>
<a name="line-484"></a>  <span class='hs-varid'>maxPmCheckModels</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Soft limit on the number of models</span>
<a name="line-485"></a>                                        <span class='hs-comment'>--   the pattern match checker checks</span>
<a name="line-486"></a>                                        <span class='hs-comment'>--   a pattern against. A safe guard</span>
<a name="line-487"></a>                                        <span class='hs-comment'>--   against exponential blow-up.</span>
<a name="line-488"></a>  <span class='hs-varid'>simplTickFactor</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Multiplier for simplifier ticks</span>
<a name="line-489"></a>  <span class='hs-varid'>specConstrThreshold</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Threshold for SpecConstr</span>
<a name="line-490"></a>  <span class='hs-varid'>specConstrCount</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Max number of specialisations for any one function</span>
<a name="line-491"></a>  <span class='hs-varid'>specConstrRecursive</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Max number of specialisations for recursive types</span>
<a name="line-492"></a>                                        <span class='hs-comment'>--   Not optional; otherwise ForceSpecConstr can diverge.</span>
<a name="line-493"></a>  <span class='hs-varid'>binBlobThreshold</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Word</span><span class='hs-layout'>,</span>        <span class='hs-comment'>-- ^ Binary literals (e.g. strings) whose size is above</span>
<a name="line-494"></a>                                        <span class='hs-comment'>--   this threshold will be dumped in a binary file</span>
<a name="line-495"></a>                                        <span class='hs-comment'>--   by the assembler code generator (0 to disable)</span>
<a name="line-496"></a>  <span class='hs-varid'>liberateCaseThreshold</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Threshold for LiberateCase</span>
<a name="line-497"></a>  <span class='hs-varid'>floatLamArgs</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Arg count for lambda floating</span>
<a name="line-498"></a>                                        <span class='hs-comment'>--   See 'GHC.Core.Opt.Monad.FloatOutSwitches'</span>
<a name="line-499"></a>
<a name="line-500"></a>  <span class='hs-varid'>liftLamsRecArgs</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum number of arguments after lambda lifting a</span>
<a name="line-501"></a>                                        <span class='hs-comment'>--   recursive function.</span>
<a name="line-502"></a>  <span class='hs-varid'>liftLamsNonRecArgs</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Maximum number of arguments after lambda lifting a</span>
<a name="line-503"></a>                                        <span class='hs-comment'>--   non-recursive function.</span>
<a name="line-504"></a>  <span class='hs-varid'>liftLamsKnown</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>        <span class='hs-comment'>-- ^ Lambda lift even when this turns a known call</span>
<a name="line-505"></a>                                        <span class='hs-comment'>--   into an unknown call.</span>
<a name="line-506"></a>
<a name="line-507"></a>  <span class='hs-varid'>cmmProcAlignment</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Align Cmm functions at this boundary or use default.</span>
<a name="line-508"></a>
<a name="line-509"></a>  <span class='hs-varid'>historySize</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Simplification history size</span>
<a name="line-510"></a>
<a name="line-511"></a>  <span class='hs-varid'>importPaths</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FilePath</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-512"></a>  <span class='hs-varid'>mainModuleNameIs</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ModuleName</span><span class='hs-layout'>,</span>
<a name="line-513"></a>  <span class='hs-varid'>mainFunIs</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-514"></a>  <span class='hs-varid'>reductionDepth</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IntWithInf</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Typechecker maximum stack depth</span>
<a name="line-515"></a>  <span class='hs-varid'>solverIterations</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IntWithInf</span><span class='hs-layout'>,</span>   <span class='hs-comment'>-- ^ Number of iterations in the constraints solver</span>
<a name="line-516"></a>                                         <span class='hs-comment'>--   Typically only 1 is needed</span>
<a name="line-517"></a>
<a name="line-518"></a>  <span class='hs-varid'>homeUnitId_</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>UnitId</span><span class='hs-layout'>,</span>                 <span class='hs-comment'>-- ^ Target home unit-id</span>
<a name="line-519"></a>  <span class='hs-varid'>homeUnitInstanceOf_</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>UnitId</span><span class='hs-layout'>,</span>           <span class='hs-comment'>-- ^ Id of the unit to instantiate</span>
<a name="line-520"></a>  <span class='hs-varid'>homeUnitInstantiations_</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>ModuleName</span><span class='hs-layout'>,</span> <span class='hs-conid'>Module</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- ^ Module instantiations</span>
<a name="line-521"></a>
<a name="line-522"></a>  <span class='hs-comment'>-- ways</span>
<a name="line-523"></a>  <span class='hs-varid'>targetWays_</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Ways</span><span class='hs-layout'>,</span>         <span class='hs-comment'>-- ^ Target way flags from the command line</span>
<a name="line-524"></a>
<a name="line-525"></a>  <span class='hs-comment'>-- For object splitting</span>
<a name="line-526"></a>  <span class='hs-varid'>splitInfo</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-conid'>Int</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-527"></a>
<a name="line-528"></a>  <span class='hs-comment'>-- paths etc.</span>
<a name="line-529"></a>  <span class='hs-varid'>objectDir</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-530"></a>  <span class='hs-varid'>dylibInstallName</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-531"></a>  <span class='hs-varid'>hiDir</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-532"></a>  <span class='hs-varid'>hieDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-533"></a>  <span class='hs-varid'>stubDir</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-534"></a>  <span class='hs-varid'>dumpDir</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-535"></a>
<a name="line-536"></a>  <span class='hs-varid'>objectSuf_</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-537"></a>  <span class='hs-varid'>hcSuf</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-538"></a>  <span class='hs-varid'>hiSuf_</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-539"></a>  <span class='hs-varid'>hieSuf</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-540"></a>
<a name="line-541"></a>  <span class='hs-varid'>dynamicTooFailed</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-542"></a>  <span class='hs-varid'>dynObjectSuf_</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-543"></a>  <span class='hs-varid'>dynHiSuf_</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-544"></a>
<a name="line-545"></a>  <span class='hs-varid'>outputFile_</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-546"></a>  <span class='hs-varid'>dynOutputFile_</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-547"></a>  <span class='hs-varid'>outputHi</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-548"></a>  <span class='hs-varid'>dynOutputHi</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-549"></a>  <span class='hs-varid'>dynLibLoader</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynLibLoader</span><span class='hs-layout'>,</span>
<a name="line-550"></a>
<a name="line-551"></a>  <span class='hs-varid'>dynamicNow</span>            <span class='hs-keyglyph'>::</span> <span class='hs-varop'>!</span><span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- ^ Indicate if we are now generating dynamic output</span>
<a name="line-552"></a>                                  <span class='hs-comment'>-- because of -dynamic-too. This predicate is</span>
<a name="line-553"></a>                                  <span class='hs-comment'>-- used to query the appropriate fields</span>
<a name="line-554"></a>                                  <span class='hs-comment'>-- (outputFile/dynOutputFile, ways, etc.)</span>
<a name="line-555"></a>
<a name="line-556"></a>  <span class='hs-comment'>-- | This is set by 'GHC.Driver.Pipeline.runPipeline'</span>
<a name="line-557"></a>  <span class='hs-comment'>--    or 'ghc.GHCi.UI.runStmt' based on where its output is going.</span>
<a name="line-558"></a>  <span class='hs-varid'>dumpPrefix</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-559"></a>
<a name="line-560"></a>  <span class='hs-comment'>-- | Override the 'dumpPrefix' set by 'GHC.Driver.Pipeline.runPipeline'</span>
<a name="line-561"></a>  <span class='hs-comment'>--    or 'ghc.GHCi.UI.runStmt'.</span>
<a name="line-562"></a>  <span class='hs-comment'>--    Set by @-ddump-file-prefix@</span>
<a name="line-563"></a>  <span class='hs-varid'>dumpPrefixForce</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-564"></a>
<a name="line-565"></a>  <span class='hs-varid'>ldInputs</span>              <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-566"></a>
<a name="line-567"></a>  <span class='hs-varid'>includePaths</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IncludeSpecs</span><span class='hs-layout'>,</span>
<a name="line-568"></a>  <span class='hs-varid'>libraryPaths</span>          <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-569"></a>  <span class='hs-varid'>frameworkPaths</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- used on darwin only</span>
<a name="line-570"></a>  <span class='hs-varid'>cmdlineFrameworks</span>     <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>    <span class='hs-comment'>-- ditto</span>
<a name="line-571"></a>
<a name="line-572"></a>  <span class='hs-varid'>rtsOpts</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-573"></a>  <span class='hs-varid'>rtsOptsEnabled</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>RtsOptsEnabled</span><span class='hs-layout'>,</span>
<a name="line-574"></a>  <span class='hs-varid'>rtsOptsSuggestions</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-575"></a>
<a name="line-576"></a>  <span class='hs-varid'>hpcDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>      <span class='hs-comment'>-- ^ Path to store the .mix files</span>
<a name="line-577"></a>
<a name="line-578"></a>  <span class='hs-comment'>-- Plugins</span>
<a name="line-579"></a>  <span class='hs-varid'>pluginModNames</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ModuleName</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-580"></a>  <span class='hs-varid'>pluginModNameOpts</span>     <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>ModuleName</span><span class='hs-layout'>,</span><span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-581"></a>  <span class='hs-varid'>frontendPluginOpts</span>    <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-582"></a>    <span class='hs-comment'>-- ^ the @-ffrontend-opt@ flags given on the command line, in *reverse*</span>
<a name="line-583"></a>    <span class='hs-comment'>-- order that they're specified on the command line.</span>
<a name="line-584"></a>
<a name="line-585"></a>  <span class='hs-comment'>--  For ghc -M</span>
<a name="line-586"></a>  <span class='hs-varid'>depMakefile</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-587"></a>  <span class='hs-varid'>depIncludePkgDeps</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-588"></a>  <span class='hs-varid'>depIncludeCppDeps</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-589"></a>  <span class='hs-varid'>depExcludeMods</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ModuleName</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-590"></a>  <span class='hs-varid'>depSuffixes</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-591"></a>
<a name="line-592"></a>  <span class='hs-comment'>--  Package flags</span>
<a name="line-593"></a>  <span class='hs-varid'>packageDBFlags</span>        <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PackageDBFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-594"></a>        <span class='hs-comment'>-- ^ The @-package-db@ flags given on the command line, In</span>
<a name="line-595"></a>        <span class='hs-comment'>-- *reverse* order that they're specified on the command line.</span>
<a name="line-596"></a>        <span class='hs-comment'>-- This is intended to be applied with the list of "initial"</span>
<a name="line-597"></a>        <span class='hs-comment'>-- package databases derived from @GHC_PACKAGE_PATH@; see</span>
<a name="line-598"></a>        <span class='hs-comment'>-- 'getUnitDbRefs'.</span>
<a name="line-599"></a>
<a name="line-600"></a>  <span class='hs-varid'>ignorePackageFlags</span>    <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>IgnorePackageFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-601"></a>        <span class='hs-comment'>-- ^ The @-ignore-package@ flags from the command line.</span>
<a name="line-602"></a>        <span class='hs-comment'>-- In *reverse* order that they're specified on the command line.</span>
<a name="line-603"></a>  <span class='hs-varid'>packageFlags</span>          <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PackageFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-604"></a>        <span class='hs-comment'>-- ^ The @-package@ and @-hide-package@ flags from the command-line.</span>
<a name="line-605"></a>        <span class='hs-comment'>-- In *reverse* order that they're specified on the command line.</span>
<a name="line-606"></a>  <span class='hs-varid'>pluginPackageFlags</span>    <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>PackageFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-607"></a>        <span class='hs-comment'>-- ^ The @-plugin-package-id@ flags from command line.</span>
<a name="line-608"></a>        <span class='hs-comment'>-- In *reverse* order that they're specified on the command line.</span>
<a name="line-609"></a>  <span class='hs-varid'>trustFlags</span>            <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>TrustFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-610"></a>        <span class='hs-comment'>-- ^ The @-trust@ and @-distrust@ flags.</span>
<a name="line-611"></a>        <span class='hs-comment'>-- In *reverse* order that they're specified on the command line.</span>
<a name="line-612"></a>  <span class='hs-varid'>packageEnv</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-613"></a>        <span class='hs-comment'>-- ^ Filepath to the package environment file (if overriding default)</span>
<a name="line-614"></a>
<a name="line-615"></a>
<a name="line-616"></a>  <span class='hs-comment'>-- hsc dynamic flags</span>
<a name="line-617"></a>  <span class='hs-varid'>dumpFlags</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>EnumSet</span> <span class='hs-conid'>DumpFlag</span><span class='hs-layout'>,</span>
<a name="line-618"></a>  <span class='hs-varid'>generalFlags</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>EnumSet</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>,</span>
<a name="line-619"></a>  <span class='hs-varid'>warningFlags</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>EnumSet</span> <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>,</span>
<a name="line-620"></a>  <span class='hs-varid'>fatalWarningFlags</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>EnumSet</span> <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>,</span>
<a name="line-621"></a>  <span class='hs-comment'>-- Don't change this without updating extensionFlags:</span>
<a name="line-622"></a>  <span class='hs-varid'>language</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span><span class='hs-layout'>,</span>
<a name="line-623"></a>  <span class='hs-comment'>-- | Safe Haskell mode</span>
<a name="line-624"></a>  <span class='hs-varid'>safeHaskell</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SafeHaskellMode</span><span class='hs-layout'>,</span>
<a name="line-625"></a>  <span class='hs-varid'>safeInfer</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-626"></a>  <span class='hs-varid'>safeInferred</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-627"></a>  <span class='hs-comment'>-- We store the location of where some extension and flags were turned on so</span>
<a name="line-628"></a>  <span class='hs-comment'>-- we can produce accurate error messages when Safe Haskell fails due to</span>
<a name="line-629"></a>  <span class='hs-comment'>-- them.</span>
<a name="line-630"></a>  <span class='hs-varid'>thOnLoc</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-631"></a>  <span class='hs-varid'>newDerivOnLoc</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-632"></a>  <span class='hs-varid'>deriveViaOnLoc</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-633"></a>  <span class='hs-varid'>overlapInstLoc</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-634"></a>  <span class='hs-varid'>incoherentOnLoc</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-635"></a>  <span class='hs-varid'>pkgTrustOnLoc</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-636"></a>  <span class='hs-varid'>warnSafeOnLoc</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-637"></a>  <span class='hs-varid'>warnUnsafeOnLoc</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-638"></a>  <span class='hs-varid'>trustworthyOnLoc</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span>
<a name="line-639"></a>  <span class='hs-comment'>-- Don't change this without updating extensionFlags:</span>
<a name="line-640"></a>  <span class='hs-comment'>-- Here we collect the settings of the language extensions</span>
<a name="line-641"></a>  <span class='hs-comment'>-- from the command line, the ghci config file and</span>
<a name="line-642"></a>  <span class='hs-comment'>-- from interactive :set / :seti commands.</span>
<a name="line-643"></a>  <span class='hs-varid'>extensions</span>            <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>OnOff</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-644"></a>  <span class='hs-comment'>-- extensionFlags should always be equal to</span>
<a name="line-645"></a>  <span class='hs-comment'>--     flattenExtensionFlags language extensions</span>
<a name="line-646"></a>  <span class='hs-comment'>-- LangExt.Extension is defined in libraries/ghc-boot so that it can be used</span>
<a name="line-647"></a>  <span class='hs-comment'>-- by template-haskell</span>
<a name="line-648"></a>  <span class='hs-varid'>extensionFlags</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>EnumSet</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-layout'>,</span>
<a name="line-649"></a>
<a name="line-650"></a>  <span class='hs-comment'>-- | Unfolding control</span>
<a name="line-651"></a>  <span class='hs-comment'>-- See Note [Discounts and thresholds] in GHC.Core.Unfold</span>
<a name="line-652"></a>  <span class='hs-varid'>unfoldingOpts</span>         <span class='hs-keyglyph'>::</span> <span class='hs-varop'>!</span><span class='hs-conid'>UnfoldingOpts</span><span class='hs-layout'>,</span>
<a name="line-653"></a>
<a name="line-654"></a>  <span class='hs-varid'>maxWorkerArgs</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-655"></a>
<a name="line-656"></a>  <span class='hs-varid'>ghciHistSize</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-657"></a>
<a name="line-658"></a>  <span class='hs-varid'>flushOut</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushOut</span><span class='hs-layout'>,</span>
<a name="line-659"></a>  <span class='hs-varid'>flushErr</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushErr</span><span class='hs-layout'>,</span>
<a name="line-660"></a>
<a name="line-661"></a>  <span class='hs-varid'>ghcVersionFile</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span><span class='hs-layout'>,</span>
<a name="line-662"></a>  <span class='hs-varid'>haddockOptions</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-663"></a>
<a name="line-664"></a>  <span class='hs-comment'>-- | GHCi scripts specified by -ghci-script, in reverse order</span>
<a name="line-665"></a>  <span class='hs-varid'>ghciScripts</span>           <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-666"></a>
<a name="line-667"></a>  <span class='hs-comment'>-- Output style options</span>
<a name="line-668"></a>  <span class='hs-varid'>pprUserLength</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-669"></a>  <span class='hs-varid'>pprCols</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-670"></a>
<a name="line-671"></a>  <span class='hs-varid'>useUnicode</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-672"></a>  <span class='hs-varid'>useColor</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>OverridingBool</span><span class='hs-layout'>,</span>
<a name="line-673"></a>  <span class='hs-varid'>canUseColor</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-674"></a>  <span class='hs-varid'>colScheme</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Col.Scheme</span><span class='hs-layout'>,</span>
<a name="line-675"></a>
<a name="line-676"></a>  <span class='hs-comment'>-- | what kind of {-# SCC #-} to add automatically</span>
<a name="line-677"></a>  <span class='hs-varid'>profAuto</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ProfAuto</span><span class='hs-layout'>,</span>
<a name="line-678"></a>  <span class='hs-varid'>callerCcFilters</span>       <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>CallerCcFilter</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-679"></a>
<a name="line-680"></a>  <span class='hs-varid'>interactivePrint</span>      <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span><span class='hs-layout'>,</span>
<a name="line-681"></a>
<a name="line-682"></a>  <span class='hs-varid'>nextWrapperNum</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>ModuleEnv</span> <span class='hs-conid'>Int</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-683"></a>
<a name="line-684"></a>  <span class='hs-comment'>-- | Machine dependent flags (-m\&lt;blah&gt; stuff)</span>
<a name="line-685"></a>  <span class='hs-varid'>sseVersion</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>SseVersion</span><span class='hs-layout'>,</span>
<a name="line-686"></a>  <span class='hs-varid'>bmiVersion</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>BmiVersion</span><span class='hs-layout'>,</span>
<a name="line-687"></a>  <span class='hs-varid'>avx</span>                   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-688"></a>  <span class='hs-varid'>avx2</span>                  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-689"></a>  <span class='hs-varid'>avx512cd</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 Conflict Detection Instructions.</span>
<a name="line-690"></a>  <span class='hs-varid'>avx512er</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 Exponential and Reciprocal Instructions.</span>
<a name="line-691"></a>  <span class='hs-varid'>avx512f</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 instructions.</span>
<a name="line-692"></a>  <span class='hs-varid'>avx512pf</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Enable AVX-512 PreFetch Instructions.</span>
<a name="line-693"></a>
<a name="line-694"></a>  <span class='hs-comment'>-- | Run-time linker information (what options we need, etc.)</span>
<a name="line-695"></a>  <span class='hs-varid'>rtldInfo</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>LinkerInfo</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-696"></a>
<a name="line-697"></a>  <span class='hs-comment'>-- | Run-time compiler information</span>
<a name="line-698"></a>  <span class='hs-varid'>rtccInfo</span>              <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IORef</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>CompilerInfo</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-699"></a>
<a name="line-700"></a>  <span class='hs-comment'>-- Constants used to control the amount of optimization done.</span>
<a name="line-701"></a>
<a name="line-702"></a>  <span class='hs-comment'>-- | Max size, in bytes, of inline array allocations.</span>
<a name="line-703"></a>  <span class='hs-varid'>maxInlineAllocSize</span>    <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-704"></a>
<a name="line-705"></a>  <span class='hs-comment'>-- | Only inline memcpy if it generates no more than this many</span>
<a name="line-706"></a>  <span class='hs-comment'>-- pseudo (roughly: Cmm) instructions.</span>
<a name="line-707"></a>  <span class='hs-varid'>maxInlineMemcpyInsns</span>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-708"></a>
<a name="line-709"></a>  <span class='hs-comment'>-- | Only inline memset if it generates no more than this many</span>
<a name="line-710"></a>  <span class='hs-comment'>-- pseudo (roughly: Cmm) instructions.</span>
<a name="line-711"></a>  <span class='hs-varid'>maxInlineMemsetInsns</span>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-712"></a>
<a name="line-713"></a>  <span class='hs-comment'>-- | Reverse the order of error messages in GHC/GHCi</span>
<a name="line-714"></a>  <span class='hs-varid'>reverseErrors</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span>
<a name="line-715"></a>
<a name="line-716"></a>  <span class='hs-comment'>-- | Limit the maximum number of errors to show</span>
<a name="line-717"></a>  <span class='hs-varid'>maxErrors</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-718"></a>
<a name="line-719"></a>  <span class='hs-comment'>-- | Unique supply configuration for testing build determinism</span>
<a name="line-720"></a>  <span class='hs-varid'>initialUnique</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Word</span><span class='hs-layout'>,</span>
<a name="line-721"></a>  <span class='hs-varid'>uniqueIncrement</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span>
<a name="line-722"></a>    <span class='hs-comment'>-- 'Int' because it can be used to test uniques in decreasing order.</span>
<a name="line-723"></a>
<a name="line-724"></a>  <span class='hs-comment'>-- | Temporary: CFG Edge weights for fast iterations</span>
<a name="line-725"></a>  <span class='hs-varid'>cfgWeights</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Weights</span>
<a name="line-726"></a><span class='hs-layout'>}</span>
<a name="line-727"></a>
<a name="line-728"></a><a name="HasDynFlags"></a><span class='hs-keyword'>class</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-varid'>m</span> <span class='hs-keyword'>where</span>
<a name="line-729"></a>    <span class='hs-varid'>getDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>m</span> <span class='hs-conid'>DynFlags</span>
<a name="line-730"></a>
<a name="line-731"></a><span class='hs-comment'>{- It would be desirable to have the more generalised
<a name="line-732"></a>
<a name="line-733"></a>  instance (MonadTrans t, Monad m, HasDynFlags m) =&gt; HasDynFlags (t m) where
<a name="line-734"></a>      getDynFlags = lift getDynFlags
<a name="line-735"></a>
<a name="line-736"></a>instance definition. However, that definition would overlap with the
<a name="line-737"></a>`HasDynFlags (GhcT m)` instance. Instead we define instances for a
<a name="line-738"></a>couple of common Monad transformers explicitly. -}</span>
<a name="line-739"></a>
<a name="line-740"></a><a name="instance%20HasDynFlags%20(WriterT%20a%20m)"></a><span class='hs-keyword'>instance</span> <span class='hs-layout'>(</span><span class='hs-conid'>Monoid</span> <span class='hs-varid'>a</span><span class='hs-layout'>,</span> <span class='hs-conid'>Monad</span> <span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-layout'>(</span><span class='hs-conid'>WriterT</span> <span class='hs-varid'>a</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-741"></a>    <span class='hs-varid'>getDynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lift</span> <span class='hs-varid'>getDynFlags</span>
<a name="line-742"></a>
<a name="line-743"></a><a name="instance%20HasDynFlags%20(ReaderT%20a%20m)"></a><span class='hs-keyword'>instance</span> <span class='hs-layout'>(</span><span class='hs-conid'>Monad</span> <span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-layout'>(</span><span class='hs-conid'>ReaderT</span> <span class='hs-varid'>a</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-744"></a>    <span class='hs-varid'>getDynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lift</span> <span class='hs-varid'>getDynFlags</span>
<a name="line-745"></a>
<a name="line-746"></a><a name="instance%20HasDynFlags%20(MaybeT%20m)"></a><span class='hs-keyword'>instance</span> <span class='hs-layout'>(</span><span class='hs-conid'>Monad</span> <span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-layout'>(</span><span class='hs-conid'>MaybeT</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-747"></a>    <span class='hs-varid'>getDynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lift</span> <span class='hs-varid'>getDynFlags</span>
<a name="line-748"></a>
<a name="line-749"></a><a name="instance%20HasDynFlags%20(ExceptT%20e%20m)"></a><span class='hs-keyword'>instance</span> <span class='hs-layout'>(</span><span class='hs-conid'>Monad</span> <span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>HasDynFlags</span> <span class='hs-layout'>(</span><span class='hs-conid'>ExceptT</span> <span class='hs-varid'>e</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-750"></a>    <span class='hs-varid'>getDynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lift</span> <span class='hs-varid'>getDynFlags</span>
<a name="line-751"></a>
<a name="line-752"></a><a name="ContainsDynFlags"></a><span class='hs-keyword'>class</span> <span class='hs-conid'>ContainsDynFlags</span> <span class='hs-varid'>t</span> <span class='hs-keyword'>where</span>
<a name="line-753"></a>    <span class='hs-varid'>extractDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>t</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-754"></a>
<a name="line-755"></a><a name="ProfAuto"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>ProfAuto</span>
<a name="line-756"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span>         <span class='hs-comment'>-- ^ no SCC annotations added</span>
<a name="line-757"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoAll</span>        <span class='hs-comment'>-- ^ top-level and nested functions are annotated</span>
<a name="line-758"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoTop</span>        <span class='hs-comment'>-- ^ top-level functions annotated only</span>
<a name="line-759"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoExports</span>    <span class='hs-comment'>-- ^ exported functions annotated only</span>
<a name="line-760"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ProfAutoCalls</span>      <span class='hs-comment'>-- ^ annotate call-sites</span>
<a name="line-761"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Enum</span><span class='hs-layout'>)</span>
<a name="line-762"></a>
<a name="line-763"></a><a name="LlvmTarget"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>LlvmTarget</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LlvmTarget</span>
<a name="line-764"></a>  <span class='hs-layout'>{</span> <span class='hs-varid'>lDataLayout</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>
<a name="line-765"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>lCPU</span>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>
<a name="line-766"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>lAttributes</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-767"></a>  <span class='hs-layout'>}</span>
<a name="line-768"></a>
<a name="line-769"></a><a name="LlvmConfig"></a><span class='hs-comment'>-- | See Note [LLVM Configuration] in "GHC.SysTools".</span>
<a name="line-770"></a><a name="LlvmConfig"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>LlvmConfig</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LlvmConfig</span> <span class='hs-layout'>{</span> <span class='hs-varid'>llvmTargets</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>LlvmTarget</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-771"></a>                             <span class='hs-layout'>,</span> <span class='hs-varid'>llvmPasses</span>  <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Int</span><span class='hs-layout'>,</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-772"></a>                             <span class='hs-layout'>}</span>
<a name="line-773"></a>
<a name="line-774"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-775"></a><span class='hs-comment'>-- Accessessors from 'DynFlags'</span>
<a name="line-776"></a>
<a name="line-777"></a><a name="settings"></a><span class='hs-comment'>-- | "unbuild" a 'Settings' from a 'DynFlags'. This shouldn't be needed in the</span>
<a name="line-778"></a><span class='hs-comment'>-- vast majority of code. But GHCi questionably uses this to produce a default</span>
<a name="line-779"></a><span class='hs-comment'>-- 'DynFlags' from which to compute a flags diff for printing.</span>
<a name="line-780"></a><span class='hs-definition'>settings</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Settings</span>
<a name="line-781"></a><span class='hs-definition'>settings</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Settings</span>
<a name="line-782"></a>  <span class='hs-layout'>{</span> <span class='hs-varid'>sGhcNameVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ghcNameVersion</span> <span class='hs-varid'>dflags</span>
<a name="line-783"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sFileSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-784"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sTargetPlatform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span>
<a name="line-785"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sToolSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-786"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sPlatformMisc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformMisc</span> <span class='hs-varid'>dflags</span>
<a name="line-787"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sRawSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>rawSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-788"></a>  <span class='hs-layout'>}</span>
<a name="line-789"></a>
<a name="line-790"></a><a name="programName"></a><span class='hs-definition'>programName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-791"></a><span class='hs-definition'>programName</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ghcNameVersion_programName</span> <span class='hs-varop'>$</span> <span class='hs-varid'>ghcNameVersion</span> <span class='hs-varid'>dflags</span>
<a name="line-792"></a><a name="projectVersion"></a><span class='hs-definition'>projectVersion</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-793"></a><span class='hs-definition'>projectVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ghcNameVersion_projectVersion</span> <span class='hs-layout'>(</span><span class='hs-varid'>ghcNameVersion</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-794"></a><a name="ghcUsagePath"></a><span class='hs-definition'>ghcUsagePath</span>          <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-795"></a><span class='hs-definition'>ghcUsagePath</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings_ghcUsagePath</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-796"></a><a name="ghciUsagePath"></a><span class='hs-definition'>ghciUsagePath</span>         <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-797"></a><span class='hs-definition'>ghciUsagePath</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings_ghciUsagePath</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-798"></a><a name="toolDir"></a><span class='hs-definition'>toolDir</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span>
<a name="line-799"></a><span class='hs-definition'>toolDir</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings_toolDir</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-800"></a><a name="topDir"></a><span class='hs-definition'>topDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-801"></a><span class='hs-definition'>topDir</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings_topDir</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-802"></a><a name="tmpDir"></a><span class='hs-definition'>tmpDir</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-803"></a><span class='hs-definition'>tmpDir</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings_tmpDir</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-804"></a><a name="extraGccViaCFlags"></a><span class='hs-definition'>extraGccViaCFlags</span>     <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-805"></a><span class='hs-definition'>extraGccViaCFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_extraGccViaCFlags</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-806"></a><a name="globalPackageDatabasePath"></a><span class='hs-definition'>globalPackageDatabasePath</span>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-807"></a><span class='hs-definition'>globalPackageDatabasePath</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fileSettings_globalPackageDatabase</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-808"></a><a name="pgm_L"></a><span class='hs-definition'>pgm_L</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-809"></a><span class='hs-definition'>pgm_L</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_L</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-810"></a><a name="pgm_P"></a><span class='hs-definition'>pgm_P</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-811"></a><span class='hs-definition'>pgm_P</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_P</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-812"></a><a name="pgm_F"></a><span class='hs-definition'>pgm_F</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-813"></a><span class='hs-definition'>pgm_F</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_F</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-814"></a><a name="pgm_c"></a><span class='hs-definition'>pgm_c</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-815"></a><span class='hs-definition'>pgm_c</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_c</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-816"></a><a name="pgm_a"></a><span class='hs-definition'>pgm_a</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-817"></a><span class='hs-definition'>pgm_a</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_a</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-818"></a><a name="pgm_l"></a><span class='hs-definition'>pgm_l</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-819"></a><span class='hs-definition'>pgm_l</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_l</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-820"></a><a name="pgm_lm"></a><span class='hs-definition'>pgm_lm</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-821"></a><span class='hs-definition'>pgm_lm</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_lm</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-822"></a><a name="pgm_dll"></a><span class='hs-definition'>pgm_dll</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-823"></a><span class='hs-definition'>pgm_dll</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_dll</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-824"></a><a name="pgm_T"></a><span class='hs-definition'>pgm_T</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-825"></a><span class='hs-definition'>pgm_T</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_T</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-826"></a><a name="pgm_windres"></a><span class='hs-definition'>pgm_windres</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-827"></a><span class='hs-definition'>pgm_windres</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_windres</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-828"></a><a name="pgm_libtool"></a><span class='hs-definition'>pgm_libtool</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-829"></a><span class='hs-definition'>pgm_libtool</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_libtool</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-830"></a><a name="pgm_lcc"></a><span class='hs-definition'>pgm_lcc</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-831"></a><span class='hs-definition'>pgm_lcc</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_lcc</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-832"></a><a name="pgm_ar"></a><span class='hs-definition'>pgm_ar</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-833"></a><span class='hs-definition'>pgm_ar</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_ar</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-834"></a><a name="pgm_otool"></a><span class='hs-definition'>pgm_otool</span>             <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-835"></a><span class='hs-definition'>pgm_otool</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_otool</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-836"></a><a name="pgm_install_name_tool"></a><span class='hs-definition'>pgm_install_name_tool</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-837"></a><span class='hs-definition'>pgm_install_name_tool</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_install_name_tool</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-838"></a><a name="pgm_ranlib"></a><span class='hs-definition'>pgm_ranlib</span>            <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-839"></a><span class='hs-definition'>pgm_ranlib</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_ranlib</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-840"></a><a name="pgm_lo"></a><span class='hs-definition'>pgm_lo</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-841"></a><span class='hs-definition'>pgm_lo</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_lo</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-842"></a><a name="pgm_lc"></a><span class='hs-definition'>pgm_lc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-843"></a><span class='hs-definition'>pgm_lc</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_lc</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-844"></a><a name="pgm_i"></a><span class='hs-definition'>pgm_i</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-845"></a><span class='hs-definition'>pgm_i</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_pgm_i</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-846"></a><a name="opt_L"></a><span class='hs-definition'>opt_L</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-847"></a><span class='hs-definition'>opt_L</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_L</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-848"></a><a name="opt_P"></a><span class='hs-definition'>opt_P</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-849"></a><span class='hs-definition'>opt_P</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptP</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-850"></a>            <span class='hs-varop'>++</span> <span class='hs-varid'>toolSettings_opt_P</span> <span class='hs-layout'>(</span><span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-851"></a>
<a name="line-852"></a><a name="opt_P_signature"></a><span class='hs-comment'>-- This function packages everything that's needed to fingerprint opt_P</span>
<a name="line-853"></a><span class='hs-comment'>-- flags. See Note [Repeated -optP hashing].</span>
<a name="line-854"></a><span class='hs-definition'>opt_P_signature</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Fingerprint</span><span class='hs-layout'>)</span>
<a name="line-855"></a><span class='hs-definition'>opt_P_signature</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span>
<a name="line-856"></a>  <span class='hs-layout'>(</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptP</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-857"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>toolSettings_opt_P_fingerprint</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-858"></a>  <span class='hs-layout'>)</span>
<a name="line-859"></a>
<a name="line-860"></a><a name="opt_F"></a><span class='hs-definition'>opt_F</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-861"></a><span class='hs-definition'>opt_F</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_F</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-862"></a><a name="opt_c"></a><span class='hs-definition'>opt_c</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-863"></a><span class='hs-definition'>opt_c</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptc</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-864"></a>            <span class='hs-varop'>++</span> <span class='hs-varid'>toolSettings_opt_c</span> <span class='hs-layout'>(</span><span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-865"></a><a name="opt_cxx"></a><span class='hs-definition'>opt_cxx</span>               <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-866"></a><span class='hs-definition'>opt_cxx</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_cxx</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-867"></a><a name="opt_a"></a><span class='hs-definition'>opt_a</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-868"></a><span class='hs-definition'>opt_a</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_a</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-869"></a><a name="opt_l"></a><span class='hs-definition'>opt_l</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-870"></a><span class='hs-definition'>opt_l</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-layout'>(</span><span class='hs-varid'>wayOptl</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-871"></a>            <span class='hs-varop'>++</span> <span class='hs-varid'>toolSettings_opt_l</span> <span class='hs-layout'>(</span><span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-872"></a><a name="opt_lm"></a><span class='hs-definition'>opt_lm</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-873"></a><span class='hs-definition'>opt_lm</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_lm</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-874"></a><a name="opt_windres"></a><span class='hs-definition'>opt_windres</span>           <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-875"></a><span class='hs-definition'>opt_windres</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_windres</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-876"></a><a name="opt_lcc"></a><span class='hs-definition'>opt_lcc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-877"></a><span class='hs-definition'>opt_lcc</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_lcc</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-878"></a><a name="opt_lo"></a><span class='hs-definition'>opt_lo</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-879"></a><span class='hs-definition'>opt_lo</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_lo</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-880"></a><a name="opt_lc"></a><span class='hs-definition'>opt_lc</span>                <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-881"></a><span class='hs-definition'>opt_lc</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_lc</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-882"></a><a name="opt_i"></a><span class='hs-definition'>opt_i</span>                 <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-883"></a><span class='hs-definition'>opt_i</span> <span class='hs-varid'>dflags</span><span class='hs-keyglyph'>=</span> <span class='hs-varid'>toolSettings_opt_i</span> <span class='hs-varop'>$</span> <span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span>
<a name="line-884"></a>
<a name="line-885"></a><a name="versionedAppDir"></a><span class='hs-comment'>-- | The directory for this version of ghc in the user's app directory</span>
<a name="line-886"></a><span class='hs-comment'>-- The appdir used to be in ~/.ghc but to respect the XDG specification</span>
<a name="line-887"></a><span class='hs-comment'>-- we want to move it under $XDG_DATA_HOME/</span>
<a name="line-888"></a><span class='hs-comment'>-- However, old tooling (like cabal) might still write package environments</span>
<a name="line-889"></a><span class='hs-comment'>-- to the old directory, so we prefer that if a subdirectory of ~/.ghc</span>
<a name="line-890"></a><span class='hs-comment'>-- with the correct target and GHC version suffix exists.</span>
<a name="line-891"></a><span class='hs-comment'>--</span>
<a name="line-892"></a><span class='hs-comment'>-- i.e. if ~/.ghc/$UNIQUE_SUBDIR exists we use that</span>
<a name="line-893"></a><span class='hs-comment'>-- otherwise we use $XDG_DATA_HOME/$UNIQUE_SUBDIR</span>
<a name="line-894"></a><span class='hs-comment'>--</span>
<a name="line-895"></a><span class='hs-comment'>-- UNIQUE_SUBDIR is typically a combination of the target platform and GHC version</span>
<a name="line-896"></a><span class='hs-definition'>versionedAppDir</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>ArchOS</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>MaybeT</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>FilePath</span>
<a name="line-897"></a><span class='hs-definition'>versionedAppDir</span> <span class='hs-varid'>appname</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-898"></a>  <span class='hs-comment'>-- Make sure we handle the case the HOME isn't set (see #11678)</span>
<a name="line-899"></a>  <span class='hs-comment'>-- We need to fallback to the old scheme if the subdirectory exists.</span>
<a name="line-900"></a>  <span class='hs-varid'>msum</span> <span class='hs-varop'>$</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>checkIfExists</span> <span class='hs-varop'>&lt;=&lt;</span> <span class='hs-varid'>fmap</span> <span class='hs-layout'>(</span><span class='hs-varop'>&lt;/&gt;</span> <span class='hs-varid'>versionedFilePath</span> <span class='hs-varid'>platform</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-901"></a>       <span class='hs-keyglyph'>[</span> <span class='hs-varid'>tryMaybeT</span> <span class='hs-varop'>$</span> <span class='hs-varid'>getAppUserDataDirectory</span> <span class='hs-varid'>appname</span>  <span class='hs-comment'>-- this is ~/.ghc/</span>
<a name="line-902"></a>       <span class='hs-layout'>,</span> <span class='hs-varid'>tryMaybeT</span> <span class='hs-varop'>$</span> <span class='hs-varid'>getXdgDirectory</span> <span class='hs-conid'>XdgData</span> <span class='hs-varid'>appname</span> <span class='hs-comment'>-- this is $XDG_DATA_HOME/</span>
<a name="line-903"></a>       <span class='hs-keyglyph'>]</span>
<a name="line-904"></a>  <span class='hs-keyword'>where</span>
<a name="line-905"></a>    <span class='hs-varid'>checkIfExists</span> <span class='hs-varid'>dir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>tryMaybeT</span> <span class='hs-layout'>(</span><span class='hs-varid'>doesDirectoryExist</span> <span class='hs-varid'>dir</span><span class='hs-layout'>)</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-keyword'>case</span>
<a name="line-906"></a>      <span class='hs-conid'>True</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>pure</span> <span class='hs-varid'>dir</span>
<a name="line-907"></a>      <span class='hs-conid'>False</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>MaybeT</span> <span class='hs-layout'>(</span><span class='hs-varid'>pure</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>)</span>
<a name="line-908"></a>
<a name="line-909"></a><a name="versionedFilePath"></a><span class='hs-definition'>versionedFilePath</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ArchOS</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-910"></a><span class='hs-definition'>versionedFilePath</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>uniqueSubdir</span> <span class='hs-varid'>platform</span>
<a name="line-911"></a>
<a name="line-912"></a><a name="GhcMode"></a><span class='hs-comment'>-- | The 'GhcMode' tells us whether we're doing multi-module</span>
<a name="line-913"></a><a name="GhcMode"></a><span class='hs-comment'>-- compilation (controlled via the "GHC" API) or one-shot</span>
<a name="line-914"></a><a name="GhcMode"></a><span class='hs-comment'>-- (single-module) compilation.  This makes a difference primarily to</span>
<a name="line-915"></a><a name="GhcMode"></a><span class='hs-comment'>-- the "GHC.Unit.Finder": in one-shot mode we look for interface files for</span>
<a name="line-916"></a><a name="GhcMode"></a><span class='hs-comment'>-- imported modules, but in multi-module mode we look for source files</span>
<a name="line-917"></a><a name="GhcMode"></a><span class='hs-comment'>-- in order to check whether they need to be recompiled.</span>
<a name="line-918"></a><a name="GhcMode"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>GhcMode</span>
<a name="line-919"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>CompManager</span>         <span class='hs-comment'>-- ^ @\-\-make@, GHCi, etc.</span>
<a name="line-920"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>OneShot</span>             <span class='hs-comment'>-- ^ @ghc -c Foo.hs@</span>
<a name="line-921"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>MkDepend</span>            <span class='hs-comment'>-- ^ @ghc -M@, see "GHC.Unit.Finder" for why we need this</span>
<a name="line-922"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-923"></a>
<a name="line-924"></a><a name="instance%20Outputable%20GhcMode"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-conid'>GhcMode</span> <span class='hs-keyword'>where</span>
<a name="line-925"></a>  <span class='hs-varid'>ppr</span> <span class='hs-conid'>CompManager</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"CompManager"</span>
<a name="line-926"></a>  <span class='hs-varid'>ppr</span> <span class='hs-conid'>OneShot</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"OneShot"</span>
<a name="line-927"></a>  <span class='hs-varid'>ppr</span> <span class='hs-conid'>MkDepend</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"MkDepend"</span>
<a name="line-928"></a>
<a name="line-929"></a><a name="isOneShot"></a><span class='hs-definition'>isOneShot</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-930"></a><span class='hs-definition'>isOneShot</span> <span class='hs-conid'>OneShot</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-931"></a><span class='hs-definition'>isOneShot</span> <span class='hs-sel'>_other</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-932"></a>
<a name="line-933"></a><a name="GhcLink"></a><span class='hs-comment'>-- | What to do in the link step, if there is one.</span>
<a name="line-934"></a><a name="GhcLink"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>GhcLink</span>
<a name="line-935"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoLink</span>              <span class='hs-comment'>-- ^ Don't link at all</span>
<a name="line-936"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkBinary</span>          <span class='hs-comment'>-- ^ Link object code into a binary</span>
<a name="line-937"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkInMemory</span>        <span class='hs-comment'>-- ^ Use the in-memory dynamic linker (works for both</span>
<a name="line-938"></a>                        <span class='hs-comment'>--   bytecode and object code).</span>
<a name="line-939"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkDynLib</span>          <span class='hs-comment'>-- ^ Link objects into a dynamic lib (DLL on Windows, DSO on ELF platforms)</span>
<a name="line-940"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkStaticLib</span>       <span class='hs-comment'>-- ^ Link objects into a static lib</span>
<a name="line-941"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-942"></a>
<a name="line-943"></a><a name="isNoLink"></a><span class='hs-definition'>isNoLink</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcLink</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-944"></a><span class='hs-definition'>isNoLink</span> <span class='hs-conid'>NoLink</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-945"></a><span class='hs-definition'>isNoLink</span> <span class='hs-keyword'>_</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-946"></a>
<a name="line-947"></a><a name="PackageArg"></a><span class='hs-comment'>-- | We accept flags which make packages visible, but how they select</span>
<a name="line-948"></a><a name="PackageArg"></a><span class='hs-comment'>-- the package varies; this data type reflects what selection criterion</span>
<a name="line-949"></a><a name="PackageArg"></a><span class='hs-comment'>-- is used.</span>
<a name="line-950"></a><a name="PackageArg"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>PackageArg</span> <span class='hs-keyglyph'>=</span>
<a name="line-951"></a>      <span class='hs-conid'>PackageArg</span> <span class='hs-conid'>String</span>    <span class='hs-comment'>-- ^ @-package@, by 'PackageName'</span>
<a name="line-952"></a>    <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UnitIdArg</span> <span class='hs-conid'>Unit</span>       <span class='hs-comment'>-- ^ @-package-id@, by 'Unit'</span>
<a name="line-953"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-954"></a>
<a name="line-955"></a><a name="instance%20Outputable%20PackageArg"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-conid'>PackageArg</span> <span class='hs-keyword'>where</span>
<a name="line-956"></a>    <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>PackageArg</span> <span class='hs-varid'>pn</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"package"</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>text</span> <span class='hs-varid'>pn</span>
<a name="line-957"></a>    <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>UnitIdArg</span> <span class='hs-varid'>uid</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"unit"</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>ppr</span> <span class='hs-varid'>uid</span>
<a name="line-958"></a>
<a name="line-959"></a><a name="ModRenaming"></a><span class='hs-comment'>-- | Represents the renaming that may be associated with an exposed</span>
<a name="line-960"></a><a name="ModRenaming"></a><span class='hs-comment'>-- package, e.g. the @rns@ part of @-package "foo (rns)"@.</span>
<a name="line-961"></a><a name="ModRenaming"></a><span class='hs-comment'>--</span>
<a name="line-962"></a><a name="ModRenaming"></a><span class='hs-comment'>-- Here are some example parsings of the package flags (where</span>
<a name="line-963"></a><a name="ModRenaming"></a><span class='hs-comment'>-- a string literal is punned to be a 'ModuleName':</span>
<a name="line-964"></a><a name="ModRenaming"></a><span class='hs-comment'>--</span>
<a name="line-965"></a><a name="ModRenaming"></a><span class='hs-comment'>--      * @-package foo@ is @ModRenaming True []@</span>
<a name="line-966"></a><a name="ModRenaming"></a><span class='hs-comment'>--      * @-package foo ()@ is @ModRenaming False []@</span>
<a name="line-967"></a><a name="ModRenaming"></a><span class='hs-comment'>--      * @-package foo (A)@ is @ModRenaming False [("A", "A")]@</span>
<a name="line-968"></a><a name="ModRenaming"></a><span class='hs-comment'>--      * @-package foo (A as B)@ is @ModRenaming False [("A", "B")]@</span>
<a name="line-969"></a><a name="ModRenaming"></a><span class='hs-comment'>--      * @-package foo with (A as B)@ is @ModRenaming True [("A", "B")]@</span>
<a name="line-970"></a><a name="ModRenaming"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>ModRenaming</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ModRenaming</span> <span class='hs-layout'>{</span>
<a name="line-971"></a>    <span class='hs-varid'>modRenamingWithImplicit</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- ^ Bring all exposed modules into scope?</span>
<a name="line-972"></a>    <span class='hs-varid'>modRenamings</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>ModuleName</span><span class='hs-layout'>,</span> <span class='hs-conid'>ModuleName</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span> <span class='hs-comment'>-- ^ Bring module @m@ into scope</span>
<a name="line-973"></a>                                               <span class='hs-comment'>--   under name @n@.</span>
<a name="line-974"></a>  <span class='hs-layout'>}</span> <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>)</span>
<a name="line-975"></a><a name="instance%20Outputable%20ModRenaming"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-conid'>ModRenaming</span> <span class='hs-keyword'>where</span>
<a name="line-976"></a>    <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>ModRenaming</span> <span class='hs-varid'>b</span> <span class='hs-varid'>rns</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ppr</span> <span class='hs-varid'>b</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>parens</span> <span class='hs-layout'>(</span><span class='hs-varid'>ppr</span> <span class='hs-varid'>rns</span><span class='hs-layout'>)</span>
<a name="line-977"></a>
<a name="line-978"></a><a name="IgnorePackageFlag"></a><span class='hs-comment'>-- | Flags for manipulating the set of non-broken packages.</span>
<a name="line-979"></a><a name="IgnorePackageFlag"></a><span class='hs-keyword'>newtype</span> <span class='hs-conid'>IgnorePackageFlag</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IgnorePackage</span> <span class='hs-conid'>String</span> <span class='hs-comment'>-- ^ @-ignore-package@</span>
<a name="line-980"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>)</span>
<a name="line-981"></a>
<a name="line-982"></a><a name="TrustFlag"></a><span class='hs-comment'>-- | Flags for manipulating package trust.</span>
<a name="line-983"></a><a name="TrustFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>TrustFlag</span>
<a name="line-984"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TrustPackage</span>    <span class='hs-conid'>String</span> <span class='hs-comment'>-- ^ @-trust@</span>
<a name="line-985"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DistrustPackage</span> <span class='hs-conid'>String</span> <span class='hs-comment'>-- ^ @-distrust@</span>
<a name="line-986"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>)</span>
<a name="line-987"></a>
<a name="line-988"></a><a name="PackageFlag"></a><span class='hs-comment'>-- | Flags for manipulating packages visibility.</span>
<a name="line-989"></a><a name="PackageFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>PackageFlag</span>
<a name="line-990"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ExposePackage</span>   <span class='hs-conid'>String</span> <span class='hs-conid'>PackageArg</span> <span class='hs-conid'>ModRenaming</span> <span class='hs-comment'>-- ^ @-package@, @-package-id@</span>
<a name="line-991"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>HidePackage</span>     <span class='hs-conid'>String</span> <span class='hs-comment'>-- ^ @-hide-package@</span>
<a name="line-992"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- NB: equality instance is used by packageFlagsChanged</span>
<a name="line-993"></a>
<a name="line-994"></a><a name="PackageDBFlag"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>PackageDBFlag</span>
<a name="line-995"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>PackageDB</span> <span class='hs-conid'>PkgDbRef</span>
<a name="line-996"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>NoUserPackageDB</span>
<a name="line-997"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>NoGlobalPackageDB</span>
<a name="line-998"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>ClearPackageDBs</span>
<a name="line-999"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>)</span>
<a name="line-1000"></a>
<a name="line-1001"></a><a name="packageFlagsChanged"></a><span class='hs-definition'>packageFlagsChanged</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1002"></a><span class='hs-definition'>packageFlagsChanged</span> <span class='hs-varid'>idflags1</span> <span class='hs-varid'>idflags0</span> <span class='hs-keyglyph'>=</span>
<a name="line-1003"></a>  <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>idflags1</span> <span class='hs-varop'>/=</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>idflags0</span> <span class='hs-varop'>||</span>
<a name="line-1004"></a>  <span class='hs-varid'>ignorePackageFlags</span> <span class='hs-varid'>idflags1</span> <span class='hs-varop'>/=</span> <span class='hs-varid'>ignorePackageFlags</span> <span class='hs-varid'>idflags0</span> <span class='hs-varop'>||</span>
<a name="line-1005"></a>  <span class='hs-varid'>pluginPackageFlags</span> <span class='hs-varid'>idflags1</span> <span class='hs-varop'>/=</span> <span class='hs-varid'>pluginPackageFlags</span> <span class='hs-varid'>idflags0</span> <span class='hs-varop'>||</span>
<a name="line-1006"></a>  <span class='hs-varid'>trustFlags</span> <span class='hs-varid'>idflags1</span> <span class='hs-varop'>/=</span> <span class='hs-varid'>trustFlags</span> <span class='hs-varid'>idflags0</span> <span class='hs-varop'>||</span>
<a name="line-1007"></a>  <span class='hs-varid'>packageDBFlags</span> <span class='hs-varid'>idflags1</span> <span class='hs-varop'>/=</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-varid'>idflags0</span> <span class='hs-varop'>||</span>
<a name="line-1008"></a>  <span class='hs-varid'>packageGFlags</span> <span class='hs-varid'>idflags1</span> <span class='hs-varop'>/=</span> <span class='hs-varid'>packageGFlags</span> <span class='hs-varid'>idflags0</span>
<a name="line-1009"></a> <span class='hs-keyword'>where</span>
<a name="line-1010"></a>   <span class='hs-varid'>packageGFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varop'>`gopt`</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1011"></a>     <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_HideAllPackages</span>
<a name="line-1012"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_HideAllPluginPackages</span>
<a name="line-1013"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_AutoLinkPackages</span> <span class='hs-keyglyph'>]</span>
<a name="line-1014"></a>
<a name="line-1015"></a><a name="instance%20Outputable%20PackageFlag"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-conid'>PackageFlag</span> <span class='hs-keyword'>where</span>
<a name="line-1016"></a>    <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>ExposePackage</span> <span class='hs-varid'>n</span> <span class='hs-varid'>arg</span> <span class='hs-varid'>rn</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-varid'>n</span> <span class='hs-varop'>&lt;&gt;</span> <span class='hs-varid'>braces</span> <span class='hs-layout'>(</span><span class='hs-varid'>ppr</span> <span class='hs-varid'>arg</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>ppr</span> <span class='hs-varid'>rn</span><span class='hs-layout'>)</span>
<a name="line-1017"></a>    <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>HidePackage</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"-hide-package"</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>text</span> <span class='hs-varid'>str</span>
<a name="line-1018"></a>
<a name="line-1019"></a><a name="DynLibLoader"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>DynLibLoader</span>
<a name="line-1020"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Deployable</span>
<a name="line-1021"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>SystemDependent</span>
<a name="line-1022"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-1023"></a>
<a name="line-1024"></a><a name="RtsOptsEnabled"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>RtsOptsEnabled</span>
<a name="line-1025"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>RtsOptsNone</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>RtsOptsIgnore</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>RtsOptsIgnoreAll</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>RtsOptsSafeOnly</span>
<a name="line-1026"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>RtsOptsAll</span>
<a name="line-1027"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-1028"></a>
<a name="line-1029"></a><a name="positionIndependent"></a><span class='hs-comment'>-- | Are we building with @-fPIE@ or @-fPIC@ enabled?</span>
<a name="line-1030"></a><span class='hs-definition'>positionIndependent</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1031"></a><span class='hs-definition'>positionIndependent</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIE</span> <span class='hs-varid'>dflags</span>
<a name="line-1032"></a>
<a name="line-1033"></a><span class='hs-comment'>-- Note [-dynamic-too business]</span>
<a name="line-1034"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-1035"></a><span class='hs-comment'>--</span>
<a name="line-1036"></a><span class='hs-comment'>-- With -dynamic-too flag, we try to build both the non-dynamic and dynamic</span>
<a name="line-1037"></a><span class='hs-comment'>-- objects in a single run of the compiler: the pipeline is the same down to</span>
<a name="line-1038"></a><span class='hs-comment'>-- Core optimisation, then the backend (from Core to object code) is executed</span>
<a name="line-1039"></a><span class='hs-comment'>-- twice.</span>
<a name="line-1040"></a><span class='hs-comment'>--</span>
<a name="line-1041"></a><span class='hs-comment'>-- The implementation is currently rather hacky: recompilation avoidance is</span>
<a name="line-1042"></a><span class='hs-comment'>-- broken (#17968), we don't clearly separate non-dynamic and dynamic loaded</span>
<a name="line-1043"></a><span class='hs-comment'>-- interfaces (#9176), etc.</span>
<a name="line-1044"></a><span class='hs-comment'>--</span>
<a name="line-1045"></a><span class='hs-comment'>-- To make matters worse, we automatically enable -dynamic-too when some modules</span>
<a name="line-1046"></a><span class='hs-comment'>-- need Template-Haskell and GHC is dynamically linked (cf</span>
<a name="line-1047"></a><span class='hs-comment'>-- GHC.Driver.Pipeline.compileOne').</span>
<a name="line-1048"></a><span class='hs-comment'>--</span>
<a name="line-1049"></a><span class='hs-comment'>-- This somewhat explains why we have "dynamicTooFailed :: IORef Bool" in</span>
<a name="line-1050"></a><span class='hs-comment'>-- DynFlags: when -dynamic-too is enabled, we try to build the dynamic objects,</span>
<a name="line-1051"></a><span class='hs-comment'>-- but we may fail and we shouldn't abort the whole compilation because the user</span>
<a name="line-1052"></a><span class='hs-comment'>-- may not even have asked for -dynamic-too in the first place. So instead we</span>
<a name="line-1053"></a><span class='hs-comment'>-- use this global variable to indicate that we can't build dynamic objects and</span>
<a name="line-1054"></a><span class='hs-comment'>-- compilation continues to build non-dynamic objects only. At the end of the</span>
<a name="line-1055"></a><span class='hs-comment'>-- non-dynamic pipeline, if this value indicates that the dynamic compilation</span>
<a name="line-1056"></a><span class='hs-comment'>-- failed, we run the whole pipeline again for the dynamic way (except on</span>
<a name="line-1057"></a><span class='hs-comment'>-- Windows...). See GHC.Driver.Pipeline.runPipeline.</span>
<a name="line-1058"></a>
<a name="line-1059"></a><a name="DynamicTooState"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>DynamicTooState</span>
<a name="line-1060"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DT_Dont</span>    <span class='hs-comment'>-- ^ Don't try to build dynamic objects too</span>
<a name="line-1061"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DT_Failed</span>  <span class='hs-comment'>-- ^ Won't try to generate dynamic objects for some reason</span>
<a name="line-1062"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DT_OK</span>      <span class='hs-comment'>-- ^ Will still try to generate dynamic objects</span>
<a name="line-1063"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DT_Dyn</span>     <span class='hs-comment'>-- ^ Currently generating dynamic objects (in the backend)</span>
<a name="line-1064"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span><span class='hs-conid'>Show</span><span class='hs-layout'>,</span><span class='hs-conid'>Ord</span><span class='hs-layout'>)</span>
<a name="line-1065"></a>
<a name="line-1066"></a><a name="dynamicTooState"></a><span class='hs-definition'>dynamicTooState</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-conid'>DynamicTooState</span>
<a name="line-1067"></a><span class='hs-definition'>dynamicTooState</span> <span class='hs-varid'>dflags</span>
<a name="line-1068"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_BuildDynamicToo</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>DT_Dont</span>
<a name="line-1069"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1070"></a>      <span class='hs-varid'>failed</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>readIORef</span> <span class='hs-layout'>(</span><span class='hs-varid'>dynamicTooFailed</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1071"></a>      <span class='hs-keyword'>if</span> <span class='hs-varid'>failed</span>
<a name="line-1072"></a>         <span class='hs-keyword'>then</span> <span class='hs-varid'>return</span> <span class='hs-conid'>DT_Failed</span>
<a name="line-1073"></a>         <span class='hs-keyword'>else</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span>
<a name="line-1074"></a>               <span class='hs-keyword'>then</span> <span class='hs-varid'>return</span> <span class='hs-conid'>DT_Dyn</span>
<a name="line-1075"></a>               <span class='hs-keyword'>else</span> <span class='hs-varid'>return</span> <span class='hs-conid'>DT_OK</span>
<a name="line-1076"></a>
<a name="line-1077"></a><a name="setDynamicNow"></a><span class='hs-definition'>setDynamicNow</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1078"></a><span class='hs-definition'>setDynamicNow</span> <span class='hs-varid'>dflags0</span> <span class='hs-keyglyph'>=</span>
<a name="line-1079"></a>   <span class='hs-varid'>dflags0</span>
<a name="line-1080"></a>      <span class='hs-layout'>{</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1081"></a>      <span class='hs-layout'>}</span>
<a name="line-1082"></a>
<a name="line-1083"></a><a name="setDynamicTooFailed"></a><span class='hs-definition'>setDynamicTooFailed</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-conid'>()</span>
<a name="line-1084"></a><span class='hs-definition'>setDynamicTooFailed</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span>
<a name="line-1085"></a>   <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>writeIORef</span> <span class='hs-layout'>(</span><span class='hs-varid'>dynamicTooFailed</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-conid'>True</span>
<a name="line-1086"></a>
<a name="line-1087"></a><a name="dynamicOutputFile"></a><span class='hs-comment'>-- | Compute the path of the dynamic object corresponding to an object file.</span>
<a name="line-1088"></a><span class='hs-definition'>dynamicOutputFile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-1089"></a><span class='hs-definition'>dynamicOutputFile</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>outputFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>outputFile</span> <span class='hs-varop'>-&lt;.&gt;</span> <span class='hs-varid'>dynObjectSuf_</span> <span class='hs-varid'>dflags</span>
<a name="line-1090"></a>
<a name="line-1091"></a><a name="dynamicOutputHi"></a><span class='hs-definition'>dynamicOutputHi</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FilePath</span>
<a name="line-1092"></a><span class='hs-definition'>dynamicOutputHi</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>hi</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>hi</span> <span class='hs-varop'>-&lt;.&gt;</span> <span class='hs-varid'>dynHiSuf_</span> <span class='hs-varid'>dflags</span>
<a name="line-1093"></a>
<a name="line-1094"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-1095"></a>
<a name="line-1096"></a><a name="initDynFlags"></a><span class='hs-comment'>-- | Used by 'GHC.runGhc' to partially initialize a new 'DynFlags' value</span>
<a name="line-1097"></a><span class='hs-definition'>initDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1098"></a><span class='hs-definition'>initDynFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1099"></a> <span class='hs-keyword'>let</span> <span class='hs-comment'>-- We can't build with dynamic-too on Windows, as labels before</span>
<a name="line-1100"></a>     <span class='hs-comment'>-- the fork point are different depending on whether we are</span>
<a name="line-1101"></a>     <span class='hs-comment'>-- building dynamically or not.</span>
<a name="line-1102"></a>     <span class='hs-varid'>platformCanGenerateDynamicToo</span>
<a name="line-1103"></a>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformOS</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varop'>/=</span> <span class='hs-conid'>OSMinGW32</span>
<a name="line-1104"></a> <span class='hs-varid'>refDynamicTooFailed</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-layout'>(</span><span class='hs-varid'>not</span> <span class='hs-varid'>platformCanGenerateDynamicToo</span><span class='hs-layout'>)</span>
<a name="line-1105"></a> <span class='hs-varid'>refRtldInfo</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>Nothing</span>
<a name="line-1106"></a> <span class='hs-varid'>refRtccInfo</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-conid'>Nothing</span>
<a name="line-1107"></a> <span class='hs-varid'>wrapperNum</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>newIORef</span> <span class='hs-varid'>emptyModuleEnv</span>
<a name="line-1108"></a> <span class='hs-varid'>canUseUnicode</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-keyword'>do</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>enc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>localeEncoding</span>
<a name="line-1109"></a>                         <span class='hs-varid'>str</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>""</span>
<a name="line-1110"></a>                     <span class='hs-layout'>(</span><span class='hs-varid'>withCString</span> <span class='hs-varid'>enc</span> <span class='hs-varid'>str</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>cstr</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-1111"></a>                          <span class='hs-keyword'>do</span> <span class='hs-varid'>str'</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>peekCString</span> <span class='hs-varid'>enc</span> <span class='hs-varid'>cstr</span>
<a name="line-1112"></a>                             <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>str</span> <span class='hs-varop'>==</span> <span class='hs-varid'>str'</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1113"></a>                         <span class='hs-varop'>`catchIOError`</span> <span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>False</span>
<a name="line-1114"></a> <span class='hs-varid'>ghcNoUnicodeEnv</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>lookupEnv</span> <span class='hs-str'>"GHC_NO_UNICODE"</span>
<a name="line-1115"></a> <span class='hs-keyword'>let</span> <span class='hs-varid'>useUnicode'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>isNothing</span> <span class='hs-varid'>ghcNoUnicodeEnv</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>canUseUnicode</span>
<a name="line-1116"></a> <span class='hs-varid'>maybeGhcColorsEnv</span>  <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>lookupEnv</span> <span class='hs-str'>"GHC_COLORS"</span>
<a name="line-1117"></a> <span class='hs-varid'>maybeGhcColoursEnv</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>lookupEnv</span> <span class='hs-str'>"GHC_COLOURS"</span>
<a name="line-1118"></a> <span class='hs-keyword'>let</span> <span class='hs-varid'>adjustCols</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-varid'>env</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Col.parseScheme</span> <span class='hs-varid'>env</span>
<a name="line-1119"></a>     <span class='hs-varid'>adjustCols</span> <span class='hs-conid'>Nothing</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>id</span>
<a name="line-1120"></a> <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-varid'>useColor'</span><span class='hs-layout'>,</span> <span class='hs-varid'>colScheme'</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span>
<a name="line-1121"></a>       <span class='hs-layout'>(</span><span class='hs-varid'>adjustCols</span> <span class='hs-varid'>maybeGhcColoursEnv</span> <span class='hs-varop'>.</span> <span class='hs-varid'>adjustCols</span> <span class='hs-varid'>maybeGhcColorsEnv</span><span class='hs-layout'>)</span>
<a name="line-1122"></a>       <span class='hs-layout'>(</span><span class='hs-varid'>useColor</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-varid'>colScheme</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1123"></a> <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>{</span>
<a name="line-1124"></a>        <span class='hs-varid'>dynamicTooFailed</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refDynamicTooFailed</span><span class='hs-layout'>,</span>
<a name="line-1125"></a>        <span class='hs-varid'>nextWrapperNum</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>wrapperNum</span><span class='hs-layout'>,</span>
<a name="line-1126"></a>        <span class='hs-varid'>useUnicode</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>useUnicode'</span><span class='hs-layout'>,</span>
<a name="line-1127"></a>        <span class='hs-varid'>useColor</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>useColor'</span><span class='hs-layout'>,</span>
<a name="line-1128"></a>        <span class='hs-varid'>canUseColor</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>stderrSupportsAnsiColors</span><span class='hs-layout'>,</span>
<a name="line-1129"></a>        <span class='hs-varid'>colScheme</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>colScheme'</span><span class='hs-layout'>,</span>
<a name="line-1130"></a>        <span class='hs-varid'>rtldInfo</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refRtldInfo</span><span class='hs-layout'>,</span>
<a name="line-1131"></a>        <span class='hs-varid'>rtccInfo</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>refRtccInfo</span>
<a name="line-1132"></a>        <span class='hs-layout'>}</span>
<a name="line-1133"></a>
<a name="line-1134"></a><a name="defaultDynFlags"></a><span class='hs-comment'>-- | The normal 'DynFlags'. Note that they are not suitable for use in this form</span>
<a name="line-1135"></a><span class='hs-comment'>-- and must be fully initialized by 'GHC.runGhc' first.</span>
<a name="line-1136"></a><span class='hs-definition'>defaultDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>LlvmConfig</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1137"></a><span class='hs-definition'>defaultDynFlags</span> <span class='hs-varid'>mySettings</span> <span class='hs-varid'>llvmConfig</span> <span class='hs-keyglyph'>=</span>
<a name="line-1138"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-1139"></a>     <span class='hs-conid'>DynFlags</span> <span class='hs-layout'>{</span>
<a name="line-1140"></a>        <span class='hs-varid'>ghcMode</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>CompManager</span><span class='hs-layout'>,</span>
<a name="line-1141"></a>        <span class='hs-varid'>ghcLink</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LinkBinary</span><span class='hs-layout'>,</span>
<a name="line-1142"></a>        <span class='hs-varid'>backend</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformDefaultBackend</span> <span class='hs-layout'>(</span><span class='hs-varid'>sTargetPlatform</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1143"></a>        <span class='hs-varid'>verbosity</span>               <span class='hs-keyglyph'>=</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span>
<a name="line-1144"></a>        <span class='hs-varid'>optLevel</span>                <span class='hs-keyglyph'>=</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span>
<a name="line-1145"></a>        <span class='hs-varid'>debugLevel</span>              <span class='hs-keyglyph'>=</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span>
<a name="line-1146"></a>        <span class='hs-varid'>simplPhases</span>             <span class='hs-keyglyph'>=</span> <span class='hs-num'>2</span><span class='hs-layout'>,</span>
<a name="line-1147"></a>        <span class='hs-varid'>maxSimplIterations</span>      <span class='hs-keyglyph'>=</span> <span class='hs-num'>4</span><span class='hs-layout'>,</span>
<a name="line-1148"></a>        <span class='hs-varid'>ruleCheck</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1149"></a>        <span class='hs-varid'>inlineCheck</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1150"></a>        <span class='hs-varid'>binBlobThreshold</span>        <span class='hs-keyglyph'>=</span> <span class='hs-num'>500000</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- 500K is a good default (see #16190)</span>
<a name="line-1151"></a>        <span class='hs-varid'>maxRelevantBinds</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>6</span><span class='hs-layout'>,</span>
<a name="line-1152"></a>        <span class='hs-varid'>maxValidHoleFits</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>6</span><span class='hs-layout'>,</span>
<a name="line-1153"></a>        <span class='hs-varid'>maxRefHoleFits</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>6</span><span class='hs-layout'>,</span>
<a name="line-1154"></a>        <span class='hs-varid'>refLevelHoleFits</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1155"></a>        <span class='hs-varid'>maxUncoveredPatterns</span>    <span class='hs-keyglyph'>=</span> <span class='hs-num'>4</span><span class='hs-layout'>,</span>
<a name="line-1156"></a>        <span class='hs-varid'>maxPmCheckModels</span>        <span class='hs-keyglyph'>=</span> <span class='hs-num'>30</span><span class='hs-layout'>,</span>
<a name="line-1157"></a>        <span class='hs-varid'>simplTickFactor</span>         <span class='hs-keyglyph'>=</span> <span class='hs-num'>100</span><span class='hs-layout'>,</span>
<a name="line-1158"></a>        <span class='hs-varid'>specConstrThreshold</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>2000</span><span class='hs-layout'>,</span>
<a name="line-1159"></a>        <span class='hs-varid'>specConstrCount</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>3</span><span class='hs-layout'>,</span>
<a name="line-1160"></a>        <span class='hs-varid'>specConstrRecursive</span>     <span class='hs-keyglyph'>=</span> <span class='hs-num'>3</span><span class='hs-layout'>,</span>
<a name="line-1161"></a>        <span class='hs-varid'>liberateCaseThreshold</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>2000</span><span class='hs-layout'>,</span>
<a name="line-1162"></a>        <span class='hs-varid'>floatLamArgs</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Default: float only if no fvs</span>
<a name="line-1163"></a>        <span class='hs-varid'>liftLamsRecArgs</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>5</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Default: the number of available argument hardware registers on x86_64</span>
<a name="line-1164"></a>        <span class='hs-varid'>liftLamsNonRecArgs</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>5</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- Default: the number of available argument hardware registers on x86_64</span>
<a name="line-1165"></a>        <span class='hs-varid'>liftLamsKnown</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>  <span class='hs-comment'>-- Default: don't turn known calls into unknown ones</span>
<a name="line-1166"></a>        <span class='hs-varid'>cmmProcAlignment</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1167"></a>
<a name="line-1168"></a>        <span class='hs-varid'>historySize</span>             <span class='hs-keyglyph'>=</span> <span class='hs-num'>20</span><span class='hs-layout'>,</span>
<a name="line-1169"></a>        <span class='hs-varid'>strictnessBefore</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1170"></a>
<a name="line-1171"></a>        <span class='hs-varid'>parMakeCount</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-num'>1</span><span class='hs-layout'>,</span>
<a name="line-1172"></a>
<a name="line-1173"></a>        <span class='hs-varid'>enableTimeStats</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1174"></a>        <span class='hs-varid'>ghcHeapSize</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1175"></a>
<a name="line-1176"></a>        <span class='hs-varid'>importPaths</span>             <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"."</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>
<a name="line-1177"></a>        <span class='hs-varid'>mainModuleNameIs</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mAIN_NAME</span><span class='hs-layout'>,</span>
<a name="line-1178"></a>        <span class='hs-varid'>mainFunIs</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1179"></a>        <span class='hs-varid'>reductionDepth</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-varid'>mAX_REDUCTION_DEPTH</span><span class='hs-layout'>,</span>
<a name="line-1180"></a>        <span class='hs-varid'>solverIterations</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-varid'>mAX_SOLVER_ITERATIONS</span><span class='hs-layout'>,</span>
<a name="line-1181"></a>
<a name="line-1182"></a>        <span class='hs-varid'>homeUnitId_</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mainUnitId</span><span class='hs-layout'>,</span>
<a name="line-1183"></a>        <span class='hs-varid'>homeUnitInstanceOf_</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1184"></a>        <span class='hs-varid'>homeUnitInstantiations_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1185"></a>
<a name="line-1186"></a>        <span class='hs-varid'>objectDir</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1187"></a>        <span class='hs-varid'>dylibInstallName</span>        <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1188"></a>        <span class='hs-varid'>hiDir</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1189"></a>        <span class='hs-varid'>hieDir</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1190"></a>        <span class='hs-varid'>stubDir</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1191"></a>        <span class='hs-varid'>dumpDir</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1192"></a>
<a name="line-1193"></a>        <span class='hs-varid'>objectSuf_</span>              <span class='hs-keyglyph'>=</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-conid'>StopLn</span><span class='hs-layout'>,</span>
<a name="line-1194"></a>        <span class='hs-varid'>hcSuf</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-conid'>HCc</span><span class='hs-layout'>,</span>
<a name="line-1195"></a>        <span class='hs-varid'>hiSuf_</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-str'>"hi"</span><span class='hs-layout'>,</span>
<a name="line-1196"></a>        <span class='hs-varid'>hieSuf</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-str'>"hie"</span><span class='hs-layout'>,</span>
<a name="line-1197"></a>
<a name="line-1198"></a>        <span class='hs-varid'>dynamicTooFailed</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No dynamicTooFailed"</span><span class='hs-layout'>,</span>
<a name="line-1199"></a>        <span class='hs-varid'>dynObjectSuf_</span>           <span class='hs-keyglyph'>=</span> <span class='hs-str'>"dyn_"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>phaseInputExt</span> <span class='hs-conid'>StopLn</span><span class='hs-layout'>,</span>
<a name="line-1200"></a>        <span class='hs-varid'>dynHiSuf_</span>               <span class='hs-keyglyph'>=</span> <span class='hs-str'>"dyn_hi"</span><span class='hs-layout'>,</span>
<a name="line-1201"></a>        <span class='hs-varid'>dynamicNow</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1202"></a>
<a name="line-1203"></a>        <span class='hs-varid'>pluginModNames</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1204"></a>        <span class='hs-varid'>pluginModNameOpts</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1205"></a>        <span class='hs-varid'>frontendPluginOpts</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1206"></a>
<a name="line-1207"></a>        <span class='hs-varid'>outputFile_</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1208"></a>        <span class='hs-varid'>dynOutputFile_</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1209"></a>        <span class='hs-varid'>outputHi</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1210"></a>        <span class='hs-varid'>dynOutputHi</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1211"></a>        <span class='hs-varid'>dynLibLoader</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SystemDependent</span><span class='hs-layout'>,</span>
<a name="line-1212"></a>        <span class='hs-varid'>dumpPrefix</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1213"></a>        <span class='hs-varid'>dumpPrefixForce</span>         <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1214"></a>        <span class='hs-varid'>ldInputs</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1215"></a>        <span class='hs-varid'>includePaths</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IncludeSpecs</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1216"></a>        <span class='hs-varid'>libraryPaths</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1217"></a>        <span class='hs-varid'>frameworkPaths</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1218"></a>        <span class='hs-varid'>cmdlineFrameworks</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1219"></a>        <span class='hs-varid'>rtsOpts</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1220"></a>        <span class='hs-varid'>rtsOptsEnabled</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>RtsOptsSafeOnly</span><span class='hs-layout'>,</span>
<a name="line-1221"></a>        <span class='hs-varid'>rtsOptsSuggestions</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span><span class='hs-layout'>,</span>
<a name="line-1222"></a>
<a name="line-1223"></a>        <span class='hs-varid'>hpcDir</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-str'>".hpc"</span><span class='hs-layout'>,</span>
<a name="line-1224"></a>
<a name="line-1225"></a>        <span class='hs-varid'>packageDBFlags</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1226"></a>        <span class='hs-varid'>packageFlags</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1227"></a>        <span class='hs-varid'>pluginPackageFlags</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1228"></a>        <span class='hs-varid'>ignorePackageFlags</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1229"></a>        <span class='hs-varid'>trustFlags</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1230"></a>        <span class='hs-varid'>packageEnv</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1231"></a>        <span class='hs-varid'>targetWays_</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Set.empty</span><span class='hs-layout'>,</span>
<a name="line-1232"></a>        <span class='hs-varid'>splitInfo</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1233"></a>
<a name="line-1234"></a>        <span class='hs-varid'>ghcNameVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sGhcNameVersion</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1235"></a>        <span class='hs-varid'>fileSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sFileSettings</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1236"></a>        <span class='hs-varid'>toolSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sToolSettings</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1237"></a>        <span class='hs-varid'>targetPlatform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sTargetPlatform</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1238"></a>        <span class='hs-varid'>platformMisc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sPlatformMisc</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1239"></a>        <span class='hs-varid'>rawSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sRawSettings</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>,</span>
<a name="line-1240"></a>
<a name="line-1241"></a>        <span class='hs-comment'>-- See Note [LLVM configuration].</span>
<a name="line-1242"></a>        <span class='hs-varid'>llvmConfig</span>              <span class='hs-keyglyph'>=</span> <span class='hs-varid'>llvmConfig</span><span class='hs-layout'>,</span>
<a name="line-1243"></a>
<a name="line-1244"></a>        <span class='hs-comment'>-- ghc -M values</span>
<a name="line-1245"></a>        <span class='hs-varid'>depMakefile</span>       <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Makefile"</span><span class='hs-layout'>,</span>
<a name="line-1246"></a>        <span class='hs-varid'>depIncludePkgDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1247"></a>        <span class='hs-varid'>depIncludeCppDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1248"></a>        <span class='hs-varid'>depExcludeMods</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1249"></a>        <span class='hs-varid'>depSuffixes</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1250"></a>        <span class='hs-comment'>-- end of ghc -M values</span>
<a name="line-1251"></a>        <span class='hs-varid'>ghcVersionFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1252"></a>        <span class='hs-varid'>haddockOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1253"></a>        <span class='hs-varid'>dumpFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.empty</span><span class='hs-layout'>,</span>
<a name="line-1254"></a>        <span class='hs-varid'>generalFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.fromList</span> <span class='hs-layout'>(</span><span class='hs-varid'>defaultFlags</span> <span class='hs-varid'>mySettings</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-1255"></a>        <span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.fromList</span> <span class='hs-varid'>standardWarnings</span><span class='hs-layout'>,</span>
<a name="line-1256"></a>        <span class='hs-varid'>fatalWarningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.empty</span><span class='hs-layout'>,</span>
<a name="line-1257"></a>        <span class='hs-varid'>ghciScripts</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1258"></a>        <span class='hs-varid'>language</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1259"></a>        <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Sf_None</span><span class='hs-layout'>,</span>
<a name="line-1260"></a>        <span class='hs-varid'>safeInfer</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span><span class='hs-layout'>,</span>
<a name="line-1261"></a>        <span class='hs-varid'>safeInferred</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span><span class='hs-layout'>,</span>
<a name="line-1262"></a>        <span class='hs-varid'>thOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1263"></a>        <span class='hs-varid'>newDerivOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1264"></a>        <span class='hs-varid'>deriveViaOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1265"></a>        <span class='hs-varid'>overlapInstLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1266"></a>        <span class='hs-varid'>incoherentOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1267"></a>        <span class='hs-varid'>pkgTrustOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1268"></a>        <span class='hs-varid'>warnSafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1269"></a>        <span class='hs-varid'>warnUnsafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1270"></a>        <span class='hs-varid'>trustworthyOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>noSrcSpan</span><span class='hs-layout'>,</span>
<a name="line-1271"></a>        <span class='hs-varid'>extensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1272"></a>        <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-conid'>Nothing</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1273"></a>
<a name="line-1274"></a>        <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultUnfoldingOpts</span><span class='hs-layout'>,</span>
<a name="line-1275"></a>        <span class='hs-varid'>maxWorkerArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>10</span><span class='hs-layout'>,</span>
<a name="line-1276"></a>
<a name="line-1277"></a>        <span class='hs-varid'>ghciHistSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>50</span><span class='hs-layout'>,</span> <span class='hs-comment'>-- keep a log of length 50 by default</span>
<a name="line-1278"></a>
<a name="line-1279"></a>        <span class='hs-varid'>flushOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultFlushOut</span><span class='hs-layout'>,</span>
<a name="line-1280"></a>        <span class='hs-varid'>flushErr</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultFlushErr</span><span class='hs-layout'>,</span>
<a name="line-1281"></a>        <span class='hs-varid'>pprUserLength</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>5</span><span class='hs-layout'>,</span>
<a name="line-1282"></a>        <span class='hs-varid'>pprCols</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>100</span><span class='hs-layout'>,</span>
<a name="line-1283"></a>        <span class='hs-varid'>useUnicode</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1284"></a>        <span class='hs-varid'>useColor</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Auto</span><span class='hs-layout'>,</span>
<a name="line-1285"></a>        <span class='hs-varid'>canUseColor</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1286"></a>        <span class='hs-varid'>colScheme</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Col.defaultScheme</span><span class='hs-layout'>,</span>
<a name="line-1287"></a>        <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span><span class='hs-layout'>,</span>
<a name="line-1288"></a>        <span class='hs-varid'>callerCcFilters</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>,</span>
<a name="line-1289"></a>        <span class='hs-varid'>interactivePrint</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1290"></a>        <span class='hs-varid'>nextWrapperNum</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: No nextWrapperNum"</span><span class='hs-layout'>,</span>
<a name="line-1291"></a>        <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1292"></a>        <span class='hs-varid'>bmiVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1293"></a>        <span class='hs-varid'>avx</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1294"></a>        <span class='hs-varid'>avx2</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1295"></a>        <span class='hs-varid'>avx512cd</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1296"></a>        <span class='hs-varid'>avx512er</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1297"></a>        <span class='hs-varid'>avx512f</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1298"></a>        <span class='hs-varid'>avx512pf</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1299"></a>        <span class='hs-varid'>rtldInfo</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: no rtldInfo"</span><span class='hs-layout'>,</span>
<a name="line-1300"></a>        <span class='hs-varid'>rtccInfo</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>panic</span> <span class='hs-str'>"defaultDynFlags: no rtccInfo"</span><span class='hs-layout'>,</span>
<a name="line-1301"></a>
<a name="line-1302"></a>        <span class='hs-varid'>maxInlineAllocSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>128</span><span class='hs-layout'>,</span>
<a name="line-1303"></a>        <span class='hs-varid'>maxInlineMemcpyInsns</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>32</span><span class='hs-layout'>,</span>
<a name="line-1304"></a>        <span class='hs-varid'>maxInlineMemsetInsns</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>32</span><span class='hs-layout'>,</span>
<a name="line-1305"></a>
<a name="line-1306"></a>        <span class='hs-varid'>initialUnique</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>0</span><span class='hs-layout'>,</span>
<a name="line-1307"></a>        <span class='hs-varid'>uniqueIncrement</span> <span class='hs-keyglyph'>=</span> <span class='hs-num'>1</span><span class='hs-layout'>,</span>
<a name="line-1308"></a>
<a name="line-1309"></a>        <span class='hs-varid'>reverseErrors</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>,</span>
<a name="line-1310"></a>        <span class='hs-varid'>maxErrors</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span><span class='hs-layout'>,</span>
<a name="line-1311"></a>        <span class='hs-varid'>cfgWeights</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defaultWeights</span>
<a name="line-1312"></a>      <span class='hs-layout'>}</span>
<a name="line-1313"></a>
<a name="line-1314"></a><a name="FatalMessager"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>FatalMessager</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-1315"></a>
<a name="line-1316"></a><a name="defaultFatalMessager"></a><span class='hs-definition'>defaultFatalMessager</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FatalMessager</span>
<a name="line-1317"></a><span class='hs-definition'>defaultFatalMessager</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>hPutStrLn</span> <span class='hs-varid'>stderr</span>
<a name="line-1318"></a>
<a name="line-1319"></a>
<a name="line-1320"></a><a name="FlushOut"></a><span class='hs-keyword'>newtype</span> <span class='hs-conid'>FlushOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushOut</span> <span class='hs-layout'>(</span><span class='hs-conid'>IO</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-1321"></a>
<a name="line-1322"></a><a name="defaultFlushOut"></a><span class='hs-definition'>defaultFlushOut</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushOut</span>
<a name="line-1323"></a><span class='hs-definition'>defaultFlushOut</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushOut</span> <span class='hs-varop'>$</span> <span class='hs-varid'>hFlush</span> <span class='hs-varid'>stdout</span>
<a name="line-1324"></a>
<a name="line-1325"></a><a name="FlushErr"></a><span class='hs-keyword'>newtype</span> <span class='hs-conid'>FlushErr</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushErr</span> <span class='hs-layout'>(</span><span class='hs-conid'>IO</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-1326"></a>
<a name="line-1327"></a><a name="defaultFlushErr"></a><span class='hs-definition'>defaultFlushErr</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FlushErr</span>
<a name="line-1328"></a><span class='hs-definition'>defaultFlushErr</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlushErr</span> <span class='hs-varop'>$</span> <span class='hs-varid'>hFlush</span> <span class='hs-varid'>stderr</span>
<a name="line-1329"></a>
<a name="line-1330"></a><span class='hs-comment'>{-
<a name="line-1331"></a>Note [Verbosity levels]
<a name="line-1332"></a>~~~~~~~~~~~~~~~~~~~~~~~
<a name="line-1333"></a>    0   |   print errors &amp; warnings only
<a name="line-1334"></a>    1   |   minimal verbosity: print "compiling M ... done." for each module.
<a name="line-1335"></a>    2   |   equivalent to -dshow-passes
<a name="line-1336"></a>    3   |   equivalent to existing "ghc -v"
<a name="line-1337"></a>    4   |   "ghc -v -ddump-most"
<a name="line-1338"></a>    5   |   "ghc -v -ddump-all"
<a name="line-1339"></a>-}</span>
<a name="line-1340"></a>
<a name="line-1341"></a><a name="OnOff"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>OnOff</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>On</span> <span class='hs-varid'>a</span>
<a name="line-1342"></a>             <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Off</span> <span class='hs-varid'>a</span>
<a name="line-1343"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Show</span><span class='hs-layout'>)</span>
<a name="line-1344"></a>
<a name="line-1345"></a><a name="instance%20Outputable%20(OnOff%20a)"></a><span class='hs-keyword'>instance</span> <span class='hs-conid'>Outputable</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>Outputable</span> <span class='hs-layout'>(</span><span class='hs-conid'>OnOff</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-1346"></a>  <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>On</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"On"</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>ppr</span> <span class='hs-varid'>x</span>
<a name="line-1347"></a>  <span class='hs-varid'>ppr</span> <span class='hs-layout'>(</span><span class='hs-conid'>Off</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>text</span> <span class='hs-str'>"Off"</span> <span class='hs-varop'>&lt;+&gt;</span> <span class='hs-varid'>ppr</span> <span class='hs-varid'>x</span>
<a name="line-1348"></a>
<a name="line-1349"></a><a name="flattenExtensionFlags"></a><span class='hs-comment'>-- OnOffs accumulate in reverse order, so we use foldr in order to</span>
<a name="line-1350"></a><span class='hs-comment'>-- process them in the right order</span>
<a name="line-1351"></a><span class='hs-definition'>flattenExtensionFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>OnOff</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>EnumSet</span> <span class='hs-conid'>LangExt.Extension</span>
<a name="line-1352"></a><span class='hs-definition'>flattenExtensionFlags</span> <span class='hs-varid'>ml</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>f</span> <span class='hs-varid'>defaultExtensionFlags</span>
<a name="line-1353"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-conid'>On</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>  <span class='hs-varid'>flags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.insert</span> <span class='hs-varid'>f</span> <span class='hs-varid'>flags</span>
<a name="line-1354"></a>          <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-conid'>Off</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>flags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.delete</span> <span class='hs-varid'>f</span> <span class='hs-varid'>flags</span>
<a name="line-1355"></a>          <span class='hs-varid'>defaultExtensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.fromList</span> <span class='hs-layout'>(</span><span class='hs-varid'>languageExtensions</span> <span class='hs-varid'>ml</span><span class='hs-layout'>)</span>
<a name="line-1356"></a>
<a name="line-1357"></a><a name="languageExtensions"></a><span class='hs-comment'>-- | The language extensions implied by the various language variants.</span>
<a name="line-1358"></a><span class='hs-comment'>-- When updating this be sure to update the flag documentation in</span>
<a name="line-1359"></a><span class='hs-comment'>-- @docs/users_guide/exts@.</span>
<a name="line-1360"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>LangExt.Extension</span><span class='hs-keyglyph'>]</span>
<a name="line-1361"></a>
<a name="line-1362"></a><span class='hs-comment'>-- Nothing: the default case</span>
<a name="line-1363"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-conid'>Nothing</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>GHC2021</span><span class='hs-layout'>)</span>
<a name="line-1364"></a>
<a name="line-1365"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>Haskell98</span><span class='hs-layout'>)</span>
<a name="line-1366"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>LangExt.ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-1367"></a>       <span class='hs-comment'>-- See Note [When is StarIsType enabled]</span>
<a name="line-1368"></a>       <span class='hs-conid'>LangExt.StarIsType</span><span class='hs-layout'>,</span>
<a name="line-1369"></a>       <span class='hs-conid'>LangExt.CUSKs</span><span class='hs-layout'>,</span>
<a name="line-1370"></a>       <span class='hs-conid'>LangExt.MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-1371"></a>       <span class='hs-conid'>LangExt.NPlusKPatterns</span><span class='hs-layout'>,</span>
<a name="line-1372"></a>       <span class='hs-conid'>LangExt.DatatypeContexts</span><span class='hs-layout'>,</span>
<a name="line-1373"></a>       <span class='hs-conid'>LangExt.TraditionalRecordSyntax</span><span class='hs-layout'>,</span>
<a name="line-1374"></a>       <span class='hs-conid'>LangExt.FieldSelectors</span><span class='hs-layout'>,</span>
<a name="line-1375"></a>       <span class='hs-conid'>LangExt.NondecreasingIndentation</span><span class='hs-layout'>,</span>
<a name="line-1376"></a>           <span class='hs-comment'>-- strictly speaking non-standard, but we always had this</span>
<a name="line-1377"></a>           <span class='hs-comment'>-- on implicitly before the option was added in 7.1, and</span>
<a name="line-1378"></a>           <span class='hs-comment'>-- turning it off breaks code, so we're keeping it on for</span>
<a name="line-1379"></a>           <span class='hs-comment'>-- backwards compatibility.  Cabal uses -XHaskell98 by</span>
<a name="line-1380"></a>           <span class='hs-comment'>-- default unless you specify another language.</span>
<a name="line-1381"></a>       <span class='hs-conid'>LangExt.DeepSubsumption</span>
<a name="line-1382"></a>       <span class='hs-comment'>-- Non-standard but enabled for backwards compatability (see GHC proposal #511)</span>
<a name="line-1383"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-1384"></a>
<a name="line-1385"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>Haskell2010</span><span class='hs-layout'>)</span>
<a name="line-1386"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>LangExt.ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-1387"></a>       <span class='hs-comment'>-- See Note [When is StarIsType enabled]</span>
<a name="line-1388"></a>       <span class='hs-conid'>LangExt.StarIsType</span><span class='hs-layout'>,</span>
<a name="line-1389"></a>       <span class='hs-conid'>LangExt.CUSKs</span><span class='hs-layout'>,</span>
<a name="line-1390"></a>       <span class='hs-conid'>LangExt.MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-1391"></a>       <span class='hs-conid'>LangExt.DatatypeContexts</span><span class='hs-layout'>,</span>
<a name="line-1392"></a>       <span class='hs-conid'>LangExt.TraditionalRecordSyntax</span><span class='hs-layout'>,</span>
<a name="line-1393"></a>       <span class='hs-conid'>LangExt.EmptyDataDecls</span><span class='hs-layout'>,</span>
<a name="line-1394"></a>       <span class='hs-conid'>LangExt.ForeignFunctionInterface</span><span class='hs-layout'>,</span>
<a name="line-1395"></a>       <span class='hs-conid'>LangExt.PatternGuards</span><span class='hs-layout'>,</span>
<a name="line-1396"></a>       <span class='hs-conid'>LangExt.DoAndIfThenElse</span><span class='hs-layout'>,</span>
<a name="line-1397"></a>       <span class='hs-conid'>LangExt.FieldSelectors</span><span class='hs-layout'>,</span>
<a name="line-1398"></a>       <span class='hs-conid'>LangExt.RelaxedPolyRec</span><span class='hs-layout'>,</span>
<a name="line-1399"></a>       <span class='hs-conid'>LangExt.DeepSubsumption</span> <span class='hs-keyglyph'>]</span>
<a name="line-1400"></a>
<a name="line-1401"></a><span class='hs-definition'>languageExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-conid'>GHC2021</span><span class='hs-layout'>)</span>
<a name="line-1402"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>LangExt.ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-1403"></a>       <span class='hs-comment'>-- See Note [When is StarIsType enabled]</span>
<a name="line-1404"></a>       <span class='hs-conid'>LangExt.StarIsType</span><span class='hs-layout'>,</span>
<a name="line-1405"></a>       <span class='hs-conid'>LangExt.MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-1406"></a>       <span class='hs-conid'>LangExt.TraditionalRecordSyntax</span><span class='hs-layout'>,</span>
<a name="line-1407"></a>       <span class='hs-conid'>LangExt.EmptyDataDecls</span><span class='hs-layout'>,</span>
<a name="line-1408"></a>       <span class='hs-conid'>LangExt.ForeignFunctionInterface</span><span class='hs-layout'>,</span>
<a name="line-1409"></a>       <span class='hs-conid'>LangExt.PatternGuards</span><span class='hs-layout'>,</span>
<a name="line-1410"></a>       <span class='hs-conid'>LangExt.DoAndIfThenElse</span><span class='hs-layout'>,</span>
<a name="line-1411"></a>       <span class='hs-conid'>LangExt.FieldSelectors</span><span class='hs-layout'>,</span>
<a name="line-1412"></a>       <span class='hs-conid'>LangExt.RelaxedPolyRec</span><span class='hs-layout'>,</span>
<a name="line-1413"></a>       <span class='hs-comment'>-- Now the new extensions (not in Haskell2010)</span>
<a name="line-1414"></a>       <span class='hs-conid'>LangExt.BangPatterns</span><span class='hs-layout'>,</span>
<a name="line-1415"></a>       <span class='hs-conid'>LangExt.BinaryLiterals</span><span class='hs-layout'>,</span>
<a name="line-1416"></a>       <span class='hs-conid'>LangExt.ConstrainedClassMethods</span><span class='hs-layout'>,</span>
<a name="line-1417"></a>       <span class='hs-conid'>LangExt.ConstraintKinds</span><span class='hs-layout'>,</span>
<a name="line-1418"></a>       <span class='hs-conid'>LangExt.DeriveDataTypeable</span><span class='hs-layout'>,</span>
<a name="line-1419"></a>       <span class='hs-conid'>LangExt.DeriveFoldable</span><span class='hs-layout'>,</span>
<a name="line-1420"></a>       <span class='hs-conid'>LangExt.DeriveFunctor</span><span class='hs-layout'>,</span>
<a name="line-1421"></a>       <span class='hs-conid'>LangExt.DeriveGeneric</span><span class='hs-layout'>,</span>
<a name="line-1422"></a>       <span class='hs-conid'>LangExt.DeriveLift</span><span class='hs-layout'>,</span>
<a name="line-1423"></a>       <span class='hs-conid'>LangExt.DeriveTraversable</span><span class='hs-layout'>,</span>
<a name="line-1424"></a>       <span class='hs-conid'>LangExt.EmptyCase</span><span class='hs-layout'>,</span>
<a name="line-1425"></a>       <span class='hs-conid'>LangExt.EmptyDataDeriving</span><span class='hs-layout'>,</span>
<a name="line-1426"></a>       <span class='hs-conid'>LangExt.ExistentialQuantification</span><span class='hs-layout'>,</span>
<a name="line-1427"></a>       <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>,</span>
<a name="line-1428"></a>       <span class='hs-conid'>LangExt.FlexibleContexts</span><span class='hs-layout'>,</span>
<a name="line-1429"></a>       <span class='hs-conid'>LangExt.FlexibleInstances</span><span class='hs-layout'>,</span>
<a name="line-1430"></a>       <span class='hs-conid'>LangExt.GADTSyntax</span><span class='hs-layout'>,</span>
<a name="line-1431"></a>       <span class='hs-conid'>LangExt.GeneralizedNewtypeDeriving</span><span class='hs-layout'>,</span>
<a name="line-1432"></a>       <span class='hs-conid'>LangExt.HexFloatLiterals</span><span class='hs-layout'>,</span>
<a name="line-1433"></a>       <span class='hs-conid'>LangExt.ImportQualifiedPost</span><span class='hs-layout'>,</span>
<a name="line-1434"></a>       <span class='hs-conid'>LangExt.InstanceSigs</span><span class='hs-layout'>,</span>
<a name="line-1435"></a>       <span class='hs-conid'>LangExt.KindSignatures</span><span class='hs-layout'>,</span>
<a name="line-1436"></a>       <span class='hs-conid'>LangExt.MultiParamTypeClasses</span><span class='hs-layout'>,</span>
<a name="line-1437"></a>       <span class='hs-conid'>LangExt.RecordPuns</span><span class='hs-layout'>,</span>
<a name="line-1438"></a>       <span class='hs-conid'>LangExt.NamedWildCards</span><span class='hs-layout'>,</span>
<a name="line-1439"></a>       <span class='hs-conid'>LangExt.NumericUnderscores</span><span class='hs-layout'>,</span>
<a name="line-1440"></a>       <span class='hs-conid'>LangExt.PolyKinds</span><span class='hs-layout'>,</span>
<a name="line-1441"></a>       <span class='hs-conid'>LangExt.PostfixOperators</span><span class='hs-layout'>,</span>
<a name="line-1442"></a>       <span class='hs-conid'>LangExt.RankNTypes</span><span class='hs-layout'>,</span>
<a name="line-1443"></a>       <span class='hs-conid'>LangExt.ScopedTypeVariables</span><span class='hs-layout'>,</span>
<a name="line-1444"></a>       <span class='hs-conid'>LangExt.StandaloneDeriving</span><span class='hs-layout'>,</span>
<a name="line-1445"></a>       <span class='hs-conid'>LangExt.StandaloneKindSignatures</span><span class='hs-layout'>,</span>
<a name="line-1446"></a>       <span class='hs-conid'>LangExt.TupleSections</span><span class='hs-layout'>,</span>
<a name="line-1447"></a>       <span class='hs-conid'>LangExt.TypeApplications</span><span class='hs-layout'>,</span>
<a name="line-1448"></a>       <span class='hs-conid'>LangExt.TypeOperators</span><span class='hs-layout'>,</span>
<a name="line-1449"></a>       <span class='hs-conid'>LangExt.TypeSynonymInstances</span><span class='hs-keyglyph'>]</span>
<a name="line-1450"></a>
<a name="line-1451"></a><a name="hasPprDebug"></a><span class='hs-definition'>hasPprDebug</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1452"></a><span class='hs-definition'>hasPprDebug</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dopt</span> <span class='hs-conid'>Opt_D_ppr_debug</span>
<a name="line-1453"></a>
<a name="line-1454"></a><a name="hasNoDebugOutput"></a><span class='hs-definition'>hasNoDebugOutput</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1455"></a><span class='hs-definition'>hasNoDebugOutput</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dopt</span> <span class='hs-conid'>Opt_D_no_debug_output</span>
<a name="line-1456"></a>
<a name="line-1457"></a><a name="hasNoStateHack"></a><span class='hs-definition'>hasNoStateHack</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1458"></a><span class='hs-definition'>hasNoStateHack</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_G_NoStateHack</span>
<a name="line-1459"></a>
<a name="line-1460"></a><a name="hasNoOptCoercion"></a><span class='hs-definition'>hasNoOptCoercion</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1461"></a><span class='hs-definition'>hasNoOptCoercion</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_G_NoOptCoercion</span>
<a name="line-1462"></a>
<a name="line-1463"></a>
<a name="line-1464"></a><a name="dopt"></a><span class='hs-comment'>-- | Test whether a 'DumpFlag' is set</span>
<a name="line-1465"></a><span class='hs-definition'>dopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1466"></a><span class='hs-definition'>dopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-varop'>`EnumSet.member`</span> <span class='hs-varid'>dumpFlags</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1467"></a>             <span class='hs-varop'>||</span> <span class='hs-layout'>(</span><span class='hs-varid'>verbosity</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-num'>4</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>enableIfVerbose</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-1468"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_tc_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1469"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rn_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1470"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1471"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_if_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1472"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_vt_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1473"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_tc</span>                     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1474"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rn</span>                     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1475"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rn_stats</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1476"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_hi_diffs</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1477"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_verbose_core2core</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1478"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_verbose_stg2stg</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1479"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_splices</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1480"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_th_dec_file</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1481"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rule_firings</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1482"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rule_rewrites</span>          <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1483"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_simpl_trace</span>            <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1484"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_rtti</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1485"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_inlinings</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1486"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_core_stats</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1487"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_asm_stats</span>              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1488"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_types</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1489"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_simpl_iterations</span>       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1490"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_ticked</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1491"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_view_pattern_commoning</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1492"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_mod_cycles</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1493"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_mod_map</span>                <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1494"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-conid'>Opt_D_dump_ec_trace</span>               <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1495"></a>          <span class='hs-varid'>enableIfVerbose</span> <span class='hs-keyword'>_</span>                                 <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1496"></a>
<a name="line-1497"></a><a name="dopt_set"></a><span class='hs-comment'>-- | Set a 'DumpFlag'</span>
<a name="line-1498"></a><span class='hs-definition'>dopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1499"></a><span class='hs-definition'>dopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>dumpFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.insert</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>dumpFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1500"></a>
<a name="line-1501"></a><a name="dopt_unset"></a><span class='hs-comment'>-- | Unset a 'DumpFlag'</span>
<a name="line-1502"></a><span class='hs-definition'>dopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1503"></a><span class='hs-definition'>dopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>dumpFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.delete</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>dumpFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1504"></a>
<a name="line-1505"></a><a name="gopt"></a><span class='hs-comment'>-- | Test whether a 'GeneralFlag' is set</span>
<a name="line-1506"></a><span class='hs-comment'>--</span>
<a name="line-1507"></a><span class='hs-comment'>-- Note that `dynamicNow` (i.e., dynamic objects built with `-dynamic-too`)</span>
<a name="line-1508"></a><span class='hs-comment'>-- always implicitly enables Opt_PIC, Opt_ExternalDynamicRefs, and disables</span>
<a name="line-1509"></a><span class='hs-comment'>-- Opt_SplitSections.</span>
<a name="line-1510"></a><span class='hs-comment'>--</span>
<a name="line-1511"></a><span class='hs-definition'>gopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1512"></a><span class='hs-definition'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span>
<a name="line-1513"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1514"></a><span class='hs-definition'>gopt</span> <span class='hs-conid'>Opt_ExternalDynamicRefs</span> <span class='hs-varid'>dflags</span>
<a name="line-1515"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1516"></a><span class='hs-definition'>gopt</span> <span class='hs-conid'>Opt_SplitSections</span> <span class='hs-varid'>dflags</span>
<a name="line-1517"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1518"></a><span class='hs-definition'>gopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`EnumSet.member`</span> <span class='hs-varid'>generalFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1519"></a>
<a name="line-1520"></a><a name="gopt_set"></a><span class='hs-comment'>-- | Set a 'GeneralFlag'</span>
<a name="line-1521"></a><span class='hs-definition'>gopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1522"></a><span class='hs-definition'>gopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>generalFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.insert</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1523"></a>
<a name="line-1524"></a><a name="gopt_unset"></a><span class='hs-comment'>-- | Unset a 'GeneralFlag'</span>
<a name="line-1525"></a><span class='hs-definition'>gopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1526"></a><span class='hs-definition'>gopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>generalFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.delete</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1527"></a>
<a name="line-1528"></a><a name="wopt"></a><span class='hs-comment'>-- | Test whether a 'WarningFlag' is set</span>
<a name="line-1529"></a><span class='hs-definition'>wopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1530"></a><span class='hs-definition'>wopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`EnumSet.member`</span> <span class='hs-varid'>warningFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1531"></a>
<a name="line-1532"></a><a name="wopt_set"></a><span class='hs-comment'>-- | Set a 'WarningFlag'</span>
<a name="line-1533"></a><span class='hs-definition'>wopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1534"></a><span class='hs-definition'>wopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.insert</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>warningFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1535"></a>
<a name="line-1536"></a><a name="wopt_unset"></a><span class='hs-comment'>-- | Unset a 'WarningFlag'</span>
<a name="line-1537"></a><span class='hs-definition'>wopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1538"></a><span class='hs-definition'>wopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.delete</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>warningFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1539"></a>
<a name="line-1540"></a><a name="wopt_fatal"></a><span class='hs-comment'>-- | Test whether a 'WarningFlag' is set as fatal</span>
<a name="line-1541"></a><span class='hs-definition'>wopt_fatal</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1542"></a><span class='hs-definition'>wopt_fatal</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`EnumSet.member`</span> <span class='hs-varid'>fatalWarningFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1543"></a>
<a name="line-1544"></a><a name="wopt_set_fatal"></a><span class='hs-comment'>-- | Mark a 'WarningFlag' as fatal (do not set the flag)</span>
<a name="line-1545"></a><span class='hs-definition'>wopt_set_fatal</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1546"></a><span class='hs-definition'>wopt_set_fatal</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span>
<a name="line-1547"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>fatalWarningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.insert</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>fatalWarningFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1548"></a>
<a name="line-1549"></a><a name="wopt_unset_fatal"></a><span class='hs-comment'>-- | Mark a 'WarningFlag' as not fatal</span>
<a name="line-1550"></a><span class='hs-definition'>wopt_unset_fatal</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1551"></a><span class='hs-definition'>wopt_unset_fatal</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span>
<a name="line-1552"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>fatalWarningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.delete</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>fatalWarningFlags</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1553"></a>
<a name="line-1554"></a><a name="xopt"></a><span class='hs-comment'>-- | Test whether a 'LangExt.Extension' is set</span>
<a name="line-1555"></a><span class='hs-definition'>xopt</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LangExt.Extension</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1556"></a><span class='hs-definition'>xopt</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-varop'>`EnumSet.member`</span> <span class='hs-varid'>extensionFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1557"></a>
<a name="line-1558"></a><a name="xopt_set"></a><span class='hs-comment'>-- | Set a 'LangExt.Extension'</span>
<a name="line-1559"></a><span class='hs-definition'>xopt_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>LangExt.Extension</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1560"></a><span class='hs-definition'>xopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span>
<a name="line-1561"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>onoffs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>On</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>extensions</span> <span class='hs-varid'>dfs</span>
<a name="line-1562"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>onoffs</span><span class='hs-layout'>,</span>
<a name="line-1563"></a>               <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-layout'>(</span><span class='hs-varid'>language</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-varid'>onoffs</span> <span class='hs-layout'>}</span>
<a name="line-1564"></a>
<a name="line-1565"></a><a name="xopt_unset"></a><span class='hs-comment'>-- | Unset a 'LangExt.Extension'</span>
<a name="line-1566"></a><span class='hs-definition'>xopt_unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>LangExt.Extension</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1567"></a><span class='hs-definition'>xopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span>
<a name="line-1568"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>onoffs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Off</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>extensions</span> <span class='hs-varid'>dfs</span>
<a name="line-1569"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>extensions</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>onoffs</span><span class='hs-layout'>,</span>
<a name="line-1570"></a>               <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-layout'>(</span><span class='hs-varid'>language</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-varid'>onoffs</span> <span class='hs-layout'>}</span>
<a name="line-1571"></a>
<a name="line-1572"></a><a name="xopt_set_unlessExplSpec"></a><span class='hs-comment'>-- | Set or unset a 'LangExt.Extension', unless it has been explicitly</span>
<a name="line-1573"></a><span class='hs-comment'>--   set or unset before.</span>
<a name="line-1574"></a><span class='hs-definition'>xopt_set_unlessExplSpec</span>
<a name="line-1575"></a>        <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LangExt.Extension</span>
<a name="line-1576"></a>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>LangExt.Extension</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-1577"></a>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1578"></a><span class='hs-definition'>xopt_set_unlessExplSpec</span> <span class='hs-varid'>ext</span> <span class='hs-varid'>setUnset</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span>
<a name="line-1579"></a>    <span class='hs-keyword'>let</span> <span class='hs-varid'>referedExts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>stripOnOff</span> <span class='hs-varop'>&lt;$&gt;</span> <span class='hs-varid'>extensions</span> <span class='hs-varid'>dflags</span>
<a name="line-1580"></a>        <span class='hs-varid'>stripOnOff</span> <span class='hs-layout'>(</span><span class='hs-conid'>On</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>x</span>
<a name="line-1581"></a>        <span class='hs-varid'>stripOnOff</span> <span class='hs-layout'>(</span><span class='hs-conid'>Off</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>x</span>
<a name="line-1582"></a>    <span class='hs-keyword'>in</span>
<a name="line-1583"></a>        <span class='hs-keyword'>if</span> <span class='hs-varid'>ext</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>referedExts</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>dflags</span> <span class='hs-keyword'>else</span> <span class='hs-varid'>setUnset</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>ext</span>
<a name="line-1584"></a>
<a name="line-1585"></a><a name="xopt_DuplicateRecordFields"></a><span class='hs-definition'>xopt_DuplicateRecordFields</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FieldLabel.DuplicateRecordFields</span>
<a name="line-1586"></a><span class='hs-definition'>xopt_DuplicateRecordFields</span> <span class='hs-varid'>dfs</span>
<a name="line-1587"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.DuplicateRecordFields</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FieldLabel.DuplicateRecordFields</span>
<a name="line-1588"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                              <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FieldLabel.NoDuplicateRecordFields</span>
<a name="line-1589"></a>
<a name="line-1590"></a><a name="xopt_FieldSelectors"></a><span class='hs-definition'>xopt_FieldSelectors</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FieldLabel.FieldSelectors</span>
<a name="line-1591"></a><span class='hs-definition'>xopt_FieldSelectors</span> <span class='hs-varid'>dfs</span>
<a name="line-1592"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.FieldSelectors</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FieldLabel.FieldSelectors</span>
<a name="line-1593"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                       <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FieldLabel.NoFieldSelectors</span>
<a name="line-1594"></a>
<a name="line-1595"></a><a name="lang_set"></a><span class='hs-definition'>lang_set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1596"></a><span class='hs-definition'>lang_set</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>lang</span> <span class='hs-keyglyph'>=</span>
<a name="line-1597"></a>   <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span>
<a name="line-1598"></a>            <span class='hs-varid'>language</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lang</span><span class='hs-layout'>,</span>
<a name="line-1599"></a>            <span class='hs-varid'>extensionFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flattenExtensionFlags</span> <span class='hs-varid'>lang</span> <span class='hs-layout'>(</span><span class='hs-varid'>extensions</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1600"></a>          <span class='hs-layout'>}</span>
<a name="line-1601"></a>
<a name="line-1602"></a><a name="setLanguage"></a><span class='hs-comment'>-- | Set the Haskell language standard to use</span>
<a name="line-1603"></a><span class='hs-definition'>setLanguage</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Language</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-1604"></a><span class='hs-definition'>setLanguage</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varop'>`lang_set`</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>l</span><span class='hs-layout'>)</span>
<a name="line-1605"></a>
<a name="line-1606"></a><a name="dynFlagDependencies"></a><span class='hs-comment'>-- | Some modules have dependencies on others through the DynFlags rather than textual imports</span>
<a name="line-1607"></a><span class='hs-definition'>dynFlagDependencies</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>ModuleName</span><span class='hs-keyglyph'>]</span>
<a name="line-1608"></a><span class='hs-definition'>dynFlagDependencies</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pluginModNames</span>
<a name="line-1609"></a>
<a name="line-1610"></a><a name="packageTrustOn"></a><span class='hs-comment'>-- | Is the -fpackage-trust mode on</span>
<a name="line-1611"></a><span class='hs-definition'>packageTrustOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1612"></a><span class='hs-definition'>packageTrustOn</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PackageTrust</span>
<a name="line-1613"></a>
<a name="line-1614"></a><a name="safeHaskellOn"></a><span class='hs-comment'>-- | Is Safe Haskell on in some way (including inference mode)</span>
<a name="line-1615"></a><span class='hs-definition'>safeHaskellOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1616"></a><span class='hs-definition'>safeHaskellOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskellModeEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>safeInferOn</span> <span class='hs-varid'>dflags</span>
<a name="line-1617"></a>
<a name="line-1618"></a><a name="safeHaskellModeEnabled"></a><span class='hs-definition'>safeHaskellModeEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1619"></a><span class='hs-definition'>safeHaskellModeEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>`elem`</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Sf_Unsafe</span><span class='hs-layout'>,</span> <span class='hs-conid'>Sf_Trustworthy</span>
<a name="line-1620"></a>                                                   <span class='hs-layout'>,</span> <span class='hs-conid'>Sf_Safe</span> <span class='hs-keyglyph'>]</span>
<a name="line-1621"></a>
<a name="line-1622"></a>
<a name="line-1623"></a><a name="safeLanguageOn"></a><span class='hs-comment'>-- | Is the Safe Haskell safe language in use</span>
<a name="line-1624"></a><span class='hs-definition'>safeLanguageOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1625"></a><span class='hs-definition'>safeLanguageOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Safe</span>
<a name="line-1626"></a>
<a name="line-1627"></a><a name="safeInferOn"></a><span class='hs-comment'>-- | Is the Safe Haskell safe inference mode active</span>
<a name="line-1628"></a><span class='hs-definition'>safeInferOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1629"></a><span class='hs-definition'>safeInferOn</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeInfer</span>
<a name="line-1630"></a>
<a name="line-1631"></a><a name="safeImportsOn"></a><span class='hs-comment'>-- | Test if Safe Imports are on in some form</span>
<a name="line-1632"></a><span class='hs-definition'>safeImportsOn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1633"></a><span class='hs-definition'>safeImportsOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Unsafe</span> <span class='hs-varop'>||</span>
<a name="line-1634"></a>                       <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Trustworthy</span> <span class='hs-varop'>||</span>
<a name="line-1635"></a>                       <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Safe</span>
<a name="line-1636"></a>
<a name="line-1637"></a><a name="setSafeHaskell"></a><span class='hs-comment'>-- | Set a 'Safe Haskell' flag</span>
<a name="line-1638"></a><span class='hs-definition'>setSafeHaskell</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-1639"></a><span class='hs-definition'>setSafeHaskell</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updM</span> <span class='hs-varid'>f</span>
<a name="line-1640"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1641"></a>              <span class='hs-keyword'>let</span> <span class='hs-varid'>sf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-varid'>dfs</span>
<a name="line-1642"></a>              <span class='hs-varid'>safeM</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>combineSafeFlags</span> <span class='hs-varid'>sf</span> <span class='hs-varid'>s</span>
<a name="line-1643"></a>              <span class='hs-keyword'>case</span> <span class='hs-varid'>s</span> <span class='hs-keyword'>of</span>
<a name="line-1644"></a>                <span class='hs-conid'>Sf_Safe</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeM</span><span class='hs-layout'>,</span> <span class='hs-varid'>safeInfer</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span> <span class='hs-layout'>}</span>
<a name="line-1645"></a>                <span class='hs-comment'>-- leave safe inferrence on in Trustworthy mode so we can warn</span>
<a name="line-1646"></a>                <span class='hs-comment'>-- if it could have been inferred safe.</span>
<a name="line-1647"></a>                <span class='hs-conid'>Sf_Trustworthy</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span>
<a name="line-1648"></a>                  <span class='hs-varid'>l</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCurLoc</span>
<a name="line-1649"></a>                  <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeM</span><span class='hs-layout'>,</span> <span class='hs-varid'>trustworthyOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-1650"></a>                <span class='hs-comment'>-- leave safe inference on in Unsafe mode as well.</span>
<a name="line-1651"></a>                <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeHaskell</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeM</span> <span class='hs-layout'>}</span>
<a name="line-1652"></a>
<a name="line-1653"></a><a name="safeDirectImpsReq"></a><span class='hs-comment'>-- | Are all direct imports required to be safe for this Safe Haskell mode?</span>
<a name="line-1654"></a><span class='hs-comment'>-- Direct imports are when the code explicitly imports a module</span>
<a name="line-1655"></a><span class='hs-definition'>safeDirectImpsReq</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1656"></a><span class='hs-definition'>safeDirectImpsReq</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>d</span>
<a name="line-1657"></a>
<a name="line-1658"></a><a name="safeImplicitImpsReq"></a><span class='hs-comment'>-- | Are all implicit imports required to be safe for this Safe Haskell mode?</span>
<a name="line-1659"></a><span class='hs-comment'>-- Implicit imports are things in the prelude. e.g System.IO when print is used.</span>
<a name="line-1660"></a><span class='hs-definition'>safeImplicitImpsReq</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-1661"></a><span class='hs-definition'>safeImplicitImpsReq</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>d</span>
<a name="line-1662"></a>
<a name="line-1663"></a><a name="combineSafeFlags"></a><span class='hs-comment'>-- | Combine two Safe Haskell modes correctly. Used for dealing with multiple flags.</span>
<a name="line-1664"></a><span class='hs-comment'>-- This makes Safe Haskell very much a monoid but for now I prefer this as I don't</span>
<a name="line-1665"></a><span class='hs-comment'>-- want to export this functionality from the module but do want to export the</span>
<a name="line-1666"></a><span class='hs-comment'>-- type constructors.</span>
<a name="line-1667"></a><span class='hs-definition'>combineSafeFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SafeHaskellMode</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>SafeHaskellMode</span>
<a name="line-1668"></a><span class='hs-definition'>combineSafeFlags</span> <span class='hs-varid'>a</span> <span class='hs-varid'>b</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>a</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_None</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>b</span>
<a name="line-1669"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>b</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_None</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>a</span>
<a name="line-1670"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>a</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Ignore</span> <span class='hs-varop'>||</span> <span class='hs-varid'>b</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Sf_Ignore</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>Sf_Ignore</span>
<a name="line-1671"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>a</span> <span class='hs-varop'>==</span> <span class='hs-varid'>b</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>a</span>
<a name="line-1672"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addErr</span> <span class='hs-varid'>errm</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>pure</span> <span class='hs-varid'>a</span>
<a name="line-1673"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>errm</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Incompatible Safe Haskell flags! ("</span>
<a name="line-1674"></a>                    <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>a</span> <span class='hs-varop'>++</span> <span class='hs-str'>", "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>b</span> <span class='hs-varop'>++</span> <span class='hs-str'>")"</span>
<a name="line-1675"></a>
<a name="line-1676"></a><a name="unsafeFlags"></a><span class='hs-comment'>-- | A list of unsafe flags under Safe Haskell. Tuple elements are:</span>
<a name="line-1677"></a><span class='hs-comment'>--     * name of the flag</span>
<a name="line-1678"></a><span class='hs-comment'>--     * function to get srcspan that enabled the flag</span>
<a name="line-1679"></a><span class='hs-comment'>--     * function to test if the flag is on</span>
<a name="line-1680"></a><span class='hs-comment'>--     * function to turn the flag off</span>
<a name="line-1681"></a><span class='hs-definition'>unsafeFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>unsafeFlagsForInfer</span>
<a name="line-1682"></a>  <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SrcSpan</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>,</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-1683"></a><span class='hs-definition'>unsafeFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-str'>"-XGeneralizedNewtypeDeriving"</span><span class='hs-layout'>,</span> <span class='hs-varid'>newDerivOnLoc</span><span class='hs-layout'>,</span>
<a name="line-1684"></a>                    <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.GeneralizedNewtypeDeriving</span><span class='hs-layout'>,</span>
<a name="line-1685"></a>                    <span class='hs-varid'>flip</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-conid'>LangExt.GeneralizedNewtypeDeriving</span><span class='hs-layout'>)</span>
<a name="line-1686"></a>              <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"-XDerivingVia"</span><span class='hs-layout'>,</span> <span class='hs-varid'>deriveViaOnLoc</span><span class='hs-layout'>,</span>
<a name="line-1687"></a>                    <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.DerivingVia</span><span class='hs-layout'>,</span>
<a name="line-1688"></a>                    <span class='hs-varid'>flip</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-conid'>LangExt.DerivingVia</span><span class='hs-layout'>)</span>
<a name="line-1689"></a>              <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"-XTemplateHaskell"</span><span class='hs-layout'>,</span> <span class='hs-varid'>thOnLoc</span><span class='hs-layout'>,</span>
<a name="line-1690"></a>                    <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.TemplateHaskell</span><span class='hs-layout'>,</span>
<a name="line-1691"></a>                    <span class='hs-varid'>flip</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-conid'>LangExt.TemplateHaskell</span><span class='hs-layout'>)</span>
<a name="line-1692"></a>              <span class='hs-keyglyph'>]</span>
<a name="line-1693"></a><a name="unsafeFlagsForInfer"></a><span class='hs-definition'>unsafeFlagsForInfer</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>unsafeFlags</span>
<a name="line-1694"></a>
<a name="line-1695"></a>
<a name="line-1696"></a><a name="getOpts"></a><span class='hs-comment'>-- | Retrieve the options corresponding to a particular @opt_*@ field in the correct order</span>
<a name="line-1697"></a><span class='hs-definition'>getOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span>             <span class='hs-comment'>-- ^ 'DynFlags' to retrieve the options from</span>
<a name="line-1698"></a>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>a</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- ^ Relevant record accessor: one of the @opt_*@ accessors</span>
<a name="line-1699"></a>        <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>a</span><span class='hs-keyglyph'>]</span>                  <span class='hs-comment'>-- ^ Correctly ordered extracted options</span>
<a name="line-1700"></a><span class='hs-definition'>getOpts</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>opts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>reverse</span> <span class='hs-layout'>(</span><span class='hs-varid'>opts</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-1701"></a>        <span class='hs-comment'>-- We add to the options from the front, so we need to reverse the list</span>
<a name="line-1702"></a>
<a name="line-1703"></a><a name="getVerbFlags"></a><span class='hs-comment'>-- | Gets the verbosity flag for the current verbosity level. This is fed to</span>
<a name="line-1704"></a><span class='hs-comment'>-- other tools, so GHC-specific verbosity flags like @-ddump-most@ are not included</span>
<a name="line-1705"></a><span class='hs-definition'>getVerbFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1706"></a><span class='hs-definition'>getVerbFlags</span> <span class='hs-varid'>dflags</span>
<a name="line-1707"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>verbosity</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-num'>4</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-v"</span><span class='hs-keyglyph'>]</span>
<a name="line-1708"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1709"></a>
<a name="line-1710"></a><a name="setObjectDir"></a><span class='hs-definition'>setObjectDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHiDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHieDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setStubDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDumpDir</span><span class='hs-layout'>,</span> <span class='hs-varid'>setOutputDir</span><span class='hs-layout'>,</span>
<a name="line-1711"></a>         <span class='hs-varid'>setDynObjectSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynHiSuf</span><span class='hs-layout'>,</span>
<a name="line-1712"></a>         <span class='hs-varid'>setDylibInstallName</span><span class='hs-layout'>,</span>
<a name="line-1713"></a>         <span class='hs-varid'>setObjectSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHiSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHieSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>setHcSuf</span><span class='hs-layout'>,</span> <span class='hs-varid'>parseDynLibLoaderMode</span><span class='hs-layout'>,</span>
<a name="line-1714"></a>         <span class='hs-varid'>setPgmP</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptl</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptc</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptcxx</span><span class='hs-layout'>,</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>,</span>
<a name="line-1715"></a>         <span class='hs-varid'>addCmdlineFramework</span><span class='hs-layout'>,</span> <span class='hs-varid'>addHaddockOpts</span><span class='hs-layout'>,</span> <span class='hs-varid'>addGhciScript</span><span class='hs-layout'>,</span>
<a name="line-1716"></a>         <span class='hs-varid'>setInteractivePrint</span>
<a name="line-1717"></a>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1718"></a><a name="setOutputFile"></a><span class='hs-definition'>setOutputFile</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynOutputFile</span><span class='hs-layout'>,</span> <span class='hs-varid'>setOutputHi</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDynOutputHi</span><span class='hs-layout'>,</span> <span class='hs-varid'>setDumpPrefixForce</span>
<a name="line-1719"></a>   <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1720"></a>
<a name="line-1721"></a><span class='hs-definition'>setObjectDir</span>  <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>objectDir</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1722"></a><a name="setHiDir"></a><span class='hs-definition'>setHiDir</span>      <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hiDir</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1723"></a><a name="setHieDir"></a><span class='hs-definition'>setHieDir</span>     <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hieDir</span>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1724"></a><a name="setStubDir"></a><span class='hs-definition'>setStubDir</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>stubDir</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span>
<a name="line-1725"></a>                      <span class='hs-layout'>,</span> <span class='hs-varid'>includePaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addGlobalInclude</span> <span class='hs-layout'>(</span><span class='hs-varid'>includePaths</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>f</span><span class='hs-keyglyph'>]</span> <span class='hs-layout'>}</span>
<a name="line-1726"></a>  <span class='hs-comment'>-- -stubdir D adds an implicit -I D, so that gcc can find the _stub.h file</span>
<a name="line-1727"></a>  <span class='hs-comment'>-- \#included from the .hc file when compiling via C (i.e. unregisterised</span>
<a name="line-1728"></a>  <span class='hs-comment'>-- builds).</span>
<a name="line-1729"></a><a name="setDumpDir"></a><span class='hs-definition'>setDumpDir</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dumpDir</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1730"></a><a name="setOutputDir"></a><span class='hs-definition'>setOutputDir</span>  <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setObjectDir</span> <span class='hs-varid'>f</span>
<a name="line-1731"></a>                <span class='hs-varop'>.</span> <span class='hs-varid'>setHieDir</span> <span class='hs-varid'>f</span>
<a name="line-1732"></a>                <span class='hs-varop'>.</span> <span class='hs-varid'>setHiDir</span> <span class='hs-varid'>f</span>
<a name="line-1733"></a>                <span class='hs-varop'>.</span> <span class='hs-varid'>setStubDir</span> <span class='hs-varid'>f</span>
<a name="line-1734"></a>                <span class='hs-varop'>.</span> <span class='hs-varid'>setDumpDir</span> <span class='hs-varid'>f</span>
<a name="line-1735"></a><a name="setDylibInstallName"></a><span class='hs-definition'>setDylibInstallName</span>  <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dylibInstallName</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1736"></a>
<a name="line-1737"></a><a name="setObjectSuf"></a><span class='hs-definition'>setObjectSuf</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>objectSuf_</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1738"></a><a name="setDynObjectSuf"></a><span class='hs-definition'>setDynObjectSuf</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynObjectSuf_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1739"></a><a name="setHiSuf"></a><span class='hs-definition'>setHiSuf</span>        <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hiSuf_</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1740"></a><a name="setHieSuf"></a><span class='hs-definition'>setHieSuf</span>       <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hieSuf</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1741"></a><a name="setDynHiSuf"></a><span class='hs-definition'>setDynHiSuf</span>     <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynHiSuf_</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1742"></a><a name="setHcSuf"></a><span class='hs-definition'>setHcSuf</span>        <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>hcSuf</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1743"></a>
<a name="line-1744"></a><span class='hs-definition'>setOutputFile</span>    <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>outputFile_</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1745"></a><a name="setDynOutputFile"></a><span class='hs-definition'>setDynOutputFile</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynOutputFile_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1746"></a><a name="setOutputHi"></a><span class='hs-definition'>setOutputHi</span>      <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>outputHi</span>       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1747"></a><a name="setDynOutputHi"></a><span class='hs-definition'>setDynOutputHi</span>   <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynOutputHi</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1748"></a>
<a name="line-1749"></a><a name="parseUnitInsts"></a><span class='hs-definition'>parseUnitInsts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Instantiations</span>
<a name="line-1750"></a><span class='hs-definition'>parseUnitInsts</span> <span class='hs-varid'>str</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>filter</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varop'>==</span><span class='hs-str'>""</span><span class='hs-layout'>)</span><span class='hs-varop'>.</span><span class='hs-varid'>snd</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>readP_to_S</span> <span class='hs-varid'>parse</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-1751"></a>    <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-varid'>r</span><span class='hs-layout'>,</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>r</span>
<a name="line-1752"></a>    <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-varop'>$</span> <span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"Can't parse -instantiated-with: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span>
<a name="line-1753"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>parse</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sepBy</span> <span class='hs-varid'>parseEntry</span> <span class='hs-layout'>(</span><span class='hs-conid'>R.char</span> <span class='hs-chr'>','</span><span class='hs-layout'>)</span>
<a name="line-1754"></a>        <span class='hs-varid'>parseEntry</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1755"></a>            <span class='hs-varid'>n</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>parseModuleName</span>
<a name="line-1756"></a>            <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-conid'>R.char</span> <span class='hs-chr'>'='</span>
<a name="line-1757"></a>            <span class='hs-varid'>m</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>parseHoleyModule</span>
<a name="line-1758"></a>            <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span><span class='hs-layout'>,</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span>
<a name="line-1759"></a>
<a name="line-1760"></a><a name="setUnitInstantiations"></a><span class='hs-definition'>setUnitInstantiations</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1761"></a><span class='hs-definition'>setUnitInstantiations</span> <span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span>
<a name="line-1762"></a>    <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>homeUnitInstantiations_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parseUnitInsts</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-1763"></a>
<a name="line-1764"></a><a name="setUnitInstanceOf"></a><span class='hs-definition'>setUnitInstanceOf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1765"></a><span class='hs-definition'>setUnitInstanceOf</span> <span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span>
<a name="line-1766"></a>    <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>homeUnitInstanceOf_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-conid'>UnitId</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1767"></a>
<a name="line-1768"></a><a name="addPluginModuleName"></a><span class='hs-definition'>addPluginModuleName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1769"></a><span class='hs-definition'>addPluginModuleName</span> <span class='hs-varid'>name</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pluginModNames</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>name</span><span class='hs-layout'>)</span> <span class='hs-conop'>:</span> <span class='hs-layout'>(</span><span class='hs-varid'>pluginModNames</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1770"></a>
<a name="line-1771"></a><a name="clearPluginModuleNames"></a><span class='hs-definition'>clearPluginModuleNames</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1772"></a><span class='hs-definition'>clearPluginModuleNames</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span>
<a name="line-1773"></a>    <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pluginModNames</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1774"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>pluginModNameOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-1775"></a>      <span class='hs-layout'>}</span>
<a name="line-1776"></a>
<a name="line-1777"></a><a name="addPluginModuleNameOption"></a><span class='hs-definition'>addPluginModuleNameOption</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1778"></a><span class='hs-definition'>addPluginModuleNameOption</span> <span class='hs-varid'>optflag</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pluginModNameOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-varid'>option</span><span class='hs-layout'>)</span> <span class='hs-conop'>:</span> <span class='hs-layout'>(</span><span class='hs-varid'>pluginModNameOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-1779"></a>  <span class='hs-keyword'>where</span> <span class='hs-layout'>(</span><span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-varid'>rest</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>break</span> <span class='hs-layout'>(</span><span class='hs-varop'>==</span> <span class='hs-chr'>':'</span><span class='hs-layout'>)</span> <span class='hs-varid'>optflag</span>
<a name="line-1780"></a>        <span class='hs-varid'>option</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>rest</span> <span class='hs-keyword'>of</span>
<a name="line-1781"></a>          <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-str'>""</span> <span class='hs-comment'>-- should probably signal an error</span>
<a name="line-1782"></a>          <span class='hs-layout'>(</span><span class='hs-keyword'>_</span><span class='hs-conop'>:</span><span class='hs-varid'>plug_opt</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>plug_opt</span> <span class='hs-comment'>-- ignore the ':' from break</span>
<a name="line-1783"></a>
<a name="line-1784"></a><a name="addFrontendPluginOption"></a><span class='hs-definition'>addFrontendPluginOption</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1785"></a><span class='hs-definition'>addFrontendPluginOption</span> <span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>frontendPluginOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>s</span> <span class='hs-conop'>:</span> <span class='hs-varid'>frontendPluginOpts</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-1786"></a>
<a name="line-1787"></a><a name="parseDynLibLoaderMode"></a><span class='hs-definition'>parseDynLibLoaderMode</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span>
<a name="line-1788"></a> <span class='hs-keyword'>case</span> <span class='hs-varid'>splitAt</span> <span class='hs-num'>8</span> <span class='hs-varid'>f</span> <span class='hs-keyword'>of</span>
<a name="line-1789"></a>   <span class='hs-layout'>(</span><span class='hs-str'>"deploy"</span><span class='hs-layout'>,</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynLibLoader</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Deployable</span> <span class='hs-layout'>}</span>
<a name="line-1790"></a>   <span class='hs-layout'>(</span><span class='hs-str'>"sysdep"</span><span class='hs-layout'>,</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynLibLoader</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SystemDependent</span> <span class='hs-layout'>}</span>
<a name="line-1791"></a>   <span class='hs-keyword'>_</span>                    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"Unknown dynlib loader: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1792"></a>
<a name="line-1793"></a><a name="setDumpPrefixForce"></a><span class='hs-definition'>setDumpPrefixForce</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dumpPrefixForce</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1794"></a>
<a name="line-1795"></a><a name="setPgmP"></a><span class='hs-comment'>-- XXX HACK: Prelude&gt; words "'does not' work" ===&gt; ["'does","not'","work"]</span>
<a name="line-1796"></a><span class='hs-comment'>-- Config.hs should really use Option.</span>
<a name="line-1797"></a><span class='hs-definition'>setPgmP</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_P</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>pgm</span><span class='hs-layout'>,</span> <span class='hs-varid'>map</span> <span class='hs-conid'>Option</span> <span class='hs-varid'>args</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1798"></a>  <span class='hs-keyword'>where</span> <span class='hs-layout'>(</span><span class='hs-varid'>pgm</span><span class='hs-conop'>:</span><span class='hs-varid'>args</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>words</span> <span class='hs-varid'>f</span>
<a name="line-1799"></a><a name="addOptl"></a><span class='hs-definition'>addOptl</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_l</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_l</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1800"></a><a name="addOptc"></a><span class='hs-definition'>addOptc</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_c</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_c</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1801"></a><a name="addOptcxx"></a><span class='hs-definition'>addOptcxx</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_cxx</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_cxx</span> <span class='hs-varid'>s</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-1802"></a><a name="addOptP"></a><span class='hs-definition'>addOptP</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span>
<a name="line-1803"></a>          <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_P</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_P</span> <span class='hs-varid'>s</span>
<a name="line-1804"></a>          <span class='hs-layout'>,</span> <span class='hs-varid'>toolSettings_opt_P_fingerprint</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fingerprintStrings</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_P</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span>
<a name="line-1805"></a>          <span class='hs-layout'>}</span>
<a name="line-1806"></a>          <span class='hs-comment'>-- See Note [Repeated -optP hashing]</span>
<a name="line-1807"></a>  <span class='hs-keyword'>where</span>
<a name="line-1808"></a>  <span class='hs-varid'>fingerprintStrings</span> <span class='hs-varid'>ss</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fingerprintFingerprints</span> <span class='hs-varop'>$</span> <span class='hs-varid'>map</span> <span class='hs-varid'>fingerprintString</span> <span class='hs-varid'>ss</span>
<a name="line-1809"></a>
<a name="line-1810"></a>
<a name="line-1811"></a><a name="setDepMakefile"></a><span class='hs-definition'>setDepMakefile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1812"></a><span class='hs-definition'>setDepMakefile</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depMakefile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-1813"></a>
<a name="line-1814"></a><a name="setDepIncludeCppDeps"></a><span class='hs-definition'>setDepIncludeCppDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1815"></a><span class='hs-definition'>setDepIncludeCppDeps</span> <span class='hs-varid'>b</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depIncludeCppDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>b</span> <span class='hs-layout'>}</span>
<a name="line-1816"></a>
<a name="line-1817"></a><a name="setDepIncludePkgDeps"></a><span class='hs-definition'>setDepIncludePkgDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1818"></a><span class='hs-definition'>setDepIncludePkgDeps</span> <span class='hs-varid'>b</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depIncludePkgDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>b</span> <span class='hs-layout'>}</span>
<a name="line-1819"></a>
<a name="line-1820"></a><a name="addDepExcludeMod"></a><span class='hs-definition'>addDepExcludeMod</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1821"></a><span class='hs-definition'>addDepExcludeMod</span> <span class='hs-varid'>m</span> <span class='hs-varid'>d</span>
<a name="line-1822"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depExcludeMods</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>m</span> <span class='hs-conop'>:</span> <span class='hs-varid'>depExcludeMods</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-1823"></a>
<a name="line-1824"></a><a name="addDepSuffix"></a><span class='hs-definition'>addDepSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1825"></a><span class='hs-definition'>addDepSuffix</span> <span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>depSuffixes</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>s</span> <span class='hs-conop'>:</span> <span class='hs-varid'>depSuffixes</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-1826"></a>
<a name="line-1827"></a><a name="addCmdlineFramework"></a><span class='hs-definition'>addCmdlineFramework</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>cmdlineFrameworks</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>cmdlineFrameworks</span> <span class='hs-varid'>d</span><span class='hs-layout'>}</span>
<a name="line-1828"></a>
<a name="line-1829"></a><a name="addGhcVersionFile"></a><span class='hs-definition'>addGhcVersionFile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1830"></a><span class='hs-definition'>addGhcVersionFile</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcVersionFile</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-1831"></a>
<a name="line-1832"></a><a name="addHaddockOpts"></a><span class='hs-definition'>addHaddockOpts</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>haddockOptions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1833"></a>
<a name="line-1834"></a><a name="addGhciScript"></a><span class='hs-definition'>addGhciScript</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghciScripts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>ghciScripts</span> <span class='hs-varid'>d</span><span class='hs-layout'>}</span>
<a name="line-1835"></a>
<a name="line-1836"></a><a name="setInteractivePrint"></a><span class='hs-definition'>setInteractivePrint</span> <span class='hs-varid'>f</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>interactivePrint</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-1837"></a>
<a name="line-1838"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-1839"></a><span class='hs-comment'>-- Setting the optimisation level</span>
<a name="line-1840"></a>
<a name="line-1841"></a><a name="updOptLevel"></a><span class='hs-definition'>updOptLevel</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-1842"></a><span class='hs-comment'>-- ^ Sets the 'DynFlags' to be appropriate to the optimisation level</span>
<a name="line-1843"></a><span class='hs-definition'>updOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dfs</span>
<a name="line-1844"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dfs2</span><span class='hs-layout'>{</span> <span class='hs-varid'>optLevel</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>final_n</span> <span class='hs-layout'>}</span>
<a name="line-1845"></a>  <span class='hs-keyword'>where</span>
<a name="line-1846"></a>   <span class='hs-varid'>final_n</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>max</span> <span class='hs-num'>0</span> <span class='hs-layout'>(</span><span class='hs-varid'>min</span> <span class='hs-num'>2</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span>    <span class='hs-comment'>-- Clamp to 0 &lt;= n &lt;= 2</span>
<a name="line-1847"></a>   <span class='hs-varid'>dfs1</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varid'>flip</span> <span class='hs-varid'>gopt_unset</span><span class='hs-layout'>)</span> <span class='hs-varid'>dfs</span>  <span class='hs-varid'>remove_gopts</span>
<a name="line-1848"></a>   <span class='hs-varid'>dfs2</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varid'>flip</span> <span class='hs-varid'>gopt_set</span><span class='hs-layout'>)</span>   <span class='hs-varid'>dfs1</span> <span class='hs-varid'>extra_gopts</span>
<a name="line-1849"></a>
<a name="line-1850"></a>   <span class='hs-varid'>extra_gopts</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>ns</span><span class='hs-layout'>,</span><span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>optLevelFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>final_n</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>ns</span> <span class='hs-keyglyph'>]</span>
<a name="line-1851"></a>   <span class='hs-varid'>remove_gopts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>ns</span><span class='hs-layout'>,</span><span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>optLevelFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>final_n</span> <span class='hs-varop'>`notElem`</span> <span class='hs-varid'>ns</span> <span class='hs-keyglyph'>]</span>
<a name="line-1852"></a>
<a name="line-1853"></a><span class='hs-comment'>{- **********************************************************************
<a name="line-1854"></a>%*                                                                      *
<a name="line-1855"></a>                DynFlags parser
<a name="line-1856"></a>%*                                                                      *
<a name="line-1857"></a>%********************************************************************* -}</span>
<a name="line-1858"></a>
<a name="line-1859"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-1860"></a><span class='hs-comment'>-- Parsing the dynamic flags.</span>
<a name="line-1861"></a>
<a name="line-1862"></a>
<a name="line-1863"></a><a name="parseDynamicFlagsCmdLine"></a><span class='hs-comment'>-- | Parse dynamic flags from a list of command line arguments.  Returns</span>
<a name="line-1864"></a><span class='hs-comment'>-- the parsed 'DynFlags', the left-over arguments, and a list of warnings.</span>
<a name="line-1865"></a><span class='hs-comment'>-- Throws a 'UsageError' if errors occurred during parsing (such as unknown</span>
<a name="line-1866"></a><span class='hs-comment'>-- flags or missing arguments).</span>
<a name="line-1867"></a><span class='hs-definition'>parseDynamicFlagsCmdLine</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1868"></a>                         <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Warn</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1869"></a>                            <span class='hs-comment'>-- ^ Updated 'DynFlags', left-over arguments, and</span>
<a name="line-1870"></a>                            <span class='hs-comment'>-- list of warnings.</span>
<a name="line-1871"></a><span class='hs-definition'>parseDynamicFlagsCmdLine</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parseDynamicFlagsFull</span> <span class='hs-varid'>flagsAll</span> <span class='hs-conid'>True</span>
<a name="line-1872"></a>
<a name="line-1873"></a>
<a name="line-1874"></a><a name="parseDynamicFilePragma"></a><span class='hs-comment'>-- | Like 'parseDynamicFlagsCmdLine' but does not allow the package flags</span>
<a name="line-1875"></a><span class='hs-comment'>-- (-package, -hide-package, -ignore-package, -hide-all-packages, -package-db).</span>
<a name="line-1876"></a><span class='hs-comment'>-- Used to parse flags set in a modules pragma.</span>
<a name="line-1877"></a><span class='hs-definition'>parseDynamicFilePragma</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1878"></a>                       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Warn</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1879"></a>                          <span class='hs-comment'>-- ^ Updated 'DynFlags', left-over arguments, and</span>
<a name="line-1880"></a>                          <span class='hs-comment'>-- list of warnings.</span>
<a name="line-1881"></a><span class='hs-definition'>parseDynamicFilePragma</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>parseDynamicFlagsFull</span> <span class='hs-varid'>flagsDynamic</span> <span class='hs-conid'>False</span>
<a name="line-1882"></a>
<a name="line-1883"></a>
<a name="line-1884"></a><a name="parseDynamicFlagsFull"></a><span class='hs-comment'>-- | Parses the dynamically set flags for GHC. This is the most general form of</span>
<a name="line-1885"></a><span class='hs-comment'>-- the dynamic flag parser that the other methods simply wrap. It allows</span>
<a name="line-1886"></a><span class='hs-comment'>-- saying which flags are valid flags and indicating if we are parsing</span>
<a name="line-1887"></a><span class='hs-comment'>-- arguments from the command line or from a file pragma.</span>
<a name="line-1888"></a><span class='hs-definition'>parseDynamicFlagsFull</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>MonadIO</span> <span class='hs-varid'>m</span>
<a name="line-1889"></a>                  <span class='hs-keyglyph'>=&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>    <span class='hs-comment'>-- ^ valid flags to match against</span>
<a name="line-1890"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>                          <span class='hs-comment'>-- ^ are the arguments from the command line?</span>
<a name="line-1891"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>                      <span class='hs-comment'>-- ^ current dynamic flags</span>
<a name="line-1892"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>              <span class='hs-comment'>-- ^ arguments to parse</span>
<a name="line-1893"></a>                  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Warn</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1894"></a><span class='hs-definition'>parseDynamicFlagsFull</span> <span class='hs-varid'>activeFlags</span> <span class='hs-varid'>cmdline</span> <span class='hs-varid'>dflags0</span> <span class='hs-varid'>args</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-1895"></a>  <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>leftover</span><span class='hs-layout'>,</span> <span class='hs-varid'>errs</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span> <span class='hs-varid'>dflags1</span><span class='hs-layout'>)</span>
<a name="line-1896"></a>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>runCmdLine</span> <span class='hs-layout'>(</span><span class='hs-varid'>processArgs</span> <span class='hs-varid'>activeFlags</span> <span class='hs-varid'>args</span><span class='hs-layout'>)</span> <span class='hs-varid'>dflags0</span>
<a name="line-1897"></a>
<a name="line-1898"></a>  <span class='hs-comment'>-- See Note [Handling errors when parsing commandline flags]</span>
<a name="line-1899"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>rdr</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>renderWithContext</span> <span class='hs-layout'>(</span><span class='hs-varid'>initSDocContext</span> <span class='hs-varid'>dflags0</span> <span class='hs-varid'>defaultUserStyle</span><span class='hs-layout'>)</span>
<a name="line-1900"></a>  <span class='hs-varid'>unless</span> <span class='hs-layout'>(</span><span class='hs-varid'>null</span> <span class='hs-varid'>errs</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>throwGhcExceptionIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>errorsToGhcException</span> <span class='hs-varop'>$</span>
<a name="line-1901"></a>    <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>rdr</span> <span class='hs-varop'>.</span> <span class='hs-varid'>ppr</span> <span class='hs-varop'>.</span> <span class='hs-varid'>getLoc</span> <span class='hs-varop'>&amp;&amp;&amp;</span> <span class='hs-varid'>unLoc</span><span class='hs-layout'>)</span> <span class='hs-varop'>.</span> <span class='hs-varid'>errMsg</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>errs</span>
<a name="line-1902"></a>
<a name="line-1903"></a>  <span class='hs-comment'>-- check for disabled flags in safe haskell</span>
<a name="line-1904"></a>  <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags2</span><span class='hs-layout'>,</span> <span class='hs-varid'>sh_warns</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeFlagCheck</span> <span class='hs-varid'>cmdline</span> <span class='hs-varid'>dflags1</span>
<a name="line-1905"></a>      <span class='hs-varid'>theWays</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags2</span>
<a name="line-1906"></a>
<a name="line-1907"></a>  <span class='hs-varid'>unless</span> <span class='hs-layout'>(</span><span class='hs-varid'>allowed_combination</span> <span class='hs-varid'>theWays</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span>
<a name="line-1908"></a>      <span class='hs-varid'>throwGhcExceptionIO</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"combination not supported: "</span> <span class='hs-varop'>++</span>
<a name="line-1909"></a>                               <span class='hs-varid'>intercalate</span> <span class='hs-str'>"/"</span> <span class='hs-layout'>(</span><span class='hs-varid'>map</span> <span class='hs-varid'>wayDesc</span> <span class='hs-layout'>(</span><span class='hs-conid'>Set.toAscList</span> <span class='hs-varid'>theWays</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-1910"></a>
<a name="line-1911"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags3</span>
<a name="line-1912"></a>        <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>outFile</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>outputFile_</span> <span class='hs-varid'>dflags2</span>   <span class='hs-comment'>-- Only iff user specified -o ...</span>
<a name="line-1913"></a>        <span class='hs-layout'>,</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>isJust</span> <span class='hs-layout'>(</span><span class='hs-varid'>dynOutputFile_</span> <span class='hs-varid'>dflags2</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- but not -dyno</span>
<a name="line-1914"></a>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags2</span> <span class='hs-layout'>{</span> <span class='hs-varid'>dynOutputFile_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dynamicOutputFile</span> <span class='hs-varid'>dflags2</span> <span class='hs-varid'>outFile</span> <span class='hs-layout'>}</span>
<a name="line-1915"></a>        <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-1916"></a>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags2</span>
<a name="line-1917"></a>
<a name="line-1918"></a>  <span class='hs-keyword'>let</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags4</span><span class='hs-layout'>,</span> <span class='hs-varid'>consistency_warnings</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>makeDynFlagsConsistent</span> <span class='hs-varid'>dflags3</span>
<a name="line-1919"></a>
<a name="line-1920"></a>  <span class='hs-comment'>-- Set timer stats &amp; heap size</span>
<a name="line-1921"></a>  <span class='hs-varid'>when</span> <span class='hs-layout'>(</span><span class='hs-varid'>enableTimeStats</span> <span class='hs-varid'>dflags4</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>liftIO</span> <span class='hs-varid'>enableTimingStats</span>
<a name="line-1922"></a>  <span class='hs-keyword'>case</span> <span class='hs-layout'>(</span><span class='hs-varid'>ghcHeapSize</span> <span class='hs-varid'>dflags4</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-1923"></a>    <span class='hs-conid'>Just</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>liftIO</span> <span class='hs-layout'>(</span><span class='hs-varid'>setHeapSize</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span>
<a name="line-1924"></a>    <span class='hs-keyword'>_</span>      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-1925"></a>
<a name="line-1926"></a>  <span class='hs-varid'>liftIO</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setUnsafeGlobalDynFlags</span> <span class='hs-varid'>dflags4</span>
<a name="line-1927"></a>
<a name="line-1928"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>warns'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-conid'>Warn</span> <span class='hs-conid'>Cmd.NoReason</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>consistency_warnings</span> <span class='hs-varop'>++</span> <span class='hs-varid'>sh_warns</span><span class='hs-layout'>)</span>
<a name="line-1929"></a>
<a name="line-1930"></a>  <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags4</span><span class='hs-layout'>,</span> <span class='hs-varid'>leftover</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns'</span> <span class='hs-varop'>++</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span>
<a name="line-1931"></a>
<a name="line-1932"></a><a name="safeFlagCheck"></a><span class='hs-comment'>-- | Check (and potentially disable) any extensions that aren't allowed</span>
<a name="line-1933"></a><span class='hs-comment'>-- in safe mode.</span>
<a name="line-1934"></a><span class='hs-comment'>--</span>
<a name="line-1935"></a><span class='hs-comment'>-- The bool is to indicate if we are parsing command line flags (false means</span>
<a name="line-1936"></a><span class='hs-comment'>-- file pragma). This allows us to generate better warnings.</span>
<a name="line-1937"></a><span class='hs-definition'>safeFlagCheck</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-1938"></a><span class='hs-definition'>safeFlagCheck</span> <span class='hs-keyword'>_</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>safeLanguageOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflagsUnset</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span>
<a name="line-1939"></a>  <span class='hs-keyword'>where</span>
<a name="line-1940"></a>    <span class='hs-comment'>-- Handle illegal flags under safe language.</span>
<a name="line-1941"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>dflagsUnset</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldl'</span> <span class='hs-varid'>check_method</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-varid'>unsafeFlags</span>
<a name="line-1942"></a>
<a name="line-1943"></a>    <span class='hs-varid'>check_method</span> <span class='hs-layout'>(</span><span class='hs-varid'>df</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>str</span><span class='hs-layout'>,</span><span class='hs-varid'>loc</span><span class='hs-layout'>,</span><span class='hs-varid'>test</span><span class='hs-layout'>,</span><span class='hs-varid'>fix</span><span class='hs-layout'>)</span>
<a name="line-1944"></a>        <span class='hs-keyglyph'>|</span> <span class='hs-varid'>test</span> <span class='hs-varid'>df</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>fix</span> <span class='hs-varid'>df</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span> <span class='hs-varop'>++</span> <span class='hs-varid'>safeFailure</span> <span class='hs-layout'>(</span><span class='hs-varid'>loc</span> <span class='hs-varid'>df</span><span class='hs-layout'>)</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span>
<a name="line-1945"></a>        <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>df</span><span class='hs-layout'>,</span> <span class='hs-varid'>warns</span><span class='hs-layout'>)</span>
<a name="line-1946"></a>
<a name="line-1947"></a>    <span class='hs-varid'>safeFailure</span> <span class='hs-varid'>loc</span> <span class='hs-varid'>str</span>
<a name="line-1948"></a>       <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>L</span> <span class='hs-varid'>loc</span> <span class='hs-varop'>$</span> <span class='hs-varid'>str</span> <span class='hs-varop'>++</span> <span class='hs-str'>" is not allowed in Safe Haskell; ignoring "</span>
<a name="line-1949"></a>           <span class='hs-varop'>++</span> <span class='hs-varid'>str</span><span class='hs-keyglyph'>]</span>
<a name="line-1950"></a>
<a name="line-1951"></a><span class='hs-definition'>safeFlagCheck</span> <span class='hs-varid'>cmdl</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span>
<a name="line-1952"></a>  <span class='hs-keyword'>case</span> <span class='hs-varid'>safeInferOn</span> <span class='hs-varid'>dflags</span> <span class='hs-keyword'>of</span>
<a name="line-1953"></a>    <span class='hs-conid'>True</span>   <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeInferred</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>safeFlags</span> <span class='hs-layout'>}</span><span class='hs-layout'>,</span> <span class='hs-varid'>warn</span><span class='hs-layout'>)</span>
<a name="line-1954"></a>    <span class='hs-conid'>False</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-varid'>warn</span><span class='hs-layout'>)</span>
<a name="line-1955"></a>
<a name="line-1956"></a>  <span class='hs-keyword'>where</span>
<a name="line-1957"></a>    <span class='hs-comment'>-- dynflags and warn for when -fpackage-trust by itself with no safe</span>
<a name="line-1958"></a>    <span class='hs-comment'>-- haskell flag</span>
<a name="line-1959"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-varid'>warn</span><span class='hs-layout'>)</span>
<a name="line-1960"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>safeHaskellModeEnabled</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>not</span> <span class='hs-varid'>cmdl</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>packageTrustOn</span> <span class='hs-varid'>dflags</span>
<a name="line-1961"></a>      <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_PackageTrust</span><span class='hs-layout'>,</span> <span class='hs-varid'>pkgWarnMsg</span><span class='hs-layout'>)</span>
<a name="line-1962"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-1963"></a>
<a name="line-1964"></a>    <span class='hs-varid'>pkgWarnMsg</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>L</span> <span class='hs-layout'>(</span><span class='hs-varid'>pkgTrustOnLoc</span> <span class='hs-varid'>dflags'</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span>
<a name="line-1965"></a>                    <span class='hs-str'>"-fpackage-trust ignored;"</span> <span class='hs-varop'>++</span>
<a name="line-1966"></a>                    <span class='hs-str'>" must be specified with a Safe Haskell flag"</span><span class='hs-keyglyph'>]</span>
<a name="line-1967"></a>
<a name="line-1968"></a>    <span class='hs-comment'>-- Have we inferred Unsafe? See Note [GHC.Driver.Main . Safe Haskell Inference]</span>
<a name="line-1969"></a>    <span class='hs-varid'>safeFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>all</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-layout'>(</span><span class='hs-keyword'>_</span><span class='hs-layout'>,</span><span class='hs-keyword'>_</span><span class='hs-layout'>,</span><span class='hs-varid'>t</span><span class='hs-layout'>,</span><span class='hs-keyword'>_</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>not</span> <span class='hs-varop'>$</span> <span class='hs-varid'>t</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varid'>unsafeFlagsForInfer</span>
<a name="line-1970"></a>
<a name="line-1971"></a>
<a name="line-1972"></a><span class='hs-comment'>{- **********************************************************************
<a name="line-1973"></a>%*                                                                      *
<a name="line-1974"></a>                DynFlags specifications
<a name="line-1975"></a>%*                                                                      *
<a name="line-1976"></a>%********************************************************************* -}</span>
<a name="line-1977"></a>
<a name="line-1978"></a><a name="allNonDeprecatedFlags"></a><span class='hs-comment'>-- | All dynamic flags option strings without the deprecated ones.</span>
<a name="line-1979"></a><span class='hs-comment'>-- These are the user facing strings for enabling and disabling options.</span>
<a name="line-1980"></a><span class='hs-definition'>allNonDeprecatedFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1981"></a><span class='hs-definition'>allNonDeprecatedFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>allFlagsDeps</span> <span class='hs-conid'>False</span>
<a name="line-1982"></a>
<a name="line-1983"></a><a name="allFlagsDeps"></a><span class='hs-comment'>-- | All flags with possibility to filter deprecated ones</span>
<a name="line-1984"></a><span class='hs-definition'>allFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-1985"></a><span class='hs-definition'>allFlagsDeps</span> <span class='hs-varid'>keepDeprecated</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-chr'>'-'</span><span class='hs-conop'>:</span><span class='hs-varid'>flagName</span> <span class='hs-varid'>flag</span>
<a name="line-1986"></a>                              <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>deprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>flagsAllDeps</span>
<a name="line-1987"></a>                              <span class='hs-layout'>,</span> <span class='hs-varid'>keepDeprecated</span> <span class='hs-varop'>||</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>isDeprecated</span> <span class='hs-varid'>deprecated</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-1988"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>isDeprecated</span> <span class='hs-conid'>Deprecated</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-1989"></a>        <span class='hs-varid'>isDeprecated</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-1990"></a>
<a name="line-1991"></a><span class='hs-comment'>{-
<a name="line-1992"></a> - Below we export user facing symbols for GHC dynamic flags for use with the
<a name="line-1993"></a> - GHC API.
<a name="line-1994"></a> -}</span>
<a name="line-1995"></a>
<a name="line-1996"></a><a name="flagsAll"></a><span class='hs-comment'>-- All dynamic flags present in GHC.</span>
<a name="line-1997"></a><span class='hs-definition'>flagsAll</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-1998"></a><span class='hs-definition'>flagsAll</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-varid'>flagsAllDeps</span>
<a name="line-1999"></a>
<a name="line-2000"></a><a name="flagsAllDeps"></a><span class='hs-comment'>-- All dynamic flags present in GHC with deprecation information.</span>
<a name="line-2001"></a><span class='hs-definition'>flagsAllDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2002"></a><span class='hs-definition'>flagsAllDeps</span> <span class='hs-keyglyph'>=</span>  <span class='hs-varid'>package_flags_deps</span> <span class='hs-varop'>++</span> <span class='hs-varid'>dynamic_flags_deps</span>
<a name="line-2003"></a>
<a name="line-2004"></a>
<a name="line-2005"></a><a name="flagsDynamic"></a><span class='hs-comment'>-- All dynamic flags, minus package flags, present in GHC.</span>
<a name="line-2006"></a><span class='hs-definition'>flagsDynamic</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2007"></a><span class='hs-definition'>flagsDynamic</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-varid'>dynamic_flags_deps</span>
<a name="line-2008"></a>
<a name="line-2009"></a><a name="flagsPackage"></a><span class='hs-comment'>-- ALl package flags present in GHC.</span>
<a name="line-2010"></a><span class='hs-definition'>flagsPackage</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2011"></a><span class='hs-definition'>flagsPackage</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-varid'>package_flags_deps</span>
<a name="line-2012"></a>
<a name="line-2013"></a><span class='hs-comment'>----------------Helpers to make flags and keep deprecation information----------</span>
<a name="line-2014"></a>
<a name="line-2015"></a><a name="FlagMaker"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>FlagMaker</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Flag</span> <span class='hs-varid'>m</span>
<a name="line-2016"></a><a name="DynFlagMaker"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>DynFlagMaker</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlagMaker</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-2017"></a><a name="Deprecation"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>Deprecation</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NotDeprecated</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Deprecated</span> <span class='hs-keyword'>deriving</span> <span class='hs-layout'>(</span><span class='hs-conid'>Eq</span><span class='hs-layout'>,</span> <span class='hs-conid'>Ord</span><span class='hs-layout'>)</span>
<a name="line-2018"></a>
<a name="line-2019"></a><a name="make_ord_flag"></a><span class='hs-comment'>-- Make a non-deprecated flag</span>
<a name="line-2020"></a><span class='hs-definition'>make_ord_flag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlagMaker</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-2021"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2022"></a><span class='hs-definition'>make_ord_flag</span> <span class='hs-varid'>fm</span> <span class='hs-varid'>name</span> <span class='hs-varid'>kind</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>NotDeprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>fm</span> <span class='hs-varid'>name</span> <span class='hs-varid'>kind</span><span class='hs-layout'>)</span>
<a name="line-2023"></a>
<a name="line-2024"></a><a name="make_dep_flag"></a><span class='hs-comment'>-- Make a deprecated flag</span>
<a name="line-2025"></a><span class='hs-definition'>make_dep_flag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlagMaker</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-2026"></a>                 <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2027"></a><span class='hs-definition'>make_dep_flag</span> <span class='hs-varid'>fm</span> <span class='hs-varid'>name</span> <span class='hs-varid'>kind</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span>
<a name="line-2028"></a>                                      <span class='hs-varid'>fm</span> <span class='hs-varid'>name</span> <span class='hs-varop'>$</span> <span class='hs-varid'>add_dep_message</span> <span class='hs-varid'>kind</span> <span class='hs-varid'>message</span><span class='hs-layout'>)</span>
<a name="line-2029"></a>
<a name="line-2030"></a><a name="add_dep_message"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-2031"></a>                <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-2032"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>f</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2033"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>s</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2034"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>SepArg</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SepArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>s</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2035"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>Prefix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Prefix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>s</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2036"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>OptPrefix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2037"></a>                                  <span class='hs-conid'>OptPrefix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>s</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2038"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>OptIntSuffix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2039"></a>                               <span class='hs-conid'>OptIntSuffix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>oi</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>oi</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2040"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>IntSuffix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2041"></a>                                  <span class='hs-conid'>IntSuffix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>i</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>i</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2042"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>WordSuffix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2043"></a>                                  <span class='hs-conid'>WordSuffix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>i</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>i</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2044"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>FloatSuffix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2045"></a>                                <span class='hs-conid'>FloatSuffix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>fl</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>fl</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2046"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>PassFlag</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2047"></a>                                   <span class='hs-conid'>PassFlag</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>s</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2048"></a><span class='hs-definition'>add_dep_message</span> <span class='hs-layout'>(</span><span class='hs-conid'>AnySuffix</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>message</span> <span class='hs-keyglyph'>=</span>
<a name="line-2049"></a>                                  <span class='hs-conid'>AnySuffix</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>f</span> <span class='hs-varid'>s</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>message</span>
<a name="line-2050"></a>
<a name="line-2051"></a><a name="dynamic_flags_deps"></a><span class='hs-comment'>----------------------- The main flags themselves ------------------------------</span>
<a name="line-2052"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-2053"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-2054"></a><span class='hs-definition'>dynamic_flags_deps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2055"></a><span class='hs-definition'>dynamic_flags_deps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2056"></a>    <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"n"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-2057"></a>        <span class='hs-str'>"The -n flag is deprecated and no longer has any effect"</span>
<a name="line-2058"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"cpp"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setExtensionFlag</span> <span class='hs-conid'>LangExt.Cpp</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2059"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"F"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Pp</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2060"></a>  <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"#include"</span>
<a name="line-2061"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-sel'>_s</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2062"></a>         <span class='hs-varid'>deprecate</span> <span class='hs-layout'>(</span><span class='hs-str'>"-#include and INCLUDE pragmas are "</span> <span class='hs-varop'>++</span>
<a name="line-2063"></a>                    <span class='hs-str'>"deprecated: They no longer have any effect"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2064"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"v"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>OptIntSuffix</span> <span class='hs-varid'>setVerbosity</span><span class='hs-layout'>)</span>
<a name="line-2065"></a>
<a name="line-2066"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"j"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>OptIntSuffix</span>
<a name="line-2067"></a>        <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>n</span> <span class='hs-keyword'>of</span>
<a name="line-2068"></a>                 <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span>
<a name="line-2069"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>n</span> <span class='hs-varop'>&gt;</span> <span class='hs-num'>0</span>     <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>parMakeCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-2070"></a>                     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addErr</span> <span class='hs-str'>"Syntax: -j[n] where n &gt; 0"</span>
<a name="line-2071"></a>                 <span class='hs-conid'>Nothing</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>parMakeCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2072"></a>                 <span class='hs-comment'>-- When the number of parallel builds</span>
<a name="line-2073"></a>                 <span class='hs-comment'>-- is omitted, it is the same</span>
<a name="line-2074"></a>                 <span class='hs-comment'>-- as specifying that the number of</span>
<a name="line-2075"></a>                 <span class='hs-comment'>-- parallel builds is equal to the</span>
<a name="line-2076"></a>                 <span class='hs-comment'>-- result of getNumProcessors</span>
<a name="line-2077"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"instantiated-with"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-varid'>setUnitInstantiations</span><span class='hs-layout'>)</span>
<a name="line-2078"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"this-component-id"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-varid'>setUnitInstanceOf</span><span class='hs-layout'>)</span>
<a name="line-2079"></a>
<a name="line-2080"></a>    <span class='hs-comment'>-- RTS options -------------------------------------------------------------</span>
<a name="line-2081"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"H"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2082"></a>          <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcHeapSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varop'>$</span> <span class='hs-varid'>fromIntegral</span> <span class='hs-layout'>(</span><span class='hs-varid'>decodeSize</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2083"></a>
<a name="line-2084"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Rghc-timing"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2085"></a>                                               <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>enableTimeStats</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2086"></a>
<a name="line-2087"></a>    <span class='hs-comment'>------- ways ---------------------------------------------------------------</span>
<a name="line-2088"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"prof"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWayDynP</span> <span class='hs-conid'>WayProf</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2089"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"eventlog"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWayDynP</span> <span class='hs-conid'>WayTracing</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2090"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"debug"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWayDynP</span> <span class='hs-conid'>WayDebug</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2091"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"threaded"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWayDynP</span> <span class='hs-conid'>WayThreaded</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2092"></a>
<a name="line-2093"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ticky"</span>
<a name="line-2094"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>addWayDynP</span> <span class='hs-conid'>WayDebug</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2095"></a>
<a name="line-2096"></a>    <span class='hs-comment'>-- -ticky enables ticky-ticky code generation, and also implies -debug which</span>
<a name="line-2097"></a>    <span class='hs-comment'>-- is required to get the RTS ticky support.</span>
<a name="line-2098"></a>
<a name="line-2099"></a>        <span class='hs-comment'>----- Linker --------------------------------------------------------</span>
<a name="line-2100"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"static"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeWayDyn</span><span class='hs-layout'>)</span>
<a name="line-2101"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dynamic"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addWayDynP</span> <span class='hs-conid'>WayDyn</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2102"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rdynamic"</span> <span class='hs-varop'>$</span> <span class='hs-varid'>noArg</span> <span class='hs-varop'>$</span>
<a name="line-2103"></a><span class='hs-cpp'>#if defined(linux_HOST_OS)</span>
<a name="line-2104"></a>                              <span class='hs-varid'>addOptl</span> <span class='hs-str'>"-rdynamic"</span>
<a name="line-2105"></a><span class='hs-cpp'>#elif defined(mingw32_HOST_OS)</span>
<a name="line-2106"></a>                              <span class='hs-varid'>addOptl</span> <span class='hs-str'>"-Wl,--export-all-symbols"</span>
<a name="line-2107"></a><span class='hs-cpp'>#else</span>
<a name="line-2108"></a>    <span class='hs-comment'>-- ignored for compat w/ gcc:</span>
<a name="line-2109"></a>                              <span class='hs-varid'>id</span>
<a name="line-2110"></a><span class='hs-cpp'>#endif</span>
<a name="line-2111"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"relative-dynlib-paths"</span>
<a name="line-2112"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_RelativeDynlibPaths</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2113"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"copy-libs-when-linking"</span>
<a name="line-2114"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SingleLibFolder</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2115"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"pie"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PICExecutable</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2116"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-pie"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_PICExecutable</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2117"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fcompact-unwind"</span>
<a name="line-2118"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span>
<a name="line-2119"></a>       <span class='hs-keyword'>if</span> <span class='hs-varid'>platformOS</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSDarwin</span>
<a name="line-2120"></a>          <span class='hs-keyword'>then</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_CompactUnwind</span><span class='hs-layout'>)</span>
<a name="line-2121"></a>          <span class='hs-keyword'>else</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"-compact-unwind is only implemented by the darwin platform. Ignoring."</span>
<a name="line-2122"></a>                  <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2123"></a>
<a name="line-2124"></a>        <span class='hs-comment'>------- Specific phases  --------------------------------------------</span>
<a name="line-2125"></a>    <span class='hs-comment'>-- need to appear before -pgmL to be parsed as LLVM flags.</span>
<a name="line-2126"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmlo"</span>
<a name="line-2127"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_lo</span>  <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-2128"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmlc"</span>
<a name="line-2129"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_lc</span>  <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-2130"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmlm"</span>
<a name="line-2131"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_lm</span>  <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-2132"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmi"</span>
<a name="line-2133"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_i</span>   <span class='hs-keyglyph'>=</span>  <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2134"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmL"</span>
<a name="line-2135"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_L</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2136"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmP"</span>
<a name="line-2137"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setPgmP</span><span class='hs-layout'>)</span>
<a name="line-2138"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmF"</span>
<a name="line-2139"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_F</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2140"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmc"</span>
<a name="line-2141"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span>
<a name="line-2142"></a>         <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_c</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span>
<a name="line-2143"></a>         <span class='hs-layout'>,</span> <span class='hs-comment'>-- Don't pass -no-pie with -pgmc</span>
<a name="line-2144"></a>           <span class='hs-comment'>-- (see #15319)</span>
<a name="line-2145"></a>           <span class='hs-varid'>toolSettings_ccSupportsNoPie</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-2146"></a>         <span class='hs-layout'>}</span>
<a name="line-2147"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmc-supports-no-pie"</span>
<a name="line-2148"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>noArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_ccSupportsNoPie</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span>
<a name="line-2149"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgms"</span>
<a name="line-2150"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"Object splitting was removed in GHC 8.8"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2151"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgma"</span>
<a name="line-2152"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_a</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-2153"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgml"</span>
<a name="line-2154"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_l</span>   <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-2155"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmdll"</span>
<a name="line-2156"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_dll</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span><span class='hs-layout'>,</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-2157"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmwindres"</span>
<a name="line-2158"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_windres</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2159"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmlibtool"</span>
<a name="line-2160"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_libtool</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2161"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmar"</span>
<a name="line-2162"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_ar</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2163"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmotool"</span>
<a name="line-2164"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_otool</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-2165"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgminstall_name_tool"</span>
<a name="line-2166"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_install_name_tool</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span><span class='hs-layout'>}</span>
<a name="line-2167"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"pgmranlib"</span>
<a name="line-2168"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_pgm_ranlib</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>}</span>
<a name="line-2169"></a>
<a name="line-2170"></a>
<a name="line-2171"></a>    <span class='hs-comment'>-- need to appear before -optl/-opta to be parsed as LLVM flags.</span>
<a name="line-2172"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optlm"</span>
<a name="line-2173"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_lm</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_lm</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2174"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optlo"</span>
<a name="line-2175"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_lo</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_lo</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2176"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optlc"</span>
<a name="line-2177"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_lc</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_lc</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2178"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"opti"</span>
<a name="line-2179"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_i</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_i</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2180"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optL"</span>
<a name="line-2181"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_L</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_L</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2182"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optP"</span>
<a name="line-2183"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>)</span>
<a name="line-2184"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optF"</span>
<a name="line-2185"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_F</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_F</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2186"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optc"</span>
<a name="line-2187"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptc</span><span class='hs-layout'>)</span>
<a name="line-2188"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optcxx"</span>
<a name="line-2189"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptcxx</span><span class='hs-layout'>)</span>
<a name="line-2190"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"opta"</span>
<a name="line-2191"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_a</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_a</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2192"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optl"</span>
<a name="line-2193"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addOptl</span><span class='hs-layout'>)</span>
<a name="line-2194"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"optwindres"</span>
<a name="line-2195"></a>      <span class='hs-varop'>$</span> <span class='hs-varid'>hasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2196"></a>        <span class='hs-varid'>alterToolSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings_opt_windres</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-conop'>:</span> <span class='hs-varid'>toolSettings_opt_windres</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-2197"></a>
<a name="line-2198"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"split-objs"</span>
<a name="line-2199"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>addWarn</span> <span class='hs-str'>"ignoring -split-objs"</span><span class='hs-layout'>)</span>
<a name="line-2200"></a>
<a name="line-2201"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"split-sections"</span>
<a name="line-2202"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span>
<a name="line-2203"></a>        <span class='hs-keyword'>if</span> <span class='hs-varid'>platformHasSubsectionsViaSymbols</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-2204"></a>          <span class='hs-keyword'>then</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>addWarn</span> <span class='hs-varop'>$</span>
<a name="line-2205"></a>                    <span class='hs-str'>"-split-sections is not useful on this platform "</span> <span class='hs-varop'>++</span>
<a name="line-2206"></a>                    <span class='hs-str'>"since it always uses subsections via symbols. Ignoring."</span>
<a name="line-2207"></a>                  <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span>
<a name="line-2208"></a>          <span class='hs-keyword'>else</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_SplitSections</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2209"></a>
<a name="line-2210"></a>        <span class='hs-comment'>-------- ghc -M -----------------------------------------------------</span>
<a name="line-2211"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dep-suffix"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addDepSuffix</span><span class='hs-layout'>)</span>
<a name="line-2212"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dep-makefile"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDepMakefile</span><span class='hs-layout'>)</span>
<a name="line-2213"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"include-cpp-deps"</span>
<a name="line-2214"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDepIncludeCppDeps</span> <span class='hs-conid'>True</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2215"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"include-pkg-deps"</span>
<a name="line-2216"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDepIncludePkgDeps</span> <span class='hs-conid'>True</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2217"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"exclude-module"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addDepExcludeMod</span><span class='hs-layout'>)</span>
<a name="line-2218"></a>
<a name="line-2219"></a>        <span class='hs-comment'>-------- Linking ----------------------------------------------------</span>
<a name="line-2220"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-link"</span>
<a name="line-2221"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>NoLink</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2222"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"shared"</span>
<a name="line-2223"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>LinkDynLib</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2224"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"staticlib"</span>
<a name="line-2225"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>setGeneralFlag'</span> <span class='hs-conid'>Opt_LinkRts</span> <span class='hs-layout'>(</span><span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>LinkStaticLib</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2226"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dynload"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>parseDynLibLoaderMode</span><span class='hs-layout'>)</span>
<a name="line-2227"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dylib-install-name"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDylibInstallName</span><span class='hs-layout'>)</span>
<a name="line-2228"></a>
<a name="line-2229"></a>        <span class='hs-comment'>------- Libraries ---------------------------------------------------</span>
<a name="line-2230"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"L"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>Prefix</span> <span class='hs-varid'>addLibraryPath</span><span class='hs-layout'>)</span>
<a name="line-2231"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"l"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addLdInputs</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Option</span> <span class='hs-varop'>.</span> <span class='hs-layout'>(</span><span class='hs-str'>"-l"</span> <span class='hs-varop'>++</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2232"></a>
<a name="line-2233"></a>        <span class='hs-comment'>------- Frameworks --------------------------------------------------</span>
<a name="line-2234"></a>        <span class='hs-comment'>-- -framework-path should really be -F ...</span>
<a name="line-2235"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"framework-path"</span> <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>addFrameworkPath</span><span class='hs-layout'>)</span>
<a name="line-2236"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"framework"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addCmdlineFramework</span><span class='hs-layout'>)</span>
<a name="line-2237"></a>
<a name="line-2238"></a>        <span class='hs-comment'>------- Output Redirection ------------------------------------------</span>
<a name="line-2239"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"odir"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setObjectDir</span><span class='hs-layout'>)</span>
<a name="line-2240"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"o"</span>                 <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setOutputFile</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2241"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dyno"</span>
<a name="line-2242"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDynOutputFile</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2243"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ohi"</span>
<a name="line-2244"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setOutputHi</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2245"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dynohi"</span>
<a name="line-2246"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDynOutputHi</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2247"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"osuf"</span>              <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setObjectSuf</span><span class='hs-layout'>)</span>
<a name="line-2248"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dynosuf"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDynObjectSuf</span><span class='hs-layout'>)</span>
<a name="line-2249"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"hcsuf"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHcSuf</span><span class='hs-layout'>)</span>
<a name="line-2250"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"hisuf"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHiSuf</span><span class='hs-layout'>)</span>
<a name="line-2251"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"hiesuf"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHieSuf</span><span class='hs-layout'>)</span>
<a name="line-2252"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dynhisuf"</span>          <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDynHiSuf</span><span class='hs-layout'>)</span>
<a name="line-2253"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"hidir"</span>             <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHiDir</span><span class='hs-layout'>)</span>
<a name="line-2254"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"hiedir"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setHieDir</span><span class='hs-layout'>)</span>
<a name="line-2255"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"tmpdir"</span>            <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setTmpDir</span><span class='hs-layout'>)</span>
<a name="line-2256"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"stubdir"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setStubDir</span><span class='hs-layout'>)</span>
<a name="line-2257"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dumpdir"</span>           <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setDumpDir</span><span class='hs-layout'>)</span>
<a name="line-2258"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"outputdir"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setOutputDir</span><span class='hs-layout'>)</span>
<a name="line-2259"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-file-prefix"</span>
<a name="line-2260"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDumpPrefixForce</span> <span class='hs-varop'>.</span> <span class='hs-conid'>Just</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2261"></a>
<a name="line-2262"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dynamic-too"</span>
<a name="line-2263"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_BuildDynamicToo</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2264"></a>
<a name="line-2265"></a>        <span class='hs-comment'>------- Keeping temporary files -------------------------------------</span>
<a name="line-2266"></a>     <span class='hs-comment'>-- These can be singular (think ghc -c) or plural (think ghc --make)</span>
<a name="line-2267"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-hc-file"</span>
<a name="line-2268"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHcFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2269"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-hc-files"</span>
<a name="line-2270"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHcFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2271"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-hscpp-file"</span>
<a name="line-2272"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHscppFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2273"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-hscpp-files"</span>
<a name="line-2274"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHscppFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2275"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-s-file"</span>
<a name="line-2276"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepSFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2277"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-s-files"</span>
<a name="line-2278"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepSFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2279"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-llvm-file"</span>
<a name="line-2280"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setObjBackend</span> <span class='hs-conid'>LLVM</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepLlvmFiles</span><span class='hs-layout'>)</span>
<a name="line-2281"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-llvm-files"</span>
<a name="line-2282"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setObjBackend</span> <span class='hs-conid'>LLVM</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepLlvmFiles</span><span class='hs-layout'>)</span>
<a name="line-2283"></a>     <span class='hs-comment'>-- This only makes sense as plural</span>
<a name="line-2284"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-tmp-files"</span>
<a name="line-2285"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepTmpFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2286"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-hi-file"</span>
<a name="line-2287"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHiFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2288"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-keep-hi-file"</span>
<a name="line-2289"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_KeepHiFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2290"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-hi-files"</span>
<a name="line-2291"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepHiFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2292"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-keep-hi-files"</span>
<a name="line-2293"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_KeepHiFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2294"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-o-file"</span>
<a name="line-2295"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepOFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2296"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-keep-o-file"</span>
<a name="line-2297"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_KeepOFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2298"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"keep-o-files"</span>
<a name="line-2299"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_KeepOFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2300"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-keep-o-files"</span>
<a name="line-2301"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_KeepOFiles</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2302"></a>
<a name="line-2303"></a>        <span class='hs-comment'>------- Miscellaneous ----------------------------------------------</span>
<a name="line-2304"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-auto-link-packages"</span>
<a name="line-2305"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_AutoLinkPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2306"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-hs-main"</span>
<a name="line-2307"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_NoHsMain</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2308"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fno-state-hack"</span>
<a name="line-2309"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_G_NoStateHack</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2310"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fno-opt-coercion"</span>
<a name="line-2311"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_G_NoOptCoercion</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2312"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"with-rtsopts"</span>
<a name="line-2313"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>setRtsOpts</span><span class='hs-layout'>)</span>
<a name="line-2314"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rtsopts"</span>
<a name="line-2315"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsAll</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2316"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rtsopts=all"</span>
<a name="line-2317"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsAll</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2318"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rtsopts=some"</span>
<a name="line-2319"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsSafeOnly</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2320"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rtsopts=none"</span>
<a name="line-2321"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsNone</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2322"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rtsopts=ignore"</span>
<a name="line-2323"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsIgnore</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2324"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"rtsopts=ignoreAll"</span>
<a name="line-2325"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsIgnoreAll</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2326"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-rtsopts"</span>
<a name="line-2327"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setRtsOptsEnabled</span> <span class='hs-conid'>RtsOptsNone</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2328"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-rtsopts-suggestions"</span>
<a name="line-2329"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>rtsOptsSuggestions</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2330"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dhex-word-literals"</span>
<a name="line-2331"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_HexWordLiterals</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2332"></a>
<a name="line-2333"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ghcversion-file"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addGhcVersionFile</span><span class='hs-layout'>)</span>
<a name="line-2334"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"main-is"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>SepArg</span> <span class='hs-varid'>setMainIs</span><span class='hs-layout'>)</span>
<a name="line-2335"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"haddock"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Haddock</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2336"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-haddock"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_Haddock</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2337"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"haddock-opts"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addHaddockOpts</span><span class='hs-layout'>)</span>
<a name="line-2338"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"hpcdir"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>SepArg</span> <span class='hs-varid'>setOptHpcDir</span><span class='hs-layout'>)</span>
<a name="line-2339"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhciFlag</span> <span class='hs-str'>"ghci-script"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addGhciScript</span><span class='hs-layout'>)</span>
<a name="line-2340"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhciFlag</span> <span class='hs-str'>"interactive-print"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setInteractivePrint</span><span class='hs-layout'>)</span>
<a name="line-2341"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ticky-allocd"</span>
<a name="line-2342"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky_Allocd</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2343"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ticky-LNE"</span>
<a name="line-2344"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky_LNE</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2345"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ticky-dyn-thunk"</span>
<a name="line-2346"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_Ticky_Dyn_Thunk</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2347"></a>        <span class='hs-comment'>------- recompilation checker --------------------------------------</span>
<a name="line-2348"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"recomp"</span>
<a name="line-2349"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_ForceRecomp</span><span class='hs-layout'>)</span>
<a name="line-2350"></a>             <span class='hs-str'>"Use -fno-force-recomp instead"</span>
<a name="line-2351"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-recomp"</span>
<a name="line-2352"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_ForceRecomp</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use -fforce-recomp instead"</span>
<a name="line-2353"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-errors"</span>
<a name="line-2354"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxErrors</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-layout'>(</span><span class='hs-varid'>max</span> <span class='hs-num'>1</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2355"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-max-errors"</span>
<a name="line-2356"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxErrors</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2357"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"freverse-errors"</span>
<a name="line-2358"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>reverseErrors</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span><span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2359"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-reverse-errors"</span>
<a name="line-2360"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>reverseErrors</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span><span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2361"></a>
<a name="line-2362"></a>        <span class='hs-comment'>------ HsCpp opts ---------------------------------------------------</span>
<a name="line-2363"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"D"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>AnySuffix</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2364"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"U"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>AnySuffix</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>addOptP</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2365"></a>
<a name="line-2366"></a>        <span class='hs-comment'>------- Include/Import Paths ----------------------------------------</span>
<a name="line-2367"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"I"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>Prefix</span>    <span class='hs-varid'>addIncludePath</span><span class='hs-layout'>)</span>
<a name="line-2368"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"i"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>OptPrefix</span> <span class='hs-varid'>addImportPath</span><span class='hs-layout'>)</span>
<a name="line-2369"></a>
<a name="line-2370"></a>        <span class='hs-comment'>------ Output style options -----------------------------------------</span>
<a name="line-2371"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"dppr-user-length"</span> <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2372"></a>                                                       <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pprUserLength</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2373"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"dppr-cols"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2374"></a>                                                             <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pprCols</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2375"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fdiagnostics-color=auto"</span>
<a name="line-2376"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>useColor</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Auto</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2377"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fdiagnostics-color=always"</span>
<a name="line-2378"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>useColor</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Always</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2379"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fdiagnostics-color=never"</span>
<a name="line-2380"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>useColor</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Never</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2381"></a>
<a name="line-2382"></a>  <span class='hs-comment'>-- Suppress all that is suppressable in core dumps.</span>
<a name="line-2383"></a>  <span class='hs-comment'>-- Except for uniques, as some simplifier phases introduce new variables that</span>
<a name="line-2384"></a>  <span class='hs-comment'>-- have otherwise identical names.</span>
<a name="line-2385"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dsuppress-all"</span>
<a name="line-2386"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressCoercions</span>
<a name="line-2387"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressVarKinds</span>
<a name="line-2388"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressModulePrefixes</span>
<a name="line-2389"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressTypeApplications</span>
<a name="line-2390"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressIdInfo</span>
<a name="line-2391"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressTicks</span>
<a name="line-2392"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressStgExts</span>
<a name="line-2393"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressTypeSignatures</span>
<a name="line-2394"></a>                  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_SuppressTimestamps</span><span class='hs-layout'>)</span>
<a name="line-2395"></a>
<a name="line-2396"></a>        <span class='hs-comment'>------ Debugging ----------------------------------------------------</span>
<a name="line-2397"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dstg-stats"</span>
<a name="line-2398"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_StgStats</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2399"></a>
<a name="line-2400"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm"</span>
<a name="line-2401"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm</span><span class='hs-layout'>)</span>
<a name="line-2402"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-from-stg"</span>
<a name="line-2403"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_from_stg</span><span class='hs-layout'>)</span>
<a name="line-2404"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-raw"</span>
<a name="line-2405"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_raw</span><span class='hs-layout'>)</span>
<a name="line-2406"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-verbose"</span>
<a name="line-2407"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_verbose</span><span class='hs-layout'>)</span>
<a name="line-2408"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-verbose-by-proc"</span>
<a name="line-2409"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_verbose_by_proc</span><span class='hs-layout'>)</span>
<a name="line-2410"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-cfg"</span>
<a name="line-2411"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_cfg</span><span class='hs-layout'>)</span>
<a name="line-2412"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-cbe"</span>
<a name="line-2413"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_cbe</span><span class='hs-layout'>)</span>
<a name="line-2414"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-switch"</span>
<a name="line-2415"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_switch</span><span class='hs-layout'>)</span>
<a name="line-2416"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-proc"</span>
<a name="line-2417"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_proc</span><span class='hs-layout'>)</span>
<a name="line-2418"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-sp"</span>
<a name="line-2419"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_sp</span><span class='hs-layout'>)</span>
<a name="line-2420"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-sink"</span>
<a name="line-2421"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_sink</span><span class='hs-layout'>)</span>
<a name="line-2422"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-caf"</span>
<a name="line-2423"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_caf</span><span class='hs-layout'>)</span>
<a name="line-2424"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-procmap"</span>
<a name="line-2425"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_procmap</span><span class='hs-layout'>)</span>
<a name="line-2426"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-split"</span>
<a name="line-2427"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_split</span><span class='hs-layout'>)</span>
<a name="line-2428"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-info"</span>
<a name="line-2429"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_info</span><span class='hs-layout'>)</span>
<a name="line-2430"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-cps"</span>
<a name="line-2431"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cmm_cps</span><span class='hs-layout'>)</span>
<a name="line-2432"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cmm-opt"</span>
<a name="line-2433"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_opt_cmm</span><span class='hs-layout'>)</span>
<a name="line-2434"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cfg-weights"</span>
<a name="line-2435"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cfg_weights</span><span class='hs-layout'>)</span>
<a name="line-2436"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-core-stats"</span>
<a name="line-2437"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_core_stats</span><span class='hs-layout'>)</span>
<a name="line-2438"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm"</span>
<a name="line-2439"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm</span><span class='hs-layout'>)</span>
<a name="line-2440"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-native"</span>
<a name="line-2441"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_native</span><span class='hs-layout'>)</span>
<a name="line-2442"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-liveness"</span>
<a name="line-2443"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_liveness</span><span class='hs-layout'>)</span>
<a name="line-2444"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-regalloc"</span>
<a name="line-2445"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_regalloc</span><span class='hs-layout'>)</span>
<a name="line-2446"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-conflicts"</span>
<a name="line-2447"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_conflicts</span><span class='hs-layout'>)</span>
<a name="line-2448"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-regalloc-stages"</span>
<a name="line-2449"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_regalloc_stages</span><span class='hs-layout'>)</span>
<a name="line-2450"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-stats"</span>
<a name="line-2451"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_stats</span><span class='hs-layout'>)</span>
<a name="line-2452"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-asm-expanded"</span>
<a name="line-2453"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_asm_expanded</span><span class='hs-layout'>)</span>
<a name="line-2454"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-llvm"</span>
<a name="line-2455"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_llvm</span><span class='hs-layout'>)</span>
<a name="line-2456"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-c-backend"</span>
<a name="line-2457"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_c_backend</span><span class='hs-layout'>)</span>
<a name="line-2458"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-deriv"</span>
<a name="line-2459"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_deriv</span><span class='hs-layout'>)</span>
<a name="line-2460"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-ds"</span>
<a name="line-2461"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ds</span><span class='hs-layout'>)</span>
<a name="line-2462"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-ds-preopt"</span>
<a name="line-2463"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ds_preopt</span><span class='hs-layout'>)</span>
<a name="line-2464"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-foreign"</span>
<a name="line-2465"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_foreign</span><span class='hs-layout'>)</span>
<a name="line-2466"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-inlinings"</span>
<a name="line-2467"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_inlinings</span><span class='hs-layout'>)</span>
<a name="line-2468"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rule-firings"</span>
<a name="line-2469"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rule_firings</span><span class='hs-layout'>)</span>
<a name="line-2470"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rule-rewrites"</span>
<a name="line-2471"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rule_rewrites</span><span class='hs-layout'>)</span>
<a name="line-2472"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-simpl-trace"</span>
<a name="line-2473"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl_trace</span><span class='hs-layout'>)</span>
<a name="line-2474"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-occur-anal"</span>
<a name="line-2475"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_occur_anal</span><span class='hs-layout'>)</span>
<a name="line-2476"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-parsed"</span>
<a name="line-2477"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_parsed</span><span class='hs-layout'>)</span>
<a name="line-2478"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-parsed-ast"</span>
<a name="line-2479"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_parsed_ast</span><span class='hs-layout'>)</span>
<a name="line-2480"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rn"</span>
<a name="line-2481"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn</span><span class='hs-layout'>)</span>
<a name="line-2482"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rn-ast"</span>
<a name="line-2483"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn_ast</span><span class='hs-layout'>)</span>
<a name="line-2484"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-simpl"</span>
<a name="line-2485"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl</span><span class='hs-layout'>)</span>
<a name="line-2486"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-simpl-iterations"</span>
<a name="line-2487"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl_iterations</span><span class='hs-layout'>)</span>
<a name="line-2488"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-spec"</span>
<a name="line-2489"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_spec</span><span class='hs-layout'>)</span>
<a name="line-2490"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-prep"</span>
<a name="line-2491"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_prep</span><span class='hs-layout'>)</span>
<a name="line-2492"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-stg-from-core"</span>
<a name="line-2493"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stg_from_core</span><span class='hs-layout'>)</span>
<a name="line-2494"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-stg-unarised"</span>
<a name="line-2495"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stg_unarised</span><span class='hs-layout'>)</span>
<a name="line-2496"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-stg-final"</span>
<a name="line-2497"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stg_final</span><span class='hs-layout'>)</span>
<a name="line-2498"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-stg"</span>
<a name="line-2499"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stg_from_core</span><span class='hs-layout'>)</span>
<a name="line-2500"></a>        <span class='hs-str'>"Use `-ddump-stg-from-core` or `-ddump-stg-final` instead"</span>
<a name="line-2501"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-call-arity"</span>
<a name="line-2502"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_call_arity</span><span class='hs-layout'>)</span>
<a name="line-2503"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-exitify"</span>
<a name="line-2504"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_exitify</span><span class='hs-layout'>)</span>
<a name="line-2505"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-stranal"</span>
<a name="line-2506"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_stranal</span><span class='hs-layout'>)</span>
<a name="line-2507"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-str-signatures"</span>
<a name="line-2508"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_str_signatures</span><span class='hs-layout'>)</span>
<a name="line-2509"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cpranal"</span>
<a name="line-2510"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cpranal</span><span class='hs-layout'>)</span>
<a name="line-2511"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cpr-signatures"</span>
<a name="line-2512"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cpr_signatures</span><span class='hs-layout'>)</span>
<a name="line-2513"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-tc"</span>
<a name="line-2514"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_tc</span><span class='hs-layout'>)</span>
<a name="line-2515"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-tc-ast"</span>
<a name="line-2516"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_tc_ast</span><span class='hs-layout'>)</span>
<a name="line-2517"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-hie"</span>
<a name="line-2518"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_hie</span><span class='hs-layout'>)</span>
<a name="line-2519"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-types"</span>
<a name="line-2520"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_types</span><span class='hs-layout'>)</span>
<a name="line-2521"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rules"</span>
<a name="line-2522"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rules</span><span class='hs-layout'>)</span>
<a name="line-2523"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cse"</span>
<a name="line-2524"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cse</span><span class='hs-layout'>)</span>
<a name="line-2525"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-worker-wrapper"</span>
<a name="line-2526"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_worker_wrapper</span><span class='hs-layout'>)</span>
<a name="line-2527"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rn-trace"</span>
<a name="line-2528"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn_trace</span><span class='hs-layout'>)</span>
<a name="line-2529"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-if-trace"</span>
<a name="line-2530"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_if_trace</span><span class='hs-layout'>)</span>
<a name="line-2531"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-cs-trace"</span>
<a name="line-2532"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span><span class='hs-layout'>)</span>
<a name="line-2533"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-tc-trace"</span>
<a name="line-2534"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_tc_trace</span>
<a name="line-2535"></a>                   <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_dump_cs_trace</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2536"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-ec-trace"</span>
<a name="line-2537"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ec_trace</span><span class='hs-layout'>)</span>
<a name="line-2538"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-vt-trace"</span>
<a name="line-2539"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_vt_trace</span><span class='hs-layout'>)</span>
<a name="line-2540"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-splices"</span>
<a name="line-2541"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_splices</span><span class='hs-layout'>)</span>
<a name="line-2542"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dth-dec-file"</span>
<a name="line-2543"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_th_dec_file</span><span class='hs-layout'>)</span>
<a name="line-2544"></a>
<a name="line-2545"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rn-stats"</span>
<a name="line-2546"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rn_stats</span><span class='hs-layout'>)</span>
<a name="line-2547"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-opt-cmm"</span> <span class='hs-comment'>--old alias for cmm-opt</span>
<a name="line-2548"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_opt_cmm</span><span class='hs-layout'>)</span>
<a name="line-2549"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-simpl-stats"</span>
<a name="line-2550"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_simpl_stats</span><span class='hs-layout'>)</span>
<a name="line-2551"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-bcos"</span>
<a name="line-2552"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_BCOs</span><span class='hs-layout'>)</span>
<a name="line-2553"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dsource-stats"</span>
<a name="line-2554"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_source_stats</span><span class='hs-layout'>)</span>
<a name="line-2555"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dverbose-core2core"</span>
<a name="line-2556"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setVerbosity</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-num'>2</span><span class='hs-layout'>)</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>setVerboseCore2Core</span><span class='hs-layout'>)</span>
<a name="line-2557"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dverbose-stg2stg"</span>
<a name="line-2558"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_verbose_stg2stg</span><span class='hs-layout'>)</span>
<a name="line-2559"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-hi"</span>
<a name="line-2560"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_hi</span><span class='hs-layout'>)</span>
<a name="line-2561"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-minimal-imports"</span>
<a name="line-2562"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_D_dump_minimal_imports</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2563"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-hpc"</span>
<a name="line-2564"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ticked</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- back compat</span>
<a name="line-2565"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-ticked"</span>
<a name="line-2566"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_ticked</span><span class='hs-layout'>)</span>
<a name="line-2567"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-mod-cycles"</span>
<a name="line-2568"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_mod_cycles</span><span class='hs-layout'>)</span>
<a name="line-2569"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-mod-map"</span>
<a name="line-2570"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_mod_map</span><span class='hs-layout'>)</span>
<a name="line-2571"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-timings"</span>
<a name="line-2572"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_timings</span><span class='hs-layout'>)</span>
<a name="line-2573"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-view-pattern-commoning"</span>
<a name="line-2574"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_view_pattern_commoning</span><span class='hs-layout'>)</span>
<a name="line-2575"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-to-file"</span>
<a name="line-2576"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DumpToFile</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2577"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-hi-diffs"</span>
<a name="line-2578"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_hi_diffs</span><span class='hs-layout'>)</span>
<a name="line-2579"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-rtti"</span>
<a name="line-2580"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_rtti</span><span class='hs-layout'>)</span>
<a name="line-2581"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dcore-lint"</span>
<a name="line-2582"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoCoreLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2583"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dlinear-core-lint"</span>
<a name="line-2584"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoLinearCoreLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2585"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dstg-lint"</span>
<a name="line-2586"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoStgLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2587"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dcmm-lint"</span>
<a name="line-2588"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoCmmLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2589"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dasm-lint"</span>
<a name="line-2590"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoAsmLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2591"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dannot-lint"</span>
<a name="line-2592"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DoAnnotationLinting</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2593"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dshow-passes"</span>
<a name="line-2594"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>forceRecompile</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>setVerbosity</span> <span class='hs-varop'>$</span> <span class='hs-conid'>Just</span> <span class='hs-num'>2</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2595"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dfaststring-stats"</span>
<a name="line-2596"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_D_faststring_stats</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2597"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dno-llvm-mangler"</span>
<a name="line-2598"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_NoLlvmMangler</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-comment'>-- hidden flag</span>
<a name="line-2599"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dno-typeable-binds"</span>
<a name="line-2600"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_NoTypeableBinds</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2601"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-debug"</span>
<a name="line-2602"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_debug</span><span class='hs-layout'>)</span>
<a name="line-2603"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-json"</span>
<a name="line-2604"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_json</span> <span class='hs-layout'>)</span>
<a name="line-2605"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dppr-debug"</span>
<a name="line-2606"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_ppr_debug</span><span class='hs-layout'>)</span>
<a name="line-2607"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddebug-output"</span>
<a name="line-2608"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>flip</span> <span class='hs-varid'>dopt_unset</span> <span class='hs-conid'>Opt_D_no_debug_output</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2609"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dno-debug-output"</span>
<a name="line-2610"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_no_debug_output</span><span class='hs-layout'>)</span>
<a name="line-2611"></a>
<a name="line-2612"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ddump-faststrings"</span>
<a name="line-2613"></a>        <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag</span> <span class='hs-conid'>Opt_D_dump_faststrings</span><span class='hs-layout'>)</span>
<a name="line-2614"></a>
<a name="line-2615"></a>        <span class='hs-comment'>------ Machine dependent (-m&lt;blah&gt;) stuff ---------------------------</span>
<a name="line-2616"></a>
<a name="line-2617"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"msse"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2618"></a>                                                  <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>SSE1</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2619"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"msse2"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2620"></a>                                                  <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>SSE2</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2621"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"msse3"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2622"></a>                                                  <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>SSE3</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2623"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"msse4"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2624"></a>                                                  <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>SSE4</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2625"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"msse4.2"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2626"></a>                                                 <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>sseVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>SSE42</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2627"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mbmi"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2628"></a>                                                 <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>bmiVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>BMI1</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2629"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mbmi2"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2630"></a>                                                 <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>bmiVersion</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>BMI2</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2631"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mavx"</span>         <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>avx</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2632"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mavx2"</span>        <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>avx2</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2633"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mavx512cd"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2634"></a>                                                         <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>avx512cd</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2635"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mavx512er"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2636"></a>                                                         <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>avx512er</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2637"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mavx512f"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>avx512f</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2638"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"mavx512pf"</span>    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2639"></a>                                                         <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>avx512pf</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2640"></a>
<a name="line-2641"></a>     <span class='hs-comment'>------ Warning opts -------------------------------------------------</span>
<a name="line-2642"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"W"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span> <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2643"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Werror"</span>
<a name="line-2644"></a>               <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_WarnIsError</span>
<a name="line-2645"></a>                          <span class='hs-layout'>;</span> <span class='hs-varid'>mapM_</span> <span class='hs-varid'>setFatalWarningFlag</span> <span class='hs-varid'>minusWeverythingOpts</span>   <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2646"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wwarn"</span>
<a name="line-2647"></a>               <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_WarnIsError</span>
<a name="line-2648"></a>                          <span class='hs-layout'>;</span> <span class='hs-varid'>mapM_</span> <span class='hs-varid'>unSetFatalWarningFlag</span> <span class='hs-varid'>minusWeverythingOpts</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2649"></a>                          <span class='hs-comment'>-- Opt_WarnIsError is still needed to pass -Werror</span>
<a name="line-2650"></a>                          <span class='hs-comment'>-- to CPP; see runCpp in SysTools</span>
<a name="line-2651"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wnot"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2652"></a>                                              <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.empty</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2653"></a>                                             <span class='hs-str'>"Use -w or -Wno-everything instead"</span>
<a name="line-2654"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"w"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2655"></a>                                              <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.empty</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2656"></a>
<a name="line-2657"></a>     <span class='hs-comment'>-- New-style uniform warning sets</span>
<a name="line-2658"></a>     <span class='hs-comment'>--</span>
<a name="line-2659"></a>     <span class='hs-comment'>-- Note that -Weverything &gt; -Wall &gt; -Wextra &gt; -Wdefault &gt; -Wno-everything</span>
<a name="line-2660"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Weverything"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2661"></a>                                           <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWeverythingOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2662"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-everything"</span>
<a name="line-2663"></a>                           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>warningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.empty</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2664"></a>
<a name="line-2665"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wall"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2666"></a>                                                  <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWallOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2667"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-all"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2668"></a>                                                <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-varid'>minusWallOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2669"></a>
<a name="line-2670"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wextra"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2671"></a>                                                     <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2672"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-extra"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2673"></a>                                                   <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-varid'>minusWOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2674"></a>
<a name="line-2675"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wdefault"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2676"></a>                                               <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>standardWarnings</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2677"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-default"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2678"></a>                                             <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-varid'>standardWarnings</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2679"></a>
<a name="line-2680"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wcompat"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2681"></a>                                               <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>minusWcompatOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2682"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-compat"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span>
<a name="line-2683"></a>                                             <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-varid'>minusWcompatOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2684"></a>
<a name="line-2685"></a>        <span class='hs-comment'>------ Plugin flags ------------------------------------------------</span>
<a name="line-2686"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fplugin-opt"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addPluginModuleNameOption</span><span class='hs-layout'>)</span>
<a name="line-2687"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fplugin-trustworthy"</span>
<a name="line-2688"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PluginTrustworthy</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2689"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fplugin"</span>     <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addPluginModuleName</span><span class='hs-layout'>)</span>
<a name="line-2690"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fclear-plugins"</span> <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-varid'>clearPluginModuleNames</span><span class='hs-layout'>)</span>
<a name="line-2691"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"ffrontend-opt"</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>addFrontendPluginOption</span><span class='hs-layout'>)</span>
<a name="line-2692"></a>
<a name="line-2693"></a>        <span class='hs-comment'>------ Optimisation flags ------------------------------------------</span>
<a name="line-2694"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"Onot"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-varop'>$</span> <span class='hs-varid'>setOptLevel</span> <span class='hs-num'>0</span> <span class='hs-layout'>)</span>
<a name="line-2695"></a>                                                            <span class='hs-str'>"Use -O0 instead"</span>
<a name="line-2696"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"O"</span>      <span class='hs-layout'>(</span><span class='hs-varid'>optIntSuffixM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>mb_n</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2697"></a>                                                <span class='hs-varid'>setOptLevel</span> <span class='hs-layout'>(</span><span class='hs-varid'>mb_n</span> <span class='hs-varop'>`orElse`</span> <span class='hs-num'>1</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2698"></a>                <span class='hs-comment'>-- If the number is missing, use 1</span>
<a name="line-2699"></a>
<a name="line-2700"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fbinary-blob-threshold"</span>
<a name="line-2701"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>binBlobThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fromIntegral</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2702"></a>
<a name="line-2703"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-relevant-binds"</span>
<a name="line-2704"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxRelevantBinds</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2705"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-max-relevant-binds"</span>
<a name="line-2706"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxRelevantBinds</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2707"></a>
<a name="line-2708"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-valid-hole-fits"</span>
<a name="line-2709"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxValidHoleFits</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2710"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-max-valid-hole-fits"</span>
<a name="line-2711"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxValidHoleFits</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2712"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-refinement-hole-fits"</span>
<a name="line-2713"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxRefHoleFits</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2714"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-max-refinement-hole-fits"</span>
<a name="line-2715"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxRefHoleFits</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2716"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"frefinement-level-hole-fits"</span>
<a name="line-2717"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>refLevelHoleFits</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2718"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-refinement-level-hole-fits"</span>
<a name="line-2719"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>refLevelHoleFits</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2720"></a>
<a name="line-2721"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fllvm-pass-vectors-in-regs"</span>
<a name="line-2722"></a>            <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-varid'>id</span><span class='hs-layout'>)</span>
<a name="line-2723"></a>            <span class='hs-str'>"vectors registers are now passed in registers by default."</span>
<a name="line-2724"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-uncovered-patterns"</span>
<a name="line-2725"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxUncoveredPatterns</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2726"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-pmcheck-models"</span>
<a name="line-2727"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxPmCheckModels</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2728"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fsimplifier-phases"</span>
<a name="line-2729"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>simplPhases</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2730"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-simplifier-iterations"</span>
<a name="line-2731"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxSimplIterations</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2732"></a>  <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-pmcheck-iterations"</span>
<a name="line-2733"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffixM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2734"></a>       <span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>deprecate</span> <span class='hs-varop'>$</span> <span class='hs-str'>"use -fmax-pmcheck-models instead"</span>
<a name="line-2735"></a>          <span class='hs-layout'>;</span> <span class='hs-varid'>return</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2736"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fsimpl-tick-factor"</span>
<a name="line-2737"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>simplTickFactor</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2738"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fspec-constr-threshold"</span>
<a name="line-2739"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>specConstrThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2740"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-spec-constr-threshold"</span>
<a name="line-2741"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>specConstrThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2742"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fspec-constr-count"</span>
<a name="line-2743"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>specConstrCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2744"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-spec-constr-count"</span>
<a name="line-2745"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>specConstrCount</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2746"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fspec-constr-recursive"</span>
<a name="line-2747"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>specConstrRecursive</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2748"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fliberate-case-threshold"</span>
<a name="line-2749"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liberateCaseThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2750"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-liberate-case-threshold"</span>
<a name="line-2751"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liberateCaseThreshold</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2752"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"drule-check"</span>
<a name="line-2753"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ruleCheck</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2754"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"dinline-check"</span>
<a name="line-2755"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>sepArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>inlineCheck</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2756"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"freduction-depth"</span>
<a name="line-2757"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>reductionDepth</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2758"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fconstraint-solver-iterations"</span>
<a name="line-2759"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>solverIterations</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2760"></a>  <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fcontext-stack"</span>
<a name="line-2761"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffixM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2762"></a>       <span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>deprecate</span> <span class='hs-varop'>$</span> <span class='hs-str'>"use -freduction-depth="</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>n</span> <span class='hs-varop'>++</span> <span class='hs-str'>" instead"</span>
<a name="line-2763"></a>          <span class='hs-layout'>;</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>reductionDepth</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2764"></a>  <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"ftype-function-depth"</span>
<a name="line-2765"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffixM</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2766"></a>       <span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>deprecate</span> <span class='hs-varop'>$</span> <span class='hs-str'>"use -freduction-depth="</span> <span class='hs-varop'>++</span> <span class='hs-varid'>show</span> <span class='hs-varid'>n</span> <span class='hs-varop'>++</span> <span class='hs-str'>" instead"</span>
<a name="line-2767"></a>          <span class='hs-layout'>;</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>reductionDepth</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>treatZeroAsInf</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2768"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fstrictness-before"</span>
<a name="line-2769"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>strictnessBefore</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-conop'>:</span> <span class='hs-varid'>strictnessBefore</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2770"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"ffloat-lam-args"</span>
<a name="line-2771"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>floatLamArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2772"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"ffloat-all-lams"</span>
<a name="line-2773"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>floatLamArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2774"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fstg-lift-lams-rec-args"</span>
<a name="line-2775"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liftLamsRecArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2776"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fstg-lift-lams-rec-args-any"</span>
<a name="line-2777"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liftLamsRecArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2778"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fstg-lift-lams-non-rec-args"</span>
<a name="line-2779"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liftLamsNonRecArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2780"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fstg-lift-lams-non-rec-args-any"</span>
<a name="line-2781"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liftLamsNonRecArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2782"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fstg-lift-lams-known"</span>
<a name="line-2783"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liftLamsKnown</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2784"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-stg-lift-lams-known"</span>
<a name="line-2785"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>liftLamsKnown</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2786"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fproc-alignment"</span>
<a name="line-2787"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>cmmProcAlignment</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2788"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fblock-layout-weights"</span>
<a name="line-2789"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2790"></a>            <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>cfgWeights</span> <span class='hs-keyglyph'>=</span>
<a name="line-2791"></a>                <span class='hs-varid'>parseWeights</span> <span class='hs-varid'>s</span> <span class='hs-layout'>(</span><span class='hs-varid'>cfgWeights</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2792"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fhistory-size"</span>
<a name="line-2793"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>historySize</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2794"></a>
<a name="line-2795"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-creation-threshold"</span>
<a name="line-2796"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateCreationThreshold</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>unfoldingOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2797"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-use-threshold"</span>
<a name="line-2798"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateUseThreshold</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>unfoldingOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2799"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-fun-discount"</span>
<a name="line-2800"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateFunAppDiscount</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>unfoldingOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2801"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-dict-discount"</span>
<a name="line-2802"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateDictDiscount</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>unfoldingOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2803"></a>
<a name="line-2804"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-case-threshold"</span>
<a name="line-2805"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateCaseThreshold</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>unfoldingOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2806"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-case-scaling"</span>
<a name="line-2807"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span>   <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>unfoldingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updateCaseScaling</span> <span class='hs-varid'>n</span> <span class='hs-layout'>(</span><span class='hs-varid'>unfoldingOpts</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2808"></a>
<a name="line-2809"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"funfolding-keeness-factor"</span>
<a name="line-2810"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>floatSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2811"></a>      <span class='hs-str'>"-funfolding-keeness-factor is no longer respected as of GHC 9.0"</span>
<a name="line-2812"></a>
<a name="line-2813"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fmax-worker-args"</span>
<a name="line-2814"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>maxWorkerArgs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2815"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhciFlag</span> <span class='hs-str'>"fghci-hist-size"</span>
<a name="line-2816"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>ghciHistSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2817"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fmax-inline-alloc-size"</span>
<a name="line-2818"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxInlineAllocSize</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2819"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fmax-inline-memcpy-insns"</span>
<a name="line-2820"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxInlineMemcpyInsns</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2821"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fmax-inline-memset-insns"</span>
<a name="line-2822"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>maxInlineMemsetInsns</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2823"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dinitial-unique"</span>
<a name="line-2824"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>wordSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>initialUnique</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2825"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"dunique-increment"</span>
<a name="line-2826"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>intSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>uniqueIncrement</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2827"></a>
<a name="line-2828"></a>        <span class='hs-comment'>------ Profiling ----------------------------------------------------</span>
<a name="line-2829"></a>
<a name="line-2830"></a>        <span class='hs-comment'>-- OLD profiling flags</span>
<a name="line-2831"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"auto-all"</span>
<a name="line-2832"></a>                    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoAll</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2833"></a>                    <span class='hs-str'>"Use -fprof-auto instead"</span>
<a name="line-2834"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-auto-all"</span>
<a name="line-2835"></a>                    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2836"></a>                    <span class='hs-str'>"Use -fno-prof-auto instead"</span>
<a name="line-2837"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"auto"</span>
<a name="line-2838"></a>                    <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoExports</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2839"></a>                    <span class='hs-str'>"Use -fprof-auto-exported instead"</span>
<a name="line-2840"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-auto"</span>
<a name="line-2841"></a>            <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2842"></a>                    <span class='hs-str'>"Use -fno-prof-auto instead"</span>
<a name="line-2843"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"caf-all"</span>
<a name="line-2844"></a>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2845"></a>                    <span class='hs-str'>"Use -fprof-cafs instead"</span>
<a name="line-2846"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"no-caf-all"</span>
<a name="line-2847"></a>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2848"></a>                    <span class='hs-str'>"Use -fno-prof-cafs instead"</span>
<a name="line-2849"></a>
<a name="line-2850"></a>        <span class='hs-comment'>-- NEW profiling flags</span>
<a name="line-2851"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fprof-auto"</span>
<a name="line-2852"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoAll</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2853"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fprof-auto-top"</span>
<a name="line-2854"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoTop</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2855"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fprof-auto-exported"</span>
<a name="line-2856"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoExports</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2857"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fprof-auto-calls"</span>
<a name="line-2858"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ProfAutoCalls</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2859"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fno-prof-auto"</span>
<a name="line-2860"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>profAuto</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoProfAuto</span> <span class='hs-layout'>}</span> <span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2861"></a>
<a name="line-2862"></a>        <span class='hs-comment'>-- Caller-CC</span>
<a name="line-2863"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fprof-callers"</span>
<a name="line-2864"></a>         <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>setCallerCcFilters</span><span class='hs-layout'>)</span>
<a name="line-2865"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fdistinct-constructor-tables"</span>
<a name="line-2866"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DistinctConstructorTables</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2867"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"finfo-table-map"</span>
<a name="line-2868"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_InfoTableMap</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2869"></a>        <span class='hs-comment'>------ Compiler flags -----------------------------------------------</span>
<a name="line-2870"></a>
<a name="line-2871"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fasm"</span>             <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setObjBackend</span> <span class='hs-conid'>NCG</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2872"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fvia-c"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span>
<a name="line-2873"></a>         <span class='hs-layout'>(</span><span class='hs-varid'>deprecate</span> <span class='hs-varop'>$</span> <span class='hs-str'>"The -fvia-c flag does nothing; "</span> <span class='hs-varop'>++</span>
<a name="line-2874"></a>                      <span class='hs-str'>"it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2875"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fvia-C"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span>
<a name="line-2876"></a>         <span class='hs-layout'>(</span><span class='hs-varid'>deprecate</span> <span class='hs-varop'>$</span> <span class='hs-str'>"The -fvia-C flag does nothing; "</span> <span class='hs-varop'>++</span>
<a name="line-2877"></a>                      <span class='hs-str'>"it will be removed in a future GHC release"</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2878"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fllvm"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setObjBackend</span> <span class='hs-conid'>LLVM</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2879"></a>
<a name="line-2880"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-code"</span>         <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2881"></a>                  <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>ghcLink</span><span class='hs-keyglyph'>=</span><span class='hs-conid'>NoLink</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>setBackend</span> <span class='hs-conid'>NoBackend</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2882"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fbyte-code"</span>
<a name="line-2883"></a>      <span class='hs-layout'>(</span><span class='hs-varid'>noArgM</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>do</span>
<a name="line-2884"></a>        <span class='hs-varid'>setBackend</span> <span class='hs-conid'>Interpreter</span>
<a name="line-2885"></a>        <span class='hs-varid'>pure</span> <span class='hs-varop'>$</span> <span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_ByteCode</span><span class='hs-layout'>)</span>
<a name="line-2886"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fobject-code"</span>     <span class='hs-varop'>$</span> <span class='hs-conid'>NoArg</span> <span class='hs-varop'>$</span> <span class='hs-keyword'>do</span>
<a name="line-2887"></a>      <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-2888"></a>      <span class='hs-varid'>setBackend</span> <span class='hs-varop'>$</span> <span class='hs-varid'>platformDefaultBackend</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-2889"></a>
<a name="line-2890"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fglasgow-exts"</span>
<a name="line-2891"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>enableGlasgowExts</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use individual extensions instead"</span>
<a name="line-2892"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-glasgow-exts"</span>
<a name="line-2893"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>disableGlasgowExts</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use individual extensions instead"</span>
<a name="line-2894"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wunused-binds"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>enableUnusedBinds</span><span class='hs-layout'>)</span>
<a name="line-2895"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-unused-binds"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>disableUnusedBinds</span><span class='hs-layout'>)</span>
<a name="line-2896"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defHiddenFlag</span> <span class='hs-str'>"fwarn-unused-binds"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>enableUnusedBinds</span><span class='hs-layout'>)</span>
<a name="line-2897"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defHiddenFlag</span> <span class='hs-str'>"fno-warn-unused-binds"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span>
<a name="line-2898"></a>                                                            <span class='hs-varid'>disableUnusedBinds</span><span class='hs-layout'>)</span>
<a name="line-2899"></a>
<a name="line-2900"></a>        <span class='hs-comment'>------ Safe Haskell flags -------------------------------------------</span>
<a name="line-2901"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fpackage-trust"</span>   <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>setPackageTrust</span><span class='hs-layout'>)</span>
<a name="line-2902"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-safe-infer"</span>   <span class='hs-layout'>(</span><span class='hs-varid'>noArg</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2903"></a>                                                    <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>safeInfer</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2904"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"fno-safe-haskell"</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setSafeHaskell</span> <span class='hs-conid'>Sf_Ignore</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2905"></a>
<a name="line-2906"></a>        <span class='hs-comment'>------ position independent flags  ----------------------------------</span>
<a name="line-2907"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fPIC"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2908"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fno-PIC"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2909"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fPIE"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PIE</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2910"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"fno-PIE"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_PIE</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2911"></a>
<a name="line-2912"></a>         <span class='hs-comment'>------ Debugging flags ----------------------------------------------</span>
<a name="line-2913"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"g"</span>             <span class='hs-layout'>(</span><span class='hs-conid'>OptIntSuffix</span> <span class='hs-varid'>setDebugLevel</span><span class='hs-layout'>)</span>
<a name="line-2914"></a> <span class='hs-keyglyph'>]</span>
<a name="line-2915"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>""</span>          <span class='hs-varid'>setGeneralFlag</span>    <span class='hs-layout'>)</span> <span class='hs-varid'>negatableFlagsDeps</span>
<a name="line-2916"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"no-"</span>       <span class='hs-varid'>unSetGeneralFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>negatableFlagsDeps</span>
<a name="line-2917"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"d"</span>         <span class='hs-varid'>setGeneralFlag</span>    <span class='hs-layout'>)</span> <span class='hs-varid'>dFlagsDeps</span>
<a name="line-2918"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"dno-"</span>      <span class='hs-varid'>unSetGeneralFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>dFlagsDeps</span>
<a name="line-2919"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"f"</span>         <span class='hs-varid'>setGeneralFlag</span>    <span class='hs-layout'>)</span> <span class='hs-varid'>fFlagsDeps</span>
<a name="line-2920"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"fno-"</span>      <span class='hs-varid'>unSetGeneralFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>fFlagsDeps</span>
<a name="line-2921"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"W"</span>         <span class='hs-varid'>setWarningFlag</span>    <span class='hs-layout'>)</span> <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2922"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"Wno-"</span>      <span class='hs-varid'>unSetWarningFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2923"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"Werror="</span>   <span class='hs-varid'>setWErrorFlag</span> <span class='hs-layout'>)</span>     <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2924"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"Wwarn="</span>     <span class='hs-varid'>unSetFatalWarningFlag</span> <span class='hs-layout'>)</span>
<a name="line-2925"></a>                                                        <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2926"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"Wno-error="</span> <span class='hs-varid'>unSetFatalWarningFlag</span> <span class='hs-layout'>)</span>
<a name="line-2927"></a>                                                        <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2928"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"fwarn-"</span>    <span class='hs-varid'>setWarningFlag</span>   <span class='hs-varop'>.</span> <span class='hs-varid'>hideFlag</span><span class='hs-layout'>)</span>
<a name="line-2929"></a>    <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2930"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"fno-warn-"</span> <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-varop'>.</span> <span class='hs-varid'>hideFlag</span><span class='hs-layout'>)</span>
<a name="line-2931"></a>    <span class='hs-varid'>wWarningFlagsDeps</span>
<a name="line-2932"></a> <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-conid'>NotDeprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>unrecognisedWarning</span> <span class='hs-str'>"W"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2933"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span>    <span class='hs-varid'>unrecognisedWarning</span> <span class='hs-str'>"fwarn-"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-2934"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span>    <span class='hs-varid'>unrecognisedWarning</span> <span class='hs-str'>"fno-warn-"</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span>
<a name="line-2935"></a> <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Werror=compat"</span>
<a name="line-2936"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span> <span class='hs-varid'>setWErrorFlag</span> <span class='hs-varid'>minusWcompatOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2937"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wno-error=compat"</span>
<a name="line-2938"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span> <span class='hs-varid'>unSetFatalWarningFlag</span> <span class='hs-varid'>minusWcompatOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2939"></a>    <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"Wwarn=compat"</span>
<a name="line-2940"></a>        <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>mapM_</span> <span class='hs-varid'>unSetFatalWarningFlag</span> <span class='hs-varid'>minusWcompatOpts</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span>
<a name="line-2941"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"f"</span>         <span class='hs-varid'>setExtensionFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>fLangFlagsDeps</span>
<a name="line-2942"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"fno-"</span>      <span class='hs-varid'>unSetExtensionFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>fLangFlagsDeps</span>
<a name="line-2943"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"X"</span>         <span class='hs-varid'>setExtensionFlag</span>  <span class='hs-layout'>)</span> <span class='hs-varid'>xFlagsDeps</span>
<a name="line-2944"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOff</span> <span class='hs-str'>"XNo"</span>       <span class='hs-varid'>unSetExtensionFlag</span><span class='hs-layout'>)</span> <span class='hs-varid'>xFlagsDeps</span>
<a name="line-2945"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"X"</span>         <span class='hs-varid'>setLanguage</span>       <span class='hs-layout'>)</span> <span class='hs-varid'>languageFlagsDeps</span>
<a name="line-2946"></a> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>mkFlag</span> <span class='hs-varid'>turnOn</span>  <span class='hs-str'>"X"</span>         <span class='hs-varid'>setSafeHaskell</span>    <span class='hs-layout'>)</span> <span class='hs-varid'>safeHaskellFlagsDeps</span>
<a name="line-2947"></a>
<a name="line-2948"></a><a name="unrecognisedWarning"></a><span class='hs-comment'>-- | This is where we handle unrecognised warning flags. We only issue a warning</span>
<a name="line-2949"></a><span class='hs-comment'>-- if -Wunrecognised-warning-flags is set. See #11429 for context.</span>
<a name="line-2950"></a><span class='hs-definition'>unrecognisedWarning</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-2951"></a><span class='hs-definition'>unrecognisedWarning</span> <span class='hs-varid'>prefix</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>defHiddenFlag</span> <span class='hs-varid'>prefix</span> <span class='hs-layout'>(</span><span class='hs-conid'>Prefix</span> <span class='hs-varid'>action</span><span class='hs-layout'>)</span>
<a name="line-2952"></a>  <span class='hs-keyword'>where</span>
<a name="line-2953"></a>    <span class='hs-varid'>action</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>EwM</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-conid'>()</span>
<a name="line-2954"></a>    <span class='hs-varid'>action</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-2955"></a>      <span class='hs-varid'>f</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>wopt</span> <span class='hs-conid'>Opt_WarnUnrecognisedWarningFlags</span> <span class='hs-varop'>&lt;$&gt;</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-2956"></a>      <span class='hs-varid'>when</span> <span class='hs-varid'>f</span> <span class='hs-varop'>$</span> <span class='hs-varid'>addFlagWarn</span> <span class='hs-conid'>Cmd.ReasonUnrecognisedFlag</span> <span class='hs-varop'>$</span>
<a name="line-2957"></a>        <span class='hs-str'>"unrecognised warning flag: -"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>prefix</span> <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span>
<a name="line-2958"></a>
<a name="line-2959"></a><a name="package_flags_deps"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-2960"></a><span class='hs-definition'>package_flags_deps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-2961"></a><span class='hs-definition'>package_flags_deps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-2962"></a>        <span class='hs-comment'>------- Packages ----------------------------------------------------</span>
<a name="line-2963"></a>    <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"package-db"</span>
<a name="line-2964"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addPkgDbRef</span> <span class='hs-varop'>.</span> <span class='hs-conid'>PkgDbPath</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2965"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"clear-package-db"</span>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>clearPkgDb</span><span class='hs-layout'>)</span>
<a name="line-2966"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"no-global-package-db"</span>  <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeGlobalPkgDb</span><span class='hs-layout'>)</span>
<a name="line-2967"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"no-user-package-db"</span>    <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeUserPkgDb</span><span class='hs-layout'>)</span>
<a name="line-2968"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"global-package-db"</span>
<a name="line-2969"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addPkgDbRef</span> <span class='hs-conid'>GlobalPkgDb</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2970"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"user-package-db"</span>
<a name="line-2971"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>addPkgDbRef</span> <span class='hs-conid'>UserPkgDb</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2972"></a>    <span class='hs-comment'>-- backwards compat with GHC&lt;=7.4 :</span>
<a name="line-2973"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"package-conf"</span>
<a name="line-2974"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varop'>$</span> <span class='hs-varid'>addPkgDbRef</span> <span class='hs-varop'>.</span> <span class='hs-conid'>PkgDbPath</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use -package-db instead"</span>
<a name="line-2975"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"no-user-package-conf"</span>
<a name="line-2976"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-varid'>removeUserPkgDb</span><span class='hs-layout'>)</span>              <span class='hs-str'>"Use -no-user-package-db instead"</span>
<a name="line-2977"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"package-name"</span>       <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>name</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-2978"></a>                                      <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>setUnitId</span> <span class='hs-varid'>name</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2979"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defGhcFlag</span> <span class='hs-str'>"this-unit-id"</span>       <span class='hs-layout'>(</span><span class='hs-varid'>hasArg</span> <span class='hs-varid'>setUnitId</span><span class='hs-layout'>)</span>
<a name="line-2980"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"package"</span>               <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePackage</span><span class='hs-layout'>)</span>
<a name="line-2981"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"plugin-package-id"</span>     <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePluginPackageId</span><span class='hs-layout'>)</span>
<a name="line-2982"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"plugin-package"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePluginPackage</span><span class='hs-layout'>)</span>
<a name="line-2983"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"package-id"</span>            <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePackageId</span><span class='hs-layout'>)</span>
<a name="line-2984"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"hide-package"</span>          <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>hidePackage</span><span class='hs-layout'>)</span>
<a name="line-2985"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"hide-all-packages"</span>
<a name="line-2986"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_HideAllPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2987"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"hide-all-plugin-packages"</span>
<a name="line-2988"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_HideAllPluginPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2989"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"package-env"</span>           <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>setPackageEnv</span><span class='hs-layout'>)</span>
<a name="line-2990"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"ignore-package"</span>        <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>ignorePackage</span><span class='hs-layout'>)</span>
<a name="line-2991"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_dep_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"syslib"</span> <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>exposePackage</span><span class='hs-layout'>)</span> <span class='hs-str'>"Use -package instead"</span>
<a name="line-2992"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"distrust-all-packages"</span>
<a name="line-2993"></a>      <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_DistrustAllPackages</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-2994"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"trust"</span>                 <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>trustPackage</span><span class='hs-layout'>)</span>
<a name="line-2995"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>make_ord_flag</span> <span class='hs-varid'>defFlag</span> <span class='hs-str'>"distrust"</span>              <span class='hs-layout'>(</span><span class='hs-conid'>HasArg</span> <span class='hs-varid'>distrustPackage</span><span class='hs-layout'>)</span>
<a name="line-2996"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-2997"></a>  <span class='hs-keyword'>where</span>
<a name="line-2998"></a>    <span class='hs-varid'>setPackageEnv</span> <span class='hs-varid'>env</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageEnv</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>env</span> <span class='hs-layout'>}</span>
<a name="line-2999"></a>
<a name="line-3000"></a><a name="flagsForCompletion"></a><span class='hs-comment'>-- | Make a list of flags for shell completion.</span>
<a name="line-3001"></a><span class='hs-comment'>-- Filter all available flags into two groups, for interactive GHC vs all other.</span>
<a name="line-3002"></a><span class='hs-definition'>flagsForCompletion</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3003"></a><span class='hs-definition'>flagsForCompletion</span> <span class='hs-varid'>isInteractive</span>
<a name="line-3004"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-chr'>'-'</span><span class='hs-conop'>:</span><span class='hs-varid'>flagName</span> <span class='hs-varid'>flag</span>
<a name="line-3005"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>flagsAll</span>
<a name="line-3006"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>modeFilter</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagGhcMode</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3007"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-3008"></a>    <span class='hs-keyword'>where</span>
<a name="line-3009"></a>      <span class='hs-varid'>modeFilter</span> <span class='hs-conid'>AllModes</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-3010"></a>      <span class='hs-varid'>modeFilter</span> <span class='hs-conid'>OnlyGhci</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>isInteractive</span>
<a name="line-3011"></a>      <span class='hs-varid'>modeFilter</span> <span class='hs-conid'>OnlyGhc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>not</span> <span class='hs-varid'>isInteractive</span>
<a name="line-3012"></a>      <span class='hs-varid'>modeFilter</span> <span class='hs-conid'>HiddenFlag</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-3013"></a>
<a name="line-3014"></a><a name="TurnOnFlag"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Bool</span>   <span class='hs-comment'>-- True  &lt;=&gt; we are turning the flag on</span>
<a name="line-3015"></a>                         <span class='hs-comment'>-- False &lt;=&gt; we are turning the flag off</span>
<a name="line-3016"></a><a name="turnOn"></a><span class='hs-definition'>turnOn</span>  <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>;</span> <span class='hs-varid'>turnOn</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-3017"></a><a name="turnOff"></a><span class='hs-definition'>turnOff</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>;</span> <span class='hs-varid'>turnOff</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span>
<a name="line-3018"></a>
<a name="line-3019"></a><a name="FlagSpec"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span>
<a name="line-3020"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FlagSpec</span>
<a name="line-3021"></a>       <span class='hs-layout'>{</span> <span class='hs-varid'>flagSpecName</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>   <span class='hs-comment'>-- ^ Flag in string form</span>
<a name="line-3022"></a>       <span class='hs-layout'>,</span> <span class='hs-varid'>flagSpecFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>flag</span>     <span class='hs-comment'>-- ^ Flag in internal form</span>
<a name="line-3023"></a>       <span class='hs-layout'>,</span> <span class='hs-varid'>flagSpecAction</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-3024"></a>           <span class='hs-comment'>-- ^ Extra action to run when the flag is found</span>
<a name="line-3025"></a>           <span class='hs-comment'>-- Typically, emit a warning or error</span>
<a name="line-3026"></a>       <span class='hs-layout'>,</span> <span class='hs-varid'>flagSpecGhcMode</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GhcFlagMode</span>
<a name="line-3027"></a>           <span class='hs-comment'>-- ^ In which ghc mode the flag has effect</span>
<a name="line-3028"></a>       <span class='hs-layout'>}</span>
<a name="line-3029"></a>
<a name="line-3030"></a><a name="flagSpec"></a><span class='hs-comment'>-- | Define a new flag.</span>
<a name="line-3031"></a><span class='hs-definition'>flagSpec</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3032"></a><span class='hs-definition'>flagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flagSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>nop</span>
<a name="line-3033"></a>
<a name="line-3034"></a><a name="flagSpec'"></a><span class='hs-comment'>-- | Define a new flag with an effect.</span>
<a name="line-3035"></a><span class='hs-definition'>flagSpec'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-3036"></a>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3037"></a><span class='hs-definition'>flagSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>NotDeprecated</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-conid'>AllModes</span><span class='hs-layout'>)</span>
<a name="line-3038"></a>
<a name="line-3039"></a><a name="depFlagSpecOp"></a><span class='hs-comment'>-- | Define a new deprecated flag with an effect.</span>
<a name="line-3040"></a><span class='hs-definition'>depFlagSpecOp</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-3041"></a>            <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3042"></a><span class='hs-definition'>depFlagSpecOp</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-varid'>dep</span> <span class='hs-keyglyph'>=</span>
<a name="line-3043"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-varid'>snd</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>act</span> <span class='hs-varid'>f</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>dep</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3044"></a>
<a name="line-3045"></a><a name="depFlagSpec"></a><span class='hs-comment'>-- | Define a new deprecated flag.</span>
<a name="line-3046"></a><span class='hs-definition'>depFlagSpec</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-3047"></a>            <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3048"></a><span class='hs-definition'>depFlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>dep</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>depFlagSpecOp</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>nop</span> <span class='hs-varid'>dep</span>
<a name="line-3049"></a>
<a name="line-3050"></a><a name="depFlagSpecOp'"></a><span class='hs-comment'>-- | Define a new deprecated flag with an effect where the deprecation message</span>
<a name="line-3051"></a><span class='hs-comment'>-- depends on the flag value</span>
<a name="line-3052"></a><span class='hs-definition'>depFlagSpecOp'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>
<a name="line-3053"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span>
<a name="line-3054"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-3055"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span>
<a name="line-3056"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3057"></a><span class='hs-definition'>depFlagSpecOp'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-varid'>dep</span> <span class='hs-keyglyph'>=</span>
<a name="line-3058"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>act</span> <span class='hs-varid'>f</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>deprecate</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dep</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3059"></a>                                                                       <span class='hs-conid'>AllModes</span><span class='hs-layout'>)</span>
<a name="line-3060"></a>
<a name="line-3061"></a><a name="depFlagSpec'"></a><span class='hs-comment'>-- | Define a new deprecated flag where the deprecation message</span>
<a name="line-3062"></a><span class='hs-comment'>-- depends on the flag value</span>
<a name="line-3063"></a><span class='hs-definition'>depFlagSpec'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>
<a name="line-3064"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span>
<a name="line-3065"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span>
<a name="line-3066"></a>             <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3067"></a><span class='hs-definition'>depFlagSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>dep</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>depFlagSpecOp'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>nop</span> <span class='hs-varid'>dep</span>
<a name="line-3068"></a>
<a name="line-3069"></a>
<a name="line-3070"></a><a name="depFlagSpecCond"></a><span class='hs-comment'>-- | Define a new deprecated flag where the deprecation message</span>
<a name="line-3071"></a><span class='hs-comment'>-- is shown depending on the flag value</span>
<a name="line-3072"></a><span class='hs-definition'>depFlagSpecCond</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>
<a name="line-3073"></a>                <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span>
<a name="line-3074"></a>                <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span><span class='hs-layout'>)</span>
<a name="line-3075"></a>                <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-3076"></a>                <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3077"></a><span class='hs-definition'>depFlagSpecCond</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>cond</span> <span class='hs-varid'>dep</span> <span class='hs-keyglyph'>=</span>
<a name="line-3078"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>Deprecated</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>when</span> <span class='hs-layout'>(</span><span class='hs-varid'>cond</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>deprecate</span> <span class='hs-varid'>dep</span><span class='hs-layout'>)</span>
<a name="line-3079"></a>                                                                       <span class='hs-conid'>AllModes</span><span class='hs-layout'>)</span>
<a name="line-3080"></a>
<a name="line-3081"></a><a name="flagGhciSpec"></a><span class='hs-comment'>-- | Define a new flag for GHCi.</span>
<a name="line-3082"></a><span class='hs-definition'>flagGhciSpec</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3083"></a><span class='hs-definition'>flagGhciSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flagGhciSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>nop</span>
<a name="line-3084"></a>
<a name="line-3085"></a><a name="flagGhciSpec'"></a><span class='hs-comment'>-- | Define a new flag for GHCi with an effect.</span>
<a name="line-3086"></a><span class='hs-definition'>flagGhciSpec'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-3087"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3088"></a><span class='hs-definition'>flagGhciSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>NotDeprecated</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-conid'>OnlyGhci</span><span class='hs-layout'>)</span>
<a name="line-3089"></a>
<a name="line-3090"></a><a name="flagHiddenSpec"></a><span class='hs-comment'>-- | Define a new flag invisible to CLI completion.</span>
<a name="line-3091"></a><span class='hs-definition'>flagHiddenSpec</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3092"></a><span class='hs-definition'>flagHiddenSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flagHiddenSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>nop</span>
<a name="line-3093"></a>
<a name="line-3094"></a><a name="flagHiddenSpec'"></a><span class='hs-comment'>-- | Define a new flag invisible to CLI completion with an effect.</span>
<a name="line-3095"></a><span class='hs-definition'>flagHiddenSpec'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>
<a name="line-3096"></a>                <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>
<a name="line-3097"></a><span class='hs-definition'>flagHiddenSpec'</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>NotDeprecated</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>act</span>
<a name="line-3098"></a>                                                                     <span class='hs-conid'>HiddenFlag</span><span class='hs-layout'>)</span>
<a name="line-3099"></a>
<a name="line-3100"></a><a name="hideFlag"></a><span class='hs-comment'>-- | Hide a 'FlagSpec' from being displayed in @--show-options@.</span>
<a name="line-3101"></a><span class='hs-comment'>--</span>
<a name="line-3102"></a><span class='hs-comment'>-- This is for example useful for flags that are obsolete, but should not</span>
<a name="line-3103"></a><span class='hs-comment'>-- (yet) be deprecated for compatibility reasons.</span>
<a name="line-3104"></a><span class='hs-definition'>hideFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>a</span><span class='hs-layout'>)</span>
<a name="line-3105"></a><span class='hs-definition'>hideFlag</span> <span class='hs-layout'>(</span><span class='hs-varid'>dep</span><span class='hs-layout'>,</span> <span class='hs-varid'>fs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dep</span><span class='hs-layout'>,</span> <span class='hs-varid'>fs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>flagSpecGhcMode</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HiddenFlag</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-3106"></a>
<a name="line-3107"></a><a name="mkFlag"></a><span class='hs-definition'>mkFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span>            <span class='hs-comment'>-- ^ True &lt;=&gt; it should be turned on</span>
<a name="line-3108"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>                <span class='hs-comment'>-- ^ The flag prefix</span>
<a name="line-3109"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>flag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span><span class='hs-layout'>)</span>     <span class='hs-comment'>-- ^ What to do when the flag is found</span>
<a name="line-3110"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- ^ Specification of</span>
<a name="line-3111"></a>                                        <span class='hs-comment'>-- this particular flag</span>
<a name="line-3112"></a>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3113"></a><span class='hs-definition'>mkFlag</span> <span class='hs-varid'>turn_on</span> <span class='hs-varid'>flagPrefix</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>dep</span><span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>FlagSpec</span> <span class='hs-varid'>name</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>extra_action</span> <span class='hs-varid'>mode</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-3114"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dep</span><span class='hs-layout'>,</span>
<a name="line-3115"></a>       <span class='hs-conid'>Flag</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagPrefix</span> <span class='hs-varop'>++</span> <span class='hs-varid'>name</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>f</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>extra_action</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span> <span class='hs-varid'>mode</span><span class='hs-layout'>)</span>
<a name="line-3116"></a>
<a name="line-3117"></a><a name="deprecatedForExtension"></a><span class='hs-definition'>deprecatedForExtension</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-3118"></a><span class='hs-definition'>deprecatedForExtension</span> <span class='hs-varid'>lang</span> <span class='hs-varid'>turn_on</span>
<a name="line-3119"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-str'>"use -X"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span>
<a name="line-3120"></a>      <span class='hs-str'>" or pragma {-# LANGUAGE "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span> <span class='hs-str'>" #-} instead"</span>
<a name="line-3121"></a>    <span class='hs-keyword'>where</span>
<a name="line-3122"></a>      <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>turn_on</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>lang</span>
<a name="line-3123"></a>           <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"No"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>lang</span>
<a name="line-3124"></a>
<a name="line-3125"></a><a name="useInstead"></a><span class='hs-definition'>useInstead</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-3126"></a><span class='hs-definition'>useInstead</span> <span class='hs-varid'>prefix</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>turn_on</span>
<a name="line-3127"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Use "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>prefix</span> <span class='hs-varop'>++</span> <span class='hs-varid'>no</span> <span class='hs-varop'>++</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span> <span class='hs-str'>" instead"</span>
<a name="line-3128"></a>  <span class='hs-keyword'>where</span>
<a name="line-3129"></a>    <span class='hs-varid'>no</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyword'>then</span> <span class='hs-str'>""</span> <span class='hs-keyword'>else</span> <span class='hs-str'>"no-"</span>
<a name="line-3130"></a>
<a name="line-3131"></a><a name="nop"></a><span class='hs-definition'>nop</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-3132"></a><span class='hs-definition'>nop</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-3133"></a>
<a name="line-3134"></a><a name="wWarningFlagMap"></a><span class='hs-comment'>-- | Find the 'FlagSpec' for a 'WarningFlag'.</span>
<a name="line-3135"></a><span class='hs-definition'>wWarningFlagMap</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Map</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-layout'>(</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>)</span>
<a name="line-3136"></a><span class='hs-definition'>wWarningFlagMap</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Map.fromListWith</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-keyword'>_</span> <span class='hs-varid'>x</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>x</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagSpecFlag</span> <span class='hs-varop'>&amp;&amp;&amp;</span> <span class='hs-varid'>id</span><span class='hs-layout'>)</span> <span class='hs-varid'>wWarningFlags</span>
<a name="line-3137"></a>
<a name="line-3138"></a><a name="flagSpecOf"></a><span class='hs-definition'>flagSpecOf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-layout'>(</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>)</span>
<a name="line-3139"></a><span class='hs-definition'>flagSpecOf</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flip</span> <span class='hs-conid'>Map.lookup</span> <span class='hs-varid'>wWarningFlagMap</span>
<a name="line-3140"></a>
<a name="line-3141"></a><a name="wWarningFlags"></a><span class='hs-comment'>-- | These @-W\&lt;blah\&gt;@ flags can all be reversed with @-Wno-\&lt;blah\&gt;@</span>
<a name="line-3142"></a><span class='hs-definition'>wWarningFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3143"></a><span class='hs-definition'>wWarningFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-layout'>(</span><span class='hs-varid'>sortBy</span> <span class='hs-layout'>(</span><span class='hs-varid'>comparing</span> <span class='hs-varid'>fst</span><span class='hs-layout'>)</span> <span class='hs-varid'>wWarningFlagsDeps</span><span class='hs-layout'>)</span>
<a name="line-3144"></a>
<a name="line-3145"></a><a name="wWarningFlagsDeps"></a><span class='hs-definition'>wWarningFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>WarningFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3146"></a><span class='hs-definition'>wWarningFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3147"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3148"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-3149"></a><span class='hs-comment'>-- Please keep the list of flags below sorted alphabetically</span>
<a name="line-3150"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"alternative-layout-rule-transitional"</span>
<a name="line-3151"></a>                                      <span class='hs-conid'>Opt_WarnAlternativeLayoutRuleTransitional</span><span class='hs-layout'>,</span>
<a name="line-3152"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ambiguous-fields"</span>            <span class='hs-conid'>Opt_WarnAmbiguousFields</span><span class='hs-layout'>,</span>
<a name="line-3153"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"auto-orphans"</span>             <span class='hs-conid'>Opt_WarnAutoOrphans</span>
<a name="line-3154"></a>    <span class='hs-str'>"it has no effect"</span><span class='hs-layout'>,</span>
<a name="line-3155"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cpp-undef"</span>                   <span class='hs-conid'>Opt_WarnCPPUndef</span><span class='hs-layout'>,</span>
<a name="line-3156"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unbanged-strict-patterns"</span>    <span class='hs-conid'>Opt_WarnUnbangedStrictPatterns</span><span class='hs-layout'>,</span>
<a name="line-3157"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"deferred-type-errors"</span>        <span class='hs-conid'>Opt_WarnDeferredTypeErrors</span><span class='hs-layout'>,</span>
<a name="line-3158"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"deferred-out-of-scope-variables"</span>
<a name="line-3159"></a>                                         <span class='hs-conid'>Opt_WarnDeferredOutOfScopeVariables</span><span class='hs-layout'>,</span>
<a name="line-3160"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"deprecations"</span>                <span class='hs-conid'>Opt_WarnWarningsDeprecations</span><span class='hs-layout'>,</span>
<a name="line-3161"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"deprecated-flags"</span>            <span class='hs-conid'>Opt_WarnDeprecatedFlags</span><span class='hs-layout'>,</span>
<a name="line-3162"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"deriving-defaults"</span>           <span class='hs-conid'>Opt_WarnDerivingDefaults</span><span class='hs-layout'>,</span>
<a name="line-3163"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"deriving-typeable"</span>           <span class='hs-conid'>Opt_WarnDerivingTypeable</span><span class='hs-layout'>,</span>
<a name="line-3164"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"dodgy-exports"</span>               <span class='hs-conid'>Opt_WarnDodgyExports</span><span class='hs-layout'>,</span>
<a name="line-3165"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"dodgy-foreign-imports"</span>       <span class='hs-conid'>Opt_WarnDodgyForeignImports</span><span class='hs-layout'>,</span>
<a name="line-3166"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"dodgy-imports"</span>               <span class='hs-conid'>Opt_WarnDodgyImports</span><span class='hs-layout'>,</span>
<a name="line-3167"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"empty-enumerations"</span>          <span class='hs-conid'>Opt_WarnEmptyEnumerations</span><span class='hs-layout'>,</span>
<a name="line-3168"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"duplicate-constraints"</span>    <span class='hs-conid'>Opt_WarnDuplicateConstraints</span>
<a name="line-3169"></a>    <span class='hs-str'>"it is subsumed by -Wredundant-constraints"</span><span class='hs-layout'>,</span>
<a name="line-3170"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"redundant-constraints"</span>       <span class='hs-conid'>Opt_WarnRedundantConstraints</span><span class='hs-layout'>,</span>
<a name="line-3171"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"duplicate-exports"</span>           <span class='hs-conid'>Opt_WarnDuplicateExports</span><span class='hs-layout'>,</span>
<a name="line-3172"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"hi-shadowing"</span>                <span class='hs-conid'>Opt_WarnHiShadows</span>
<a name="line-3173"></a>    <span class='hs-str'>"it is not used, and was never implemented"</span><span class='hs-layout'>,</span>
<a name="line-3174"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"inaccessible-code"</span>           <span class='hs-conid'>Opt_WarnInaccessibleCode</span><span class='hs-layout'>,</span>
<a name="line-3175"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"implicit-prelude"</span>            <span class='hs-conid'>Opt_WarnImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-3176"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"implicit-kind-vars"</span>       <span class='hs-conid'>Opt_WarnImplicitKindVars</span>
<a name="line-3177"></a>    <span class='hs-str'>"it is now an error"</span><span class='hs-layout'>,</span>
<a name="line-3178"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"incomplete-patterns"</span>         <span class='hs-conid'>Opt_WarnIncompletePatterns</span><span class='hs-layout'>,</span>
<a name="line-3179"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"incomplete-record-updates"</span>   <span class='hs-conid'>Opt_WarnIncompletePatternsRecUpd</span><span class='hs-layout'>,</span>
<a name="line-3180"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"incomplete-uni-patterns"</span>     <span class='hs-conid'>Opt_WarnIncompleteUniPatterns</span><span class='hs-layout'>,</span>
<a name="line-3181"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"inline-rule-shadowing"</span>       <span class='hs-conid'>Opt_WarnInlineRuleShadowing</span><span class='hs-layout'>,</span>
<a name="line-3182"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"identities"</span>                  <span class='hs-conid'>Opt_WarnIdentities</span><span class='hs-layout'>,</span>
<a name="line-3183"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-fields"</span>              <span class='hs-conid'>Opt_WarnMissingFields</span><span class='hs-layout'>,</span>
<a name="line-3184"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-import-lists"</span>        <span class='hs-conid'>Opt_WarnMissingImportList</span><span class='hs-layout'>,</span>
<a name="line-3185"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-export-lists"</span>        <span class='hs-conid'>Opt_WarnMissingExportList</span><span class='hs-layout'>,</span>
<a name="line-3186"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"missing-local-sigs"</span>       <span class='hs-conid'>Opt_WarnMissingLocalSignatures</span>
<a name="line-3187"></a>    <span class='hs-str'>"it is replaced by -Wmissing-local-signatures"</span><span class='hs-layout'>,</span>
<a name="line-3188"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-local-signatures"</span>    <span class='hs-conid'>Opt_WarnMissingLocalSignatures</span><span class='hs-layout'>,</span>
<a name="line-3189"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-methods"</span>             <span class='hs-conid'>Opt_WarnMissingMethods</span><span class='hs-layout'>,</span>
<a name="line-3190"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"missing-monadfail-instances"</span>
<a name="line-3191"></a>                                         <span class='hs-conid'>Opt_WarnMissingMonadFailInstances</span>
<a name="line-3192"></a>    <span class='hs-str'>"fail is no longer a method of Monad"</span><span class='hs-layout'>,</span>
<a name="line-3193"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"semigroup"</span>                   <span class='hs-conid'>Opt_WarnSemigroup</span><span class='hs-layout'>,</span>
<a name="line-3194"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-signatures"</span>          <span class='hs-conid'>Opt_WarnMissingSignatures</span><span class='hs-layout'>,</span>
<a name="line-3195"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-kind-signatures"</span>     <span class='hs-conid'>Opt_WarnMissingKindSignatures</span><span class='hs-layout'>,</span>
<a name="line-3196"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"missing-exported-sigs"</span>    <span class='hs-conid'>Opt_WarnMissingExportedSignatures</span>
<a name="line-3197"></a>    <span class='hs-str'>"it is replaced by -Wmissing-exported-signatures"</span><span class='hs-layout'>,</span>
<a name="line-3198"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-exported-signatures"</span> <span class='hs-conid'>Opt_WarnMissingExportedSignatures</span><span class='hs-layout'>,</span>
<a name="line-3199"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"monomorphism-restriction"</span>    <span class='hs-conid'>Opt_WarnMonomorphism</span><span class='hs-layout'>,</span>
<a name="line-3200"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"name-shadowing"</span>              <span class='hs-conid'>Opt_WarnNameShadowing</span><span class='hs-layout'>,</span>
<a name="line-3201"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"noncanonical-monad-instances"</span>
<a name="line-3202"></a>                                         <span class='hs-conid'>Opt_WarnNonCanonicalMonadInstances</span><span class='hs-layout'>,</span>
<a name="line-3203"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"noncanonical-monadfail-instances"</span>
<a name="line-3204"></a>                                         <span class='hs-conid'>Opt_WarnNonCanonicalMonadInstances</span>
<a name="line-3205"></a>    <span class='hs-str'>"fail is no longer a method of Monad"</span><span class='hs-layout'>,</span>
<a name="line-3206"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"noncanonical-monoid-instances"</span>
<a name="line-3207"></a>                                         <span class='hs-conid'>Opt_WarnNonCanonicalMonoidInstances</span><span class='hs-layout'>,</span>
<a name="line-3208"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"orphans"</span>                     <span class='hs-conid'>Opt_WarnOrphans</span><span class='hs-layout'>,</span>
<a name="line-3209"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"overflowed-literals"</span>         <span class='hs-conid'>Opt_WarnOverflowedLiterals</span><span class='hs-layout'>,</span>
<a name="line-3210"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"overlapping-patterns"</span>        <span class='hs-conid'>Opt_WarnOverlappingPatterns</span><span class='hs-layout'>,</span>
<a name="line-3211"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missed-specialisations"</span>      <span class='hs-conid'>Opt_WarnMissedSpecs</span><span class='hs-layout'>,</span>
<a name="line-3212"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missed-specializations"</span>      <span class='hs-conid'>Opt_WarnMissedSpecs</span><span class='hs-layout'>,</span>
<a name="line-3213"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"all-missed-specialisations"</span>  <span class='hs-conid'>Opt_WarnAllMissedSpecs</span><span class='hs-layout'>,</span>
<a name="line-3214"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"all-missed-specializations"</span>  <span class='hs-conid'>Opt_WarnAllMissedSpecs</span><span class='hs-layout'>,</span>
<a name="line-3215"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"safe"</span>                       <span class='hs-conid'>Opt_WarnSafe</span> <span class='hs-varid'>setWarnSafe</span><span class='hs-layout'>,</span>
<a name="line-3216"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"trustworthy-safe"</span>            <span class='hs-conid'>Opt_WarnTrustworthySafe</span><span class='hs-layout'>,</span>
<a name="line-3217"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"inferred-safe-imports"</span>       <span class='hs-conid'>Opt_WarnInferredSafeImports</span><span class='hs-layout'>,</span>
<a name="line-3218"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-safe-haskell-mode"</span>   <span class='hs-conid'>Opt_WarnMissingSafeHaskellMode</span><span class='hs-layout'>,</span>
<a name="line-3219"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"tabs"</span>                        <span class='hs-conid'>Opt_WarnTabs</span><span class='hs-layout'>,</span>
<a name="line-3220"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"type-defaults"</span>               <span class='hs-conid'>Opt_WarnTypeDefaults</span><span class='hs-layout'>,</span>
<a name="line-3221"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"typed-holes"</span>                 <span class='hs-conid'>Opt_WarnTypedHoles</span><span class='hs-layout'>,</span>
<a name="line-3222"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"partial-type-signatures"</span>     <span class='hs-conid'>Opt_WarnPartialTypeSignatures</span><span class='hs-layout'>,</span>
<a name="line-3223"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unrecognised-pragmas"</span>        <span class='hs-conid'>Opt_WarnUnrecognisedPragmas</span><span class='hs-layout'>,</span>
<a name="line-3224"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"unsafe"</span>                     <span class='hs-conid'>Opt_WarnUnsafe</span> <span class='hs-varid'>setWarnUnsafe</span><span class='hs-layout'>,</span>
<a name="line-3225"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unsupported-calling-conventions"</span>
<a name="line-3226"></a>                                         <span class='hs-conid'>Opt_WarnUnsupportedCallingConventions</span><span class='hs-layout'>,</span>
<a name="line-3227"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unsupported-llvm-version"</span>    <span class='hs-conid'>Opt_WarnUnsupportedLlvmVersion</span><span class='hs-layout'>,</span>
<a name="line-3228"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missed-extra-shared-lib"</span>     <span class='hs-conid'>Opt_WarnMissedExtraSharedLib</span><span class='hs-layout'>,</span>
<a name="line-3229"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unticked-promoted-constructors"</span>
<a name="line-3230"></a>                                         <span class='hs-conid'>Opt_WarnUntickedPromotedConstructors</span><span class='hs-layout'>,</span>
<a name="line-3231"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-do-bind"</span>              <span class='hs-conid'>Opt_WarnUnusedDoBind</span><span class='hs-layout'>,</span>
<a name="line-3232"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-foralls"</span>              <span class='hs-conid'>Opt_WarnUnusedForalls</span><span class='hs-layout'>,</span>
<a name="line-3233"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-imports"</span>              <span class='hs-conid'>Opt_WarnUnusedImports</span><span class='hs-layout'>,</span>
<a name="line-3234"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-local-binds"</span>          <span class='hs-conid'>Opt_WarnUnusedLocalBinds</span><span class='hs-layout'>,</span>
<a name="line-3235"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-matches"</span>              <span class='hs-conid'>Opt_WarnUnusedMatches</span><span class='hs-layout'>,</span>
<a name="line-3236"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-pattern-binds"</span>        <span class='hs-conid'>Opt_WarnUnusedPatternBinds</span><span class='hs-layout'>,</span>
<a name="line-3237"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-top-binds"</span>            <span class='hs-conid'>Opt_WarnUnusedTopBinds</span><span class='hs-layout'>,</span>
<a name="line-3238"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-type-patterns"</span>        <span class='hs-conid'>Opt_WarnUnusedTypePatterns</span><span class='hs-layout'>,</span>
<a name="line-3239"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-record-wildcards"</span>     <span class='hs-conid'>Opt_WarnUnusedRecordWildcards</span><span class='hs-layout'>,</span>
<a name="line-3240"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"redundant-bang-patterns"</span>     <span class='hs-conid'>Opt_WarnRedundantBangPatterns</span><span class='hs-layout'>,</span>
<a name="line-3241"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"redundant-record-wildcards"</span>  <span class='hs-conid'>Opt_WarnRedundantRecordWildcards</span><span class='hs-layout'>,</span>
<a name="line-3242"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"warnings-deprecations"</span>       <span class='hs-conid'>Opt_WarnWarningsDeprecations</span><span class='hs-layout'>,</span>
<a name="line-3243"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"wrong-do-bind"</span>               <span class='hs-conid'>Opt_WarnWrongDoBind</span><span class='hs-layout'>,</span>
<a name="line-3244"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-pattern-synonym-signatures"</span>
<a name="line-3245"></a>                                    <span class='hs-conid'>Opt_WarnMissingPatternSynonymSignatures</span><span class='hs-layout'>,</span>
<a name="line-3246"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-deriving-strategies"</span> <span class='hs-conid'>Opt_WarnMissingDerivingStrategies</span><span class='hs-layout'>,</span>
<a name="line-3247"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"simplifiable-class-constraints"</span> <span class='hs-conid'>Opt_WarnSimplifiableClassConstraints</span><span class='hs-layout'>,</span>
<a name="line-3248"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"missing-home-modules"</span>        <span class='hs-conid'>Opt_WarnMissingHomeModules</span><span class='hs-layout'>,</span>
<a name="line-3249"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unrecognised-warning-flags"</span>  <span class='hs-conid'>Opt_WarnUnrecognisedWarningFlags</span><span class='hs-layout'>,</span>
<a name="line-3250"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"star-binder"</span>                 <span class='hs-conid'>Opt_WarnStarBinder</span><span class='hs-layout'>,</span>
<a name="line-3251"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"star-is-type"</span>                <span class='hs-conid'>Opt_WarnStarIsType</span><span class='hs-layout'>,</span>
<a name="line-3252"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"missing-space-after-bang"</span> <span class='hs-conid'>Opt_WarnSpaceAfterBang</span>
<a name="line-3253"></a>    <span class='hs-str'>"bang patterns can no longer be written with a space"</span><span class='hs-layout'>,</span>
<a name="line-3254"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"partial-fields"</span>              <span class='hs-conid'>Opt_WarnPartialFields</span><span class='hs-layout'>,</span>
<a name="line-3255"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"prepositive-qualified-module"</span>
<a name="line-3256"></a>                                         <span class='hs-conid'>Opt_WarnPrepositiveQualifiedModule</span><span class='hs-layout'>,</span>
<a name="line-3257"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unused-packages"</span>             <span class='hs-conid'>Opt_WarnUnusedPackages</span><span class='hs-layout'>,</span>
<a name="line-3258"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"compat-unqualified-imports"</span>  <span class='hs-conid'>Opt_WarnCompatUnqualifiedImports</span><span class='hs-layout'>,</span>
<a name="line-3259"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"invalid-haddock"</span>             <span class='hs-conid'>Opt_WarnInvalidHaddock</span><span class='hs-layout'>,</span>
<a name="line-3260"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"operator-whitespace-ext-conflict"</span>  <span class='hs-conid'>Opt_WarnOperatorWhitespaceExtConflict</span><span class='hs-layout'>,</span>
<a name="line-3261"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"operator-whitespace"</span>         <span class='hs-conid'>Opt_WarnOperatorWhitespace</span><span class='hs-layout'>,</span>
<a name="line-3262"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"implicit-lift"</span>               <span class='hs-conid'>Opt_WarnImplicitLift</span><span class='hs-layout'>,</span>
<a name="line-3263"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unicode-bidirectional-format-characters"</span>
<a name="line-3264"></a>                                         <span class='hs-conid'>Opt_WarnUnicodeBidirectionalFormatCharacters</span>
<a name="line-3265"></a> <span class='hs-keyglyph'>]</span>
<a name="line-3266"></a>
<a name="line-3267"></a><a name="negatableFlagsDeps"></a><span class='hs-comment'>-- | These @-\&lt;blah\&gt;@ flags can all be reversed with @-no-\&lt;blah\&gt;@</span>
<a name="line-3268"></a><span class='hs-definition'>negatableFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3269"></a><span class='hs-definition'>negatableFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3270"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"ignore-dot-ghci"</span>         <span class='hs-conid'>Opt_IgnoreDotGhci</span> <span class='hs-keyglyph'>]</span>
<a name="line-3271"></a>
<a name="line-3272"></a><a name="dFlagsDeps"></a><span class='hs-comment'>-- | These @-d\&lt;blah\&gt;@ flags can all be reversed with @-dno-\&lt;blah\&gt;@</span>
<a name="line-3273"></a><span class='hs-definition'>dFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3274"></a><span class='hs-definition'>dFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3275"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3276"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-3277"></a><span class='hs-comment'>-- Please keep the list of flags below sorted alphabetically</span>
<a name="line-3278"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ppr-case-as-let"</span>            <span class='hs-conid'>Opt_PprCaseAsLet</span><span class='hs-layout'>,</span>
<a name="line-3279"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"ppr-ticks"</span>              <span class='hs-conid'>Opt_PprShowTicks</span>
<a name="line-3280"></a>     <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>turn_on</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>useInstead</span> <span class='hs-str'>"-d"</span> <span class='hs-str'>"suppress-ticks"</span> <span class='hs-layout'>(</span><span class='hs-varid'>not</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3281"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-ticks"</span>             <span class='hs-conid'>Opt_SuppressTicks</span><span class='hs-layout'>,</span>
<a name="line-3282"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"suppress-stg-free-vars"</span> <span class='hs-conid'>Opt_SuppressStgExts</span>
<a name="line-3283"></a>     <span class='hs-layout'>(</span><span class='hs-varid'>useInstead</span> <span class='hs-str'>"-d"</span> <span class='hs-str'>"suppress-stg-exts"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3284"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-stg-exts"</span>          <span class='hs-conid'>Opt_SuppressStgExts</span><span class='hs-layout'>,</span>
<a name="line-3285"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-coercions"</span>         <span class='hs-conid'>Opt_SuppressCoercions</span><span class='hs-layout'>,</span>
<a name="line-3286"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-idinfo"</span>            <span class='hs-conid'>Opt_SuppressIdInfo</span><span class='hs-layout'>,</span>
<a name="line-3287"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-unfoldings"</span>        <span class='hs-conid'>Opt_SuppressUnfoldings</span><span class='hs-layout'>,</span>
<a name="line-3288"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-module-prefixes"</span>   <span class='hs-conid'>Opt_SuppressModulePrefixes</span><span class='hs-layout'>,</span>
<a name="line-3289"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-timestamps"</span>        <span class='hs-conid'>Opt_SuppressTimestamps</span><span class='hs-layout'>,</span>
<a name="line-3290"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-type-applications"</span> <span class='hs-conid'>Opt_SuppressTypeApplications</span><span class='hs-layout'>,</span>
<a name="line-3291"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-type-signatures"</span>   <span class='hs-conid'>Opt_SuppressTypeSignatures</span><span class='hs-layout'>,</span>
<a name="line-3292"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-uniques"</span>           <span class='hs-conid'>Opt_SuppressUniques</span><span class='hs-layout'>,</span>
<a name="line-3293"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"suppress-var-kinds"</span>         <span class='hs-conid'>Opt_SuppressVarKinds</span>
<a name="line-3294"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3295"></a>
<a name="line-3296"></a><a name="fFlags"></a><span class='hs-comment'>-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span>
<a name="line-3297"></a><span class='hs-definition'>fFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3298"></a><span class='hs-definition'>fFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-varid'>fFlagsDeps</span>
<a name="line-3299"></a>
<a name="line-3300"></a><a name="fFlagsDeps"></a><span class='hs-definition'>fFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3301"></a><span class='hs-definition'>fFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3302"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3303"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-3304"></a><span class='hs-comment'>-- Please keep the list of flags below sorted alphabetically</span>
<a name="line-3305"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"asm-shortcutting"</span>                 <span class='hs-conid'>Opt_AsmShortcutting</span><span class='hs-layout'>,</span>
<a name="line-3306"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"break-on-error"</span>               <span class='hs-conid'>Opt_BreakOnError</span><span class='hs-layout'>,</span>
<a name="line-3307"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"break-on-exception"</span>           <span class='hs-conid'>Opt_BreakOnException</span><span class='hs-layout'>,</span>
<a name="line-3308"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"building-cabal-package"</span>           <span class='hs-conid'>Opt_BuildingCabalPackage</span><span class='hs-layout'>,</span>
<a name="line-3309"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"call-arity"</span>                       <span class='hs-conid'>Opt_CallArity</span><span class='hs-layout'>,</span>
<a name="line-3310"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"exitification"</span>                    <span class='hs-conid'>Opt_Exitification</span><span class='hs-layout'>,</span>
<a name="line-3311"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"case-merge"</span>                       <span class='hs-conid'>Opt_CaseMerge</span><span class='hs-layout'>,</span>
<a name="line-3312"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"case-folding"</span>                     <span class='hs-conid'>Opt_CaseFolding</span><span class='hs-layout'>,</span>
<a name="line-3313"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cmm-elim-common-blocks"</span>           <span class='hs-conid'>Opt_CmmElimCommonBlocks</span><span class='hs-layout'>,</span>
<a name="line-3314"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cmm-sink"</span>                         <span class='hs-conid'>Opt_CmmSink</span><span class='hs-layout'>,</span>
<a name="line-3315"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cmm-static-pred"</span>                  <span class='hs-conid'>Opt_CmmStaticPred</span><span class='hs-layout'>,</span>
<a name="line-3316"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cse"</span>                              <span class='hs-conid'>Opt_CSE</span><span class='hs-layout'>,</span>
<a name="line-3317"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"stg-cse"</span>                          <span class='hs-conid'>Opt_StgCSE</span><span class='hs-layout'>,</span>
<a name="line-3318"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"stg-lift-lams"</span>                    <span class='hs-conid'>Opt_StgLiftLams</span><span class='hs-layout'>,</span>
<a name="line-3319"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cpr-anal"</span>                         <span class='hs-conid'>Opt_CprAnal</span><span class='hs-layout'>,</span>
<a name="line-3320"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"defer-diagnostics"</span>                <span class='hs-conid'>Opt_DeferDiagnostics</span><span class='hs-layout'>,</span>
<a name="line-3321"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"defer-type-errors"</span>                <span class='hs-conid'>Opt_DeferTypeErrors</span><span class='hs-layout'>,</span>
<a name="line-3322"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"defer-typed-holes"</span>                <span class='hs-conid'>Opt_DeferTypedHoles</span><span class='hs-layout'>,</span>
<a name="line-3323"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"defer-out-of-scope-variables"</span>     <span class='hs-conid'>Opt_DeferOutOfScopeVariables</span><span class='hs-layout'>,</span>
<a name="line-3324"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"diagnostics-show-caret"</span>           <span class='hs-conid'>Opt_DiagnosticsShowCaret</span><span class='hs-layout'>,</span>
<a name="line-3325"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"dicts-cheap"</span>                      <span class='hs-conid'>Opt_DictsCheap</span><span class='hs-layout'>,</span>
<a name="line-3326"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"dicts-strict"</span>                     <span class='hs-conid'>Opt_DictsStrict</span><span class='hs-layout'>,</span>
<a name="line-3327"></a>  <span class='hs-varid'>depFlagSpec</span> <span class='hs-str'>"dmd-tx-dict-sel"</span>
<a name="line-3328"></a>      <span class='hs-conid'>Opt_DmdTxDictSel</span> <span class='hs-str'>"effect is now unconditionally enabled"</span><span class='hs-layout'>,</span>
<a name="line-3329"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"do-eta-reduction"</span>                 <span class='hs-conid'>Opt_DoEtaReduction</span><span class='hs-layout'>,</span>
<a name="line-3330"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"do-lambda-eta-expansion"</span>          <span class='hs-conid'>Opt_DoLambdaEtaExpansion</span><span class='hs-layout'>,</span>
<a name="line-3331"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"eager-blackholing"</span>                <span class='hs-conid'>Opt_EagerBlackHoling</span><span class='hs-layout'>,</span>
<a name="line-3332"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"embed-manifest"</span>                   <span class='hs-conid'>Opt_EmbedManifest</span><span class='hs-layout'>,</span>
<a name="line-3333"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"enable-rewrite-rules"</span>             <span class='hs-conid'>Opt_EnableRewriteRules</span><span class='hs-layout'>,</span>
<a name="line-3334"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"enable-th-splice-warnings"</span>        <span class='hs-conid'>Opt_EnableThSpliceWarnings</span><span class='hs-layout'>,</span>
<a name="line-3335"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"error-spans"</span>                      <span class='hs-conid'>Opt_ErrorSpans</span><span class='hs-layout'>,</span>
<a name="line-3336"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"excess-precision"</span>                 <span class='hs-conid'>Opt_ExcessPrecision</span><span class='hs-layout'>,</span>
<a name="line-3337"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"expose-all-unfoldings"</span>            <span class='hs-conid'>Opt_ExposeAllUnfoldings</span><span class='hs-layout'>,</span>
<a name="line-3338"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"expose-internal-symbols"</span>          <span class='hs-conid'>Opt_ExposeInternalSymbols</span><span class='hs-layout'>,</span>
<a name="line-3339"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"external-dynamic-refs"</span>            <span class='hs-conid'>Opt_ExternalDynamicRefs</span><span class='hs-layout'>,</span>
<a name="line-3340"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"external-interpreter"</span>             <span class='hs-conid'>Opt_ExternalInterpreter</span><span class='hs-layout'>,</span>
<a name="line-3341"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"family-application-cache"</span>         <span class='hs-conid'>Opt_FamAppCache</span><span class='hs-layout'>,</span>
<a name="line-3342"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"float-in"</span>                         <span class='hs-conid'>Opt_FloatIn</span><span class='hs-layout'>,</span>
<a name="line-3343"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"force-recomp"</span>                     <span class='hs-conid'>Opt_ForceRecomp</span><span class='hs-layout'>,</span>
<a name="line-3344"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ignore-optim-changes"</span>             <span class='hs-conid'>Opt_IgnoreOptimChanges</span><span class='hs-layout'>,</span>
<a name="line-3345"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ignore-hpc-changes"</span>               <span class='hs-conid'>Opt_IgnoreHpcChanges</span><span class='hs-layout'>,</span>
<a name="line-3346"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"full-laziness"</span>                    <span class='hs-conid'>Opt_FullLaziness</span><span class='hs-layout'>,</span>
<a name="line-3347"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"fun-to-thunk"</span>                     <span class='hs-conid'>Opt_FunToThunk</span><span class='hs-layout'>,</span>
<a name="line-3348"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"gen-manifest"</span>                     <span class='hs-conid'>Opt_GenManifest</span><span class='hs-layout'>,</span>
<a name="line-3349"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ghci-history"</span>                     <span class='hs-conid'>Opt_GhciHistory</span><span class='hs-layout'>,</span>
<a name="line-3350"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ghci-leak-check"</span>                  <span class='hs-conid'>Opt_GhciLeakCheck</span><span class='hs-layout'>,</span>
<a name="line-3351"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"validate-ide-info"</span>                <span class='hs-conid'>Opt_ValidateHie</span><span class='hs-layout'>,</span>
<a name="line-3352"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"local-ghci-history"</span>           <span class='hs-conid'>Opt_LocalGhciHistory</span><span class='hs-layout'>,</span>
<a name="line-3353"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"no-it"</span>                        <span class='hs-conid'>Opt_NoIt</span><span class='hs-layout'>,</span>
<a name="line-3354"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ghci-sandbox"</span>                     <span class='hs-conid'>Opt_GhciSandbox</span><span class='hs-layout'>,</span>
<a name="line-3355"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"helpful-errors"</span>                   <span class='hs-conid'>Opt_HelpfulErrors</span><span class='hs-layout'>,</span>
<a name="line-3356"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"hpc"</span>                              <span class='hs-conid'>Opt_Hpc</span><span class='hs-layout'>,</span>
<a name="line-3357"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ignore-asserts"</span>                   <span class='hs-conid'>Opt_IgnoreAsserts</span><span class='hs-layout'>,</span>
<a name="line-3358"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ignore-interface-pragmas"</span>         <span class='hs-conid'>Opt_IgnoreInterfacePragmas</span><span class='hs-layout'>,</span>
<a name="line-3359"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"implicit-import-qualified"</span>    <span class='hs-conid'>Opt_ImplicitImportQualified</span><span class='hs-layout'>,</span>
<a name="line-3360"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"irrefutable-tuples"</span>               <span class='hs-conid'>Opt_IrrefutableTuples</span><span class='hs-layout'>,</span>
<a name="line-3361"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"keep-going"</span>                       <span class='hs-conid'>Opt_KeepGoing</span><span class='hs-layout'>,</span>
<a name="line-3362"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"late-dmd-anal"</span>                    <span class='hs-conid'>Opt_LateDmdAnal</span><span class='hs-layout'>,</span>
<a name="line-3363"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"late-specialise"</span>                  <span class='hs-conid'>Opt_LateSpecialise</span><span class='hs-layout'>,</span>
<a name="line-3364"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"liberate-case"</span>                    <span class='hs-conid'>Opt_LiberateCase</span><span class='hs-layout'>,</span>
<a name="line-3365"></a>  <span class='hs-varid'>flagHiddenSpec</span> <span class='hs-str'>"llvm-tbaa"</span>                  <span class='hs-conid'>Opt_LlvmTBAA</span><span class='hs-layout'>,</span>
<a name="line-3366"></a>  <span class='hs-varid'>flagHiddenSpec</span> <span class='hs-str'>"llvm-fill-undef-with-garbage"</span> <span class='hs-conid'>Opt_LlvmFillUndefWithGarbage</span><span class='hs-layout'>,</span>
<a name="line-3367"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"loopification"</span>                    <span class='hs-conid'>Opt_Loopification</span><span class='hs-layout'>,</span>
<a name="line-3368"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"block-layout-cfg"</span>                 <span class='hs-conid'>Opt_CfgBlocklayout</span><span class='hs-layout'>,</span>
<a name="line-3369"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"block-layout-weightless"</span>          <span class='hs-conid'>Opt_WeightlessBlocklayout</span><span class='hs-layout'>,</span>
<a name="line-3370"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"omit-interface-pragmas"</span>           <span class='hs-conid'>Opt_OmitInterfacePragmas</span><span class='hs-layout'>,</span>
<a name="line-3371"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"omit-yields"</span>                      <span class='hs-conid'>Opt_OmitYields</span><span class='hs-layout'>,</span>
<a name="line-3372"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"optimal-applicative-do"</span>           <span class='hs-conid'>Opt_OptimalApplicativeDo</span><span class='hs-layout'>,</span>
<a name="line-3373"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"pedantic-bottoms"</span>                 <span class='hs-conid'>Opt_PedanticBottoms</span><span class='hs-layout'>,</span>
<a name="line-3374"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"pre-inlining"</span>                     <span class='hs-conid'>Opt_SimplPreInlining</span><span class='hs-layout'>,</span>
<a name="line-3375"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"print-bind-contents"</span>          <span class='hs-conid'>Opt_PrintBindContents</span><span class='hs-layout'>,</span>
<a name="line-3376"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"print-bind-result"</span>            <span class='hs-conid'>Opt_PrintBindResult</span><span class='hs-layout'>,</span>
<a name="line-3377"></a>  <span class='hs-varid'>flagGhciSpec</span> <span class='hs-str'>"print-evld-with-show"</span>         <span class='hs-conid'>Opt_PrintEvldWithShow</span><span class='hs-layout'>,</span>
<a name="line-3378"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-explicit-foralls"</span>           <span class='hs-conid'>Opt_PrintExplicitForalls</span><span class='hs-layout'>,</span>
<a name="line-3379"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-explicit-kinds"</span>             <span class='hs-conid'>Opt_PrintExplicitKinds</span><span class='hs-layout'>,</span>
<a name="line-3380"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-explicit-coercions"</span>         <span class='hs-conid'>Opt_PrintExplicitCoercions</span><span class='hs-layout'>,</span>
<a name="line-3381"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-explicit-runtime-reps"</span>      <span class='hs-conid'>Opt_PrintExplicitRuntimeReps</span><span class='hs-layout'>,</span>
<a name="line-3382"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-equality-relations"</span>         <span class='hs-conid'>Opt_PrintEqualityRelations</span><span class='hs-layout'>,</span>
<a name="line-3383"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-axiom-incomps"</span>              <span class='hs-conid'>Opt_PrintAxiomIncomps</span><span class='hs-layout'>,</span>
<a name="line-3384"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-unicode-syntax"</span>             <span class='hs-conid'>Opt_PrintUnicodeSyntax</span><span class='hs-layout'>,</span>
<a name="line-3385"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-expanded-synonyms"</span>          <span class='hs-conid'>Opt_PrintExpandedSynonyms</span><span class='hs-layout'>,</span>
<a name="line-3386"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-potential-instances"</span>        <span class='hs-conid'>Opt_PrintPotentialInstances</span><span class='hs-layout'>,</span>
<a name="line-3387"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"print-typechecker-elaboration"</span>    <span class='hs-conid'>Opt_PrintTypecheckerElaboration</span><span class='hs-layout'>,</span>
<a name="line-3388"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"prof-cafs"</span>                        <span class='hs-conid'>Opt_AutoSccsOnIndividualCafs</span><span class='hs-layout'>,</span>
<a name="line-3389"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"prof-count-entries"</span>               <span class='hs-conid'>Opt_ProfCountEntries</span><span class='hs-layout'>,</span>
<a name="line-3390"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"regs-graph"</span>                       <span class='hs-conid'>Opt_RegsGraph</span><span class='hs-layout'>,</span>
<a name="line-3391"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"regs-iterative"</span>                   <span class='hs-conid'>Opt_RegsIterative</span><span class='hs-layout'>,</span>
<a name="line-3392"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"rewrite-rules"</span>                <span class='hs-conid'>Opt_EnableRewriteRules</span>
<a name="line-3393"></a>   <span class='hs-layout'>(</span><span class='hs-varid'>useInstead</span> <span class='hs-str'>"-f"</span> <span class='hs-str'>"enable-rewrite-rules"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3394"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"shared-implib"</span>                    <span class='hs-conid'>Opt_SharedImplib</span><span class='hs-layout'>,</span>
<a name="line-3395"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"spec-constr"</span>                      <span class='hs-conid'>Opt_SpecConstr</span><span class='hs-layout'>,</span>
<a name="line-3396"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"spec-constr-keen"</span>                 <span class='hs-conid'>Opt_SpecConstrKeen</span><span class='hs-layout'>,</span>
<a name="line-3397"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"specialise"</span>                       <span class='hs-conid'>Opt_Specialise</span><span class='hs-layout'>,</span>
<a name="line-3398"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"specialize"</span>                       <span class='hs-conid'>Opt_Specialise</span><span class='hs-layout'>,</span>
<a name="line-3399"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"specialise-aggressively"</span>          <span class='hs-conid'>Opt_SpecialiseAggressively</span><span class='hs-layout'>,</span>
<a name="line-3400"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"specialize-aggressively"</span>          <span class='hs-conid'>Opt_SpecialiseAggressively</span><span class='hs-layout'>,</span>
<a name="line-3401"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cross-module-specialise"</span>          <span class='hs-conid'>Opt_CrossModuleSpecialise</span><span class='hs-layout'>,</span>
<a name="line-3402"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"cross-module-specialize"</span>          <span class='hs-conid'>Opt_CrossModuleSpecialise</span><span class='hs-layout'>,</span>
<a name="line-3403"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"inline-generics"</span>                  <span class='hs-conid'>Opt_InlineGenerics</span><span class='hs-layout'>,</span>
<a name="line-3404"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"inline-generics-aggressively"</span>     <span class='hs-conid'>Opt_InlineGenericsAggressively</span><span class='hs-layout'>,</span>
<a name="line-3405"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"static-argument-transformation"</span>   <span class='hs-conid'>Opt_StaticArgumentTransformation</span><span class='hs-layout'>,</span>
<a name="line-3406"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"strictness"</span>                       <span class='hs-conid'>Opt_Strictness</span><span class='hs-layout'>,</span>
<a name="line-3407"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"use-rpaths"</span>                       <span class='hs-conid'>Opt_RPath</span><span class='hs-layout'>,</span>
<a name="line-3408"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"write-interface"</span>                  <span class='hs-conid'>Opt_WriteInterface</span><span class='hs-layout'>,</span>
<a name="line-3409"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"write-ide-info"</span>                   <span class='hs-conid'>Opt_WriteHie</span><span class='hs-layout'>,</span>
<a name="line-3410"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unbox-small-strict-fields"</span>        <span class='hs-conid'>Opt_UnboxSmallStrictFields</span><span class='hs-layout'>,</span>
<a name="line-3411"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unbox-strict-fields"</span>              <span class='hs-conid'>Opt_UnboxStrictFields</span><span class='hs-layout'>,</span>
<a name="line-3412"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"version-macros"</span>                   <span class='hs-conid'>Opt_VersionMacros</span><span class='hs-layout'>,</span>
<a name="line-3413"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"worker-wrapper"</span>                   <span class='hs-conid'>Opt_WorkerWrapper</span><span class='hs-layout'>,</span>
<a name="line-3414"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"solve-constant-dicts"</span>             <span class='hs-conid'>Opt_SolveConstantDicts</span><span class='hs-layout'>,</span>
<a name="line-3415"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"catch-bottoms"</span>                    <span class='hs-conid'>Opt_CatchBottoms</span><span class='hs-layout'>,</span>
<a name="line-3416"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"alignment-sanitisation"</span>           <span class='hs-conid'>Opt_AlignmentSanitisation</span><span class='hs-layout'>,</span>
<a name="line-3417"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"check-prim-bounds"</span>                <span class='hs-conid'>Opt_DoBoundsChecking</span><span class='hs-layout'>,</span>
<a name="line-3418"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"num-constant-folding"</span>             <span class='hs-conid'>Opt_NumConstantFolding</span><span class='hs-layout'>,</span>
<a name="line-3419"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-warning-groups"</span>              <span class='hs-conid'>Opt_ShowWarnGroups</span><span class='hs-layout'>,</span>
<a name="line-3420"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"hide-source-paths"</span>                <span class='hs-conid'>Opt_HideSourcePaths</span><span class='hs-layout'>,</span>
<a name="line-3421"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-loaded-modules"</span>              <span class='hs-conid'>Opt_ShowLoadedModules</span><span class='hs-layout'>,</span>
<a name="line-3422"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"whole-archive-hs-libs"</span>            <span class='hs-conid'>Opt_WholeArchiveHsLibs</span><span class='hs-layout'>,</span>
<a name="line-3423"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"keep-cafs"</span>                        <span class='hs-conid'>Opt_KeepCAFs</span><span class='hs-layout'>,</span>
<a name="line-3424"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"link-rts"</span>                         <span class='hs-conid'>Opt_LinkRts</span>
<a name="line-3425"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3426"></a>  <span class='hs-varop'>++</span> <span class='hs-varid'>fHoleFlags</span>
<a name="line-3427"></a>
<a name="line-3428"></a><a name="fHoleFlags"></a><span class='hs-comment'>-- | These @-f\&lt;blah\&gt;@ flags have to do with the typed-hole error message or</span>
<a name="line-3429"></a><span class='hs-comment'>-- the valid hole fits in that message. See Note [Valid hole fits include ...]</span>
<a name="line-3430"></a><span class='hs-comment'>-- in the "GHC.Tc.Errors.Hole" module. These flags can all be reversed with</span>
<a name="line-3431"></a><span class='hs-comment'>-- @-fno-\&lt;blah\&gt;@</span>
<a name="line-3432"></a><span class='hs-definition'>fHoleFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3433"></a><span class='hs-definition'>fHoleFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3434"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-hole-constraints"</span>            <span class='hs-conid'>Opt_ShowHoleConstraints</span><span class='hs-layout'>,</span>
<a name="line-3435"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"show-valid-substitutions"</span>     <span class='hs-conid'>Opt_ShowValidHoleFits</span>
<a name="line-3436"></a>   <span class='hs-layout'>(</span><span class='hs-varid'>useInstead</span> <span class='hs-str'>"-f"</span> <span class='hs-str'>"show-valid-hole-fits"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3437"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-valid-hole-fits"</span>             <span class='hs-conid'>Opt_ShowValidHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3438"></a>  <span class='hs-comment'>-- Sorting settings</span>
<a name="line-3439"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"sort-valid-hole-fits"</span>             <span class='hs-conid'>Opt_SortValidHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3440"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"sort-by-size-hole-fits"</span>           <span class='hs-conid'>Opt_SortBySizeHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3441"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"sort-by-subsumption-hole-fits"</span>    <span class='hs-conid'>Opt_SortBySubsumHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3442"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"abstract-refinement-hole-fits"</span>    <span class='hs-conid'>Opt_AbstractRefHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3443"></a>  <span class='hs-comment'>-- Output format settings</span>
<a name="line-3444"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-hole-matches-of-hole-fits"</span>   <span class='hs-conid'>Opt_ShowMatchesOfHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3445"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-provenance-of-hole-fits"</span>     <span class='hs-conid'>Opt_ShowProvOfHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3446"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-type-of-hole-fits"</span>           <span class='hs-conid'>Opt_ShowTypeOfHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3447"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-type-app-of-hole-fits"</span>       <span class='hs-conid'>Opt_ShowTypeAppOfHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3448"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-type-app-vars-of-hole-fits"</span>  <span class='hs-conid'>Opt_ShowTypeAppVarsOfHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3449"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"show-docs-of-hole-fits"</span>           <span class='hs-conid'>Opt_ShowDocsOfHoleFits</span><span class='hs-layout'>,</span>
<a name="line-3450"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"unclutter-valid-hole-fits"</span>        <span class='hs-conid'>Opt_UnclutterValidHoleFits</span>
<a name="line-3451"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3452"></a>
<a name="line-3453"></a><a name="fLangFlags"></a><span class='hs-comment'>-- | These @-f\&lt;blah\&gt;@ flags can all be reversed with @-fno-\&lt;blah\&gt;@</span>
<a name="line-3454"></a><span class='hs-definition'>fLangFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-keyglyph'>]</span>
<a name="line-3455"></a><span class='hs-definition'>fLangFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-varid'>fLangFlagsDeps</span>
<a name="line-3456"></a>
<a name="line-3457"></a><a name="fLangFlagsDeps"></a><span class='hs-definition'>fLangFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3458"></a><span class='hs-definition'>fLangFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3459"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3460"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-3461"></a>  <span class='hs-varid'>depFlagSpecOp'</span> <span class='hs-str'>"th"</span>                           <span class='hs-conid'>LangExt.TemplateHaskell</span>
<a name="line-3462"></a>    <span class='hs-varid'>checkTemplateHaskellOk</span>
<a name="line-3463"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"TemplateHaskell"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3464"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"fi"</span>                             <span class='hs-conid'>LangExt.ForeignFunctionInterface</span>
<a name="line-3465"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ForeignFunctionInterface"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3466"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"ffi"</span>                            <span class='hs-conid'>LangExt.ForeignFunctionInterface</span>
<a name="line-3467"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ForeignFunctionInterface"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3468"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"arrows"</span>                         <span class='hs-conid'>LangExt.Arrows</span>
<a name="line-3469"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"Arrows"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3470"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"implicit-prelude"</span>               <span class='hs-conid'>LangExt.ImplicitPrelude</span>
<a name="line-3471"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ImplicitPrelude"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3472"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"bang-patterns"</span>                  <span class='hs-conid'>LangExt.BangPatterns</span>
<a name="line-3473"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"BangPatterns"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3474"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"monomorphism-restriction"</span>       <span class='hs-conid'>LangExt.MonomorphismRestriction</span>
<a name="line-3475"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"MonomorphismRestriction"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3476"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"extended-default-rules"</span>         <span class='hs-conid'>LangExt.ExtendedDefaultRules</span>
<a name="line-3477"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ExtendedDefaultRules"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3478"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"implicit-params"</span>                <span class='hs-conid'>LangExt.ImplicitParams</span>
<a name="line-3479"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ImplicitParams"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3480"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"scoped-type-variables"</span>          <span class='hs-conid'>LangExt.ScopedTypeVariables</span>
<a name="line-3481"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ScopedTypeVariables"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3482"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"allow-overlapping-instances"</span>    <span class='hs-conid'>LangExt.OverlappingInstances</span>
<a name="line-3483"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"OverlappingInstances"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3484"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"allow-undecidable-instances"</span>    <span class='hs-conid'>LangExt.UndecidableInstances</span>
<a name="line-3485"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"UndecidableInstances"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3486"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"allow-incoherent-instances"</span>     <span class='hs-conid'>LangExt.IncoherentInstances</span>
<a name="line-3487"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"IncoherentInstances"</span><span class='hs-layout'>)</span>
<a name="line-3488"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3489"></a>
<a name="line-3490"></a><a name="supportedLanguages"></a><span class='hs-definition'>supportedLanguages</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3491"></a><span class='hs-definition'>supportedLanguages</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagSpecName</span> <span class='hs-varop'>.</span> <span class='hs-varid'>snd</span><span class='hs-layout'>)</span> <span class='hs-varid'>languageFlagsDeps</span>
<a name="line-3492"></a>
<a name="line-3493"></a><a name="supportedLanguageOverlays"></a><span class='hs-definition'>supportedLanguageOverlays</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3494"></a><span class='hs-definition'>supportedLanguageOverlays</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>flagSpecName</span> <span class='hs-varop'>.</span> <span class='hs-varid'>snd</span><span class='hs-layout'>)</span> <span class='hs-varid'>safeHaskellFlagsDeps</span>
<a name="line-3495"></a>
<a name="line-3496"></a><a name="supportedExtensions"></a><span class='hs-definition'>supportedExtensions</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ArchOS</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3497"></a><span class='hs-definition'>supportedExtensions</span> <span class='hs-layout'>(</span><span class='hs-conid'>ArchOS</span> <span class='hs-keyword'>_</span> <span class='hs-varid'>os</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>concatMap</span> <span class='hs-varid'>toFlagSpecNamePair</span> <span class='hs-varid'>xFlags</span>
<a name="line-3498"></a>  <span class='hs-keyword'>where</span>
<a name="line-3499"></a>    <span class='hs-varid'>toFlagSpecNamePair</span> <span class='hs-varid'>flg</span>
<a name="line-3500"></a>      <span class='hs-comment'>-- IMPORTANT! Make sure that `ghc --supported-extensions` omits</span>
<a name="line-3501"></a>      <span class='hs-comment'>-- "TemplateHaskell"/"QuasiQuotes" when it's known not to work out of the</span>
<a name="line-3502"></a>      <span class='hs-comment'>-- box. See also GHC #11102 and #16331 for more details about</span>
<a name="line-3503"></a>      <span class='hs-comment'>-- the rationale</span>
<a name="line-3504"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isAIX</span><span class='hs-layout'>,</span> <span class='hs-varid'>flagSpecFlag</span> <span class='hs-varid'>flg</span> <span class='hs-varop'>==</span> <span class='hs-conid'>LangExt.TemplateHaskell</span>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>noName</span><span class='hs-keyglyph'>]</span>
<a name="line-3505"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isAIX</span><span class='hs-layout'>,</span> <span class='hs-varid'>flagSpecFlag</span> <span class='hs-varid'>flg</span> <span class='hs-varop'>==</span> <span class='hs-conid'>LangExt.QuasiQuotes</span>      <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>noName</span><span class='hs-keyglyph'>]</span>
<a name="line-3506"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>name</span><span class='hs-layout'>,</span> <span class='hs-varid'>noName</span><span class='hs-keyglyph'>]</span>
<a name="line-3507"></a>      <span class='hs-keyword'>where</span>
<a name="line-3508"></a>        <span class='hs-varid'>isAIX</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSAIX</span>
<a name="line-3509"></a>        <span class='hs-varid'>noName</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"No"</span> <span class='hs-varop'>++</span> <span class='hs-varid'>name</span>
<a name="line-3510"></a>        <span class='hs-varid'>name</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flagSpecName</span> <span class='hs-varid'>flg</span>
<a name="line-3511"></a>
<a name="line-3512"></a><a name="supportedLanguagesAndExtensions"></a><span class='hs-definition'>supportedLanguagesAndExtensions</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ArchOS</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3513"></a><span class='hs-definition'>supportedLanguagesAndExtensions</span> <span class='hs-varid'>arch_os</span> <span class='hs-keyglyph'>=</span>
<a name="line-3514"></a>    <span class='hs-varid'>supportedLanguages</span> <span class='hs-varop'>++</span> <span class='hs-varid'>supportedLanguageOverlays</span> <span class='hs-varop'>++</span> <span class='hs-varid'>supportedExtensions</span> <span class='hs-varid'>arch_os</span>
<a name="line-3515"></a>
<a name="line-3516"></a><a name="languageFlagsDeps"></a><span class='hs-comment'>-- | These -X&lt;blah&gt; flags cannot be reversed with -XNo&lt;blah&gt;</span>
<a name="line-3517"></a><span class='hs-definition'>languageFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>Language</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3518"></a><span class='hs-definition'>languageFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3519"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"Haskell98"</span>   <span class='hs-conid'>Haskell98</span><span class='hs-layout'>,</span>
<a name="line-3520"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"Haskell2010"</span> <span class='hs-conid'>Haskell2010</span><span class='hs-layout'>,</span>
<a name="line-3521"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"GHC2021"</span>     <span class='hs-conid'>GHC2021</span>
<a name="line-3522"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3523"></a>
<a name="line-3524"></a><a name="safeHaskellFlagsDeps"></a><span class='hs-comment'>-- | These -X&lt;blah&gt; flags cannot be reversed with -XNo&lt;blah&gt;</span>
<a name="line-3525"></a><span class='hs-comment'>-- They are used to place hard requirements on what GHC Haskell language</span>
<a name="line-3526"></a><span class='hs-comment'>-- features can be used.</span>
<a name="line-3527"></a><span class='hs-definition'>safeHaskellFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>SafeHaskellMode</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3528"></a><span class='hs-definition'>safeHaskellFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>mkF</span> <span class='hs-conid'>Sf_Unsafe</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkF</span> <span class='hs-conid'>Sf_Trustworthy</span><span class='hs-layout'>,</span> <span class='hs-varid'>mkF</span> <span class='hs-conid'>Sf_Safe</span><span class='hs-keyglyph'>]</span>
<a name="line-3529"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>mkF</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flagSpec</span> <span class='hs-layout'>(</span><span class='hs-varid'>show</span> <span class='hs-varid'>flag</span><span class='hs-layout'>)</span> <span class='hs-varid'>flag</span>
<a name="line-3530"></a>
<a name="line-3531"></a><a name="xFlags"></a><span class='hs-comment'>-- | These -X&lt;blah&gt; flags can all be reversed with -XNo&lt;blah&gt;</span>
<a name="line-3532"></a><span class='hs-definition'>xFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-keyglyph'>]</span>
<a name="line-3533"></a><span class='hs-definition'>xFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>map</span> <span class='hs-varid'>snd</span> <span class='hs-varid'>xFlagsDeps</span>
<a name="line-3534"></a>
<a name="line-3535"></a><a name="xFlagsDeps"></a><span class='hs-definition'>xFlagsDeps</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Deprecation</span><span class='hs-layout'>,</span> <span class='hs-conid'>FlagSpec</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3536"></a><span class='hs-definition'>xFlagsDeps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-3537"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3538"></a><span class='hs-comment'>-- See Note [Supporting CLI completion]</span>
<a name="line-3539"></a><span class='hs-comment'>-- See Note [Adding a language extension]</span>
<a name="line-3540"></a><span class='hs-comment'>-- Please keep the list of flags below sorted alphabetically</span>
<a name="line-3541"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"AllowAmbiguousTypes"</span>              <span class='hs-conid'>LangExt.AllowAmbiguousTypes</span><span class='hs-layout'>,</span>
<a name="line-3542"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"AlternativeLayoutRule"</span>            <span class='hs-conid'>LangExt.AlternativeLayoutRule</span><span class='hs-layout'>,</span>
<a name="line-3543"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"AlternativeLayoutRuleTransitional"</span>
<a name="line-3544"></a>                                              <span class='hs-conid'>LangExt.AlternativeLayoutRuleTransitional</span><span class='hs-layout'>,</span>
<a name="line-3545"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"Arrows"</span>                           <span class='hs-conid'>LangExt.Arrows</span><span class='hs-layout'>,</span>
<a name="line-3546"></a>  <span class='hs-varid'>depFlagSpecCond</span> <span class='hs-str'>"AutoDeriveTypeable"</span>        <span class='hs-conid'>LangExt.AutoDeriveTypeable</span>
<a name="line-3547"></a>    <span class='hs-varid'>id</span>
<a name="line-3548"></a>         <span class='hs-layout'>(</span><span class='hs-str'>"Typeable instances are created automatically "</span> <span class='hs-varop'>++</span>
<a name="line-3549"></a>                     <span class='hs-str'>"for all types since GHC 8.2."</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3550"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"BangPatterns"</span>                     <span class='hs-conid'>LangExt.BangPatterns</span><span class='hs-layout'>,</span>
<a name="line-3551"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"BinaryLiterals"</span>                   <span class='hs-conid'>LangExt.BinaryLiterals</span><span class='hs-layout'>,</span>
<a name="line-3552"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"CApiFFI"</span>                          <span class='hs-conid'>LangExt.CApiFFI</span><span class='hs-layout'>,</span>
<a name="line-3553"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"CPP"</span>                              <span class='hs-conid'>LangExt.Cpp</span><span class='hs-layout'>,</span>
<a name="line-3554"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"CUSKs"</span>                            <span class='hs-conid'>LangExt.CUSKs</span><span class='hs-layout'>,</span>
<a name="line-3555"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ConstrainedClassMethods"</span>          <span class='hs-conid'>LangExt.ConstrainedClassMethods</span><span class='hs-layout'>,</span>
<a name="line-3556"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ConstraintKinds"</span>                  <span class='hs-conid'>LangExt.ConstraintKinds</span><span class='hs-layout'>,</span>
<a name="line-3557"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DataKinds"</span>                        <span class='hs-conid'>LangExt.DataKinds</span><span class='hs-layout'>,</span>
<a name="line-3558"></a>  <span class='hs-varid'>depFlagSpecCond</span> <span class='hs-str'>"DatatypeContexts"</span>          <span class='hs-conid'>LangExt.DatatypeContexts</span>
<a name="line-3559"></a>    <span class='hs-varid'>id</span>
<a name="line-3560"></a>         <span class='hs-layout'>(</span><span class='hs-str'>"It was widely considered a misfeature, "</span> <span class='hs-varop'>++</span>
<a name="line-3561"></a>                     <span class='hs-str'>"and has been removed from the Haskell language."</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3562"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DefaultSignatures"</span>                <span class='hs-conid'>LangExt.DefaultSignatures</span><span class='hs-layout'>,</span>
<a name="line-3563"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveAnyClass"</span>                   <span class='hs-conid'>LangExt.DeriveAnyClass</span><span class='hs-layout'>,</span>
<a name="line-3564"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveDataTypeable"</span>               <span class='hs-conid'>LangExt.DeriveDataTypeable</span><span class='hs-layout'>,</span>
<a name="line-3565"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveFoldable"</span>                   <span class='hs-conid'>LangExt.DeriveFoldable</span><span class='hs-layout'>,</span>
<a name="line-3566"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveFunctor"</span>                    <span class='hs-conid'>LangExt.DeriveFunctor</span><span class='hs-layout'>,</span>
<a name="line-3567"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveGeneric"</span>                    <span class='hs-conid'>LangExt.DeriveGeneric</span><span class='hs-layout'>,</span>
<a name="line-3568"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveLift"</span>                       <span class='hs-conid'>LangExt.DeriveLift</span><span class='hs-layout'>,</span>
<a name="line-3569"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeriveTraversable"</span>                <span class='hs-conid'>LangExt.DeriveTraversable</span><span class='hs-layout'>,</span>
<a name="line-3570"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DerivingStrategies"</span>               <span class='hs-conid'>LangExt.DerivingStrategies</span><span class='hs-layout'>,</span>
<a name="line-3571"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"DerivingVia"</span>                     <span class='hs-conid'>LangExt.DerivingVia</span>
<a name="line-3572"></a>                                              <span class='hs-varid'>setDeriveVia</span><span class='hs-layout'>,</span>
<a name="line-3573"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DisambiguateRecordFields"</span>         <span class='hs-conid'>LangExt.DisambiguateRecordFields</span><span class='hs-layout'>,</span>
<a name="line-3574"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DoAndIfThenElse"</span>                  <span class='hs-conid'>LangExt.DoAndIfThenElse</span><span class='hs-layout'>,</span>
<a name="line-3575"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"BlockArguments"</span>                   <span class='hs-conid'>LangExt.BlockArguments</span><span class='hs-layout'>,</span>
<a name="line-3576"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"DoRec"</span>                        <span class='hs-conid'>LangExt.RecursiveDo</span>
<a name="line-3577"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"RecursiveDo"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3578"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DuplicateRecordFields"</span>            <span class='hs-conid'>LangExt.DuplicateRecordFields</span><span class='hs-layout'>,</span>
<a name="line-3579"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"FieldSelectors"</span>                   <span class='hs-conid'>LangExt.FieldSelectors</span><span class='hs-layout'>,</span>
<a name="line-3580"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"EmptyCase"</span>                        <span class='hs-conid'>LangExt.EmptyCase</span><span class='hs-layout'>,</span>
<a name="line-3581"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"EmptyDataDecls"</span>                   <span class='hs-conid'>LangExt.EmptyDataDecls</span><span class='hs-layout'>,</span>
<a name="line-3582"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"EmptyDataDeriving"</span>                <span class='hs-conid'>LangExt.EmptyDataDeriving</span><span class='hs-layout'>,</span>
<a name="line-3583"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ExistentialQuantification"</span>        <span class='hs-conid'>LangExt.ExistentialQuantification</span><span class='hs-layout'>,</span>
<a name="line-3584"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ExplicitForAll"</span>                   <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>,</span>
<a name="line-3585"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ExplicitNamespaces"</span>               <span class='hs-conid'>LangExt.ExplicitNamespaces</span><span class='hs-layout'>,</span>
<a name="line-3586"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ExtendedDefaultRules"</span>             <span class='hs-conid'>LangExt.ExtendedDefaultRules</span><span class='hs-layout'>,</span>
<a name="line-3587"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"FlexibleContexts"</span>                 <span class='hs-conid'>LangExt.FlexibleContexts</span><span class='hs-layout'>,</span>
<a name="line-3588"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"FlexibleInstances"</span>                <span class='hs-conid'>LangExt.FlexibleInstances</span><span class='hs-layout'>,</span>
<a name="line-3589"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ForeignFunctionInterface"</span>         <span class='hs-conid'>LangExt.ForeignFunctionInterface</span><span class='hs-layout'>,</span>
<a name="line-3590"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"FunctionalDependencies"</span>           <span class='hs-conid'>LangExt.FunctionalDependencies</span><span class='hs-layout'>,</span>
<a name="line-3591"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"GADTSyntax"</span>                       <span class='hs-conid'>LangExt.GADTSyntax</span><span class='hs-layout'>,</span>
<a name="line-3592"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"GADTs"</span>                            <span class='hs-conid'>LangExt.GADTs</span><span class='hs-layout'>,</span>
<a name="line-3593"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"GHCForeignImportPrim"</span>             <span class='hs-conid'>LangExt.GHCForeignImportPrim</span><span class='hs-layout'>,</span>
<a name="line-3594"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"GeneralizedNewtypeDeriving"</span>      <span class='hs-conid'>LangExt.GeneralizedNewtypeDeriving</span>
<a name="line-3595"></a>                                              <span class='hs-varid'>setGenDeriving</span><span class='hs-layout'>,</span>
<a name="line-3596"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"GeneralisedNewtypeDeriving"</span>      <span class='hs-conid'>LangExt.GeneralizedNewtypeDeriving</span>
<a name="line-3597"></a>                                              <span class='hs-varid'>setGenDeriving</span><span class='hs-layout'>,</span>
<a name="line-3598"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ImplicitParams"</span>                   <span class='hs-conid'>LangExt.ImplicitParams</span><span class='hs-layout'>,</span>
<a name="line-3599"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ImplicitPrelude"</span>                  <span class='hs-conid'>LangExt.ImplicitPrelude</span><span class='hs-layout'>,</span>
<a name="line-3600"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ImportQualifiedPost"</span>              <span class='hs-conid'>LangExt.ImportQualifiedPost</span><span class='hs-layout'>,</span>
<a name="line-3601"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ImpredicativeTypes"</span>               <span class='hs-conid'>LangExt.ImpredicativeTypes</span><span class='hs-layout'>,</span>
<a name="line-3602"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"IncoherentInstances"</span>             <span class='hs-conid'>LangExt.IncoherentInstances</span>
<a name="line-3603"></a>                                              <span class='hs-varid'>setIncoherentInsts</span><span class='hs-layout'>,</span>
<a name="line-3604"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TypeFamilyDependencies"</span>           <span class='hs-conid'>LangExt.TypeFamilyDependencies</span><span class='hs-layout'>,</span>
<a name="line-3605"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"InstanceSigs"</span>                     <span class='hs-conid'>LangExt.InstanceSigs</span><span class='hs-layout'>,</span>
<a name="line-3606"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ApplicativeDo"</span>                    <span class='hs-conid'>LangExt.ApplicativeDo</span><span class='hs-layout'>,</span>
<a name="line-3607"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"InterruptibleFFI"</span>                 <span class='hs-conid'>LangExt.InterruptibleFFI</span><span class='hs-layout'>,</span>
<a name="line-3608"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"JavaScriptFFI"</span>                    <span class='hs-conid'>LangExt.JavaScriptFFI</span><span class='hs-layout'>,</span>
<a name="line-3609"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"KindSignatures"</span>                   <span class='hs-conid'>LangExt.KindSignatures</span><span class='hs-layout'>,</span>
<a name="line-3610"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"LambdaCase"</span>                       <span class='hs-conid'>LangExt.LambdaCase</span><span class='hs-layout'>,</span>
<a name="line-3611"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"LexicalNegation"</span>                  <span class='hs-conid'>LangExt.LexicalNegation</span><span class='hs-layout'>,</span>
<a name="line-3612"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"LiberalTypeSynonyms"</span>              <span class='hs-conid'>LangExt.LiberalTypeSynonyms</span><span class='hs-layout'>,</span>
<a name="line-3613"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"LinearTypes"</span>                      <span class='hs-conid'>LangExt.LinearTypes</span><span class='hs-layout'>,</span>
<a name="line-3614"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"MagicHash"</span>                        <span class='hs-conid'>LangExt.MagicHash</span><span class='hs-layout'>,</span>
<a name="line-3615"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"MonadComprehensions"</span>              <span class='hs-conid'>LangExt.MonadComprehensions</span><span class='hs-layout'>,</span>
<a name="line-3616"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"MonoLocalBinds"</span>                   <span class='hs-conid'>LangExt.MonoLocalBinds</span><span class='hs-layout'>,</span>
<a name="line-3617"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"DeepSubsumption"</span>                  <span class='hs-conid'>LangExt.DeepSubsumption</span><span class='hs-layout'>,</span>
<a name="line-3618"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"MonomorphismRestriction"</span>          <span class='hs-conid'>LangExt.MonomorphismRestriction</span><span class='hs-layout'>,</span>
<a name="line-3619"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"MultiParamTypeClasses"</span>            <span class='hs-conid'>LangExt.MultiParamTypeClasses</span><span class='hs-layout'>,</span>
<a name="line-3620"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"MultiWayIf"</span>                       <span class='hs-conid'>LangExt.MultiWayIf</span><span class='hs-layout'>,</span>
<a name="line-3621"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NumericUnderscores"</span>               <span class='hs-conid'>LangExt.NumericUnderscores</span><span class='hs-layout'>,</span>
<a name="line-3622"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NPlusKPatterns"</span>                   <span class='hs-conid'>LangExt.NPlusKPatterns</span><span class='hs-layout'>,</span>
<a name="line-3623"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NamedFieldPuns"</span>                   <span class='hs-conid'>LangExt.RecordPuns</span><span class='hs-layout'>,</span>
<a name="line-3624"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NamedWildCards"</span>                   <span class='hs-conid'>LangExt.NamedWildCards</span><span class='hs-layout'>,</span>
<a name="line-3625"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NegativeLiterals"</span>                 <span class='hs-conid'>LangExt.NegativeLiterals</span><span class='hs-layout'>,</span>
<a name="line-3626"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"HexFloatLiterals"</span>                 <span class='hs-conid'>LangExt.HexFloatLiterals</span><span class='hs-layout'>,</span>
<a name="line-3627"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NondecreasingIndentation"</span>         <span class='hs-conid'>LangExt.NondecreasingIndentation</span><span class='hs-layout'>,</span>
<a name="line-3628"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"NullaryTypeClasses"</span>           <span class='hs-conid'>LangExt.NullaryTypeClasses</span>
<a name="line-3629"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"MultiParamTypeClasses"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3630"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"NumDecimals"</span>                      <span class='hs-conid'>LangExt.NumDecimals</span><span class='hs-layout'>,</span>
<a name="line-3631"></a>  <span class='hs-varid'>depFlagSpecOp</span> <span class='hs-str'>"OverlappingInstances"</span>        <span class='hs-conid'>LangExt.OverlappingInstances</span>
<a name="line-3632"></a>    <span class='hs-varid'>setOverlappingInsts</span>
<a name="line-3633"></a>    <span class='hs-str'>"instead use per-instance pragmas OVERLAPPING/OVERLAPPABLE/OVERLAPS"</span><span class='hs-layout'>,</span>
<a name="line-3634"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"OverloadedLabels"</span>                 <span class='hs-conid'>LangExt.OverloadedLabels</span><span class='hs-layout'>,</span>
<a name="line-3635"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"OverloadedLists"</span>                  <span class='hs-conid'>LangExt.OverloadedLists</span><span class='hs-layout'>,</span>
<a name="line-3636"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"OverloadedStrings"</span>                <span class='hs-conid'>LangExt.OverloadedStrings</span><span class='hs-layout'>,</span>
<a name="line-3637"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PackageImports"</span>                   <span class='hs-conid'>LangExt.PackageImports</span><span class='hs-layout'>,</span>
<a name="line-3638"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ParallelArrays"</span>                   <span class='hs-conid'>LangExt.ParallelArrays</span><span class='hs-layout'>,</span>
<a name="line-3639"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ParallelListComp"</span>                 <span class='hs-conid'>LangExt.ParallelListComp</span><span class='hs-layout'>,</span>
<a name="line-3640"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PartialTypeSignatures"</span>            <span class='hs-conid'>LangExt.PartialTypeSignatures</span><span class='hs-layout'>,</span>
<a name="line-3641"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PatternGuards"</span>                    <span class='hs-conid'>LangExt.PatternGuards</span><span class='hs-layout'>,</span>
<a name="line-3642"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"PatternSignatures"</span>            <span class='hs-conid'>LangExt.ScopedTypeVariables</span>
<a name="line-3643"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"ScopedTypeVariables"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3644"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PatternSynonyms"</span>                  <span class='hs-conid'>LangExt.PatternSynonyms</span><span class='hs-layout'>,</span>
<a name="line-3645"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PolyKinds"</span>                        <span class='hs-conid'>LangExt.PolyKinds</span><span class='hs-layout'>,</span>
<a name="line-3646"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PolymorphicComponents"</span>            <span class='hs-conid'>LangExt.RankNTypes</span><span class='hs-layout'>,</span>
<a name="line-3647"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"QuantifiedConstraints"</span>            <span class='hs-conid'>LangExt.QuantifiedConstraints</span><span class='hs-layout'>,</span>
<a name="line-3648"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"PostfixOperators"</span>                 <span class='hs-conid'>LangExt.PostfixOperators</span><span class='hs-layout'>,</span>
<a name="line-3649"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"QuasiQuotes"</span>                      <span class='hs-conid'>LangExt.QuasiQuotes</span><span class='hs-layout'>,</span>
<a name="line-3650"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"QualifiedDo"</span>                      <span class='hs-conid'>LangExt.QualifiedDo</span><span class='hs-layout'>,</span>
<a name="line-3651"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"Rank2Types"</span>                       <span class='hs-conid'>LangExt.RankNTypes</span><span class='hs-layout'>,</span>
<a name="line-3652"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"RankNTypes"</span>                       <span class='hs-conid'>LangExt.RankNTypes</span><span class='hs-layout'>,</span>
<a name="line-3653"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"RebindableSyntax"</span>                 <span class='hs-conid'>LangExt.RebindableSyntax</span><span class='hs-layout'>,</span>
<a name="line-3654"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"OverloadedRecordDot"</span>              <span class='hs-conid'>LangExt.OverloadedRecordDot</span><span class='hs-layout'>,</span>
<a name="line-3655"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"OverloadedRecordUpdate"</span>           <span class='hs-conid'>LangExt.OverloadedRecordUpdate</span><span class='hs-layout'>,</span>
<a name="line-3656"></a>  <span class='hs-varid'>depFlagSpec'</span> <span class='hs-str'>"RecordPuns"</span>                   <span class='hs-conid'>LangExt.RecordPuns</span>
<a name="line-3657"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>deprecatedForExtension</span> <span class='hs-str'>"NamedFieldPuns"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-3658"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"RecordWildCards"</span>                  <span class='hs-conid'>LangExt.RecordWildCards</span><span class='hs-layout'>,</span>
<a name="line-3659"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"RecursiveDo"</span>                      <span class='hs-conid'>LangExt.RecursiveDo</span><span class='hs-layout'>,</span>
<a name="line-3660"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"RelaxedLayout"</span>                    <span class='hs-conid'>LangExt.RelaxedLayout</span><span class='hs-layout'>,</span>
<a name="line-3661"></a>  <span class='hs-varid'>depFlagSpecCond</span> <span class='hs-str'>"RelaxedPolyRec"</span>            <span class='hs-conid'>LangExt.RelaxedPolyRec</span>
<a name="line-3662"></a>    <span class='hs-varid'>not</span>
<a name="line-3663"></a>         <span class='hs-str'>"You can't turn off RelaxedPolyRec any more"</span><span class='hs-layout'>,</span>
<a name="line-3664"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"RoleAnnotations"</span>                  <span class='hs-conid'>LangExt.RoleAnnotations</span><span class='hs-layout'>,</span>
<a name="line-3665"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ScopedTypeVariables"</span>              <span class='hs-conid'>LangExt.ScopedTypeVariables</span><span class='hs-layout'>,</span>
<a name="line-3666"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"StandaloneDeriving"</span>               <span class='hs-conid'>LangExt.StandaloneDeriving</span><span class='hs-layout'>,</span>
<a name="line-3667"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"StarIsType"</span>                       <span class='hs-conid'>LangExt.StarIsType</span><span class='hs-layout'>,</span>
<a name="line-3668"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"StaticPointers"</span>                   <span class='hs-conid'>LangExt.StaticPointers</span><span class='hs-layout'>,</span>
<a name="line-3669"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"Strict"</span>                           <span class='hs-conid'>LangExt.Strict</span><span class='hs-layout'>,</span>
<a name="line-3670"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"StrictData"</span>                       <span class='hs-conid'>LangExt.StrictData</span><span class='hs-layout'>,</span>
<a name="line-3671"></a>  <span class='hs-varid'>flagSpec'</span> <span class='hs-str'>"TemplateHaskell"</span>                 <span class='hs-conid'>LangExt.TemplateHaskell</span>
<a name="line-3672"></a>                                              <span class='hs-varid'>checkTemplateHaskellOk</span><span class='hs-layout'>,</span>
<a name="line-3673"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TemplateHaskellQuotes"</span>            <span class='hs-conid'>LangExt.TemplateHaskellQuotes</span><span class='hs-layout'>,</span>
<a name="line-3674"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"StandaloneKindSignatures"</span>         <span class='hs-conid'>LangExt.StandaloneKindSignatures</span><span class='hs-layout'>,</span>
<a name="line-3675"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TraditionalRecordSyntax"</span>          <span class='hs-conid'>LangExt.TraditionalRecordSyntax</span><span class='hs-layout'>,</span>
<a name="line-3676"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TransformListComp"</span>                <span class='hs-conid'>LangExt.TransformListComp</span><span class='hs-layout'>,</span>
<a name="line-3677"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TupleSections"</span>                    <span class='hs-conid'>LangExt.TupleSections</span><span class='hs-layout'>,</span>
<a name="line-3678"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TypeApplications"</span>                 <span class='hs-conid'>LangExt.TypeApplications</span><span class='hs-layout'>,</span>
<a name="line-3679"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TypeInType"</span>                       <span class='hs-conid'>LangExt.TypeInType</span><span class='hs-layout'>,</span>
<a name="line-3680"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TypeFamilies"</span>                     <span class='hs-conid'>LangExt.TypeFamilies</span><span class='hs-layout'>,</span>
<a name="line-3681"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TypeOperators"</span>                    <span class='hs-conid'>LangExt.TypeOperators</span><span class='hs-layout'>,</span>
<a name="line-3682"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"TypeSynonymInstances"</span>             <span class='hs-conid'>LangExt.TypeSynonymInstances</span><span class='hs-layout'>,</span>
<a name="line-3683"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UnboxedTuples"</span>                    <span class='hs-conid'>LangExt.UnboxedTuples</span><span class='hs-layout'>,</span>
<a name="line-3684"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UnboxedSums"</span>                      <span class='hs-conid'>LangExt.UnboxedSums</span><span class='hs-layout'>,</span>
<a name="line-3685"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UndecidableInstances"</span>             <span class='hs-conid'>LangExt.UndecidableInstances</span><span class='hs-layout'>,</span>
<a name="line-3686"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UndecidableSuperClasses"</span>          <span class='hs-conid'>LangExt.UndecidableSuperClasses</span><span class='hs-layout'>,</span>
<a name="line-3687"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UnicodeSyntax"</span>                    <span class='hs-conid'>LangExt.UnicodeSyntax</span><span class='hs-layout'>,</span>
<a name="line-3688"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UnliftedDatatypes"</span>                <span class='hs-conid'>LangExt.UnliftedDatatypes</span><span class='hs-layout'>,</span>
<a name="line-3689"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UnliftedFFITypes"</span>                 <span class='hs-conid'>LangExt.UnliftedFFITypes</span><span class='hs-layout'>,</span>
<a name="line-3690"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"UnliftedNewtypes"</span>                 <span class='hs-conid'>LangExt.UnliftedNewtypes</span><span class='hs-layout'>,</span>
<a name="line-3691"></a>  <span class='hs-varid'>flagSpec</span> <span class='hs-str'>"ViewPatterns"</span>                     <span class='hs-conid'>LangExt.ViewPatterns</span>
<a name="line-3692"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3693"></a>
<a name="line-3694"></a><a name="defaultFlags"></a><span class='hs-definition'>defaultFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Settings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3695"></a><span class='hs-definition'>defaultFlags</span> <span class='hs-varid'>settings</span>
<a name="line-3696"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3697"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_AutoLinkPackages</span><span class='hs-layout'>,</span>
<a name="line-3698"></a>      <span class='hs-conid'>Opt_DiagnosticsShowCaret</span><span class='hs-layout'>,</span>
<a name="line-3699"></a>      <span class='hs-conid'>Opt_EmbedManifest</span><span class='hs-layout'>,</span>
<a name="line-3700"></a>      <span class='hs-conid'>Opt_FamAppCache</span><span class='hs-layout'>,</span>
<a name="line-3701"></a>      <span class='hs-conid'>Opt_GenManifest</span><span class='hs-layout'>,</span>
<a name="line-3702"></a>      <span class='hs-conid'>Opt_GhciHistory</span><span class='hs-layout'>,</span>
<a name="line-3703"></a>      <span class='hs-conid'>Opt_GhciSandbox</span><span class='hs-layout'>,</span>
<a name="line-3704"></a>      <span class='hs-conid'>Opt_HelpfulErrors</span><span class='hs-layout'>,</span>
<a name="line-3705"></a>      <span class='hs-conid'>Opt_KeepHiFiles</span><span class='hs-layout'>,</span>
<a name="line-3706"></a>      <span class='hs-conid'>Opt_KeepOFiles</span><span class='hs-layout'>,</span>
<a name="line-3707"></a>      <span class='hs-conid'>Opt_OmitYields</span><span class='hs-layout'>,</span>
<a name="line-3708"></a>      <span class='hs-conid'>Opt_PrintBindContents</span><span class='hs-layout'>,</span>
<a name="line-3709"></a>      <span class='hs-conid'>Opt_ProfCountEntries</span><span class='hs-layout'>,</span>
<a name="line-3710"></a>      <span class='hs-conid'>Opt_SharedImplib</span><span class='hs-layout'>,</span>
<a name="line-3711"></a>      <span class='hs-conid'>Opt_SimplPreInlining</span><span class='hs-layout'>,</span>
<a name="line-3712"></a>      <span class='hs-conid'>Opt_VersionMacros</span><span class='hs-layout'>,</span>
<a name="line-3713"></a>      <span class='hs-conid'>Opt_RPath</span>
<a name="line-3714"></a>    <span class='hs-keyglyph'>]</span>
<a name="line-3715"></a>
<a name="line-3716"></a>    <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>f</span> <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>ns</span><span class='hs-layout'>,</span><span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>optLevelFlags</span><span class='hs-layout'>,</span> <span class='hs-num'>0</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>ns</span><span class='hs-keyglyph'>]</span>
<a name="line-3717"></a>             <span class='hs-comment'>-- The default -O0 options</span>
<a name="line-3718"></a>
<a name="line-3719"></a>    <span class='hs-varop'>++</span> <span class='hs-varid'>default_PIC</span> <span class='hs-varid'>platform</span>
<a name="line-3720"></a>
<a name="line-3721"></a>    <span class='hs-varop'>++</span> <span class='hs-varid'>validHoleFitDefaults</span>
<a name="line-3722"></a>
<a name="line-3723"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sTargetPlatform</span> <span class='hs-varid'>settings</span>
<a name="line-3724"></a>
<a name="line-3725"></a><span class='hs-comment'>-- | These are the default settings for the display and sorting of valid hole</span>
<a name="line-3726"></a><span class='hs-comment'>--  fits in typed-hole error messages. See Note [Valid hole fits include ...]</span>
<a name="line-3727"></a> <span class='hs-comment'>-- in the "GHC.Tc.Errors.Hole" module.</span>
<a name="line-3728"></a><a name="validHoleFitDefaults"></a><span class='hs-definition'>validHoleFitDefaults</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3729"></a><span class='hs-definition'>validHoleFitDefaults</span>
<a name="line-3730"></a>  <span class='hs-keyglyph'>=</span>  <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_ShowTypeAppOfHoleFits</span>
<a name="line-3731"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowTypeOfHoleFits</span>
<a name="line-3732"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowProvOfHoleFits</span>
<a name="line-3733"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowMatchesOfHoleFits</span>
<a name="line-3734"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowValidHoleFits</span>
<a name="line-3735"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_SortValidHoleFits</span>
<a name="line-3736"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_SortBySizeHoleFits</span>
<a name="line-3737"></a>     <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowHoleConstraints</span> <span class='hs-keyglyph'>]</span>
<a name="line-3738"></a>
<a name="line-3739"></a>
<a name="line-3740"></a><a name="validHoleFitsImpliedGFlags"></a><span class='hs-definition'>validHoleFitsImpliedGFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3741"></a><span class='hs-definition'>validHoleFitsImpliedGFlags</span>
<a name="line-3742"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_UnclutterValidHoleFits</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowTypeAppOfHoleFits</span><span class='hs-layout'>)</span>
<a name="line-3743"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_UnclutterValidHoleFits</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowTypeAppVarsOfHoleFits</span><span class='hs-layout'>)</span>
<a name="line-3744"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_UnclutterValidHoleFits</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowDocsOfHoleFits</span><span class='hs-layout'>)</span>
<a name="line-3745"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_ShowTypeAppVarsOfHoleFits</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowTypeAppOfHoleFits</span><span class='hs-layout'>)</span>
<a name="line-3746"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>Opt_UnclutterValidHoleFits</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ShowProvOfHoleFits</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>]</span>
<a name="line-3747"></a>
<a name="line-3748"></a><a name="default_PIC"></a><span class='hs-definition'>default_PIC</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>GeneralFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3749"></a><span class='hs-definition'>default_PIC</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span>
<a name="line-3750"></a>  <span class='hs-keyword'>case</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformOS</span> <span class='hs-varid'>platform</span><span class='hs-layout'>,</span> <span class='hs-varid'>platformArch</span> <span class='hs-varid'>platform</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-3751"></a>    <span class='hs-comment'>-- Darwin always requires PIC.  Especially on more recent macOS releases</span>
<a name="line-3752"></a>    <span class='hs-comment'>-- there will be a 4GB __ZEROPAGE that prevents us from using 32bit addresses</span>
<a name="line-3753"></a>    <span class='hs-comment'>-- while we could work around this on x86_64 (like WINE does), we won't be</span>
<a name="line-3754"></a>    <span class='hs-comment'>-- able on aarch64, where this is enforced.</span>
<a name="line-3755"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>OSDarwin</span><span class='hs-layout'>,</span>  <span class='hs-conid'>ArchX86_64</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-keyglyph'>]</span>
<a name="line-3756"></a>    <span class='hs-comment'>-- For AArch64, we need to always have PIC enabled.  The relocation model</span>
<a name="line-3757"></a>    <span class='hs-comment'>-- on AArch64 does not permit arbitrary relocations.  Under ASLR, we can't</span>
<a name="line-3758"></a>    <span class='hs-comment'>-- control much how far apart symbols are in memory for our in-memory static</span>
<a name="line-3759"></a>    <span class='hs-comment'>-- linker;  and thus need to ensure we get sufficiently capable relocations.</span>
<a name="line-3760"></a>    <span class='hs-comment'>-- This requires PIC on AArch64, and ExternalDynamicRefs on Linux as on top</span>
<a name="line-3761"></a>    <span class='hs-comment'>-- of that.  Subsequently we expect all code on aarch64/linux (and macOS) to</span>
<a name="line-3762"></a>    <span class='hs-comment'>-- be built with -fPIC.</span>
<a name="line-3763"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>OSDarwin</span><span class='hs-layout'>,</span>  <span class='hs-conid'>ArchAArch64</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-keyglyph'>]</span>
<a name="line-3764"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>OSLinux</span><span class='hs-layout'>,</span>   <span class='hs-conid'>ArchAArch64</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExternalDynamicRefs</span><span class='hs-keyglyph'>]</span>
<a name="line-3765"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>OSLinux</span><span class='hs-layout'>,</span>   <span class='hs-conid'>ArchARM</span> <span class='hs-layout'>{</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_ExternalDynamicRefs</span><span class='hs-keyglyph'>]</span>
<a name="line-3766"></a>    <span class='hs-layout'>(</span><span class='hs-conid'>OSOpenBSD</span><span class='hs-layout'>,</span> <span class='hs-conid'>ArchX86_64</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_PIC</span><span class='hs-keyglyph'>]</span> <span class='hs-comment'>-- Due to PIE support in</span>
<a name="line-3767"></a>                                         <span class='hs-comment'>-- OpenBSD since 5.3 release</span>
<a name="line-3768"></a>                                         <span class='hs-comment'>-- (1 May 2013) we need to</span>
<a name="line-3769"></a>                                         <span class='hs-comment'>-- always generate PIC. See</span>
<a name="line-3770"></a>                                         <span class='hs-comment'>-- #10597 for more</span>
<a name="line-3771"></a>                                         <span class='hs-comment'>-- information.</span>
<a name="line-3772"></a>    <span class='hs-keyword'>_</span>                      <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-3773"></a>
<a name="line-3774"></a><a name="impliedGFlags"></a><span class='hs-comment'>-- General flags that are switched on/off when other general flags are switched</span>
<a name="line-3775"></a><span class='hs-comment'>-- on</span>
<a name="line-3776"></a><span class='hs-definition'>impliedGFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3777"></a><span class='hs-definition'>impliedGFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Opt_DeferTypeErrors</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeferTypedHoles</span><span class='hs-layout'>)</span>
<a name="line-3778"></a>                <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-conid'>Opt_DeferTypeErrors</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DeferOutOfScopeVariables</span><span class='hs-layout'>)</span>
<a name="line-3779"></a>                <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-conid'>Opt_DoLinearCoreLinting</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DoCoreLinting</span><span class='hs-layout'>)</span>
<a name="line-3780"></a>                <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-conid'>Opt_Strictness</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WorkerWrapper</span><span class='hs-layout'>)</span>
<a name="line-3781"></a>                <span class='hs-keyglyph'>]</span> <span class='hs-varop'>++</span> <span class='hs-varid'>validHoleFitsImpliedGFlags</span>
<a name="line-3782"></a>
<a name="line-3783"></a><a name="impliedOffGFlags"></a><span class='hs-comment'>-- General flags that are switched on/off when other general flags are switched</span>
<a name="line-3784"></a><span class='hs-comment'>-- off</span>
<a name="line-3785"></a><span class='hs-definition'>impliedOffGFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3786"></a><span class='hs-definition'>impliedOffGFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>Opt_Strictness</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WorkerWrapper</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3787"></a>
<a name="line-3788"></a><a name="impliedXFlags"></a><span class='hs-definition'>impliedXFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>LangExt.Extension</span><span class='hs-layout'>,</span> <span class='hs-conid'>TurnOnFlag</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.Extension</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3789"></a><span class='hs-definition'>impliedXFlags</span>
<a name="line-3790"></a><span class='hs-comment'>-- See Note [Updating flag description in the User's Guide]</span>
<a name="line-3791"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.RankNTypes</span><span class='hs-layout'>,</span>                <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-3792"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.QuantifiedConstraints</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-3793"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.ScopedTypeVariables</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-3794"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.LiberalTypeSynonyms</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-3795"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.ExistentialQuantification</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitForAll</span><span class='hs-layout'>)</span>
<a name="line-3796"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.FlexibleInstances</span><span class='hs-layout'>,</span>         <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.TypeSynonymInstances</span><span class='hs-layout'>)</span>
<a name="line-3797"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.FunctionalDependencies</span><span class='hs-layout'>,</span>    <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.MultiParamTypeClasses</span><span class='hs-layout'>)</span>
<a name="line-3798"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.MultiParamTypeClasses</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ConstrainedClassMethods</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- c.f. #7854</span>
<a name="line-3799"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeFamilyDependencies</span><span class='hs-layout'>,</span>    <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.TypeFamilies</span><span class='hs-layout'>)</span>
<a name="line-3800"></a>
<a name="line-3801"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.RebindableSyntax</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ImplicitPrelude</span><span class='hs-layout'>)</span>      <span class='hs-comment'>-- NB: turn off!</span>
<a name="line-3802"></a>
<a name="line-3803"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.DerivingVia</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DerivingStrategies</span><span class='hs-layout'>)</span>
<a name="line-3804"></a>
<a name="line-3805"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.GADTs</span><span class='hs-layout'>,</span>            <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.GADTSyntax</span><span class='hs-layout'>)</span>
<a name="line-3806"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.GADTs</span><span class='hs-layout'>,</span>            <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.MonoLocalBinds</span><span class='hs-layout'>)</span>
<a name="line-3807"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeFamilies</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.MonoLocalBinds</span><span class='hs-layout'>)</span>
<a name="line-3808"></a>
<a name="line-3809"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeFamilies</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.KindSignatures</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- Type families use kind signatures</span>
<a name="line-3810"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.PolyKinds</span><span class='hs-layout'>,</span>        <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.KindSignatures</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- Ditto polymorphic kinds</span>
<a name="line-3811"></a>
<a name="line-3812"></a>    <span class='hs-comment'>-- TypeInType is now just a synonym for a couple of other extensions.</span>
<a name="line-3813"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeInType</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DataKinds</span><span class='hs-layout'>)</span>
<a name="line-3814"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeInType</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.PolyKinds</span><span class='hs-layout'>)</span>
<a name="line-3815"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeInType</span><span class='hs-layout'>,</span>       <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.KindSignatures</span><span class='hs-layout'>)</span>
<a name="line-3816"></a>
<a name="line-3817"></a>    <span class='hs-comment'>-- Standalone kind signatures are a replacement for CUSKs.</span>
<a name="line-3818"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.StandaloneKindSignatures</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOff</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.CUSKs</span><span class='hs-layout'>)</span>
<a name="line-3819"></a>
<a name="line-3820"></a>    <span class='hs-comment'>-- AutoDeriveTypeable is not very useful without DeriveDataTypeable</span>
<a name="line-3821"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.AutoDeriveTypeable</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveDataTypeable</span><span class='hs-layout'>)</span>
<a name="line-3822"></a>
<a name="line-3823"></a>    <span class='hs-comment'>-- We turn this on so that we can export associated type</span>
<a name="line-3824"></a>    <span class='hs-comment'>-- type synonyms in subordinates (e.g. MyClass(type AssocType))</span>
<a name="line-3825"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeFamilies</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitNamespaces</span><span class='hs-layout'>)</span>
<a name="line-3826"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TypeOperators</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitNamespaces</span><span class='hs-layout'>)</span>
<a name="line-3827"></a>
<a name="line-3828"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.ImpredicativeTypes</span><span class='hs-layout'>,</span>  <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.RankNTypes</span><span class='hs-layout'>)</span>
<a name="line-3829"></a>
<a name="line-3830"></a>        <span class='hs-comment'>-- Record wild-cards implies field disambiguation</span>
<a name="line-3831"></a>        <span class='hs-comment'>-- Otherwise if you write (C {..}) you may well get</span>
<a name="line-3832"></a>        <span class='hs-comment'>-- stuff like " 'a' not in scope ", which is a bit silly</span>
<a name="line-3833"></a>        <span class='hs-comment'>-- if the compiler has just filled in field 'a' of constructor 'C'</span>
<a name="line-3834"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.RecordWildCards</span><span class='hs-layout'>,</span>     <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DisambiguateRecordFields</span><span class='hs-layout'>)</span>
<a name="line-3835"></a>
<a name="line-3836"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.ParallelArrays</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ParallelListComp</span><span class='hs-layout'>)</span>
<a name="line-3837"></a>
<a name="line-3838"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.JavaScriptFFI</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.InterruptibleFFI</span><span class='hs-layout'>)</span>
<a name="line-3839"></a>
<a name="line-3840"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.DeriveTraversable</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveFunctor</span><span class='hs-layout'>)</span>
<a name="line-3841"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.DeriveTraversable</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveFoldable</span><span class='hs-layout'>)</span>
<a name="line-3842"></a>
<a name="line-3843"></a>    <span class='hs-comment'>-- Duplicate record fields require field disambiguation</span>
<a name="line-3844"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.DuplicateRecordFields</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DisambiguateRecordFields</span><span class='hs-layout'>)</span>
<a name="line-3845"></a>
<a name="line-3846"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.TemplateHaskell</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.TemplateHaskellQuotes</span><span class='hs-layout'>)</span>
<a name="line-3847"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.Strict</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.StrictData</span><span class='hs-layout'>)</span>
<a name="line-3848"></a>
<a name="line-3849"></a>    <span class='hs-comment'>-- The extensions needed to declare an H98 unlifted data type</span>
<a name="line-3850"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.UnliftedDatatypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DataKinds</span><span class='hs-layout'>)</span>
<a name="line-3851"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-conid'>LangExt.UnliftedDatatypes</span><span class='hs-layout'>,</span> <span class='hs-varid'>turnOn</span><span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.StandaloneKindSignatures</span><span class='hs-layout'>)</span>
<a name="line-3852"></a>  <span class='hs-keyglyph'>]</span>
<a name="line-3853"></a>
<a name="line-3854"></a><span class='hs-comment'>-- Note [When is StarIsType enabled]</span>
<a name="line-3855"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-3856"></a><span class='hs-comment'>-- The StarIsType extension determines whether to treat '*' as a regular type</span>
<a name="line-3857"></a><span class='hs-comment'>-- operator or as a synonym for 'Data.Kind.Type'. Many existing pre-TypeInType</span>
<a name="line-3858"></a><span class='hs-comment'>-- programs expect '*' to be synonymous with 'Type', so by default StarIsType is</span>
<a name="line-3859"></a><span class='hs-comment'>-- enabled.</span>
<a name="line-3860"></a><span class='hs-comment'>--</span>
<a name="line-3861"></a><span class='hs-comment'>-- Programs that use TypeOperators might expect to repurpose '*' for</span>
<a name="line-3862"></a><span class='hs-comment'>-- multiplication or another binary operation, but making TypeOperators imply</span>
<a name="line-3863"></a><span class='hs-comment'>-- NoStarIsType caused too much breakage on Hackage.</span>
<a name="line-3864"></a><span class='hs-comment'>--</span>
<a name="line-3865"></a>
<a name="line-3866"></a><span class='hs-comment'>-- Note [Documenting optimisation flags]</span>
<a name="line-3867"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-3868"></a><span class='hs-comment'>--</span>
<a name="line-3869"></a><span class='hs-comment'>-- If you change the list of flags enabled for particular optimisation levels</span>
<a name="line-3870"></a><span class='hs-comment'>-- please remember to update the User's Guide. The relevant file is:</span>
<a name="line-3871"></a><span class='hs-comment'>--</span>
<a name="line-3872"></a><span class='hs-comment'>--   docs/users_guide/using-optimisation.rst</span>
<a name="line-3873"></a><span class='hs-comment'>--</span>
<a name="line-3874"></a><span class='hs-comment'>-- Make sure to note whether a flag is implied by -O0, -O or -O2.</span>
<a name="line-3875"></a>
<a name="line-3876"></a><a name="optLevelFlags"></a><span class='hs-definition'>optLevelFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>Int</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>GeneralFlag</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3877"></a><span class='hs-comment'>-- Default settings of flags, before any command-line overrides</span>
<a name="line-3878"></a><span class='hs-definition'>optLevelFlags</span> <span class='hs-comment'>-- see Note [Documenting optimisation flags]</span>
<a name="line-3879"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DoLambdaEtaExpansion</span><span class='hs-layout'>)</span>
<a name="line-3880"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_DoEtaReduction</span><span class='hs-layout'>)</span>       <span class='hs-comment'>-- See Note [Eta-reduction in -O0]</span>
<a name="line-3881"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-layout'>,</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span> <span class='hs-conid'>Opt_LlvmTBAA</span><span class='hs-layout'>)</span>
<a name="line-3882"></a>
<a name="line-3883"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_IgnoreInterfacePragmas</span><span class='hs-layout'>)</span>
<a name="line-3884"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>0</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_OmitInterfacePragmas</span><span class='hs-layout'>)</span>
<a name="line-3885"></a>
<a name="line-3886"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CallArity</span><span class='hs-layout'>)</span>
<a name="line-3887"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Exitification</span><span class='hs-layout'>)</span>
<a name="line-3888"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CaseMerge</span><span class='hs-layout'>)</span>
<a name="line-3889"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CaseFolding</span><span class='hs-layout'>)</span>
<a name="line-3890"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CmmElimCommonBlocks</span><span class='hs-layout'>)</span>
<a name="line-3891"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_AsmShortcutting</span><span class='hs-layout'>)</span>
<a name="line-3892"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CmmSink</span><span class='hs-layout'>)</span>
<a name="line-3893"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CmmStaticPred</span><span class='hs-layout'>)</span>
<a name="line-3894"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CSE</span><span class='hs-layout'>)</span>
<a name="line-3895"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_StgCSE</span><span class='hs-layout'>)</span>
<a name="line-3896"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_StgLiftLams</span><span class='hs-layout'>)</span>
<a name="line-3897"></a>
<a name="line-3898"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_EnableRewriteRules</span><span class='hs-layout'>)</span>
<a name="line-3899"></a>          <span class='hs-comment'>-- Off for -O0.   Otherwise we desugar list literals</span>
<a name="line-3900"></a>          <span class='hs-comment'>-- to 'build' but don't run the simplifier passes that</span>
<a name="line-3901"></a>          <span class='hs-comment'>-- would rewrite them back to cons cells!  This seems</span>
<a name="line-3902"></a>          <span class='hs-comment'>-- silly, and matters for the GHCi debugger.</span>
<a name="line-3903"></a>
<a name="line-3904"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_FloatIn</span><span class='hs-layout'>)</span>
<a name="line-3905"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_FullLaziness</span><span class='hs-layout'>)</span>
<a name="line-3906"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_IgnoreAsserts</span><span class='hs-layout'>)</span>
<a name="line-3907"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Loopification</span><span class='hs-layout'>)</span>
<a name="line-3908"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CfgBlocklayout</span><span class='hs-layout'>)</span>      <span class='hs-comment'>-- Experimental</span>
<a name="line-3909"></a>
<a name="line-3910"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Specialise</span><span class='hs-layout'>)</span>
<a name="line-3911"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CrossModuleSpecialise</span><span class='hs-layout'>)</span>
<a name="line-3912"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_InlineGenerics</span><span class='hs-layout'>)</span>
<a name="line-3913"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_Strictness</span><span class='hs-layout'>)</span>
<a name="line-3914"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_UnboxSmallStrictFields</span><span class='hs-layout'>)</span>
<a name="line-3915"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_CprAnal</span><span class='hs-layout'>)</span>
<a name="line-3916"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_WorkerWrapper</span><span class='hs-layout'>)</span>
<a name="line-3917"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_SolveConstantDicts</span><span class='hs-layout'>)</span>
<a name="line-3918"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>1</span><span class='hs-layout'>,</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>   <span class='hs-conid'>Opt_NumConstantFolding</span><span class='hs-layout'>)</span>
<a name="line-3919"></a>
<a name="line-3920"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_LiberateCase</span><span class='hs-layout'>)</span>
<a name="line-3921"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>[</span><span class='hs-num'>2</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>,</span>     <span class='hs-conid'>Opt_SpecConstr</span><span class='hs-layout'>)</span>
<a name="line-3922"></a><span class='hs-comment'>--  , ([2],     Opt_RegsGraph)</span>
<a name="line-3923"></a><span class='hs-comment'>--   RegsGraph suffers performance regression. See #7679</span>
<a name="line-3924"></a><span class='hs-comment'>--  , ([2],     Opt_StaticArgumentTransformation)</span>
<a name="line-3925"></a><span class='hs-comment'>--   Static Argument Transformation needs investigation. See #9374</span>
<a name="line-3926"></a>    <span class='hs-keyglyph'>]</span>
<a name="line-3927"></a>
<a name="line-3928"></a>
<a name="line-3929"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-3930"></a><span class='hs-comment'>-- Standard sets of warning options</span>
<a name="line-3931"></a>
<a name="line-3932"></a><span class='hs-comment'>-- Note [Documenting warning flags]</span>
<a name="line-3933"></a><span class='hs-comment'>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<a name="line-3934"></a><span class='hs-comment'>--</span>
<a name="line-3935"></a><span class='hs-comment'>-- If you change the list of warning enabled by default</span>
<a name="line-3936"></a><span class='hs-comment'>-- please remember to update the User's Guide. The relevant file is:</span>
<a name="line-3937"></a><span class='hs-comment'>--</span>
<a name="line-3938"></a><span class='hs-comment'>--  docs/users_guide/using-warnings.rst</span>
<a name="line-3939"></a>
<a name="line-3940"></a><a name="warningGroups"></a><span class='hs-comment'>-- | Warning groups.</span>
<a name="line-3941"></a><span class='hs-comment'>--</span>
<a name="line-3942"></a><span class='hs-comment'>-- As all warnings are in the Weverything set, it is ignored when</span>
<a name="line-3943"></a><span class='hs-comment'>-- displaying to the user which group a warning is in.</span>
<a name="line-3944"></a><span class='hs-definition'>warningGroups</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-3945"></a><span class='hs-definition'>warningGroups</span> <span class='hs-keyglyph'>=</span>
<a name="line-3946"></a>    <span class='hs-keyglyph'>[</span> <span class='hs-layout'>(</span><span class='hs-str'>"compat"</span><span class='hs-layout'>,</span>       <span class='hs-varid'>minusWcompatOpts</span><span class='hs-layout'>)</span>
<a name="line-3947"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"unused-binds"</span><span class='hs-layout'>,</span> <span class='hs-varid'>unusedBindsFlags</span><span class='hs-layout'>)</span>
<a name="line-3948"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"default"</span><span class='hs-layout'>,</span>      <span class='hs-varid'>standardWarnings</span><span class='hs-layout'>)</span>
<a name="line-3949"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"extra"</span><span class='hs-layout'>,</span>        <span class='hs-varid'>minusWOpts</span><span class='hs-layout'>)</span>
<a name="line-3950"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"all"</span><span class='hs-layout'>,</span>          <span class='hs-varid'>minusWallOpts</span><span class='hs-layout'>)</span>
<a name="line-3951"></a>    <span class='hs-layout'>,</span> <span class='hs-layout'>(</span><span class='hs-str'>"everything"</span><span class='hs-layout'>,</span>   <span class='hs-varid'>minusWeverythingOpts</span><span class='hs-layout'>)</span>
<a name="line-3952"></a>    <span class='hs-keyglyph'>]</span>
<a name="line-3953"></a>
<a name="line-3954"></a><a name="warningHierarchies"></a><span class='hs-comment'>-- | Warning group hierarchies, where there is an explicit inclusion</span>
<a name="line-3955"></a><span class='hs-comment'>-- relation.</span>
<a name="line-3956"></a><span class='hs-comment'>--</span>
<a name="line-3957"></a><span class='hs-comment'>-- Each inner list is a hierarchy of warning groups, ordered from</span>
<a name="line-3958"></a><span class='hs-comment'>-- smallest to largest, where each group is a superset of the one</span>
<a name="line-3959"></a><span class='hs-comment'>-- before it.</span>
<a name="line-3960"></a><span class='hs-comment'>--</span>
<a name="line-3961"></a><span class='hs-comment'>-- Separating this from 'warningGroups' allows for multiple</span>
<a name="line-3962"></a><span class='hs-comment'>-- hierarchies with no inherent relation to be defined.</span>
<a name="line-3963"></a><span class='hs-comment'>--</span>
<a name="line-3964"></a><span class='hs-comment'>-- The special-case Weverything group is not included.</span>
<a name="line-3965"></a><span class='hs-definition'>warningHierarchies</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-keyglyph'>]</span>
<a name="line-3966"></a><span class='hs-definition'>warningHierarchies</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>hierarchies</span> <span class='hs-varop'>++</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-conop'>:</span><span class='hs-conid'>[]</span><span class='hs-layout'>)</span> <span class='hs-varid'>rest</span>
<a name="line-3967"></a>  <span class='hs-keyword'>where</span>
<a name="line-3968"></a>    <span class='hs-varid'>hierarchies</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-keyglyph'>[</span><span class='hs-str'>"default"</span><span class='hs-layout'>,</span> <span class='hs-str'>"extra"</span><span class='hs-layout'>,</span> <span class='hs-str'>"all"</span><span class='hs-keyglyph'>]</span><span class='hs-keyglyph'>]</span>
<a name="line-3969"></a>    <span class='hs-varid'>rest</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filter</span> <span class='hs-layout'>(</span><span class='hs-varop'>`notElem`</span> <span class='hs-str'>"everything"</span> <span class='hs-conop'>:</span> <span class='hs-varid'>concat</span> <span class='hs-varid'>hierarchies</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span>
<a name="line-3970"></a>           <span class='hs-varid'>map</span> <span class='hs-varid'>fst</span> <span class='hs-varid'>warningGroups</span>
<a name="line-3971"></a>
<a name="line-3972"></a><a name="smallestGroups"></a><span class='hs-comment'>-- | Find the smallest group in every hierarchy which a warning</span>
<a name="line-3973"></a><span class='hs-comment'>-- belongs to, excluding Weverything.</span>
<a name="line-3974"></a><span class='hs-definition'>smallestGroups</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-3975"></a><span class='hs-definition'>smallestGroups</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mapMaybe</span> <span class='hs-varid'>go</span> <span class='hs-varid'>warningHierarchies</span> <span class='hs-keyword'>where</span>
<a name="line-3976"></a>    <span class='hs-comment'>-- Because each hierarchy is arranged from smallest to largest,</span>
<a name="line-3977"></a>    <span class='hs-comment'>-- the first group we find in a hierarchy which contains the flag</span>
<a name="line-3978"></a>    <span class='hs-comment'>-- is the smallest.</span>
<a name="line-3979"></a>    <span class='hs-varid'>go</span> <span class='hs-layout'>(</span><span class='hs-varid'>group</span><span class='hs-conop'>:</span><span class='hs-varid'>rest</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>fromMaybe</span> <span class='hs-layout'>(</span><span class='hs-varid'>go</span> <span class='hs-varid'>rest</span><span class='hs-layout'>)</span> <span class='hs-varop'>$</span> <span class='hs-keyword'>do</span>
<a name="line-3980"></a>        <span class='hs-varid'>flags</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>lookup</span> <span class='hs-varid'>group</span> <span class='hs-varid'>warningGroups</span>
<a name="line-3981"></a>        <span class='hs-varid'>guard</span> <span class='hs-layout'>(</span><span class='hs-varid'>flag</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>flags</span><span class='hs-layout'>)</span>
<a name="line-3982"></a>        <span class='hs-varid'>pure</span> <span class='hs-layout'>(</span><span class='hs-conid'>Just</span> <span class='hs-varid'>group</span><span class='hs-layout'>)</span>
<a name="line-3983"></a>    <span class='hs-varid'>go</span> <span class='hs-conid'>[]</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Nothing</span>
<a name="line-3984"></a>
<a name="line-3985"></a><a name="standardWarnings"></a><span class='hs-comment'>-- | Warnings enabled unless specified otherwise</span>
<a name="line-3986"></a><span class='hs-definition'>standardWarnings</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-3987"></a><span class='hs-definition'>standardWarnings</span> <span class='hs-comment'>-- see Note [Documenting warning flags]</span>
<a name="line-3988"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnOverlappingPatterns</span><span class='hs-layout'>,</span>
<a name="line-3989"></a>        <span class='hs-conid'>Opt_WarnWarningsDeprecations</span><span class='hs-layout'>,</span>
<a name="line-3990"></a>        <span class='hs-conid'>Opt_WarnDeprecatedFlags</span><span class='hs-layout'>,</span>
<a name="line-3991"></a>        <span class='hs-conid'>Opt_WarnDeferredTypeErrors</span><span class='hs-layout'>,</span>
<a name="line-3992"></a>        <span class='hs-conid'>Opt_WarnTypedHoles</span><span class='hs-layout'>,</span>
<a name="line-3993"></a>        <span class='hs-conid'>Opt_WarnDeferredOutOfScopeVariables</span><span class='hs-layout'>,</span>
<a name="line-3994"></a>        <span class='hs-conid'>Opt_WarnPartialTypeSignatures</span><span class='hs-layout'>,</span>
<a name="line-3995"></a>        <span class='hs-conid'>Opt_WarnUnrecognisedPragmas</span><span class='hs-layout'>,</span>
<a name="line-3996"></a>        <span class='hs-conid'>Opt_WarnDuplicateExports</span><span class='hs-layout'>,</span>
<a name="line-3997"></a>        <span class='hs-conid'>Opt_WarnDerivingDefaults</span><span class='hs-layout'>,</span>
<a name="line-3998"></a>        <span class='hs-conid'>Opt_WarnOverflowedLiterals</span><span class='hs-layout'>,</span>
<a name="line-3999"></a>        <span class='hs-conid'>Opt_WarnEmptyEnumerations</span><span class='hs-layout'>,</span>
<a name="line-4000"></a>        <span class='hs-conid'>Opt_WarnAmbiguousFields</span><span class='hs-layout'>,</span>
<a name="line-4001"></a>        <span class='hs-conid'>Opt_WarnMissingFields</span><span class='hs-layout'>,</span>
<a name="line-4002"></a>        <span class='hs-conid'>Opt_WarnMissingMethods</span><span class='hs-layout'>,</span>
<a name="line-4003"></a>        <span class='hs-conid'>Opt_WarnWrongDoBind</span><span class='hs-layout'>,</span>
<a name="line-4004"></a>        <span class='hs-conid'>Opt_WarnUnsupportedCallingConventions</span><span class='hs-layout'>,</span>
<a name="line-4005"></a>        <span class='hs-conid'>Opt_WarnDodgyForeignImports</span><span class='hs-layout'>,</span>
<a name="line-4006"></a>        <span class='hs-conid'>Opt_WarnInlineRuleShadowing</span><span class='hs-layout'>,</span>
<a name="line-4007"></a>        <span class='hs-conid'>Opt_WarnAlternativeLayoutRuleTransitional</span><span class='hs-layout'>,</span>
<a name="line-4008"></a>        <span class='hs-conid'>Opt_WarnUnsupportedLlvmVersion</span><span class='hs-layout'>,</span>
<a name="line-4009"></a>        <span class='hs-conid'>Opt_WarnMissedExtraSharedLib</span><span class='hs-layout'>,</span>
<a name="line-4010"></a>        <span class='hs-conid'>Opt_WarnTabs</span><span class='hs-layout'>,</span>
<a name="line-4011"></a>        <span class='hs-conid'>Opt_WarnUnrecognisedWarningFlags</span><span class='hs-layout'>,</span>
<a name="line-4012"></a>        <span class='hs-conid'>Opt_WarnSimplifiableClassConstraints</span><span class='hs-layout'>,</span>
<a name="line-4013"></a>        <span class='hs-conid'>Opt_WarnStarBinder</span><span class='hs-layout'>,</span>
<a name="line-4014"></a>        <span class='hs-conid'>Opt_WarnInaccessibleCode</span><span class='hs-layout'>,</span>
<a name="line-4015"></a>        <span class='hs-conid'>Opt_WarnSpaceAfterBang</span><span class='hs-layout'>,</span>
<a name="line-4016"></a>        <span class='hs-conid'>Opt_WarnNonCanonicalMonadInstances</span><span class='hs-layout'>,</span>
<a name="line-4017"></a>        <span class='hs-conid'>Opt_WarnNonCanonicalMonoidInstances</span><span class='hs-layout'>,</span>
<a name="line-4018"></a>        <span class='hs-conid'>Opt_WarnOperatorWhitespaceExtConflict</span><span class='hs-layout'>,</span>
<a name="line-4019"></a>        <span class='hs-conid'>Opt_WarnUnicodeBidirectionalFormatCharacters</span>
<a name="line-4020"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-4021"></a>
<a name="line-4022"></a><a name="minusWOpts"></a><span class='hs-comment'>-- | Things you get with -W</span>
<a name="line-4023"></a><span class='hs-definition'>minusWOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-4024"></a><span class='hs-definition'>minusWOpts</span>
<a name="line-4025"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>standardWarnings</span> <span class='hs-varop'>++</span>
<a name="line-4026"></a>      <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnUnusedTopBinds</span><span class='hs-layout'>,</span>
<a name="line-4027"></a>        <span class='hs-conid'>Opt_WarnUnusedLocalBinds</span><span class='hs-layout'>,</span>
<a name="line-4028"></a>        <span class='hs-conid'>Opt_WarnUnusedPatternBinds</span><span class='hs-layout'>,</span>
<a name="line-4029"></a>        <span class='hs-conid'>Opt_WarnUnusedMatches</span><span class='hs-layout'>,</span>
<a name="line-4030"></a>        <span class='hs-conid'>Opt_WarnUnusedForalls</span><span class='hs-layout'>,</span>
<a name="line-4031"></a>        <span class='hs-conid'>Opt_WarnUnusedImports</span><span class='hs-layout'>,</span>
<a name="line-4032"></a>        <span class='hs-conid'>Opt_WarnIncompletePatterns</span><span class='hs-layout'>,</span>
<a name="line-4033"></a>        <span class='hs-conid'>Opt_WarnDodgyExports</span><span class='hs-layout'>,</span>
<a name="line-4034"></a>        <span class='hs-conid'>Opt_WarnDodgyImports</span><span class='hs-layout'>,</span>
<a name="line-4035"></a>        <span class='hs-conid'>Opt_WarnUnbangedStrictPatterns</span>
<a name="line-4036"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-4037"></a>
<a name="line-4038"></a><a name="minusWallOpts"></a><span class='hs-comment'>-- | Things you get with -Wall</span>
<a name="line-4039"></a><span class='hs-definition'>minusWallOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-4040"></a><span class='hs-definition'>minusWallOpts</span>
<a name="line-4041"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>minusWOpts</span> <span class='hs-varop'>++</span>
<a name="line-4042"></a>      <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnTypeDefaults</span><span class='hs-layout'>,</span>
<a name="line-4043"></a>        <span class='hs-conid'>Opt_WarnNameShadowing</span><span class='hs-layout'>,</span>
<a name="line-4044"></a>        <span class='hs-conid'>Opt_WarnMissingSignatures</span><span class='hs-layout'>,</span>
<a name="line-4045"></a>        <span class='hs-conid'>Opt_WarnHiShadows</span><span class='hs-layout'>,</span>
<a name="line-4046"></a>        <span class='hs-conid'>Opt_WarnOrphans</span><span class='hs-layout'>,</span>
<a name="line-4047"></a>        <span class='hs-conid'>Opt_WarnUnusedDoBind</span><span class='hs-layout'>,</span>
<a name="line-4048"></a>        <span class='hs-conid'>Opt_WarnTrustworthySafe</span><span class='hs-layout'>,</span>
<a name="line-4049"></a>        <span class='hs-conid'>Opt_WarnUntickedPromotedConstructors</span><span class='hs-layout'>,</span>
<a name="line-4050"></a>        <span class='hs-conid'>Opt_WarnMissingPatternSynonymSignatures</span><span class='hs-layout'>,</span>
<a name="line-4051"></a>        <span class='hs-conid'>Opt_WarnUnusedRecordWildcards</span><span class='hs-layout'>,</span>
<a name="line-4052"></a>        <span class='hs-conid'>Opt_WarnRedundantRecordWildcards</span><span class='hs-layout'>,</span>
<a name="line-4053"></a>        <span class='hs-conid'>Opt_WarnStarIsType</span><span class='hs-layout'>,</span>
<a name="line-4054"></a>        <span class='hs-conid'>Opt_WarnIncompleteUniPatterns</span><span class='hs-layout'>,</span>
<a name="line-4055"></a>        <span class='hs-conid'>Opt_WarnIncompletePatternsRecUpd</span>
<a name="line-4056"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-4057"></a>
<a name="line-4058"></a><a name="minusWeverythingOpts"></a><span class='hs-comment'>-- | Things you get with -Weverything, i.e. *all* known warnings flags</span>
<a name="line-4059"></a><span class='hs-definition'>minusWeverythingOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-4060"></a><span class='hs-definition'>minusWeverythingOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-varid'>toEnum</span> <span class='hs-num'>0</span> <span class='hs-keyglyph'>..</span> <span class='hs-keyglyph'>]</span>
<a name="line-4061"></a>
<a name="line-4062"></a><a name="minusWcompatOpts"></a><span class='hs-comment'>-- | Things you get with -Wcompat.</span>
<a name="line-4063"></a><span class='hs-comment'>--</span>
<a name="line-4064"></a><span class='hs-comment'>-- This is intended to group together warnings that will be enabled by default</span>
<a name="line-4065"></a><span class='hs-comment'>-- at some point in the future, so that library authors eager to make their</span>
<a name="line-4066"></a><span class='hs-comment'>-- code future compatible to fix issues before they even generate warnings.</span>
<a name="line-4067"></a><span class='hs-definition'>minusWcompatOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-4068"></a><span class='hs-definition'>minusWcompatOpts</span>
<a name="line-4069"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnSemigroup</span>
<a name="line-4070"></a>      <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnNonCanonicalMonoidInstances</span>
<a name="line-4071"></a>      <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnStarIsType</span>
<a name="line-4072"></a>      <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnCompatUnqualifiedImports</span>
<a name="line-4073"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-4074"></a>
<a name="line-4075"></a><a name="enableUnusedBinds"></a><span class='hs-definition'>enableUnusedBinds</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4076"></a><span class='hs-definition'>enableUnusedBinds</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mapM_</span> <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>unusedBindsFlags</span>
<a name="line-4077"></a>
<a name="line-4078"></a><a name="disableUnusedBinds"></a><span class='hs-definition'>disableUnusedBinds</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4079"></a><span class='hs-definition'>disableUnusedBinds</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mapM_</span> <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-varid'>unusedBindsFlags</span>
<a name="line-4080"></a>
<a name="line-4081"></a><a name="unusedBindsFlags"></a><span class='hs-comment'>-- Things you get with -Wunused-binds</span>
<a name="line-4082"></a><span class='hs-definition'>unusedBindsFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>WarningFlag</span><span class='hs-keyglyph'>]</span>
<a name="line-4083"></a><span class='hs-definition'>unusedBindsFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-conid'>Opt_WarnUnusedTopBinds</span>
<a name="line-4084"></a>                   <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnUnusedLocalBinds</span>
<a name="line-4085"></a>                   <span class='hs-layout'>,</span> <span class='hs-conid'>Opt_WarnUnusedPatternBinds</span>
<a name="line-4086"></a>                   <span class='hs-keyglyph'>]</span>
<a name="line-4087"></a>
<a name="line-4088"></a><a name="enableGlasgowExts"></a><span class='hs-definition'>enableGlasgowExts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4089"></a><span class='hs-definition'>enableGlasgowExts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PrintExplicitForalls</span>
<a name="line-4090"></a>                       <span class='hs-varid'>mapM_</span> <span class='hs-varid'>setExtensionFlag</span> <span class='hs-varid'>glasgowExtsFlags</span>
<a name="line-4091"></a>
<a name="line-4092"></a><a name="disableGlasgowExts"></a><span class='hs-definition'>disableGlasgowExts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4093"></a><span class='hs-definition'>disableGlasgowExts</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-conid'>Opt_PrintExplicitForalls</span>
<a name="line-4094"></a>                        <span class='hs-varid'>mapM_</span> <span class='hs-varid'>unSetExtensionFlag</span> <span class='hs-varid'>glasgowExtsFlags</span>
<a name="line-4095"></a>
<a name="line-4096"></a><a name="glasgowExtsFlags"></a><span class='hs-comment'>-- Please keep what_glasgow_exts_does.rst up to date with this list</span>
<a name="line-4097"></a><span class='hs-definition'>glasgowExtsFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>LangExt.Extension</span><span class='hs-keyglyph'>]</span>
<a name="line-4098"></a><span class='hs-definition'>glasgowExtsFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span>
<a name="line-4099"></a>             <span class='hs-conid'>LangExt.ConstrainedClassMethods</span>
<a name="line-4100"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveDataTypeable</span>
<a name="line-4101"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveFoldable</span>
<a name="line-4102"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveFunctor</span>
<a name="line-4103"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveGeneric</span>
<a name="line-4104"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.DeriveTraversable</span>
<a name="line-4105"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.EmptyDataDecls</span>
<a name="line-4106"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExistentialQuantification</span>
<a name="line-4107"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ExplicitNamespaces</span>
<a name="line-4108"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.FlexibleContexts</span>
<a name="line-4109"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.FlexibleInstances</span>
<a name="line-4110"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ForeignFunctionInterface</span>
<a name="line-4111"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.FunctionalDependencies</span>
<a name="line-4112"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.GeneralizedNewtypeDeriving</span>
<a name="line-4113"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ImplicitParams</span>
<a name="line-4114"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.KindSignatures</span>
<a name="line-4115"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.LiberalTypeSynonyms</span>
<a name="line-4116"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.MagicHash</span>
<a name="line-4117"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.MultiParamTypeClasses</span>
<a name="line-4118"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ParallelListComp</span>
<a name="line-4119"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.PatternGuards</span>
<a name="line-4120"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.PostfixOperators</span>
<a name="line-4121"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.RankNTypes</span>
<a name="line-4122"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.RecursiveDo</span>
<a name="line-4123"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.ScopedTypeVariables</span>
<a name="line-4124"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.StandaloneDeriving</span>
<a name="line-4125"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.TypeOperators</span>
<a name="line-4126"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.TypeSynonymInstances</span>
<a name="line-4127"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.UnboxedTuples</span>
<a name="line-4128"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.UnicodeSyntax</span>
<a name="line-4129"></a>           <span class='hs-layout'>,</span> <span class='hs-conid'>LangExt.UnliftedFFITypes</span> <span class='hs-keyglyph'>]</span>
<a name="line-4130"></a>
<a name="line-4131"></a><a name="setWarnSafe"></a><span class='hs-definition'>setWarnSafe</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4132"></a><span class='hs-definition'>setWarnSafe</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>warnSafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4133"></a><span class='hs-definition'>setWarnSafe</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4134"></a>
<a name="line-4135"></a><a name="setWarnUnsafe"></a><span class='hs-definition'>setWarnUnsafe</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Bool</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4136"></a><span class='hs-definition'>setWarnUnsafe</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>warnUnsafeOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4137"></a><span class='hs-definition'>setWarnUnsafe</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4138"></a>
<a name="line-4139"></a><a name="setPackageTrust"></a><span class='hs-definition'>setPackageTrust</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4140"></a><span class='hs-definition'>setPackageTrust</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4141"></a>    <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_PackageTrust</span>
<a name="line-4142"></a>    <span class='hs-varid'>l</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCurLoc</span>
<a name="line-4143"></a>    <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>pkgTrustOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-4144"></a>
<a name="line-4145"></a><a name="setGenDeriving"></a><span class='hs-definition'>setGenDeriving</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4146"></a><span class='hs-definition'>setGenDeriving</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>newDerivOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4147"></a><span class='hs-definition'>setGenDeriving</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4148"></a>
<a name="line-4149"></a><a name="setDeriveVia"></a><span class='hs-definition'>setDeriveVia</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4150"></a><span class='hs-definition'>setDeriveVia</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>deriveViaOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4151"></a><span class='hs-definition'>setDeriveVia</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4152"></a>
<a name="line-4153"></a><a name="setOverlappingInsts"></a><span class='hs-definition'>setOverlappingInsts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4154"></a><span class='hs-definition'>setOverlappingInsts</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4155"></a><span class='hs-definition'>setOverlappingInsts</span> <span class='hs-conid'>True</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4156"></a>  <span class='hs-varid'>l</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCurLoc</span>
<a name="line-4157"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>overlapInstLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4158"></a>
<a name="line-4159"></a><a name="setIncoherentInsts"></a><span class='hs-definition'>setIncoherentInsts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4160"></a><span class='hs-definition'>setIncoherentInsts</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4161"></a><span class='hs-definition'>setIncoherentInsts</span> <span class='hs-conid'>True</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4162"></a>  <span class='hs-varid'>l</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCurLoc</span>
<a name="line-4163"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>incoherentOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4164"></a>
<a name="line-4165"></a><a name="checkTemplateHaskellOk"></a><span class='hs-definition'>checkTemplateHaskellOk</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>TurnOnFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4166"></a><span class='hs-definition'>checkTemplateHaskellOk</span> <span class='hs-sel'>_turn_on</span>
<a name="line-4167"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>getCurLoc</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>l</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>thOnLoc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4168"></a>
<a name="line-4169"></a><span class='hs-comment'>{- **********************************************************************
<a name="line-4170"></a>%*                                                                      *
<a name="line-4171"></a>                DynFlags constructors
<a name="line-4172"></a>%*                                                                      *
<a name="line-4173"></a>%********************************************************************* -}</span>
<a name="line-4174"></a>
<a name="line-4175"></a><a name="DynP"></a><span class='hs-keyword'>type</span> <span class='hs-conid'>DynP</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EwM</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4176"></a>
<a name="line-4177"></a><a name="upd"></a><span class='hs-definition'>upd</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4178"></a><span class='hs-definition'>upd</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>liftEwM</span> <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-4179"></a>                    <span class='hs-varid'>putCmdLineState</span> <span class='hs-varop'>$!</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4180"></a>
<a name="line-4181"></a><a name="updM"></a><span class='hs-definition'>updM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4182"></a><span class='hs-definition'>updM</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-4183"></a>            <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span>
<a name="line-4184"></a>            <span class='hs-varid'>liftEwM</span> <span class='hs-varop'>$</span> <span class='hs-varid'>putCmdLineState</span> <span class='hs-varop'>$!</span> <span class='hs-varid'>dflags'</span>
<a name="line-4185"></a>
<a name="line-4186"></a><a name="noArg"></a><span class='hs-comment'>--------------- Constructor functions for OptKind -----------------</span>
<a name="line-4187"></a><span class='hs-definition'>noArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4188"></a><span class='hs-definition'>noArg</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-4189"></a>
<a name="line-4190"></a><a name="noArgM"></a><span class='hs-definition'>noArgM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4191"></a><span class='hs-definition'>noArgM</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>updM</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-4192"></a>
<a name="line-4193"></a><a name="hasArg"></a><span class='hs-definition'>hasArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4194"></a><span class='hs-definition'>hasArg</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HasArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-4195"></a>
<a name="line-4196"></a><a name="sepArg"></a><span class='hs-definition'>sepArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4197"></a><span class='hs-definition'>sepArg</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SepArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>fn</span><span class='hs-layout'>)</span>
<a name="line-4198"></a>
<a name="line-4199"></a><a name="intSuffix"></a><span class='hs-definition'>intSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4200"></a><span class='hs-definition'>intSuffix</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4201"></a>
<a name="line-4202"></a><a name="intSuffixM"></a><span class='hs-definition'>intSuffixM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4203"></a><span class='hs-definition'>intSuffixM</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IntSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>updM</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4204"></a>
<a name="line-4205"></a><a name="wordSuffix"></a><span class='hs-definition'>wordSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Word</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4206"></a><span class='hs-definition'>wordSuffix</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>WordSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4207"></a>
<a name="line-4208"></a><a name="floatSuffix"></a><span class='hs-definition'>floatSuffix</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Float</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4209"></a><span class='hs-definition'>floatSuffix</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>FloatSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>n</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>n</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4210"></a>
<a name="line-4211"></a><a name="optIntSuffixM"></a><span class='hs-definition'>optIntSuffixM</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4212"></a>              <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4213"></a><span class='hs-definition'>optIntSuffixM</span> <span class='hs-varid'>fn</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>OptIntSuffix</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>mi</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>updM</span> <span class='hs-layout'>(</span><span class='hs-varid'>fn</span> <span class='hs-varid'>mi</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4214"></a>
<a name="line-4215"></a><a name="setDumpFlag"></a><span class='hs-definition'>setDumpFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OptKind</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineP</span> <span class='hs-conid'>DynFlags</span><span class='hs-layout'>)</span>
<a name="line-4216"></a><span class='hs-definition'>setDumpFlag</span> <span class='hs-varid'>dump_flag</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>setDumpFlag'</span> <span class='hs-varid'>dump_flag</span><span class='hs-layout'>)</span>
<a name="line-4217"></a>
<a name="line-4218"></a><a name="addWayDynP"></a><span class='hs-comment'>--------------------------</span>
<a name="line-4219"></a><span class='hs-definition'>addWayDynP</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4220"></a><span class='hs-definition'>addWayDynP</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>.</span> <span class='hs-varid'>addWay'</span>
<a name="line-4221"></a>
<a name="line-4222"></a><a name="addWay'"></a><span class='hs-definition'>addWay'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Way</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4223"></a><span class='hs-definition'>addWay'</span> <span class='hs-varid'>w</span> <span class='hs-varid'>dflags0</span> <span class='hs-keyglyph'>=</span>
<a name="line-4224"></a>   <span class='hs-keyword'>let</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags0</span>
<a name="line-4225"></a>       <span class='hs-varid'>dflags1</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags0</span> <span class='hs-layout'>{</span> <span class='hs-varid'>targetWays_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addWay</span> <span class='hs-varid'>w</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetWays_</span> <span class='hs-varid'>dflags0</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-4226"></a>       <span class='hs-varid'>dflags2</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>setGeneralFlag'</span> <span class='hs-varid'>dflags1</span>
<a name="line-4227"></a>                       <span class='hs-layout'>(</span><span class='hs-varid'>wayGeneralFlags</span> <span class='hs-varid'>platform</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-4228"></a>       <span class='hs-varid'>dflags3</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-varid'>unSetGeneralFlag'</span> <span class='hs-varid'>dflags2</span>
<a name="line-4229"></a>                       <span class='hs-layout'>(</span><span class='hs-varid'>wayUnsetGeneralFlags</span> <span class='hs-varid'>platform</span> <span class='hs-varid'>w</span><span class='hs-layout'>)</span>
<a name="line-4230"></a>   <span class='hs-keyword'>in</span> <span class='hs-varid'>dflags3</span>
<a name="line-4231"></a>
<a name="line-4232"></a><a name="removeWayDyn"></a><span class='hs-definition'>removeWayDyn</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4233"></a><span class='hs-definition'>removeWayDyn</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span> <span class='hs-layout'>{</span> <span class='hs-varid'>targetWays_</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Set.filter</span> <span class='hs-layout'>(</span><span class='hs-conid'>WayDyn</span> <span class='hs-varop'>/=</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetWays_</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4234"></a>
<a name="line-4235"></a><a name="setGeneralFlag"></a><span class='hs-comment'>--------------------------</span>
<a name="line-4236"></a><span class='hs-definition'>setGeneralFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetGeneralFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4237"></a><span class='hs-definition'>setGeneralFlag</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4238"></a><a name="unSetGeneralFlag"></a><span class='hs-definition'>unSetGeneralFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetGeneralFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4239"></a>
<a name="line-4240"></a><a name="setGeneralFlag'"></a><span class='hs-definition'>setGeneralFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4241"></a><span class='hs-definition'>setGeneralFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varop'>$</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>deps</span>
<a name="line-4242"></a>  <span class='hs-keyword'>where</span>
<a name="line-4243"></a>    <span class='hs-varid'>deps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>setGeneralFlag'</span>   <span class='hs-varid'>d</span>
<a name="line-4244"></a>                        <span class='hs-keyword'>else</span> <span class='hs-varid'>unSetGeneralFlag'</span> <span class='hs-varid'>d</span>
<a name="line-4245"></a>           <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>f'</span><span class='hs-layout'>,</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>,</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>impliedGFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>f'</span> <span class='hs-varop'>==</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>]</span>
<a name="line-4246"></a>        <span class='hs-comment'>-- When you set f, set the ones it implies</span>
<a name="line-4247"></a>        <span class='hs-comment'>-- NB: use setGeneralFlag recursively, in case the implied flags</span>
<a name="line-4248"></a>        <span class='hs-comment'>--     implies further flags</span>
<a name="line-4249"></a>
<a name="line-4250"></a><a name="unSetGeneralFlag'"></a><span class='hs-definition'>unSetGeneralFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>GeneralFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4251"></a><span class='hs-definition'>unSetGeneralFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varop'>$</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>deps</span>
<a name="line-4252"></a>  <span class='hs-keyword'>where</span>
<a name="line-4253"></a>    <span class='hs-varid'>deps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>setGeneralFlag'</span> <span class='hs-varid'>d</span>
<a name="line-4254"></a>                        <span class='hs-keyword'>else</span> <span class='hs-varid'>unSetGeneralFlag'</span> <span class='hs-varid'>d</span>
<a name="line-4255"></a>           <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>f'</span><span class='hs-layout'>,</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>,</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>impliedOffGFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>f'</span> <span class='hs-varop'>==</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>]</span>
<a name="line-4256"></a>   <span class='hs-comment'>-- In general, when you un-set f, we don't un-set the things it implies.</span>
<a name="line-4257"></a>   <span class='hs-comment'>-- There are however some exceptions, e.g., -fno-strictness implies</span>
<a name="line-4258"></a>   <span class='hs-comment'>-- -fno-worker-wrapper.</span>
<a name="line-4259"></a>   <span class='hs-comment'>--</span>
<a name="line-4260"></a>   <span class='hs-comment'>-- NB: use unSetGeneralFlag' recursively, in case the implied off flags</span>
<a name="line-4261"></a>   <span class='hs-comment'>--     imply further flags.</span>
<a name="line-4262"></a>
<a name="line-4263"></a><a name="setWarningFlag"></a><span class='hs-comment'>--------------------------</span>
<a name="line-4264"></a><span class='hs-definition'>setWarningFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetWarningFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4265"></a><span class='hs-definition'>setWarningFlag</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>wopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4266"></a><a name="unSetWarningFlag"></a><span class='hs-definition'>unSetWarningFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>wopt_unset</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4267"></a>
<a name="line-4268"></a><a name="setFatalWarningFlag"></a><span class='hs-definition'>setFatalWarningFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetFatalWarningFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4269"></a><span class='hs-definition'>setFatalWarningFlag</span>   <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>wopt_set_fatal</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4270"></a><a name="unSetFatalWarningFlag"></a><span class='hs-definition'>unSetFatalWarningFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>wopt_unset_fatal</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4271"></a>
<a name="line-4272"></a><a name="setWErrorFlag"></a><span class='hs-definition'>setWErrorFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>WarningFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4273"></a><span class='hs-definition'>setWErrorFlag</span> <span class='hs-varid'>flag</span> <span class='hs-keyglyph'>=</span>
<a name="line-4274"></a>  <span class='hs-keyword'>do</span> <span class='hs-layout'>{</span> <span class='hs-varid'>setWarningFlag</span> <span class='hs-varid'>flag</span>
<a name="line-4275"></a>     <span class='hs-layout'>;</span> <span class='hs-varid'>setFatalWarningFlag</span> <span class='hs-varid'>flag</span> <span class='hs-layout'>}</span>
<a name="line-4276"></a>
<a name="line-4277"></a><a name="setExtensionFlag"></a><span class='hs-comment'>--------------------------</span>
<a name="line-4278"></a><span class='hs-definition'>setExtensionFlag</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetExtensionFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LangExt.Extension</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4279"></a><span class='hs-definition'>setExtensionFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>setExtensionFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4280"></a><a name="unSetExtensionFlag"></a><span class='hs-definition'>unSetExtensionFlag</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>unSetExtensionFlag'</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span>
<a name="line-4281"></a>
<a name="line-4282"></a><a name="setExtensionFlag'"></a><span class='hs-definition'>setExtensionFlag'</span><span class='hs-layout'>,</span> <span class='hs-varid'>unSetExtensionFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>LangExt.Extension</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4283"></a><span class='hs-definition'>setExtensionFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>foldr</span> <span class='hs-layout'>(</span><span class='hs-varop'>$</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>xopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span><span class='hs-layout'>)</span> <span class='hs-varid'>deps</span>
<a name="line-4284"></a>  <span class='hs-keyword'>where</span>
<a name="line-4285"></a>    <span class='hs-varid'>deps</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span> <span class='hs-keyword'>if</span> <span class='hs-varid'>turn_on</span> <span class='hs-keyword'>then</span> <span class='hs-varid'>setExtensionFlag'</span>   <span class='hs-varid'>d</span>
<a name="line-4286"></a>                        <span class='hs-keyword'>else</span> <span class='hs-varid'>unSetExtensionFlag'</span> <span class='hs-varid'>d</span>
<a name="line-4287"></a>           <span class='hs-keyglyph'>|</span> <span class='hs-layout'>(</span><span class='hs-varid'>f'</span><span class='hs-layout'>,</span> <span class='hs-varid'>turn_on</span><span class='hs-layout'>,</span> <span class='hs-varid'>d</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>impliedXFlags</span><span class='hs-layout'>,</span> <span class='hs-varid'>f'</span> <span class='hs-varop'>==</span> <span class='hs-varid'>f</span> <span class='hs-keyglyph'>]</span>
<a name="line-4288"></a>        <span class='hs-comment'>-- When you set f, set the ones it implies</span>
<a name="line-4289"></a>        <span class='hs-comment'>-- NB: use setExtensionFlag recursively, in case the implied flags</span>
<a name="line-4290"></a>        <span class='hs-comment'>--     implies further flags</span>
<a name="line-4291"></a>
<a name="line-4292"></a><a name="unSetExtensionFlag'"></a><span class='hs-definition'>unSetExtensionFlag'</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>f</span>
<a name="line-4293"></a>   <span class='hs-comment'>-- When you un-set f, however, we don't un-set the things it implies</span>
<a name="line-4294"></a>   <span class='hs-comment'>--      (except for -fno-glasgow-exts, which is treated specially)</span>
<a name="line-4295"></a>
<a name="line-4296"></a><a name="alterFileSettings"></a><span class='hs-comment'>--------------------------</span>
<a name="line-4297"></a><span class='hs-definition'>alterFileSettings</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>FileSettings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>FileSettings</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4298"></a><span class='hs-definition'>alterFileSettings</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynFlags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>fileSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>fileSettings</span> <span class='hs-varid'>dynFlags</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-4299"></a>
<a name="line-4300"></a><a name="alterToolSettings"></a><span class='hs-definition'>alterToolSettings</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>(</span><span class='hs-conid'>ToolSettings</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>ToolSettings</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4301"></a><span class='hs-definition'>alterToolSettings</span> <span class='hs-varid'>f</span> <span class='hs-varid'>dynFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynFlags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>toolSettings</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>f</span> <span class='hs-layout'>(</span><span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dynFlags</span><span class='hs-layout'>)</span> <span class='hs-layout'>}</span>
<a name="line-4302"></a>
<a name="line-4303"></a><a name="setDumpFlag'"></a><span class='hs-comment'>--------------------------</span>
<a name="line-4304"></a><span class='hs-definition'>setDumpFlag'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DumpFlag</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4305"></a><span class='hs-definition'>setDumpFlag'</span> <span class='hs-varid'>dump_flag</span>
<a name="line-4306"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dopt_set</span> <span class='hs-varid'>dfs</span> <span class='hs-varid'>dump_flag</span><span class='hs-layout'>)</span>
<a name="line-4307"></a>       <span class='hs-varid'>when</span> <span class='hs-varid'>want_recomp</span> <span class='hs-varid'>forceRecompile</span>
<a name="line-4308"></a>    <span class='hs-keyword'>where</span> <span class='hs-comment'>-- Certain dumpy-things are really interested in what's going</span>
<a name="line-4309"></a>          <span class='hs-comment'>-- on during recompilation checking, so in those cases we</span>
<a name="line-4310"></a>          <span class='hs-comment'>-- don't want to turn it off.</span>
<a name="line-4311"></a>          <span class='hs-varid'>want_recomp</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dump_flag</span> <span class='hs-varop'>`notElem`</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Opt_D_dump_if_trace</span><span class='hs-layout'>,</span>
<a name="line-4312"></a>                                             <span class='hs-conid'>Opt_D_dump_hi_diffs</span><span class='hs-layout'>,</span>
<a name="line-4313"></a>                                             <span class='hs-conid'>Opt_D_no_debug_output</span><span class='hs-keyglyph'>]</span>
<a name="line-4314"></a>
<a name="line-4315"></a><a name="forceRecompile"></a><span class='hs-definition'>forceRecompile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4316"></a><span class='hs-comment'>-- Whenever we -ddump, force recompilation (by switching off the</span>
<a name="line-4317"></a><span class='hs-comment'>-- recompilation checker), else you don't see the dump! However,</span>
<a name="line-4318"></a><span class='hs-comment'>-- don't switch it off in --make mode, else *everything* gets</span>
<a name="line-4319"></a><span class='hs-comment'>-- recompiled which probably isn't what you want</span>
<a name="line-4320"></a><span class='hs-definition'>forceRecompile</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>liftEwM</span> <span class='hs-varid'>getCmdLineState</span>
<a name="line-4321"></a>                    <span class='hs-varid'>when</span> <span class='hs-layout'>(</span><span class='hs-varid'>force_recomp</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_ForceRecomp</span><span class='hs-layout'>)</span>
<a name="line-4322"></a>        <span class='hs-keyword'>where</span>
<a name="line-4323"></a>          <span class='hs-varid'>force_recomp</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>isOneShot</span> <span class='hs-layout'>(</span><span class='hs-varid'>ghcMode</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>)</span>
<a name="line-4324"></a>
<a name="line-4325"></a>
<a name="line-4326"></a><a name="setVerboseCore2Core"></a><span class='hs-definition'>setVerboseCore2Core</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4327"></a><span class='hs-definition'>setVerboseCore2Core</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setDumpFlag'</span> <span class='hs-conid'>Opt_D_verbose_core2core</span>
<a name="line-4328"></a>
<a name="line-4329"></a><a name="setVerbosity"></a><span class='hs-definition'>setVerbosity</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4330"></a><span class='hs-definition'>setVerbosity</span> <span class='hs-varid'>mb_n</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>verbosity</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mb_n</span> <span class='hs-varop'>`orElse`</span> <span class='hs-num'>3</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4331"></a>
<a name="line-4332"></a><a name="setDebugLevel"></a><span class='hs-definition'>setDebugLevel</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4333"></a><span class='hs-definition'>setDebugLevel</span> <span class='hs-varid'>mb_n</span> <span class='hs-keyglyph'>=</span>
<a name="line-4334"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>exposeSyms</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>debugLevel</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>n</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4335"></a>  <span class='hs-keyword'>where</span>
<a name="line-4336"></a>    <span class='hs-varid'>n</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mb_n</span> <span class='hs-varop'>`orElse`</span> <span class='hs-num'>2</span>
<a name="line-4337"></a>    <span class='hs-varid'>exposeSyms</span>
<a name="line-4338"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>n</span> <span class='hs-varop'>&gt;</span> <span class='hs-num'>2</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>setGeneralFlag'</span> <span class='hs-conid'>Opt_ExposeInternalSymbols</span>
<a name="line-4339"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>id</span>
<a name="line-4340"></a>
<a name="line-4341"></a><a name="PkgDbRef"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>PkgDbRef</span>
<a name="line-4342"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>GlobalPkgDb</span>
<a name="line-4343"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UserPkgDb</span>
<a name="line-4344"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>PkgDbPath</span> <span class='hs-conid'>FilePath</span>
<a name="line-4345"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-4346"></a>
<a name="line-4347"></a><a name="addPkgDbRef"></a><span class='hs-definition'>addPkgDbRef</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>PkgDbRef</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4348"></a><span class='hs-definition'>addPkgDbRef</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4349"></a>  <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>PackageDB</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-4350"></a>
<a name="line-4351"></a><a name="removeUserPkgDb"></a><span class='hs-definition'>removeUserPkgDb</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4352"></a><span class='hs-definition'>removeUserPkgDb</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4353"></a>  <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoUserPackageDB</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-4354"></a>
<a name="line-4355"></a><a name="removeGlobalPkgDb"></a><span class='hs-definition'>removeGlobalPkgDb</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4356"></a><span class='hs-definition'>removeGlobalPkgDb</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4357"></a> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NoGlobalPackageDB</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-4358"></a>
<a name="line-4359"></a><a name="clearPkgDb"></a><span class='hs-definition'>clearPkgDb</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4360"></a><span class='hs-definition'>clearPkgDb</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4361"></a>  <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ClearPackageDBs</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageDBFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span>
<a name="line-4362"></a>
<a name="line-4363"></a><a name="parsePackageFlag"></a><span class='hs-definition'>parsePackageFlag</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span>                 <span class='hs-comment'>-- the flag</span>
<a name="line-4364"></a>                 <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>ReadP</span> <span class='hs-conid'>PackageArg</span>       <span class='hs-comment'>-- type of argument</span>
<a name="line-4365"></a>                 <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>                 <span class='hs-comment'>-- string to parse</span>
<a name="line-4366"></a>                 <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PackageFlag</span>
<a name="line-4367"></a><span class='hs-definition'>parsePackageFlag</span> <span class='hs-varid'>flag</span> <span class='hs-varid'>arg_parse</span> <span class='hs-varid'>str</span>
<a name="line-4368"></a> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>filter</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varop'>==</span><span class='hs-str'>""</span><span class='hs-layout'>)</span><span class='hs-varop'>.</span><span class='hs-varid'>snd</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>readP_to_S</span> <span class='hs-varid'>parse</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-4369"></a>    <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-varid'>r</span><span class='hs-layout'>,</span> <span class='hs-str'>""</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>r</span>
<a name="line-4370"></a>    <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-varop'>$</span> <span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"Can't parse package flag: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span>
<a name="line-4371"></a>  <span class='hs-keyword'>where</span> <span class='hs-varid'>doc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>flag</span> <span class='hs-varop'>++</span> <span class='hs-str'>" "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span>
<a name="line-4372"></a>        <span class='hs-varid'>parse</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4373"></a>            <span class='hs-varid'>pkg_arg</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varid'>arg_parse</span>
<a name="line-4374"></a>            <span class='hs-keyword'>let</span> <span class='hs-varid'>mk_expose</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ExposePackage</span> <span class='hs-varid'>doc</span> <span class='hs-varid'>pkg_arg</span>
<a name="line-4375"></a>            <span class='hs-layout'>(</span> <span class='hs-keyword'>do</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-varid'>string</span> <span class='hs-str'>"with"</span>
<a name="line-4376"></a>                 <span class='hs-varid'>fmap</span> <span class='hs-layout'>(</span><span class='hs-varid'>mk_expose</span> <span class='hs-varop'>.</span> <span class='hs-conid'>ModRenaming</span> <span class='hs-conid'>True</span><span class='hs-layout'>)</span> <span class='hs-varid'>parseRns</span>
<a name="line-4377"></a>             <span class='hs-varop'>&lt;++</span> <span class='hs-varid'>fmap</span> <span class='hs-layout'>(</span><span class='hs-varid'>mk_expose</span> <span class='hs-varop'>.</span> <span class='hs-conid'>ModRenaming</span> <span class='hs-conid'>False</span><span class='hs-layout'>)</span> <span class='hs-varid'>parseRns</span>
<a name="line-4378"></a>             <span class='hs-varop'>&lt;++</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>mk_expose</span> <span class='hs-layout'>(</span><span class='hs-conid'>ModRenaming</span> <span class='hs-conid'>True</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4379"></a>        <span class='hs-varid'>parseRns</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-conid'>R.char</span> <span class='hs-chr'>'('</span>
<a name="line-4380"></a>                      <span class='hs-varid'>rns</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-varid'>sepBy</span> <span class='hs-varid'>parseItem</span> <span class='hs-layout'>(</span><span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-conid'>R.char</span> <span class='hs-chr'>','</span><span class='hs-layout'>)</span>
<a name="line-4381"></a>                      <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-conid'>R.char</span> <span class='hs-chr'>')'</span>
<a name="line-4382"></a>                      <span class='hs-varid'>return</span> <span class='hs-varid'>rns</span>
<a name="line-4383"></a>        <span class='hs-varid'>parseItem</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4384"></a>            <span class='hs-varid'>orig</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-varid'>parseModuleName</span>
<a name="line-4385"></a>            <span class='hs-layout'>(</span><span class='hs-keyword'>do</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-varid'>string</span> <span class='hs-str'>"as"</span>
<a name="line-4386"></a>                <span class='hs-varid'>new</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>tok</span> <span class='hs-varop'>$</span> <span class='hs-varid'>parseModuleName</span>
<a name="line-4387"></a>                <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>orig</span><span class='hs-layout'>,</span> <span class='hs-varid'>new</span><span class='hs-layout'>)</span>
<a name="line-4388"></a>              <span class='hs-varop'>+++</span>
<a name="line-4389"></a>             <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>orig</span><span class='hs-layout'>,</span> <span class='hs-varid'>orig</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4390"></a>        <span class='hs-varid'>tok</span> <span class='hs-varid'>m</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>m</span> <span class='hs-varop'>&gt;&gt;=</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>x</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>skipSpaces</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-varid'>return</span> <span class='hs-varid'>x</span>
<a name="line-4391"></a>
<a name="line-4392"></a><a name="exposePackage"></a><span class='hs-definition'>exposePackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>exposePackageId</span><span class='hs-layout'>,</span> <span class='hs-varid'>hidePackage</span><span class='hs-layout'>,</span>
<a name="line-4393"></a>        <span class='hs-varid'>exposePluginPackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>exposePluginPackageId</span><span class='hs-layout'>,</span>
<a name="line-4394"></a>        <span class='hs-varid'>ignorePackage</span><span class='hs-layout'>,</span>
<a name="line-4395"></a>        <span class='hs-varid'>trustPackage</span><span class='hs-layout'>,</span> <span class='hs-varid'>distrustPackage</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4396"></a><span class='hs-definition'>exposePackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-varid'>exposePackage'</span> <span class='hs-varid'>p</span><span class='hs-layout'>)</span>
<a name="line-4397"></a><a name="exposePackageId"></a><span class='hs-definition'>exposePackageId</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4398"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span>
<a name="line-4399"></a>    <span class='hs-varid'>parsePackageFlag</span> <span class='hs-str'>"-package-id"</span> <span class='hs-varid'>parseUnitArg</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4400"></a><a name="exposePluginPackage"></a><span class='hs-definition'>exposePluginPackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4401"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>pluginPackageFlags</span> <span class='hs-keyglyph'>=</span>
<a name="line-4402"></a>    <span class='hs-varid'>parsePackageFlag</span> <span class='hs-str'>"-plugin-package"</span> <span class='hs-varid'>parsePackageArg</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>pluginPackageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4403"></a><a name="exposePluginPackageId"></a><span class='hs-definition'>exposePluginPackageId</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4404"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>pluginPackageFlags</span> <span class='hs-keyglyph'>=</span>
<a name="line-4405"></a>    <span class='hs-varid'>parsePackageFlag</span> <span class='hs-str'>"-plugin-package-id"</span> <span class='hs-varid'>parseUnitArg</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>pluginPackageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4406"></a><a name="hidePackage"></a><span class='hs-definition'>hidePackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4407"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>HidePackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4408"></a><a name="ignorePackage"></a><span class='hs-definition'>ignorePackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4409"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>ignorePackageFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>IgnorePackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>ignorePackageFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4410"></a>
<a name="line-4411"></a><a name="trustPackage"></a><span class='hs-definition'>trustPackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exposePackage</span> <span class='hs-varid'>p</span> <span class='hs-varop'>&gt;&gt;</span> <span class='hs-comment'>-- both trust and distrust also expose a package</span>
<a name="line-4412"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>trustFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>TrustPackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>trustFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4413"></a><a name="distrustPackage"></a><span class='hs-definition'>distrustPackage</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exposePackage</span> <span class='hs-varid'>p</span> <span class='hs-varop'>&gt;&gt;</span>
<a name="line-4414"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span> <span class='hs-varid'>trustFlags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>DistrustPackage</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>trustFlags</span> <span class='hs-varid'>s</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4415"></a>
<a name="line-4416"></a><a name="exposePackage'"></a><span class='hs-definition'>exposePackage'</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4417"></a><span class='hs-definition'>exposePackage'</span> <span class='hs-varid'>p</span> <span class='hs-varid'>dflags</span>
<a name="line-4418"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>packageFlags</span> <span class='hs-keyglyph'>=</span>
<a name="line-4419"></a>            <span class='hs-varid'>parsePackageFlag</span> <span class='hs-str'>"-package"</span> <span class='hs-varid'>parsePackageArg</span> <span class='hs-varid'>p</span> <span class='hs-conop'>:</span> <span class='hs-varid'>packageFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>}</span>
<a name="line-4420"></a>
<a name="line-4421"></a><a name="parsePackageArg"></a><span class='hs-definition'>parsePackageArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ReadP</span> <span class='hs-conid'>PackageArg</span>
<a name="line-4422"></a><span class='hs-definition'>parsePackageArg</span> <span class='hs-keyglyph'>=</span>
<a name="line-4423"></a>    <span class='hs-varid'>fmap</span> <span class='hs-conid'>PackageArg</span> <span class='hs-layout'>(</span><span class='hs-varid'>munch1</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>c</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>isAlphaNum</span> <span class='hs-varid'>c</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>`elem`</span> <span class='hs-str'>":-_."</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4424"></a>
<a name="line-4425"></a><a name="parseUnitArg"></a><span class='hs-definition'>parseUnitArg</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ReadP</span> <span class='hs-conid'>PackageArg</span>
<a name="line-4426"></a><span class='hs-definition'>parseUnitArg</span> <span class='hs-keyglyph'>=</span>
<a name="line-4427"></a>    <span class='hs-varid'>fmap</span> <span class='hs-conid'>UnitIdArg</span> <span class='hs-varid'>parseUnit</span>
<a name="line-4428"></a>
<a name="line-4429"></a><a name="setUnitId"></a><span class='hs-definition'>setUnitId</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4430"></a><span class='hs-definition'>setUnitId</span> <span class='hs-varid'>p</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>homeUnitId_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>stringToUnitId</span> <span class='hs-varid'>p</span> <span class='hs-layout'>}</span>
<a name="line-4431"></a>
<a name="line-4432"></a><a name="setBackend"></a><span class='hs-comment'>-- If we're linking a binary, then only backends that produce object</span>
<a name="line-4433"></a><span class='hs-comment'>-- code are allowed (requests for other target types are ignored).</span>
<a name="line-4434"></a><span class='hs-definition'>setBackend</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Backend</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4435"></a><span class='hs-definition'>setBackend</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>dfs</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4436"></a>  <span class='hs-keyword'>if</span> <span class='hs-varid'>ghcLink</span> <span class='hs-varid'>dfs</span> <span class='hs-varop'>/=</span> <span class='hs-conid'>LinkBinary</span> <span class='hs-varop'>||</span> <span class='hs-varid'>backendProducesObject</span> <span class='hs-varid'>l</span>
<a name="line-4437"></a>  <span class='hs-keyword'>then</span> <span class='hs-varid'>dfs</span><span class='hs-layout'>{</span> <span class='hs-varid'>backend</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-4438"></a>  <span class='hs-keyword'>else</span> <span class='hs-varid'>dfs</span>
<a name="line-4439"></a>
<a name="line-4440"></a><a name="setObjBackend"></a><span class='hs-comment'>-- Changes the target only if we're compiling object code.  This is</span>
<a name="line-4441"></a><span class='hs-comment'>-- used by -fasm and -fllvm, which switch from one to the other, but</span>
<a name="line-4442"></a><span class='hs-comment'>-- not from bytecode to object-code.  The idea is that -fasm/-fllvm</span>
<a name="line-4443"></a><span class='hs-comment'>-- can be safely used in an OPTIONS_GHC pragma.</span>
<a name="line-4444"></a><span class='hs-definition'>setObjBackend</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Backend</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4445"></a><span class='hs-definition'>setObjBackend</span> <span class='hs-varid'>l</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>updM</span> <span class='hs-varid'>set</span>
<a name="line-4446"></a>  <span class='hs-keyword'>where</span>
<a name="line-4447"></a>   <span class='hs-varid'>set</span> <span class='hs-varid'>dflags</span>
<a name="line-4448"></a>     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>backendProducesObject</span> <span class='hs-layout'>(</span><span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4449"></a>       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varop'>$</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>backend</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>l</span> <span class='hs-layout'>}</span>
<a name="line-4450"></a>     <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-varid'>dflags</span>
<a name="line-4451"></a>
<a name="line-4452"></a><a name="setOptLevel"></a><span class='hs-definition'>setOptLevel</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4453"></a><span class='hs-definition'>setOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>return</span> <span class='hs-layout'>(</span><span class='hs-varid'>updOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4454"></a>
<a name="line-4455"></a><a name="checkOptLevel"></a><span class='hs-definition'>checkOptLevel</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Either</span> <span class='hs-conid'>String</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4456"></a><span class='hs-definition'>checkOptLevel</span> <span class='hs-varid'>n</span> <span class='hs-varid'>dflags</span>
<a name="line-4457"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Interpreter</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>n</span> <span class='hs-varop'>&gt;</span> <span class='hs-num'>0</span>
<a name="line-4458"></a>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Left</span> <span class='hs-str'>"-O conflicts with --interactive; -O ignored."</span>
<a name="line-4459"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>
<a name="line-4460"></a>     <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Right</span> <span class='hs-varid'>dflags</span>
<a name="line-4461"></a>
<a name="line-4462"></a><a name="setCallerCcFilters"></a><span class='hs-definition'>setCallerCcFilters</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4463"></a><span class='hs-definition'>setCallerCcFilters</span> <span class='hs-varid'>arg</span> <span class='hs-keyglyph'>=</span>
<a name="line-4464"></a>  <span class='hs-keyword'>case</span> <span class='hs-varid'>parseCallerCcFilter</span> <span class='hs-varid'>arg</span> <span class='hs-keyword'>of</span>
<a name="line-4465"></a>    <span class='hs-conid'>Right</span> <span class='hs-varid'>filt</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>callerCcFilters</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filt</span> <span class='hs-conop'>:</span> <span class='hs-varid'>callerCcFilters</span> <span class='hs-varid'>d</span> <span class='hs-layout'>}</span>
<a name="line-4466"></a>    <span class='hs-conid'>Left</span> <span class='hs-varid'>err</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addErr</span> <span class='hs-varid'>err</span>
<a name="line-4467"></a>
<a name="line-4468"></a><a name="setMainIs"></a><span class='hs-definition'>setMainIs</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4469"></a><span class='hs-definition'>setMainIs</span> <span class='hs-varid'>arg</span>
<a name="line-4470"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>null</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>isLower</span> <span class='hs-layout'>(</span><span class='hs-varid'>head</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>)</span>
<a name="line-4471"></a>     <span class='hs-comment'>-- The arg looked like "Foo.Bar.baz"</span>
<a name="line-4472"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>mainFunIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>,</span>
<a name="line-4473"></a>                    <span class='hs-varid'>mainModuleNameIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>main_mod</span> <span class='hs-layout'>}</span>
<a name="line-4474"></a>
<a name="line-4475"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>isUpper</span> <span class='hs-layout'>(</span><span class='hs-varid'>head</span> <span class='hs-varid'>arg</span><span class='hs-layout'>)</span>  <span class='hs-comment'>-- The arg looked like "Foo" or "Foo.Bar"</span>
<a name="line-4476"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>mainModuleNameIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkModuleName</span> <span class='hs-varid'>arg</span> <span class='hs-layout'>}</span>
<a name="line-4477"></a>
<a name="line-4478"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                   <span class='hs-comment'>-- The arg looked like "baz"</span>
<a name="line-4479"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span> <span class='hs-varid'>mainFunIs</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>arg</span> <span class='hs-layout'>}</span>
<a name="line-4480"></a>  <span class='hs-keyword'>where</span>
<a name="line-4481"></a>    <span class='hs-layout'>(</span><span class='hs-varid'>main_mod</span><span class='hs-layout'>,</span> <span class='hs-varid'>main_fn</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>splitLongestPrefix</span> <span class='hs-varid'>arg</span> <span class='hs-layout'>(</span><span class='hs-varop'>==</span> <span class='hs-chr'>'.'</span><span class='hs-layout'>)</span>
<a name="line-4482"></a>
<a name="line-4483"></a><a name="addLdInputs"></a><span class='hs-definition'>addLdInputs</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Option</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4484"></a><span class='hs-definition'>addLdInputs</span> <span class='hs-varid'>p</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>{</span><span class='hs-varid'>ldInputs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ldInputs</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span><span class='hs-varid'>p</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>}</span>
<a name="line-4485"></a>
<a name="line-4486"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4487"></a><span class='hs-comment'>-- Load dynflags from environment files.</span>
<a name="line-4488"></a>
<a name="line-4489"></a><a name="setFlagsFromEnvFile"></a><span class='hs-definition'>setFlagsFromEnvFile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4490"></a><span class='hs-definition'>setFlagsFromEnvFile</span> <span class='hs-varid'>envfile</span> <span class='hs-varid'>content</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4491"></a>  <span class='hs-varid'>setGeneralFlag</span> <span class='hs-conid'>Opt_HideAllPackages</span>
<a name="line-4492"></a>  <span class='hs-varid'>parseEnvFile</span> <span class='hs-varid'>envfile</span> <span class='hs-varid'>content</span>
<a name="line-4493"></a>
<a name="line-4494"></a><a name="parseEnvFile"></a><span class='hs-definition'>parseEnvFile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4495"></a><span class='hs-definition'>parseEnvFile</span> <span class='hs-varid'>envfile</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mapM_</span> <span class='hs-varid'>parseEntry</span> <span class='hs-varop'>.</span> <span class='hs-varid'>lines</span>
<a name="line-4496"></a>  <span class='hs-keyword'>where</span>
<a name="line-4497"></a>    <span class='hs-varid'>parseEntry</span> <span class='hs-varid'>str</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>words</span> <span class='hs-varid'>str</span> <span class='hs-keyword'>of</span>
<a name="line-4498"></a>      <span class='hs-layout'>(</span><span class='hs-str'>"package-db"</span><span class='hs-conop'>:</span> <span class='hs-keyword'>_</span><span class='hs-layout'>)</span>     <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addPkgDbRef</span> <span class='hs-layout'>(</span><span class='hs-conid'>PkgDbPath</span> <span class='hs-layout'>(</span><span class='hs-varid'>envdir</span> <span class='hs-varop'>&lt;/&gt;</span> <span class='hs-varid'>db</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4499"></a>        <span class='hs-comment'>-- relative package dbs are interpreted relative to the env file</span>
<a name="line-4500"></a>        <span class='hs-keyword'>where</span> <span class='hs-varid'>envdir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>takeDirectory</span> <span class='hs-varid'>envfile</span>
<a name="line-4501"></a>              <span class='hs-varid'>db</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>drop</span> <span class='hs-num'>11</span> <span class='hs-varid'>str</span>
<a name="line-4502"></a>      <span class='hs-keyglyph'>[</span><span class='hs-str'>"clear-package-db"</span><span class='hs-keyglyph'>]</span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>clearPkgDb</span>
<a name="line-4503"></a>      <span class='hs-keyglyph'>[</span><span class='hs-str'>"global-package-db"</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addPkgDbRef</span> <span class='hs-conid'>GlobalPkgDb</span>
<a name="line-4504"></a>      <span class='hs-keyglyph'>[</span><span class='hs-str'>"user-package-db"</span><span class='hs-keyglyph'>]</span>   <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>addPkgDbRef</span> <span class='hs-conid'>UserPkgDb</span>
<a name="line-4505"></a>      <span class='hs-keyglyph'>[</span><span class='hs-str'>"package-id"</span><span class='hs-layout'>,</span> <span class='hs-varid'>pkgid</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>exposePackageId</span> <span class='hs-varid'>pkgid</span>
<a name="line-4506"></a>      <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-chr'>'-'</span><span class='hs-conop'>:</span><span class='hs-chr'>'-'</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span><span class='hs-layout'>)</span><span class='hs-conop'>:</span><span class='hs-keyword'>_</span><span class='hs-layout'>)</span>       <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span> <span class='hs-comment'>-- comments</span>
<a name="line-4507"></a>      <span class='hs-comment'>-- and the original syntax introduced in 7.10:</span>
<a name="line-4508"></a>      <span class='hs-keyglyph'>[</span><span class='hs-varid'>pkgid</span><span class='hs-keyglyph'>]</span>               <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>exposePackageId</span> <span class='hs-varid'>pkgid</span>
<a name="line-4509"></a>      <span class='hs-conid'>[]</span>                    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>return</span> <span class='hs-conid'>()</span>
<a name="line-4510"></a>      <span class='hs-keyword'>_</span>                     <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-varop'>$</span> <span class='hs-conid'>CmdLineError</span> <span class='hs-varop'>$</span>
<a name="line-4511"></a>                                    <span class='hs-str'>"Can't parse environment file entry: "</span>
<a name="line-4512"></a>                                 <span class='hs-varop'>++</span> <span class='hs-varid'>envfile</span> <span class='hs-varop'>++</span> <span class='hs-str'>": "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span>
<a name="line-4513"></a>
<a name="line-4514"></a>
<a name="line-4515"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-4516"></a><span class='hs-comment'>-- Paths &amp; Libraries</span>
<a name="line-4517"></a>
<a name="line-4518"></a><a name="addImportPath"></a><span class='hs-definition'>addImportPath</span><span class='hs-layout'>,</span> <span class='hs-varid'>addLibraryPath</span><span class='hs-layout'>,</span> <span class='hs-varid'>addIncludePath</span><span class='hs-layout'>,</span> <span class='hs-varid'>addFrameworkPath</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4519"></a>
<a name="line-4520"></a><span class='hs-comment'>-- -i on its own deletes the import paths</span>
<a name="line-4521"></a><span class='hs-definition'>addImportPath</span> <span class='hs-str'>""</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>importPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4522"></a><span class='hs-definition'>addImportPath</span> <span class='hs-varid'>p</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>importPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>importPaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4523"></a>
<a name="line-4524"></a><a name="addLibraryPath"></a><span class='hs-definition'>addLibraryPath</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4525"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>libraryPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>libraryPaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4526"></a>
<a name="line-4527"></a><a name="addIncludePath"></a><span class='hs-definition'>addIncludePath</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4528"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>includePaths</span> <span class='hs-keyglyph'>=</span>
<a name="line-4529"></a>                  <span class='hs-varid'>addGlobalInclude</span> <span class='hs-layout'>(</span><span class='hs-varid'>includePaths</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4530"></a>
<a name="line-4531"></a><a name="addFrameworkPath"></a><span class='hs-definition'>addFrameworkPath</span> <span class='hs-varid'>p</span> <span class='hs-keyglyph'>=</span>
<a name="line-4532"></a>  <span class='hs-varid'>upd</span> <span class='hs-layout'>(</span><span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span><span class='hs-layout'>{</span><span class='hs-varid'>frameworkPaths</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>frameworkPaths</span> <span class='hs-varid'>s</span> <span class='hs-varop'>++</span> <span class='hs-varid'>splitPathList</span> <span class='hs-varid'>p</span><span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4533"></a>
<a name="line-4534"></a><span class='hs-cpp'>#if !defined(mingw32_HOST_OS)</span>
<a name="line-4535"></a><a name="split_marker"></a><span class='hs-definition'>split_marker</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Char</span>
<a name="line-4536"></a><span class='hs-definition'>split_marker</span> <span class='hs-keyglyph'>=</span> <span class='hs-chr'>':'</span>   <span class='hs-comment'>-- not configurable (ToDo)</span>
<a name="line-4537"></a><span class='hs-cpp'>#endif</span>
<a name="line-4538"></a>
<a name="line-4539"></a><a name="splitPathList"></a><span class='hs-definition'>splitPathList</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-4540"></a><span class='hs-definition'>splitPathList</span> <span class='hs-varid'>s</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>filter</span> <span class='hs-varid'>notNull</span> <span class='hs-layout'>(</span><span class='hs-varid'>splitUp</span> <span class='hs-varid'>s</span><span class='hs-layout'>)</span>
<a name="line-4541"></a>                <span class='hs-comment'>-- empty paths are ignored: there might be a trailing</span>
<a name="line-4542"></a>                <span class='hs-comment'>-- ':' in the initial list, for example.  Empty paths can</span>
<a name="line-4543"></a>                <span class='hs-comment'>-- cause confusion when they are translated into -I options</span>
<a name="line-4544"></a>                <span class='hs-comment'>-- for passing to gcc.</span>
<a name="line-4545"></a>  <span class='hs-keyword'>where</span>
<a name="line-4546"></a><span class='hs-cpp'>#if !defined(mingw32_HOST_OS)</span>
<a name="line-4547"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>split</span> <span class='hs-varid'>split_marker</span> <span class='hs-varid'>xs</span>
<a name="line-4548"></a><span class='hs-cpp'>#else</span>
<a name="line-4549"></a>     <span class='hs-comment'>-- Windows: 'hybrid' support for DOS-style paths in directory lists.</span>
<a name="line-4550"></a>     <span class='hs-comment'>--</span>
<a name="line-4551"></a>     <span class='hs-comment'>-- That is, if "foo:bar:baz" is used, this interpreted as</span>
<a name="line-4552"></a>     <span class='hs-comment'>-- consisting of three entries, 'foo', 'bar', 'baz'.</span>
<a name="line-4553"></a>     <span class='hs-comment'>-- However, with "c:/foo:c:\\foo;x:/bar", this is interpreted</span>
<a name="line-4554"></a>     <span class='hs-comment'>-- as 3 elts, "c:/foo", "c:\\foo", "x:/bar"</span>
<a name="line-4555"></a>     <span class='hs-comment'>--</span>
<a name="line-4556"></a>     <span class='hs-comment'>-- Notice that no attempt is made to fully replace the 'standard'</span>
<a name="line-4557"></a>     <span class='hs-comment'>-- split marker ':' with the Windows / DOS one, ';'. The reason being</span>
<a name="line-4558"></a>     <span class='hs-comment'>-- that this will cause too much breakage for users &amp; ':' will</span>
<a name="line-4559"></a>     <span class='hs-comment'>-- work fine even with DOS paths, if you're not insisting on being silly.</span>
<a name="line-4560"></a>     <span class='hs-comment'>-- So, use either.</span>
<a name="line-4561"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-conid'>[]</span>             <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-4562"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-layout'>(</span><span class='hs-varid'>x</span><span class='hs-conop'>:</span><span class='hs-chr'>':'</span><span class='hs-conop'>:</span><span class='hs-varid'>div</span><span class='hs-conop'>:</span><span class='hs-varid'>xs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>div</span> <span class='hs-varop'>`elem`</span> <span class='hs-varid'>dir_markers</span>
<a name="line-4563"></a>                           <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-layout'>(</span><span class='hs-varid'>x</span><span class='hs-conop'>:</span><span class='hs-chr'>':'</span><span class='hs-conop'>:</span><span class='hs-varid'>div</span><span class='hs-conop'>:</span><span class='hs-varid'>p</span><span class='hs-layout'>)</span><span class='hs-conop'>:</span> <span class='hs-varid'>splitUp</span> <span class='hs-varid'>rs</span><span class='hs-layout'>)</span>
<a name="line-4564"></a>                           <span class='hs-keyword'>where</span>
<a name="line-4565"></a>                              <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span><span class='hs-varid'>rs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>findNextPath</span> <span class='hs-varid'>xs</span>
<a name="line-4566"></a>          <span class='hs-comment'>-- we used to check for existence of the path here, but that</span>
<a name="line-4567"></a>          <span class='hs-comment'>-- required the IO monad to be threaded through the command-line</span>
<a name="line-4568"></a>          <span class='hs-comment'>-- parser which is quite inconvenient.  The</span>
<a name="line-4569"></a>    <span class='hs-varid'>splitUp</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>cons</span> <span class='hs-varid'>p</span> <span class='hs-layout'>(</span><span class='hs-varid'>splitUp</span> <span class='hs-varid'>rs</span><span class='hs-layout'>)</span>
<a name="line-4570"></a>               <span class='hs-keyword'>where</span>
<a name="line-4571"></a>                 <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span><span class='hs-varid'>rs</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>findNextPath</span> <span class='hs-varid'>xs</span>
<a name="line-4572"></a>
<a name="line-4573"></a>                 <span class='hs-varid'>cons</span> <span class='hs-str'>""</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xs</span>
<a name="line-4574"></a>                 <span class='hs-varid'>cons</span> <span class='hs-varid'>x</span>  <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>x</span><span class='hs-conop'>:</span><span class='hs-varid'>xs</span>
<a name="line-4575"></a>
<a name="line-4576"></a>    <span class='hs-comment'>-- will be called either when we've consumed nought or the</span>
<a name="line-4577"></a>    <span class='hs-comment'>-- "&lt;Drive&gt;:/" part of a DOS path, so splitting is just a Q of</span>
<a name="line-4578"></a>    <span class='hs-comment'>-- finding the next split marker.</span>
<a name="line-4579"></a>    <span class='hs-varid'>findNextPath</span> <span class='hs-varid'>xs</span> <span class='hs-keyglyph'>=</span>
<a name="line-4580"></a>        <span class='hs-keyword'>case</span> <span class='hs-varid'>break</span> <span class='hs-layout'>(</span><span class='hs-varop'>`elem`</span> <span class='hs-varid'>split_markers</span><span class='hs-layout'>)</span> <span class='hs-varid'>xs</span> <span class='hs-keyword'>of</span>
<a name="line-4581"></a>           <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-keyword'>_</span><span class='hs-conop'>:</span><span class='hs-varid'>ds</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-varid'>ds</span><span class='hs-layout'>)</span>
<a name="line-4582"></a>           <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span>   <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>p</span><span class='hs-layout'>,</span> <span class='hs-varid'>xs</span><span class='hs-layout'>)</span>
<a name="line-4583"></a>
<a name="line-4584"></a>    <span class='hs-varid'>split_markers</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Char</span><span class='hs-keyglyph'>]</span>
<a name="line-4585"></a>    <span class='hs-varid'>split_markers</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-chr'>':'</span><span class='hs-layout'>,</span> <span class='hs-chr'>';'</span><span class='hs-keyglyph'>]</span>
<a name="line-4586"></a>
<a name="line-4587"></a>    <span class='hs-varid'>dir_markers</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Char</span><span class='hs-keyglyph'>]</span>
<a name="line-4588"></a>    <span class='hs-varid'>dir_markers</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-chr'>'/'</span><span class='hs-layout'>,</span> <span class='hs-chr'>'\\'</span><span class='hs-keyglyph'>]</span>
<a name="line-4589"></a><span class='hs-cpp'>#endif</span>
<a name="line-4590"></a>
<a name="line-4591"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4592"></a><span class='hs-comment'>-- tmpDir, where we store temporary files.</span>
<a name="line-4593"></a>
<a name="line-4594"></a><a name="setTmpDir"></a><span class='hs-definition'>setTmpDir</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span>
<a name="line-4595"></a><span class='hs-definition'>setTmpDir</span> <span class='hs-varid'>dir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alterFileSettings</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span><span class='hs-varid'>s</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>s</span> <span class='hs-layout'>{</span> <span class='hs-varid'>fileSettings_tmpDir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>normalise</span> <span class='hs-varid'>dir</span> <span class='hs-layout'>}</span>
<a name="line-4596"></a>  <span class='hs-comment'>-- we used to fix /cygdrive/c/.. on Windows, but this doesn't</span>
<a name="line-4597"></a>  <span class='hs-comment'>-- seem necessary now --SDM 7/2/2008</span>
<a name="line-4598"></a>
<a name="line-4599"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-4600"></a><span class='hs-comment'>-- RTS opts</span>
<a name="line-4601"></a>
<a name="line-4602"></a><a name="setRtsOpts"></a><span class='hs-definition'>setRtsOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4603"></a><span class='hs-definition'>setRtsOpts</span> <span class='hs-varid'>arg</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>rtsOpts</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Just</span> <span class='hs-varid'>arg</span><span class='hs-layout'>}</span>
<a name="line-4604"></a>
<a name="line-4605"></a><a name="setRtsOptsEnabled"></a><span class='hs-definition'>setRtsOptsEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>RtsOptsEnabled</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4606"></a><span class='hs-definition'>setRtsOptsEnabled</span> <span class='hs-varid'>arg</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>rtsOptsEnabled</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>arg</span><span class='hs-layout'>}</span>
<a name="line-4607"></a>
<a name="line-4608"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-4609"></a><span class='hs-comment'>-- Hpc stuff</span>
<a name="line-4610"></a>
<a name="line-4611"></a><a name="setOptHpcDir"></a><span class='hs-definition'>setOptHpcDir</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynP</span> <span class='hs-conid'>()</span>
<a name="line-4612"></a><span class='hs-definition'>setOptHpcDir</span> <span class='hs-varid'>arg</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>upd</span> <span class='hs-varop'>$</span> <span class='hs-keyglyph'>\</span> <span class='hs-varid'>d</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>d</span> <span class='hs-layout'>{</span><span class='hs-varid'>hpcDir</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>arg</span><span class='hs-layout'>}</span>
<a name="line-4613"></a>
<a name="line-4614"></a><span class='hs-comment'>-----------------------------------------------------------------------------</span>
<a name="line-4615"></a><span class='hs-comment'>-- Via-C compilation stuff</span>
<a name="line-4616"></a>
<a name="line-4617"></a><span class='hs-comment'>-- There are some options that we need to pass to gcc when compiling</span>
<a name="line-4618"></a><span class='hs-comment'>-- Haskell code via C, but are only supported by recent versions of</span>
<a name="line-4619"></a><span class='hs-comment'>-- gcc.  The configure script decides which of these options we need,</span>
<a name="line-4620"></a><span class='hs-comment'>-- and puts them in the "settings" file in $topdir. The advantage of</span>
<a name="line-4621"></a><span class='hs-comment'>-- having these in a separate file is that the file can be created at</span>
<a name="line-4622"></a><span class='hs-comment'>-- install-time depending on the available gcc version, and even</span>
<a name="line-4623"></a><span class='hs-comment'>-- re-generated later if gcc is upgraded.</span>
<a name="line-4624"></a><span class='hs-comment'>--</span>
<a name="line-4625"></a><span class='hs-comment'>-- The options below are not dependent on the version of gcc, only the</span>
<a name="line-4626"></a><span class='hs-comment'>-- platform.</span>
<a name="line-4627"></a>
<a name="line-4628"></a><a name="picCCOpts"></a><span class='hs-definition'>picCCOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-4629"></a><span class='hs-definition'>picCCOpts</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pieOpts</span> <span class='hs-varop'>++</span> <span class='hs-varid'>picOpts</span>
<a name="line-4630"></a>  <span class='hs-keyword'>where</span>
<a name="line-4631"></a>    <span class='hs-varid'>picOpts</span> <span class='hs-keyglyph'>=</span>
<a name="line-4632"></a>      <span class='hs-keyword'>case</span> <span class='hs-varid'>platformOS</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-4633"></a>      <span class='hs-conid'>OSDarwin</span>
<a name="line-4634"></a>          <span class='hs-comment'>-- Apple prefers to do things the other way round.</span>
<a name="line-4635"></a>          <span class='hs-comment'>-- PIC is on by default.</span>
<a name="line-4636"></a>          <span class='hs-comment'>-- -mdynamic-no-pic:</span>
<a name="line-4637"></a>          <span class='hs-comment'>--     Turn off PIC code generation.</span>
<a name="line-4638"></a>          <span class='hs-comment'>-- -fno-common:</span>
<a name="line-4639"></a>          <span class='hs-comment'>--     Don't generate "common" symbols - these are unwanted</span>
<a name="line-4640"></a>          <span class='hs-comment'>--     in dynamic libraries.</span>
<a name="line-4641"></a>
<a name="line-4642"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-fno-common"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-4643"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-mdynamic-no-pic"</span><span class='hs-keyglyph'>]</span>
<a name="line-4644"></a>      <span class='hs-conid'>OSMinGW32</span> <span class='hs-comment'>-- no -fPIC for Windows</span>
<a name="line-4645"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-4646"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>           <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>[]</span>
<a name="line-4647"></a>      <span class='hs-keyword'>_</span>
<a name="line-4648"></a>      <span class='hs-comment'>-- we need -fPIC for C files when we are compiling with -dynamic,</span>
<a name="line-4649"></a>      <span class='hs-comment'>-- otherwise things like stub.c files don't get compiled</span>
<a name="line-4650"></a>      <span class='hs-comment'>-- correctly.  They need to reference data in the Haskell</span>
<a name="line-4651"></a>      <span class='hs-comment'>-- objects, but can't without -fPIC.  See</span>
<a name="line-4652"></a>      <span class='hs-comment'>-- https://gitlab.haskell.org/ghc/ghc/wikis/commentary/position-independent-code</span>
<a name="line-4653"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-conid'>WayDyn</span> <span class='hs-varop'>`Set.member`</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>-&gt;</span>
<a name="line-4654"></a>          <span class='hs-keyglyph'>[</span><span class='hs-str'>"-fPIC"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-4655"></a>      <span class='hs-comment'>-- gcc may be configured to have PIC on by default, let's be</span>
<a name="line-4656"></a>      <span class='hs-comment'>-- explicit here, see #15847</span>
<a name="line-4657"></a>       <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-fno-PIC"</span><span class='hs-keyglyph'>]</span>
<a name="line-4658"></a>
<a name="line-4659"></a>    <span class='hs-varid'>pieOpts</span>
<a name="line-4660"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PICExecutable</span> <span class='hs-varid'>dflags</span>       <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-pie"</span><span class='hs-keyglyph'>]</span>
<a name="line-4661"></a>        <span class='hs-comment'>-- See Note [No PIE when linking]</span>
<a name="line-4662"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>toolSettings_ccSupportsNoPie</span> <span class='hs-layout'>(</span><span class='hs-varid'>toolSettings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-no-pie"</span><span class='hs-keyglyph'>]</span>
<a name="line-4663"></a>      <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>                           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-4664"></a>
<a name="line-4665"></a>
<a name="line-4666"></a><span class='hs-comment'>{-
<a name="line-4667"></a>Note [No PIE while linking]
<a name="line-4668"></a>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<a name="line-4669"></a>As of 2016 some Linux distributions (e.g. Debian) have started enabling -pie by
<a name="line-4670"></a>default in their gcc builds. This is incompatible with -r as it implies that we
<a name="line-4671"></a>are producing an executable. Consequently, we must manually pass -no-pie to gcc
<a name="line-4672"></a>when joining object files or linking dynamic libraries. Unless, of course, the
<a name="line-4673"></a>user has explicitly requested a PIE executable with -pie. See #12759.
<a name="line-4674"></a>-}</span>
<a name="line-4675"></a>
<a name="line-4676"></a><a name="picPOpts"></a><span class='hs-definition'>picPOpts</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span>
<a name="line-4677"></a><span class='hs-definition'>picPOpts</span> <span class='hs-varid'>dflags</span>
<a name="line-4678"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"-U__PIC__"</span><span class='hs-layout'>,</span> <span class='hs-str'>"-D__PIC__"</span><span class='hs-keyglyph'>]</span>
<a name="line-4679"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>           <span class='hs-keyglyph'>=</span> <span class='hs-conid'>[]</span>
<a name="line-4680"></a>
<a name="line-4681"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4682"></a><span class='hs-comment'>-- Compiler Info</span>
<a name="line-4683"></a>
<a name="line-4684"></a><a name="compilerInfo"></a><span class='hs-definition'>compilerInfo</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-conid'>String</span><span class='hs-layout'>,</span> <span class='hs-conid'>String</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-4685"></a><span class='hs-definition'>compilerInfo</span> <span class='hs-varid'>dflags</span>
<a name="line-4686"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-comment'>-- We always make "Project name" be first to keep parsing in</span>
<a name="line-4687"></a>      <span class='hs-comment'>-- other languages simple, i.e. when looking for other fields,</span>
<a name="line-4688"></a>      <span class='hs-comment'>-- you don't have to worry whether there is a leading '[' or not</span>
<a name="line-4689"></a>      <span class='hs-layout'>(</span><span class='hs-str'>"Project name"</span><span class='hs-layout'>,</span>                 <span class='hs-varid'>cProjectName</span><span class='hs-layout'>)</span>
<a name="line-4690"></a>      <span class='hs-comment'>-- Next come the settings, so anything else can be overridden</span>
<a name="line-4691"></a>      <span class='hs-comment'>-- in the settings file (as "lookup" uses the first match for the</span>
<a name="line-4692"></a>      <span class='hs-comment'>-- key)</span>
<a name="line-4693"></a>    <span class='hs-conop'>:</span> <span class='hs-varid'>map</span> <span class='hs-layout'>(</span><span class='hs-varid'>fmap</span> <span class='hs-varop'>$</span> <span class='hs-varid'>expandDirectories</span> <span class='hs-layout'>(</span><span class='hs-varid'>topDir</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>toolDir</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4694"></a>          <span class='hs-layout'>(</span><span class='hs-varid'>rawSettings</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4695"></a>   <span class='hs-varop'>++</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-str'>"Project version"</span><span class='hs-layout'>,</span>             <span class='hs-varid'>projectVersion</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4696"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Project Git commit id"</span><span class='hs-layout'>,</span>       <span class='hs-varid'>cProjectGitCommitId</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4697"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Booter version"</span><span class='hs-layout'>,</span>              <span class='hs-varid'>cBooterVersion</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4698"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Stage"</span><span class='hs-layout'>,</span>                       <span class='hs-varid'>cStage</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4699"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Build platform"</span><span class='hs-layout'>,</span>              <span class='hs-varid'>cBuildPlatformString</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4700"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Host platform"</span><span class='hs-layout'>,</span>               <span class='hs-varid'>cHostPlatformString</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4701"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Target platform"</span><span class='hs-layout'>,</span>             <span class='hs-varid'>platformMisc_targetPlatformString</span> <span class='hs-varop'>$</span> <span class='hs-varid'>platformMisc</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4702"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Have interpreter"</span><span class='hs-layout'>,</span>            <span class='hs-varid'>showBool</span> <span class='hs-varop'>$</span> <span class='hs-varid'>platformMisc_ghcWithInterpreter</span> <span class='hs-varop'>$</span> <span class='hs-varid'>platformMisc</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4703"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Object splitting supported"</span><span class='hs-layout'>,</span>  <span class='hs-varid'>showBool</span> <span class='hs-conid'>False</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4704"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Have native code generator"</span><span class='hs-layout'>,</span>  <span class='hs-varid'>showBool</span> <span class='hs-varop'>$</span> <span class='hs-varid'>platformNcgSupported</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4705"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Target default backend"</span><span class='hs-layout'>,</span>      <span class='hs-varid'>show</span> <span class='hs-varop'>$</span> <span class='hs-varid'>platformDefaultBackend</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4706"></a>       <span class='hs-comment'>-- Whether or not we support @-dynamic-too@</span>
<a name="line-4707"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support dynamic-too"</span><span class='hs-layout'>,</span>         <span class='hs-varid'>showBool</span> <span class='hs-varop'>$</span> <span class='hs-varid'>not</span> <span class='hs-varid'>isWindows</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4708"></a>       <span class='hs-comment'>-- Whether or not we support the @-j@ flag with @--make@.</span>
<a name="line-4709"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support parallel --make"</span><span class='hs-layout'>,</span>     <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4710"></a>       <span class='hs-comment'>-- Whether or not we support "Foo from foo-0.1-XXX:Foo" syntax in</span>
<a name="line-4711"></a>       <span class='hs-comment'>-- installed package info.</span>
<a name="line-4712"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support reexported-modules"</span><span class='hs-layout'>,</span>  <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4713"></a>       <span class='hs-comment'>-- Whether or not we support extended @-package foo (Foo)@ syntax.</span>
<a name="line-4714"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support thinning and renaming package flags"</span><span class='hs-layout'>,</span> <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4715"></a>       <span class='hs-comment'>-- Whether or not we support Backpack.</span>
<a name="line-4716"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Support Backpack"</span><span class='hs-layout'>,</span> <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4717"></a>       <span class='hs-comment'>-- If true, we require that the 'id' field in installed package info</span>
<a name="line-4718"></a>       <span class='hs-comment'>-- match what is passed to the @-this-unit-id@ flag for modules</span>
<a name="line-4719"></a>       <span class='hs-comment'>-- built in it</span>
<a name="line-4720"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Requires unified installed package IDs"</span><span class='hs-layout'>,</span> <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4721"></a>       <span class='hs-comment'>-- Whether or not we support the @-this-package-key@ flag.  Prefer</span>
<a name="line-4722"></a>       <span class='hs-comment'>-- "Uses unit IDs" over it. We still say yes even if @-this-package-key@</span>
<a name="line-4723"></a>       <span class='hs-comment'>-- flag has been removed, otherwise it breaks Cabal...</span>
<a name="line-4724"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Uses package keys"</span><span class='hs-layout'>,</span>           <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4725"></a>       <span class='hs-comment'>-- Whether or not we support the @-this-unit-id@ flag</span>
<a name="line-4726"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Uses unit IDs"</span><span class='hs-layout'>,</span>               <span class='hs-str'>"YES"</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4727"></a>       <span class='hs-comment'>-- Whether or not GHC was compiled using -dynamic</span>
<a name="line-4728"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"GHC Dynamic"</span><span class='hs-layout'>,</span>                 <span class='hs-varid'>showBool</span> <span class='hs-varid'>hostIsDynamic</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4729"></a>       <span class='hs-comment'>-- Whether or not GHC was compiled using -prof</span>
<a name="line-4730"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"GHC Profiled"</span><span class='hs-layout'>,</span>                <span class='hs-varid'>showBool</span> <span class='hs-varid'>hostIsProfiled</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4731"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Debug on"</span><span class='hs-layout'>,</span>                    <span class='hs-varid'>showBool</span> <span class='hs-varid'>debugIsOn</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4732"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"LibDir"</span><span class='hs-layout'>,</span>                      <span class='hs-varid'>topDir</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4733"></a>       <span class='hs-comment'>-- The path of the global package database used by GHC</span>
<a name="line-4734"></a>       <span class='hs-layout'>(</span><span class='hs-str'>"Global Package DB"</span><span class='hs-layout'>,</span>           <span class='hs-varid'>globalPackageDatabasePath</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4735"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-4736"></a>  <span class='hs-keyword'>where</span>
<a name="line-4737"></a>    <span class='hs-varid'>showBool</span> <span class='hs-conid'>True</span>  <span class='hs-keyglyph'>=</span> <span class='hs-str'>"YES"</span>
<a name="line-4738"></a>    <span class='hs-varid'>showBool</span> <span class='hs-conid'>False</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"NO"</span>
<a name="line-4739"></a>    <span class='hs-varid'>platform</span>  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span>
<a name="line-4740"></a>    <span class='hs-varid'>isWindows</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformOS</span> <span class='hs-varid'>platform</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSMinGW32</span>
<a name="line-4741"></a>    <span class='hs-varid'>expandDirectories</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>FilePath</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-4742"></a>    <span class='hs-varid'>expandDirectories</span> <span class='hs-varid'>topd</span> <span class='hs-varid'>mtoold</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>expandToolDir</span> <span class='hs-varid'>mtoold</span> <span class='hs-varop'>.</span> <span class='hs-varid'>expandTopDir</span> <span class='hs-varid'>topd</span>
<a name="line-4743"></a>
<a name="line-4744"></a>
<a name="line-4745"></a><a name="wordAlignment"></a><span class='hs-definition'>wordAlignment</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Alignment</span>
<a name="line-4746"></a><span class='hs-definition'>wordAlignment</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>alignmentOf</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformWordSizeInBytes</span> <span class='hs-varid'>platform</span><span class='hs-layout'>)</span>
<a name="line-4747"></a>
<a name="line-4748"></a><a name="targetProfile"></a><span class='hs-comment'>-- | Get target profile</span>
<a name="line-4749"></a><span class='hs-definition'>targetProfile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Profile</span>
<a name="line-4750"></a><span class='hs-definition'>targetProfile</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Profile</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4751"></a>
<a name="line-4752"></a><span class='hs-comment'>{- -----------------------------------------------------------------------------
<a name="line-4753"></a>Note [DynFlags consistency]
<a name="line-4754"></a>~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<a name="line-4755"></a>
<a name="line-4756"></a>There are a number of number of DynFlags configurations which either
<a name="line-4757"></a>do not make sense or lead to unimplemented or buggy codepaths in the
<a name="line-4758"></a>compiler. makeDynFlagsConsistent is responsible for verifying the validity
<a name="line-4759"></a>of a set of DynFlags, fixing any issues, and reporting them back to the
<a name="line-4760"></a>caller.
<a name="line-4761"></a>
<a name="line-4762"></a>GHCi and -O
<a name="line-4763"></a>---------------
<a name="line-4764"></a>
<a name="line-4765"></a>When using optimization, the compiler can introduce several things
<a name="line-4766"></a>(such as unboxed tuples) into the intermediate code, which GHCi later
<a name="line-4767"></a>chokes on since the bytecode interpreter can't handle this (and while
<a name="line-4768"></a>this is arguably a bug these aren't handled, there are no plans to fix
<a name="line-4769"></a>it.)
<a name="line-4770"></a>
<a name="line-4771"></a>While the driver pipeline always checks for this particular erroneous
<a name="line-4772"></a>combination when parsing flags, we also need to check when we update
<a name="line-4773"></a>the flags; this is because API clients may parse flags but update the
<a name="line-4774"></a>DynFlags afterwords, before finally running code inside a session (see
<a name="line-4775"></a>T10052 and #10052).
<a name="line-4776"></a>-}</span>
<a name="line-4777"></a>
<a name="line-4778"></a><a name="makeDynFlagsConsistent"></a><span class='hs-comment'>-- | Resolve any internal inconsistencies in a set of 'DynFlags'.</span>
<a name="line-4779"></a><span class='hs-comment'>-- Returns the consistent 'DynFlags' as well as a list of warnings</span>
<a name="line-4780"></a><span class='hs-comment'>-- to report to the user.</span>
<a name="line-4781"></a><span class='hs-definition'>makeDynFlagsConsistent</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-conid'>DynFlags</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Located</span> <span class='hs-conid'>String</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-4782"></a><span class='hs-comment'>-- Whenever makeDynFlagsConsistent does anything, it starts over, to</span>
<a name="line-4783"></a><span class='hs-comment'>-- ensure that a later change doesn't invalidate an earlier check.</span>
<a name="line-4784"></a><span class='hs-comment'>-- Be careful not to introduce potential loops!</span>
<a name="line-4785"></a><span class='hs-definition'>makeDynFlagsConsistent</span> <span class='hs-varid'>dflags</span>
<a name="line-4786"></a> <span class='hs-comment'>-- Disable -dynamic-too on Windows (#8228, #7134, #5987)</span>
<a name="line-4787"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSMinGW32</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_BuildDynamicToo</span> <span class='hs-varid'>dflags</span>
<a name="line-4788"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_BuildDynamicToo</span>
<a name="line-4789"></a>          <span class='hs-varid'>warn</span>    <span class='hs-keyglyph'>=</span> <span class='hs-str'>"-dynamic-too is not supported on Windows"</span>
<a name="line-4790"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-4791"></a>
<a name="line-4792"></a>   <span class='hs-comment'>-- Via-C backend only supports unregisterised ABI. Switch to a backend</span>
<a name="line-4793"></a>   <span class='hs-comment'>-- supporting it if possible.</span>
<a name="line-4794"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>ViaC</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-4795"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformUnregisterised</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4796"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformDefaultBackend</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-4797"></a>         <span class='hs-conid'>NCG</span> <span class='hs-keyglyph'>-&gt;</span>  <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>backend</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>NCG</span> <span class='hs-layout'>}</span>
<a name="line-4798"></a>                     <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Target platform doesn't use unregisterised ABI, so using native code generator rather than compiling via C"</span>
<a name="line-4799"></a>                 <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-4800"></a>         <span class='hs-conid'>LLVM</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>backend</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LLVM</span> <span class='hs-layout'>}</span>
<a name="line-4801"></a>                     <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Target platform doesn't use unregisterised ABI, so using LLVM rather than compiling via C"</span>
<a name="line-4802"></a>                 <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-4803"></a>         <span class='hs-keyword'>_</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>pgmError</span> <span class='hs-str'>"Compiling via C only supports unregisterised ABI but target platform doesn't use it."</span>
<a name="line-4804"></a>
<a name="line-4805"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_Hpc</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>Interpreter</span>
<a name="line-4806"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_Hpc</span>
<a name="line-4807"></a>          <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Hpc can't be used with byte-code interpreter. Ignoring -fhpc."</span>
<a name="line-4808"></a>      <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-4809"></a>
<a name="line-4810"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>`elem`</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>NCG</span><span class='hs-layout'>,</span> <span class='hs-conid'>LLVM</span><span class='hs-keyglyph'>]</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-4811"></a>   <span class='hs-varid'>platformUnregisterised</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4812"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>backend</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>ViaC</span> <span class='hs-layout'>}</span><span class='hs-layout'>)</span>
<a name="line-4813"></a>           <span class='hs-str'>"Target platform uses unregisterised ABI, so compiling via C"</span>
<a name="line-4814"></a>
<a name="line-4815"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>==</span> <span class='hs-conid'>NCG</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-4816"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>platformNcgSupported</span> <span class='hs-varop'>$</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4817"></a>      <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags'</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>backend</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>LLVM</span> <span class='hs-layout'>}</span>
<a name="line-4818"></a>            <span class='hs-varid'>warn</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"Native code generator doesn't support target platform, so using LLVM"</span>
<a name="line-4819"></a>        <span class='hs-keyword'>in</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags'</span> <span class='hs-varid'>warn</span>
<a name="line-4820"></a>
<a name="line-4821"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>osElfTarget</span> <span class='hs-varid'>os</span><span class='hs-layout'>)</span> <span class='hs-varop'>&amp;&amp;</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIE</span> <span class='hs-varid'>dflags</span>
<a name="line-4822"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_unset</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_PIE</span><span class='hs-layout'>)</span>
<a name="line-4823"></a>           <span class='hs-str'>"Position-independent only supported on ELF platforms"</span>
<a name="line-4824"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>os</span> <span class='hs-varop'>==</span> <span class='hs-conid'>OSDarwin</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-4825"></a>   <span class='hs-varid'>arch</span> <span class='hs-varop'>==</span> <span class='hs-conid'>ArchX86_64</span> <span class='hs-varop'>&amp;&amp;</span>
<a name="line-4826"></a>   <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PIC</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4827"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt_set</span> <span class='hs-varid'>dflags</span> <span class='hs-conid'>Opt_PIC</span><span class='hs-layout'>)</span>
<a name="line-4828"></a>           <span class='hs-str'>"Enabling -fPIC as it is always on for this platform"</span>
<a name="line-4829"></a> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Left</span> <span class='hs-varid'>err</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>checkOptLevel</span> <span class='hs-layout'>(</span><span class='hs-varid'>optLevel</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varid'>dflags</span>
<a name="line-4830"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-layout'>(</span><span class='hs-varid'>updOptLevel</span> <span class='hs-num'>0</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-varid'>err</span>
<a name="line-4831"></a>
<a name="line-4832"></a> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LinkInMemory</span> <span class='hs-keyglyph'>&lt;-</span> <span class='hs-varid'>ghcLink</span> <span class='hs-varid'>dflags</span>
<a name="line-4833"></a> <span class='hs-layout'>,</span> <span class='hs-varid'>not</span> <span class='hs-layout'>(</span><span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_ExternalInterpreter</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4834"></a> <span class='hs-layout'>,</span> <span class='hs-varid'>hostIsProfiled</span>
<a name="line-4835"></a> <span class='hs-layout'>,</span> <span class='hs-varid'>backendProducesObject</span> <span class='hs-layout'>(</span><span class='hs-varid'>backend</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4836"></a> <span class='hs-layout'>,</span> <span class='hs-conid'>WayProf</span> <span class='hs-varop'>`Set.notMember`</span> <span class='hs-varid'>ways</span> <span class='hs-varid'>dflags</span>
<a name="line-4837"></a>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>loop</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>{</span><span class='hs-varid'>targetWays_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addWay</span> <span class='hs-conid'>WayProf</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetWays_</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span><span class='hs-layout'>}</span>
<a name="line-4838"></a>         <span class='hs-str'>"Enabling -prof, because -fobject-code is enabled and GHCi is profiled"</span>
<a name="line-4839"></a>
<a name="line-4840"></a> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags</span><span class='hs-layout'>,</span> <span class='hs-conid'>[]</span><span class='hs-layout'>)</span>
<a name="line-4841"></a>    <span class='hs-keyword'>where</span> <span class='hs-varid'>loc</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mkGeneralSrcSpan</span> <span class='hs-layout'>(</span><span class='hs-varid'>fsLit</span> <span class='hs-str'>"when making flags consistent"</span><span class='hs-layout'>)</span>
<a name="line-4842"></a>          <span class='hs-varid'>loop</span> <span class='hs-varid'>updated_dflags</span> <span class='hs-varid'>warning</span>
<a name="line-4843"></a>              <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>makeDynFlagsConsistent</span> <span class='hs-varid'>updated_dflags</span> <span class='hs-keyword'>of</span>
<a name="line-4844"></a>                <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-varid'>ws</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>dflags'</span><span class='hs-layout'>,</span> <span class='hs-conid'>L</span> <span class='hs-varid'>loc</span> <span class='hs-varid'>warning</span> <span class='hs-conop'>:</span> <span class='hs-varid'>ws</span><span class='hs-layout'>)</span>
<a name="line-4845"></a>          <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span>
<a name="line-4846"></a>          <span class='hs-varid'>arch</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformArch</span> <span class='hs-varid'>platform</span>
<a name="line-4847"></a>          <span class='hs-varid'>os</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platformOS</span>   <span class='hs-varid'>platform</span>
<a name="line-4848"></a>
<a name="line-4849"></a>
<a name="line-4850"></a><a name="setUnsafeGlobalDynFlags"></a><span class='hs-definition'>setUnsafeGlobalDynFlags</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-4851"></a><span class='hs-definition'>setUnsafeGlobalDynFlags</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-4852"></a>   <span class='hs-varid'>writeIORef</span> <span class='hs-varid'>v_unsafeHasPprDebug</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasPprDebug</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4853"></a>   <span class='hs-varid'>writeIORef</span> <span class='hs-varid'>v_unsafeHasNoDebugOutput</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasNoDebugOutput</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4854"></a>   <span class='hs-varid'>writeIORef</span> <span class='hs-varid'>v_unsafeHasNoStateHack</span> <span class='hs-layout'>(</span><span class='hs-varid'>hasNoStateHack</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4855"></a>
<a name="line-4856"></a>
<a name="line-4857"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4858"></a><span class='hs-comment'>-- SSE and AVX</span>
<a name="line-4859"></a>
<a name="line-4860"></a><span class='hs-comment'>-- TODO: Instead of using a separate predicate (i.e. isSse2Enabled) to</span>
<a name="line-4861"></a><span class='hs-comment'>-- check if SSE is enabled, we might have x86-64 imply the -msse2</span>
<a name="line-4862"></a><span class='hs-comment'>-- flag.</span>
<a name="line-4863"></a>
<a name="line-4864"></a><a name="isSseEnabled"></a><span class='hs-definition'>isSseEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4865"></a><span class='hs-definition'>isSseEnabled</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformArch</span> <span class='hs-varid'>platform</span> <span class='hs-keyword'>of</span>
<a name="line-4866"></a>    <span class='hs-conid'>ArchX86_64</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>True</span>
<a name="line-4867"></a>    <span class='hs-conid'>ArchX86</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>True</span>
<a name="line-4868"></a>    <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>False</span>
<a name="line-4869"></a>
<a name="line-4870"></a><a name="isSse2Enabled"></a><span class='hs-definition'>isSse2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Platform</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4871"></a><span class='hs-definition'>isSse2Enabled</span> <span class='hs-varid'>platform</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformArch</span> <span class='hs-varid'>platform</span> <span class='hs-keyword'>of</span>
<a name="line-4872"></a>  <span class='hs-comment'>-- We assume  SSE1 and SSE2 operations are available on both</span>
<a name="line-4873"></a>  <span class='hs-comment'>-- x86 and x86_64. Historically we didn't default to SSE2 and</span>
<a name="line-4874"></a>  <span class='hs-comment'>-- SSE1 on x86, which results in defacto nondeterminism for how</span>
<a name="line-4875"></a>  <span class='hs-comment'>-- rounding behaves in the associated x87 floating point instructions</span>
<a name="line-4876"></a>  <span class='hs-comment'>-- because variations in the spill/fpu stack placement of arguments for</span>
<a name="line-4877"></a>  <span class='hs-comment'>-- operations would change the precision and final result of what</span>
<a name="line-4878"></a>  <span class='hs-comment'>-- would otherwise be the same expressions with respect to single or</span>
<a name="line-4879"></a>  <span class='hs-comment'>-- double precision IEEE floating point computations.</span>
<a name="line-4880"></a>    <span class='hs-conid'>ArchX86_64</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>True</span>
<a name="line-4881"></a>    <span class='hs-conid'>ArchX86</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>True</span>
<a name="line-4882"></a>    <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>False</span>
<a name="line-4883"></a>
<a name="line-4884"></a>
<a name="line-4885"></a><a name="isSse4_2Enabled"></a><span class='hs-definition'>isSse4_2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4886"></a><span class='hs-definition'>isSse4_2Enabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>sseVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>SSE42</span>
<a name="line-4887"></a>
<a name="line-4888"></a><a name="isAvxEnabled"></a><span class='hs-definition'>isAvxEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4889"></a><span class='hs-definition'>isAvxEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>avx2</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>avx512f</span> <span class='hs-varid'>dflags</span>
<a name="line-4890"></a>
<a name="line-4891"></a><a name="isAvx2Enabled"></a><span class='hs-definition'>isAvx2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4892"></a><span class='hs-definition'>isAvx2Enabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx2</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>||</span> <span class='hs-varid'>avx512f</span> <span class='hs-varid'>dflags</span>
<a name="line-4893"></a>
<a name="line-4894"></a><a name="isAvx512cdEnabled"></a><span class='hs-definition'>isAvx512cdEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4895"></a><span class='hs-definition'>isAvx512cdEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512cd</span> <span class='hs-varid'>dflags</span>
<a name="line-4896"></a>
<a name="line-4897"></a><a name="isAvx512erEnabled"></a><span class='hs-definition'>isAvx512erEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4898"></a><span class='hs-definition'>isAvx512erEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512er</span> <span class='hs-varid'>dflags</span>
<a name="line-4899"></a>
<a name="line-4900"></a><a name="isAvx512fEnabled"></a><span class='hs-definition'>isAvx512fEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4901"></a><span class='hs-definition'>isAvx512fEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512f</span> <span class='hs-varid'>dflags</span>
<a name="line-4902"></a>
<a name="line-4903"></a><a name="isAvx512pfEnabled"></a><span class='hs-definition'>isAvx512pfEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4904"></a><span class='hs-definition'>isAvx512pfEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>avx512pf</span> <span class='hs-varid'>dflags</span>
<a name="line-4905"></a>
<a name="line-4906"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4907"></a><span class='hs-comment'>-- BMI2</span>
<a name="line-4908"></a>
<a name="line-4909"></a><a name="isBmiEnabled"></a><span class='hs-definition'>isBmiEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4910"></a><span class='hs-definition'>isBmiEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformArch</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-4911"></a>    <span class='hs-conid'>ArchX86_64</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>bmiVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>BMI1</span>
<a name="line-4912"></a>    <span class='hs-conid'>ArchX86</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>bmiVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>BMI1</span>
<a name="line-4913"></a>    <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>False</span>
<a name="line-4914"></a>
<a name="line-4915"></a><a name="isBmi2Enabled"></a><span class='hs-definition'>isBmi2Enabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4916"></a><span class='hs-definition'>isBmi2Enabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>case</span> <span class='hs-varid'>platformArch</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-keyword'>of</span>
<a name="line-4917"></a>    <span class='hs-conid'>ArchX86_64</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>bmiVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>BMI2</span>
<a name="line-4918"></a>    <span class='hs-conid'>ArchX86</span>    <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>bmiVersion</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;=</span> <span class='hs-conid'>Just</span> <span class='hs-conid'>BMI2</span>
<a name="line-4919"></a>    <span class='hs-keyword'>_</span>          <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>False</span>
<a name="line-4920"></a>
<a name="line-4921"></a><a name="sccProfilingEnabled"></a><span class='hs-comment'>-- | Indicate if cost-centre profiling is enabled</span>
<a name="line-4922"></a><span class='hs-definition'>sccProfilingEnabled</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4923"></a><span class='hs-definition'>sccProfilingEnabled</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>profileIsProfiling</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetProfile</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-4924"></a>
<a name="line-4925"></a><a name="needSourceNotes"></a><span class='hs-comment'>-- | Indicate whether we need to generate source notes</span>
<a name="line-4926"></a><span class='hs-definition'>needSourceNotes</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4927"></a><span class='hs-definition'>needSourceNotes</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>debugLevel</span> <span class='hs-varid'>dflags</span> <span class='hs-varop'>&gt;</span> <span class='hs-num'>0</span>
<a name="line-4928"></a>                       <span class='hs-varop'>||</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_InfoTableMap</span> <span class='hs-varid'>dflags</span>
<a name="line-4929"></a>
<a name="line-4930"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4931"></a><span class='hs-comment'>-- Linker/compiler information</span>
<a name="line-4932"></a>
<a name="line-4933"></a><a name="LinkerInfo"></a><span class='hs-comment'>-- LinkerInfo contains any extra options needed by the system linker.</span>
<a name="line-4934"></a><a name="LinkerInfo"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>LinkerInfo</span>
<a name="line-4935"></a>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>GnuLD</span>    <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-4936"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>GnuGold</span>  <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-4937"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>LlvmLLD</span>  <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-4938"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>DarwinLD</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-4939"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>SolarisLD</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-4940"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AixLD</span>    <span class='hs-keyglyph'>[</span><span class='hs-conid'>Option</span><span class='hs-keyglyph'>]</span>
<a name="line-4941"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UnknownLD</span>
<a name="line-4942"></a>  <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-4943"></a>
<a name="line-4944"></a><a name="CompilerInfo"></a><span class='hs-comment'>-- CompilerInfo tells us which C compiler we're using</span>
<a name="line-4945"></a><a name="CompilerInfo"></a><span class='hs-keyword'>data</span> <span class='hs-conid'>CompilerInfo</span>
<a name="line-4946"></a>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>GCC</span>
<a name="line-4947"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Clang</span>
<a name="line-4948"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AppleClang</span>
<a name="line-4949"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>AppleClang51</span>
<a name="line-4950"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-conid'>UnknownCC</span>
<a name="line-4951"></a>   <span class='hs-keyword'>deriving</span> <span class='hs-conid'>Eq</span>
<a name="line-4952"></a>
<a name="line-4953"></a>
<a name="line-4954"></a><a name="useXLinkerRPath"></a><span class='hs-comment'>-- | Should we use `-XLinker -rpath` when linking or not?</span>
<a name="line-4955"></a><span class='hs-comment'>-- See Note [-fno-use-rpaths]</span>
<a name="line-4956"></a><span class='hs-definition'>useXLinkerRPath</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>OS</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span>
<a name="line-4957"></a><span class='hs-definition'>useXLinkerRPath</span> <span class='hs-keyword'>_</span> <span class='hs-conid'>OSDarwin</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>False</span> <span class='hs-comment'>-- See Note [Dynamic linking on macOS]</span>
<a name="line-4958"></a><span class='hs-definition'>useXLinkerRPath</span> <span class='hs-varid'>dflags</span> <span class='hs-keyword'>_</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_RPath</span> <span class='hs-varid'>dflags</span>
<a name="line-4959"></a>
<a name="line-4960"></a><span class='hs-comment'>{-
<a name="line-4961"></a>Note [-fno-use-rpaths]
<a name="line-4962"></a>~~~~~~~~~~~~~~~~~~~~~~
<a name="line-4963"></a>
<a name="line-4964"></a>First read, Note [Dynamic linking on macOS] to understand why on darwin we never
<a name="line-4965"></a>use `-XLinker -rpath`.
<a name="line-4966"></a>
<a name="line-4967"></a>The specification of `Opt_RPath` is as follows:
<a name="line-4968"></a>
<a name="line-4969"></a>The default case `-fuse-rpaths`:
<a name="line-4970"></a>* On darwin, never use `-Xlinker -rpath -Xlinker`, always inject the rpath
<a name="line-4971"></a>  afterwards, see `runInjectRPaths`. There is no way to use `-Xlinker` on darwin
<a name="line-4972"></a>  as things stand but it wasn't documented in the user guide before this patch how
<a name="line-4973"></a>  `-fuse-rpaths` should behave and the fact it was always disabled on darwin.
<a name="line-4974"></a>* Otherwise, use `-Xlinker -rpath -Xlinker` to set the rpath of the executable,
<a name="line-4975"></a>  this is the normal way you should set the rpath.
<a name="line-4976"></a>
<a name="line-4977"></a>The case of `-fno-use-rpaths`
<a name="line-4978"></a>* Never inject anything into the rpath.
<a name="line-4979"></a>
<a name="line-4980"></a>When this was first implemented, `Opt_RPath` was disabled on darwin, but
<a name="line-4981"></a>the rpath was still always augmented by `runInjectRPaths`, and there was no way to
<a name="line-4982"></a>stop this. This was problematic because you couldn't build an executable in CI
<a name="line-4983"></a>with a clean rpath.
<a name="line-4984"></a>
<a name="line-4985"></a>-}</span>
<a name="line-4986"></a>
<a name="line-4987"></a><span class='hs-comment'>-- -----------------------------------------------------------------------------</span>
<a name="line-4988"></a><span class='hs-comment'>-- RTS hooks</span>
<a name="line-4989"></a>
<a name="line-4990"></a><a name="decodeSize"></a><span class='hs-comment'>-- Convert sizes like "3.5M" into integers</span>
<a name="line-4991"></a><span class='hs-definition'>decodeSize</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Integer</span>
<a name="line-4992"></a><span class='hs-definition'>decodeSize</span> <span class='hs-varid'>str</span>
<a name="line-4993"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>""</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-varid'>n</span>
<a name="line-4994"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"K"</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"k"</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span><span class='hs-layout'>)</span>
<a name="line-4995"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"M"</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"m"</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span><span class='hs-layout'>)</span>
<a name="line-4996"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"G"</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-str'>"g"</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>truncate</span> <span class='hs-layout'>(</span><span class='hs-varid'>n</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span> <span class='hs-varop'>*</span> <span class='hs-num'>1000</span><span class='hs-layout'>)</span>
<a name="line-4997"></a>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>throwGhcException</span> <span class='hs-layout'>(</span><span class='hs-conid'>CmdLineError</span> <span class='hs-layout'>(</span><span class='hs-str'>"can't decode size: "</span> <span class='hs-varop'>++</span> <span class='hs-varid'>str</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<a name="line-4998"></a>  <span class='hs-keyword'>where</span> <span class='hs-layout'>(</span><span class='hs-varid'>m</span><span class='hs-layout'>,</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>span</span> <span class='hs-varid'>pred</span> <span class='hs-varid'>str</span>
<a name="line-4999"></a>        <span class='hs-varid'>n</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>readRational</span> <span class='hs-varid'>m</span>
<a name="line-5000"></a>        <span class='hs-varid'>pred</span> <span class='hs-varid'>c</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>isDigit</span> <span class='hs-varid'>c</span> <span class='hs-varop'>||</span> <span class='hs-varid'>c</span> <span class='hs-varop'>==</span> <span class='hs-chr'>'.'</span>
<a name="line-5001"></a>
<a name="line-5002"></a><span class='hs-keyword'>foreign</span> <span class='hs-keyword'>import</span> <span class='hs-keyword'>ccall</span> <span class='hs-keyword'>unsafe</span> <span class='hs-str'>"setHeapSize"</span>       <span class='hs-varid'>setHeapSize</span>       <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-5003"></a><span class='hs-keyword'>foreign</span> <span class='hs-keyword'>import</span> <span class='hs-keyword'>ccall</span> <span class='hs-keyword'>unsafe</span> <span class='hs-str'>"enableTimingStats"</span> <span class='hs-varid'>enableTimingStats</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>()</span>
<a name="line-5004"></a>
<a name="line-5005"></a>
<a name="line-5006"></a><a name="initSDocContext"></a><span class='hs-comment'>-- | Initialize the pretty-printing options</span>
<a name="line-5007"></a><span class='hs-definition'>initSDocContext</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>PprStyle</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDocContext</span>
<a name="line-5008"></a><span class='hs-definition'>initSDocContext</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>style</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>SDC</span>
<a name="line-5009"></a>  <span class='hs-layout'>{</span> <span class='hs-varid'>sdocStyle</span>                       <span class='hs-keyglyph'>=</span> <span class='hs-varid'>style</span>
<a name="line-5010"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocColScheme</span>                   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>colScheme</span> <span class='hs-varid'>dflags</span>
<a name="line-5011"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocLastColour</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Col.colReset</span>
<a name="line-5012"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocShouldUseColor</span>              <span class='hs-keyglyph'>=</span> <span class='hs-varid'>overrideWith</span> <span class='hs-layout'>(</span><span class='hs-varid'>canUseColor</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>useColor</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-5013"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocDefaultDepth</span>                <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pprUserLength</span> <span class='hs-varid'>dflags</span>
<a name="line-5014"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocLineLength</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>pprCols</span> <span class='hs-varid'>dflags</span>
<a name="line-5015"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocCanUseUnicode</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>useUnicode</span> <span class='hs-varid'>dflags</span>
<a name="line-5016"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocHexWordLiterals</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_HexWordLiterals</span> <span class='hs-varid'>dflags</span>
<a name="line-5017"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPprDebug</span>                    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dopt</span> <span class='hs-conid'>Opt_D_ppr_debug</span> <span class='hs-varid'>dflags</span>
<a name="line-5018"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintUnicodeSyntax</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintUnicodeSyntax</span> <span class='hs-varid'>dflags</span>
<a name="line-5019"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintCaseAsLet</span>              <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PprCaseAsLet</span> <span class='hs-varid'>dflags</span>
<a name="line-5020"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintTypecheckerElaboration</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintTypecheckerElaboration</span> <span class='hs-varid'>dflags</span>
<a name="line-5021"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintAxiomIncomps</span>           <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintAxiomIncomps</span> <span class='hs-varid'>dflags</span>
<a name="line-5022"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintExplicitKinds</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintExplicitKinds</span> <span class='hs-varid'>dflags</span>
<a name="line-5023"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintExplicitCoercions</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintExplicitCoercions</span> <span class='hs-varid'>dflags</span>
<a name="line-5024"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintExplicitRuntimeReps</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintExplicitRuntimeReps</span> <span class='hs-varid'>dflags</span>
<a name="line-5025"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintExplicitForalls</span>        <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintExplicitForalls</span> <span class='hs-varid'>dflags</span>
<a name="line-5026"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintPotentialInstances</span>     <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintPotentialInstances</span> <span class='hs-varid'>dflags</span>
<a name="line-5027"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintEqualityRelations</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_PrintEqualityRelations</span> <span class='hs-varid'>dflags</span>
<a name="line-5028"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressTicks</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressTicks</span> <span class='hs-varid'>dflags</span>
<a name="line-5029"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressTypeSignatures</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressTypeSignatures</span> <span class='hs-varid'>dflags</span>
<a name="line-5030"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressTypeApplications</span>    <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressTypeApplications</span> <span class='hs-varid'>dflags</span>
<a name="line-5031"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressIdInfo</span>              <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressIdInfo</span> <span class='hs-varid'>dflags</span>
<a name="line-5032"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressCoercions</span>           <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressCoercions</span> <span class='hs-varid'>dflags</span>
<a name="line-5033"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressUnfoldings</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressUnfoldings</span> <span class='hs-varid'>dflags</span>
<a name="line-5034"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressVarKinds</span>            <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressVarKinds</span> <span class='hs-varid'>dflags</span>
<a name="line-5035"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressUniques</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressUniques</span> <span class='hs-varid'>dflags</span>
<a name="line-5036"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressModulePrefixes</span>      <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressModulePrefixes</span> <span class='hs-varid'>dflags</span>
<a name="line-5037"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocSuppressStgExts</span>             <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_SuppressStgExts</span> <span class='hs-varid'>dflags</span>
<a name="line-5038"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocErrorSpans</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>gopt</span> <span class='hs-conid'>Opt_ErrorSpans</span> <span class='hs-varid'>dflags</span>
<a name="line-5039"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocStarIsType</span>                  <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.StarIsType</span> <span class='hs-varid'>dflags</span>
<a name="line-5040"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocImpredicativeTypes</span>          <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.ImpredicativeTypes</span> <span class='hs-varid'>dflags</span>
<a name="line-5041"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocLinearTypes</span>                 <span class='hs-keyglyph'>=</span> <span class='hs-varid'>xopt</span> <span class='hs-conid'>LangExt.LinearTypes</span> <span class='hs-varid'>dflags</span>
<a name="line-5042"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocPrintTypeAbbreviations</span>      <span class='hs-keyglyph'>=</span> <span class='hs-conid'>True</span>
<a name="line-5043"></a>  <span class='hs-layout'>,</span> <span class='hs-varid'>sdocUnitIdForUser</span>               <span class='hs-keyglyph'>=</span> <span class='hs-varid'>ftext</span>
<a name="line-5044"></a>  <span class='hs-layout'>}</span>
<a name="line-5045"></a>
<a name="line-5046"></a><a name="initDefaultSDocContext"></a><span class='hs-comment'>-- | Initialize the pretty-printing options using the default user style</span>
<a name="line-5047"></a><span class='hs-definition'>initDefaultSDocContext</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDocContext</span>
<a name="line-5048"></a><span class='hs-definition'>initDefaultSDocContext</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>initSDocContext</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>defaultUserStyle</span>
<a name="line-5049"></a>
<a name="line-5050"></a><a name="outputFile"></a><span class='hs-definition'>outputFile</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>String</span>
<a name="line-5051"></a><span class='hs-definition'>outputFile</span> <span class='hs-varid'>dflags</span>
<a name="line-5052"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynOutputFile_</span> <span class='hs-varid'>dflags</span>
<a name="line-5053"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>outputFile_</span>    <span class='hs-varid'>dflags</span>
<a name="line-5054"></a>
<a name="line-5055"></a><a name="hiSuf"></a><span class='hs-definition'>hiSuf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-5056"></a><span class='hs-definition'>hiSuf</span> <span class='hs-varid'>dflags</span>
<a name="line-5057"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynHiSuf_</span> <span class='hs-varid'>dflags</span>
<a name="line-5058"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>hiSuf_</span>    <span class='hs-varid'>dflags</span>
<a name="line-5059"></a>
<a name="line-5060"></a><a name="objectSuf"></a><span class='hs-definition'>objectSuf</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>String</span>
<a name="line-5061"></a><span class='hs-definition'>objectSuf</span> <span class='hs-varid'>dflags</span>
<a name="line-5062"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dynObjectSuf_</span> <span class='hs-varid'>dflags</span>
<a name="line-5063"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>objectSuf_</span>    <span class='hs-varid'>dflags</span>
<a name="line-5064"></a>
<a name="line-5065"></a><a name="ways"></a><span class='hs-definition'>ways</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Ways</span>
<a name="line-5066"></a><span class='hs-definition'>ways</span> <span class='hs-varid'>dflags</span>
<a name="line-5067"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>dynamicNow</span> <span class='hs-varid'>dflags</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>addWay</span> <span class='hs-conid'>WayDyn</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetWays_</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span>
<a name="line-5068"></a>   <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>         <span class='hs-keyglyph'>=</span> <span class='hs-varid'>targetWays_</span> <span class='hs-varid'>dflags</span>
<a name="line-5069"></a>
<a name="line-5070"></a><a name="pprDynFlagsDiff"></a><span class='hs-comment'>-- | Pretty-print the difference between 2 DynFlags.</span>
<a name="line-5071"></a><span class='hs-comment'>--</span>
<a name="line-5072"></a><span class='hs-comment'>-- For now only their general flags but it could be extended.</span>
<a name="line-5073"></a><span class='hs-comment'>-- Useful mostly for debugging.</span>
<a name="line-5074"></a><span class='hs-definition'>pprDynFlagsDiff</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>SDoc</span>
<a name="line-5075"></a><span class='hs-definition'>pprDynFlagsDiff</span> <span class='hs-varid'>d1</span> <span class='hs-varid'>d2</span> <span class='hs-keyglyph'>=</span>
<a name="line-5076"></a>   <span class='hs-keyword'>let</span> <span class='hs-varid'>gf_removed</span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.difference</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>d1</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>d2</span><span class='hs-layout'>)</span>
<a name="line-5077"></a>       <span class='hs-varid'>gf_added</span>    <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.difference</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>d2</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>generalFlags</span> <span class='hs-varid'>d1</span><span class='hs-layout'>)</span>
<a name="line-5078"></a>       <span class='hs-varid'>ext_removed</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.difference</span> <span class='hs-layout'>(</span><span class='hs-varid'>extensionFlags</span> <span class='hs-varid'>d1</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>extensionFlags</span> <span class='hs-varid'>d2</span><span class='hs-layout'>)</span>
<a name="line-5079"></a>       <span class='hs-varid'>ext_added</span>   <span class='hs-keyglyph'>=</span> <span class='hs-conid'>EnumSet.difference</span> <span class='hs-layout'>(</span><span class='hs-varid'>extensionFlags</span> <span class='hs-varid'>d2</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>extensionFlags</span> <span class='hs-varid'>d1</span><span class='hs-layout'>)</span>
<a name="line-5080"></a>   <span class='hs-keyword'>in</span> <span class='hs-varid'>vcat</span>
<a name="line-5081"></a>      <span class='hs-keyglyph'>[</span> <span class='hs-varid'>text</span> <span class='hs-str'>"Added general flags:"</span>
<a name="line-5082"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-varop'>$</span> <span class='hs-varid'>show</span> <span class='hs-varop'>$</span> <span class='hs-conid'>EnumSet.toList</span> <span class='hs-varop'>$</span> <span class='hs-varid'>gf_added</span>
<a name="line-5083"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-str'>"Removed general flags:"</span>
<a name="line-5084"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-varop'>$</span> <span class='hs-varid'>show</span> <span class='hs-varop'>$</span> <span class='hs-conid'>EnumSet.toList</span> <span class='hs-varop'>$</span> <span class='hs-varid'>gf_removed</span>
<a name="line-5085"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-str'>"Added extension flags:"</span>
<a name="line-5086"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-varop'>$</span> <span class='hs-varid'>show</span> <span class='hs-varop'>$</span> <span class='hs-conid'>EnumSet.toList</span> <span class='hs-varop'>$</span> <span class='hs-varid'>ext_added</span>
<a name="line-5087"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-str'>"Removed extension flags:"</span>
<a name="line-5088"></a>      <span class='hs-layout'>,</span> <span class='hs-varid'>text</span> <span class='hs-varop'>$</span> <span class='hs-varid'>show</span> <span class='hs-varop'>$</span> <span class='hs-conid'>EnumSet.toList</span> <span class='hs-varop'>$</span> <span class='hs-varid'>ext_removed</span>
<a name="line-5089"></a>      <span class='hs-keyglyph'>]</span>
<a name="line-5090"></a>
<a name="line-5091"></a><a name="updatePlatformConstants"></a><span class='hs-definition'>updatePlatformConstants</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>DynFlags</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Maybe</span> <span class='hs-conid'>PlatformConstants</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>IO</span> <span class='hs-conid'>DynFlags</span>
<a name="line-5092"></a><span class='hs-definition'>updatePlatformConstants</span> <span class='hs-varid'>dflags</span> <span class='hs-varid'>mconstants</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyword'>do</span>
<a name="line-5093"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>platform1</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varid'>targetPlatform</span> <span class='hs-varid'>dflags</span><span class='hs-layout'>)</span> <span class='hs-layout'>{</span> <span class='hs-varid'>platform_constants</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>mconstants</span> <span class='hs-layout'>}</span>
<a name="line-5094"></a>  <span class='hs-keyword'>let</span> <span class='hs-varid'>dflags1</span>   <span class='hs-keyglyph'>=</span> <span class='hs-varid'>dflags</span> <span class='hs-layout'>{</span> <span class='hs-varid'>targetPlatform</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>platform1</span> <span class='hs-layout'>}</span>
<a name="line-5095"></a>  <span class='hs-varid'>return</span> <span class='hs-varid'>dflags1</span>
</pre></body>
</html>

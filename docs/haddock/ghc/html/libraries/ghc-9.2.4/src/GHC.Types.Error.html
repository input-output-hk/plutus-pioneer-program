<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveFunctor #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Types.Error</span><span>
</span><span id="line-6"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Messages</span></span><span>
</span><span id="line-7"></span><span>     </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier">Messages</span></a></span><span>
</span><span id="line-8"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#WarningMessages"><span class="hs-identifier">WarningMessages</span></a></span><span>
</span><span id="line-9"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#ErrorMessages"><span class="hs-identifier">ErrorMessages</span></a></span><span>
</span><span id="line-10"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkMessages"><span class="hs-identifier">mkMessages</span></a></span><span>
</span><span id="line-11"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier">emptyMessages</span></a></span><span>
</span><span id="line-12"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isEmptyMessages"><span class="hs-identifier">isEmptyMessages</span></a></span><span>
</span><span id="line-13"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier">addMessage</span></a></span><span>
</span><span id="line-14"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#unionMessages"><span class="hs-identifier">unionMessages</span></a></span><span>
</span><span id="line-15"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier">MsgEnvelope</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#WarnMsg"><span class="hs-identifier">WarnMsg</span></a></span><span>
</span><span id="line-17"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier">SDoc</span></a></span><span>
</span><span id="line-18"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier">DecoratedSDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier">unDecorated</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier">Severity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#RenderableDiagnostic"><span class="hs-identifier">RenderableDiagnostic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#pprMessageBag"><span class="hs-identifier">pprMessageBag</span></a></span><span>
</span><span id="line-22"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier">mkDecorated</span></a></span><span>
</span><span id="line-23"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier">mkLocMessage</span></a></span><span>
</span><span id="line-24"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessageAnn"><span class="hs-identifier">mkLocMessageAnn</span></a></span><span>
</span><span id="line-25"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier">getSeverityColour</span></a></span><span>
</span><span id="line-26"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier">getCaretDiagnostic</span></a></span><span>
</span><span id="line-27"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#makeIntoWarning"><span class="hs-identifier">makeIntoWarning</span></a></span><span>
</span><span id="line-28"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Constructing individual errors</span></span><span>
</span><span id="line-29"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkMsgEnvelope"><span class="hs-identifier">mkMsgEnvelope</span></a></span><span>
</span><span id="line-30"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkPlainMsgEnvelope"><span class="hs-identifier">mkPlainMsgEnvelope</span></a></span><span>
</span><span id="line-31"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkErr"><span class="hs-identifier">mkErr</span></a></span><span>
</span><span id="line-32"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLongMsgEnvelope"><span class="hs-identifier">mkLongMsgEnvelope</span></a></span><span>
</span><span id="line-33"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkWarnMsg"><span class="hs-identifier">mkWarnMsg</span></a></span><span>
</span><span id="line-34"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkPlainWarnMsg"><span class="hs-identifier">mkPlainWarnMsg</span></a></span><span>
</span><span id="line-35"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLongWarnMsg"><span class="hs-identifier">mkLongWarnMsg</span></a></span><span>
</span><span id="line-36"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Queries</span></span><span>
</span><span id="line-37"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isErrorMessage"><span class="hs-identifier">isErrorMessage</span></a></span><span>
</span><span id="line-38"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier">isWarningMessage</span></a></span><span>
</span><span id="line-39"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getErrorMessages"><span class="hs-identifier">getErrorMessages</span></a></span><span>
</span><span id="line-40"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#getWarningMessages"><span class="hs-identifier">getWarningMessages</span></a></span><span>
</span><span id="line-41"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#partitionMessages"><span class="hs-identifier">partitionMessages</span></a></span><span>
</span><span id="line-42"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#errorsFound"><span class="hs-identifier">errorsFound</span></a></span><span>
</span><span id="line-43"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">where</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html"><span class="hs-identifier">GHC.Driver.Flags</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html"><span class="hs-identifier">GHC.Data.Bag</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html"><span class="hs-identifier">GHC.Utils.Ppr.Colour</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Col</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SrcLoc</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier">unpackFS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html"><span class="hs-identifier">GHC.Data.StringBuffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.StringBuffer.html#atLine"><span class="hs-identifier">atLine</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html#hGetStringBuffer"><span class="hs-identifier">hGetStringBuffer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html#len"><span class="hs-identifier">len</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.StringBuffer.html#lexemeToString"><span class="hs-identifier">lexemeToString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Json.html"><span class="hs-identifier">GHC.Utils.Json</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/System-IO-Error.html#"><span class="hs-identifier">System.IO.Error</span></a></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/System-IO-Error.html#catchIOError"><span class="hs-identifier">catchIOError</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-comment">{-
Note [Messages]
~~~~~~~~~~~~~~~

We represent the 'Messages' as a single bag of warnings and errors.

The reason behind that is that there is a fluid relationship between errors and warnings and we want to
be able to promote or demote errors and warnings based on certain flags (e.g. -Werror, -fdefer-type-errors
or -XPartialTypeSignatures). For now we rely on the 'Severity' to distinguish between a warning and an
error, although the 'Severity' can be /more/ than just 'SevWarn' and 'SevError', and as such it probably
shouldn't belong to an 'MsgEnvelope' to begin with, as it might potentially lead to the construction of
&quot;impossible states&quot; (e.g. a waning with 'SevInfo', for example).

'WarningMessages' and 'ErrorMessages' are for now simple type aliases to retain backward compatibility, but
in future iterations these can be either parameterised over an 'e' message type (to make type signatures
a bit more declarative) or removed altogether.
-}</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- | A collection of messages emitted by GHC during error reporting. A diagnostic message is typically</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- a warning or an error. See Note [Messages].</span><span>
</span><span id="line-80"></span><span class="hs-keyword">newtype</span><span> </span><span id="Messages"><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span></span><span> </span><span id="local-6989586621681001079"><span class="annot"><a href="#local-6989586621681001079"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Messages"><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001079"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681000914"><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621681000910"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Messages a -&gt; Messages b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621681000909"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681000909"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000908"><span class="annot"><span class="annottext">Bag (MsgEnvelope a)
</span><a href="#local-6989586621681000908"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; Bag a -&gt; Bag b
</span><a href="GHC.Data.Bag.html#mapBag"><span class="hs-identifier hs-var">mapBag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621681000909"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope a)
</span><a href="#local-6989586621681000908"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621681001076"><span class="annot"><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier hs-type">emptyMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001076"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-86"></span><span id="emptyMessages"><span class="annot"><span class="annottext">emptyMessages :: forall e. Messages e
</span><a href="GHC.Types.Error.html#emptyMessages"><span class="hs-identifier hs-var hs-var">emptyMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Bag a
</span><a href="GHC.Data.Bag.html#emptyBag"><span class="hs-identifier hs-var">emptyBag</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span id="local-6989586621681000905"><span class="annot"><a href="GHC.Types.Error.html#mkMessages"><span class="hs-identifier hs-type">mkMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000905"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000905"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-89"></span><span id="mkMessages"><span class="annot"><span class="annottext">mkMessages :: forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#mkMessages"><span class="hs-identifier hs-var hs-var">mkMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span id="local-6989586621681001074"><span class="annot"><a href="GHC.Types.Error.html#isEmptyMessages"><span class="hs-identifier hs-type">isEmptyMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001074"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-92"></span><span id="isEmptyMessages"><span class="annot"><span class="annottext">isEmptyMessages :: forall e. Messages e -&gt; Bool
</span><a href="GHC.Types.Error.html#isEmptyMessages"><span class="hs-identifier hs-var hs-var">isEmptyMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000904"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000904"><span class="hs-identifier hs-var">msgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Bag a -&gt; Bool
</span><a href="GHC.Data.Bag.html#isEmptyBag"><span class="hs-identifier hs-var">isEmptyBag</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000904"><span class="hs-identifier hs-var">msgs</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621681001071"><span class="annot"><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier hs-type">addMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001071"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001071"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001071"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-95"></span><span id="addMessage"><span class="annot"><span class="annottext">addMessage :: forall e. MsgEnvelope e -&gt; Messages e -&gt; Messages e
</span><a href="GHC.Types.Error.html#addMessage"><span class="hs-identifier hs-var hs-var">addMessage</span></a></span></span><span> </span><span id="local-6989586621681000902"><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681000902"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000901"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000901"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681000902"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#consBag"><span class="hs-operator hs-var">`consBag`</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000901"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | Joins two collections of messages together.</span><span>
</span><span id="line-98"></span><span id="local-6989586621681001068"><span class="annot"><a href="GHC.Types.Error.html#unionMessages"><span class="hs-identifier hs-type">unionMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001068"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001068"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001068"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-99"></span><span id="unionMessages"><span class="annot"><span class="annottext">unionMessages :: forall e. Messages e -&gt; Messages e -&gt; Messages e
</span><a href="GHC.Types.Error.html#unionMessages"><span class="hs-identifier hs-var hs-var">unionMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000899"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000899"><span class="hs-identifier hs-var">msgs1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000898"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000898"><span class="hs-identifier hs-var">msgs2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e. Bag (MsgEnvelope e) -&gt; Messages e
</span><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-var">Messages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000899"><span class="hs-identifier hs-var">msgs1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Bag a -&gt; Bag a -&gt; Bag a
</span><a href="GHC.Data.Bag.html#unionBags"><span class="hs-operator hs-var">`unionBags`</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000898"><span class="hs-identifier hs-var">msgs2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">type</span><span> </span><span id="WarningMessages"><span class="annot"><a href="GHC.Types.Error.html#WarningMessages"><span class="hs-identifier hs-var">WarningMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="hs-keyword">type</span><span> </span><span id="ErrorMessages"><span class="annot"><a href="GHC.Types.Error.html#ErrorMessages"><span class="hs-identifier hs-var">ErrorMessages</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">type</span><span> </span><span id="WarnMsg"><span class="annot"><a href="GHC.Types.Error.html#WarnMsg"><span class="hs-identifier hs-var">WarnMsg</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | A 'DecoratedSDoc' is isomorphic to a '[SDoc]' but it carries the invariant that the input '[SDoc]'</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- needs to be rendered /decorated/ into its final form, where the typical case would be adding bullets</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- between each elements of the list.</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- The type of decoration depends on the formatting function used, but in practice GHC uses the</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- 'formatBulleted'.</span><span>
</span><span id="line-111"></span><span class="hs-keyword">newtype</span><span> </span><span id="DecoratedSDoc"><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-var">DecoratedSDoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Decorated"><span class="annot"><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unDecorated"><span class="annot"><span class="annottext">DecoratedSDoc -&gt; [SDoc]
</span><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier hs-var hs-var">unDecorated</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | Creates a new 'DecoratedSDoc' out of a list of 'SDoc'.</span><span>
</span><span id="line-114"></span><span class="annot"><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-type">mkDecorated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-115"></span><span id="mkDecorated"><span class="annot"><span class="annottext">mkDecorated :: [SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var hs-var">mkDecorated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#Decorated"><span class="hs-identifier hs-var">Decorated</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">{-
Note [Rendering Messages]
~~~~~~~~~~~~~~~~~~~~~~~~~

Turning 'Messages' into something that renders nicely for the user is one of the last steps, and it
happens typically at the application boundaries (i.e. from the 'Driver' upwards).

For now (see #18516) this class is very boring as it has only one instance, but the idea is that as
the more domain-specific types are defined, the more instances we would get. For example, given something like:

data TcRnMessage
  = TcRnOutOfScope ..
  | ..

We could then define how a 'TcRnMessage' is displayed to the user. Rather than scattering pieces of
'SDoc' around the codebase, we would write once for all:

instance RenderableDiagnostic TcRnMessage where
  renderDiagnostic = \case
    TcRnOutOfScope .. -&gt; Decorated [text &quot;Out of scope error ...&quot;]
    ...

This way, we can easily write generic rendering functions for errors that all they care about is the
knowledge that a given type 'e' has a 'RenderableDiagnostic' constraint.

-}</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- | A class for types (typically errors and warnings) which can be \&quot;rendered\&quot; into an opaque 'DecoratedSDoc'.</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- For more information, see Note [Rendering Messages].</span><span>
</span><span id="line-146"></span><span class="hs-keyword">class</span><span> </span><span id="RenderableDiagnostic"><span class="annot"><a href="GHC.Types.Error.html#RenderableDiagnostic"><span class="hs-identifier hs-var">RenderableDiagnostic</span></a></span></span><span> </span><span id="local-6989586621681001056"><span class="annot"><a href="#local-6989586621681001056"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>  </span><span id="renderDiagnostic"><span class="annot"><a href="GHC.Types.Error.html#renderDiagnostic"><span class="hs-identifier hs-type">renderDiagnostic</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681001056"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | An envelope for GHC's facts about a running program, parameterised over the</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- /domain-specific/ (i.e. parsing, typecheck-renaming, etc) diagnostics.</span><span>
</span><span id="line-151"></span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- To say things differently, GHC emits /diagnostics/ about the running program, each of which is wrapped</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- into a 'MsgEnvelope' that carries specific information like where the error happened, its severity, etc.</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- Finally, multiple 'MsgEnvelope's are aggregated into 'Messages' that are returned to the user.</span><span>
</span><span id="line-155"></span><span class="hs-keyword">data</span><span> </span><span id="MsgEnvelope"><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-var">MsgEnvelope</span></a></span></span><span> </span><span id="local-6989586621681001064"><span class="annot"><a href="#local-6989586621681001064"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MsgEnvelope"><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-var">MsgEnvelope</span></a></span></span><span>
</span><span id="line-156"></span><span>   </span><span class="hs-special">{</span><span> </span><span id="errMsgSpan"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; SrcSpan
</span><a href="GHC.Types.Error.html#errMsgSpan"><span class="hs-identifier hs-var hs-var">errMsgSpan</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-157"></span><span>      </span><span class="hs-comment">-- ^ The SrcSpan is used for sorting errors into line-number order</span><span>
</span><span id="line-158"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgContext"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; PrintUnqualified
</span><a href="GHC.Types.Error.html#errMsgContext"><span class="hs-identifier hs-var hs-var">errMsgContext</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PrintUnqualified"><span class="hs-identifier hs-type">PrintUnqualified</span></a></span><span>
</span><span id="line-159"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgDiagnostic"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var hs-var">errMsgDiagnostic</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681001064"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-160"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgSeverity"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var hs-var">errMsgSeverity</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-161"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="errMsgReason"><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; WarnReason
</span><a href="GHC.Types.Error.html#errMsgReason"><span class="hs-identifier hs-var hs-var">errMsgReason</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html#WarnReason"><span class="hs-identifier hs-type">WarnReason</span></a></span><span>
</span><span id="line-162"></span><span>   </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621681000885"><span id="local-6989586621681000887"><span class="annot"><span class="annottext">forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a
forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a
$c&lt;$ :: forall a b. a -&gt; MsgEnvelope b -&gt; MsgEnvelope a
fmap :: forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b
$cfmap :: forall a b. (a -&gt; b) -&gt; MsgEnvelope a -&gt; MsgEnvelope b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#RenderableDiagnostic"><span class="hs-identifier hs-type">RenderableDiagnostic</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621681000881"><span class="annot"><span class="annottext">renderDiagnostic :: DecoratedSDoc -&gt; DecoratedSDoc
</span><a href="#local-6989586621681000881"><span class="hs-identifier hs-var hs-var hs-var hs-var">renderDiagnostic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">data</span><span> </span><span id="Severity"><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-var">Severity</span></a></span></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SevOutput"><span class="annot"><a href="GHC.Types.Error.html#SevOutput"><span class="hs-identifier hs-var">SevOutput</span></a></span></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevFatal"><span class="annot"><a href="GHC.Types.Error.html#SevFatal"><span class="hs-identifier hs-var">SevFatal</span></a></span></span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevInteractive"><span class="annot"><a href="GHC.Types.Error.html#SevInteractive"><span class="hs-identifier hs-var">SevInteractive</span></a></span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevDump"><span class="annot"><a href="GHC.Types.Error.html#SevDump"><span class="hs-identifier hs-var">SevDump</span></a></span></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-comment">-- ^ Log message intended for compiler developers</span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-comment">-- No file\/line\/column stuff</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevInfo"><span class="annot"><a href="GHC.Types.Error.html#SevInfo"><span class="hs-identifier hs-var">SevInfo</span></a></span></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-comment">-- ^ Log messages intended for end users.</span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-comment">-- No file\/line\/column stuff.</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevWarning"><span class="annot"><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SevError"><span class="annot"><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-comment">-- ^ SevWarning and SevError are used for warnings and errors</span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-comment">--   o The message has a file\/line\/column heading,</span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-comment">--     plus &quot;warning:&quot; or &quot;error:&quot;,</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-comment">--     added by mkLocMessags</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-comment">--   o Output is intended for end users</span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681000869"><span id="local-6989586621681000871"><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Severity -&gt; Severity -&gt; Bool
$c/= :: Severity -&gt; Severity -&gt; Bool
== :: Severity -&gt; Severity -&gt; Bool
$c== :: Severity -&gt; Severity -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681000862"><span id="local-6989586621681000864"><span id="local-6989586621681000866"><span class="annot"><span class="annottext">Int -&gt; Severity -&gt; ShowS
[Severity] -&gt; ShowS
Severity -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Severity] -&gt; ShowS
$cshowList :: [Severity] -&gt; ShowS
show :: Severity -&gt; String
$cshow :: Severity -&gt; String
showsPrec :: Int -&gt; Severity -&gt; ShowS
$cshowsPrec :: Int -&gt; Severity -&gt; ShowS
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Json.html#ToJson"><span class="hs-identifier hs-type">ToJson</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>  </span><span id="local-6989586621681000856"><span class="annot"><span class="annottext">json :: Severity -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#json"><span class="hs-identifier hs-var hs-var hs-var hs-var">json</span></a></span></span><span> </span><span id="local-6989586621681000854"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000854"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; JsonDoc
</span><a href="GHC.Utils.Json.html#JSString"><span class="hs-identifier hs-var">JSString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000854"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681000847"><span id="local-6989586621681000850"><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621681000845"><span class="annot"><span class="annottext">show :: MsgEnvelope DecoratedSDoc -&gt; String
</span><a href="#local-6989586621681000845"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. RenderableDiagnostic a =&gt; MsgEnvelope a -&gt; String
</span><a href="GHC.Types.Error.html#showMsgEnvelope"><span class="hs-identifier hs-var">showMsgEnvelope</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-comment">-- | Shows an 'MsgEnvelope'.</span><span>
</span><span id="line-197"></span><span id="local-6989586621681001047"><span class="annot"><a href="GHC.Types.Error.html#showMsgEnvelope"><span class="hs-identifier hs-type">showMsgEnvelope</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#RenderableDiagnostic"><span class="hs-identifier hs-type">RenderableDiagnostic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001047"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001047"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span></span><span>
</span><span id="line-198"></span><span id="showMsgEnvelope"><span class="annot"><span class="annottext">showMsgEnvelope :: forall a. RenderableDiagnostic a =&gt; MsgEnvelope a -&gt; String
</span><a href="GHC.Types.Error.html#showMsgEnvelope"><span class="hs-identifier hs-var hs-var">showMsgEnvelope</span></a></span></span><span> </span><span id="local-6989586621681000841"><span class="annot"><span class="annottext">MsgEnvelope a
</span><a href="#local-6989586621681000841"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><span class="annottext">SDocContext -&gt; SDoc -&gt; String
</span><a href="GHC.Utils.Outputable.html#renderWithContext"><span class="hs-identifier hs-var">renderWithContext</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext
</span><a href="GHC.Utils.Outputable.html#defaultSDocContext"><span class="hs-identifier hs-var">defaultSDocContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DecoratedSDoc -&gt; [SDoc]
</span><a href="GHC.Types.Error.html#unDecorated"><span class="hs-identifier hs-var">unDecorated</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. RenderableDiagnostic a =&gt; a -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#renderDiagnostic"><span class="hs-identifier hs-var">renderDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var">errMsgDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">MsgEnvelope a
</span><a href="#local-6989586621681000841"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="annot"><a href="GHC.Types.Error.html#pprMessageBag"><span class="hs-identifier hs-type">pprMessageBag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-202"></span><span id="pprMessageBag"><span class="annot"><span class="annottext">pprMessageBag :: Bag SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#pprMessageBag"><span class="hs-identifier hs-var hs-var">pprMessageBag</span></a></span></span><span> </span><span id="local-6989586621681000836"><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681000836"><span class="hs-identifier hs-var">msgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#blankLine"><span class="hs-identifier hs-var">blankLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Bag a -&gt; [a]
</span><a href="GHC.Data.Bag.html#bagToList"><span class="hs-identifier hs-var">bagToList</span></a></span><span> </span><span class="annot"><span class="annottext">Bag SDoc
</span><a href="#local-6989586621681000836"><span class="hs-identifier hs-var">msgs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-comment">-- | Make an unannotated error message with location info.</span><span>
</span><span id="line-205"></span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier hs-type">mkLocMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-206"></span><span id="mkLocMessage"><span class="annot"><span class="annottext">mkLocMessage :: Severity -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessage"><span class="hs-identifier hs-var hs-var">mkLocMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Severity -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessageAnn"><span class="hs-identifier hs-var">mkLocMessageAnn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-comment">-- | Make a possibly annotated error message with location info.</span><span>
</span><span id="line-209"></span><span class="annot"><a href="GHC.Types.Error.html#mkLocMessageAnn"><span class="hs-identifier hs-type">mkLocMessageAnn</span></a></span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>                       </span><span class="hs-comment">-- ^ optional annotation</span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>                           </span><span class="hs-comment">-- ^ severity</span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>                            </span><span class="hs-comment">-- ^ location</span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>                             </span><span class="hs-comment">-- ^ message</span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-comment">-- Always print the location, even if it is unhelpful.  Error messages</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-comment">-- are supposed to be in a standard format, and one without a location</span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-comment">-- would look strange.  Better to say explicitly &quot;&lt;no location info&gt;&quot;.</span><span>
</span><span id="line-218"></span><span id="mkLocMessageAnn"><span class="annot"><span class="annottext">mkLocMessageAnn :: Maybe String -&gt; Severity -&gt; SrcSpan -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Error.html#mkLocMessageAnn"><span class="hs-identifier hs-var hs-var">mkLocMessageAnn</span></a></span></span><span> </span><span id="local-6989586621681000832"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621681000832"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681000831"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000831"><span class="hs-identifier hs-var">severity</span></a></span></span><span> </span><span id="local-6989586621681000830"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000830"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681000829"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000829"><span class="hs-identifier hs-var">msg</span></a></span></span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Scheme
</span><a href="GHC.Utils.Outputable.html#sdocColScheme"><span class="hs-identifier hs-var">sdocColScheme</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681000826"><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000826"><span class="hs-identifier hs-var">col_scheme</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-220"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681000825"><span class="annot"><span class="annottext">locn' :: SDoc
</span><a href="#local-6989586621681000825"><span class="hs-identifier hs-var hs-var">locn'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Bool
</span><a href="GHC.Utils.Outputable.html#sdocErrorSpans"><span class="hs-identifier hs-var">sdocErrorSpans</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-221"></span><span>                     </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000830"><span class="hs-identifier hs-var">locn</span></a></span><span>
</span><span id="line-222"></span><span>                     </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcLoc
</span><a href="GHC.Types.SrcLoc.html#srcSpanStart"><span class="hs-identifier hs-var">srcSpanStart</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000830"><span class="hs-identifier hs-var">locn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>          </span><span id="local-6989586621681000821"><span class="annot"><span class="annottext">sevColour :: PprColour
</span><a href="#local-6989586621681000821"><span class="hs-identifier hs-var hs-var">sevColour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Scheme -&gt; PprColour
</span><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-var">getSeverityColour</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000831"><span class="hs-identifier hs-var">severity</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000826"><span class="hs-identifier hs-var">col_scheme</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>          </span><span class="hs-comment">-- Add optional information</span><span>
</span><span id="line-227"></span><span>          </span><span id="local-6989586621681000820"><span class="annot"><span class="annottext">optAnn :: SDoc
</span><a href="#local-6989586621681000820"><span class="hs-identifier hs-var hs-var">optAnn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621681000832"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-228"></span><span>            </span><span class="annot"><span class="annottext">Maybe String
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-229"></span><span>            </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681000818"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000818"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; [&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000821"><span class="hs-identifier hs-var">sevColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000818"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;]&quot;</span></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>          </span><span class="hs-comment">-- Add prefixes, like    Foo.hs:34: warning:</span><span>
</span><span id="line-232"></span><span>          </span><span class="hs-comment">--                           &lt;the warning message&gt;</span><span>
</span><span id="line-233"></span><span>          </span><span id="local-6989586621681000815"><span class="annot"><span class="annottext">header :: SDoc
</span><a href="#local-6989586621681000815"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000825"><span class="hs-identifier hs-var">locn'</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#colon"><span class="hs-identifier hs-var">colon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span>
</span><span id="line-234"></span><span>                   </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000821"><span class="hs-identifier hs-var">sevColour</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000812"><span class="hs-identifier hs-var">sevText</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000820"><span class="hs-identifier hs-var">optAnn</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sMessage"><span class="hs-identifier hs-var">Col.sMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000826"><span class="hs-identifier hs-var">col_scheme</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sHeader"><span class="hs-identifier hs-var">Col.sHeader</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000826"><span class="hs-identifier hs-var">col_scheme</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000815"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-238"></span><span>                        </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000829"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>    </span><span id="local-6989586621681000812"><span class="annot"><span class="annottext">sevText :: SDoc
</span><a href="#local-6989586621681000812"><span class="hs-identifier hs-var hs-var">sevText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-242"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000831"><span class="hs-identifier hs-var">severity</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-243"></span><span>        </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;warning:&quot;</span></span><span>
</span><span id="line-244"></span><span>        </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;error:&quot;</span></span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevFatal"><span class="hs-identifier hs-var">SevFatal</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fatal:&quot;</span></span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">Severity
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="annot"><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-type">getSeverityColour</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html#Scheme"><span class="hs-identifier hs-type">Col.Scheme</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Ppr.Colour.html#PprColour"><span class="hs-identifier hs-type">Col.PprColour</span></a></span><span>
</span><span id="line-249"></span><span id="getSeverityColour"><span class="annot"><span class="annottext">getSeverityColour :: Severity -&gt; Scheme -&gt; PprColour
</span><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-var hs-var">getSeverityColour</span></a></span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sWarning"><span class="hs-identifier hs-var">Col.sWarning</span></a></span><span>
</span><span id="line-250"></span><span class="annot"><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-var">getSeverityColour</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sError"><span class="hs-identifier hs-var">Col.sError</span></a></span><span>
</span><span id="line-251"></span><span class="annot"><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-var">getSeverityColour</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevFatal"><span class="hs-identifier hs-var">SevFatal</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sFatal"><span class="hs-identifier hs-var">Col.sFatal</span></a></span><span>
</span><span id="line-252"></span><span class="annot"><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-var">getSeverityColour</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="annot"><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier hs-type">getCaretDiagnostic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-255"></span><span id="getCaretDiagnostic"><span class="annot"><span class="annottext">getCaretDiagnostic :: Severity -&gt; SrcSpan -&gt; IO SDoc
</span><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier hs-var hs-var">getCaretDiagnostic</span></a></span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-256"></span><span class="annot"><a href="GHC.Types.Error.html#getCaretDiagnostic"><span class="hs-identifier hs-var">getCaretDiagnostic</span></a></span><span> </span><span id="local-6989586621681000802"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000802"><span class="hs-identifier hs-var">severity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621681000800"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681000800"><span class="hs-identifier hs-var">span</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><span class="annottext">Maybe String -&gt; SDoc
</span><a href="#local-6989586621681000799"><span class="hs-identifier hs-var">caretDiagnostic</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Int -&gt; IO (Maybe String)
</span><a href="#local-6989586621681000797"><span class="hs-identifier hs-var">getSrcLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; FastString
</span><a href="GHC.Types.SrcLoc.html#srcSpanFile"><span class="hs-identifier hs-var">srcSpanFile</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681000800"><span class="hs-identifier hs-var">span</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000795"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>    </span><span id="local-6989586621681000797"><span class="annot"><span class="annottext">getSrcLine :: FastString -&gt; Int -&gt; IO (Maybe String)
</span><a href="#local-6989586621681000797"><span class="hs-identifier hs-var hs-var">getSrcLine</span></a></span></span><span> </span><span id="local-6989586621681000793"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681000793"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681000792"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000792"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; IO (Maybe String)
</span><a href="#local-6989586621681000791"><span class="hs-identifier hs-var">getLine</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000792"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621681000793"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><span class="annottext">forall a. IO a -&gt; (IOError -&gt; IO a) -&gt; IO a
</span><a href="../../base-4.16.3.0/src/System-IO-Error.html#catchIOError"><span class="hs-operator hs-var">`catchIOError`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">IOError
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621681000791"><span class="annot"><span class="annottext">getLine :: Int -&gt; String -&gt; IO (Maybe String)
</span><a href="#local-6989586621681000791"><span class="hs-identifier hs-var hs-var">getLine</span></a></span></span><span> </span><span id="local-6989586621681000784"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000784"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681000783"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000783"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-265"></span><span>      </span><span class="hs-comment">-- StringBuffer has advantages over readFile:</span><span>
</span><span id="line-266"></span><span>      </span><span class="hs-comment">-- (a) no lazy IO, otherwise IO exceptions may occur in pure code</span><span>
</span><span id="line-267"></span><span>      </span><span class="hs-comment">-- (b) always UTF-8, rather than some system-dependent encoding</span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-comment">--     (Haskell source code must be UTF-8 anyway)</span><span>
</span><span id="line-269"></span><span>      </span><span id="local-6989586621681000782"><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681000782"><span class="hs-identifier hs-var">content</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO StringBuffer
</span><a href="GHC.Data.StringBuffer.html#hGetStringBuffer"><span class="hs-identifier hs-var">hGetStringBuffer</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000783"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-270"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; StringBuffer -&gt; Maybe StringBuffer
</span><a href="GHC.Data.StringBuffer.html#atLine"><span class="hs-identifier hs-var">atLine</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000784"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681000782"><span class="hs-identifier hs-var">content</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-271"></span><span>        </span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681000781"><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681000781"><span class="hs-identifier hs-var">at_line</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-272"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="../../base-4.16.3.0/src/Data-OldList.html#lines"><span class="hs-identifier hs-var">lines</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char
</span><a href="#local-6989586621681000779"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../base-4.16.3.0/src/Data-Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer -&gt; Int -&gt; String
</span><a href="GHC.Data.StringBuffer.html#lexemeToString"><span class="hs-identifier hs-var">lexemeToString</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681000781"><span class="hs-identifier hs-var">at_line</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StringBuffer -&gt; Int
</span><a href="GHC.Data.StringBuffer.html#len"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621681000781"><span class="hs-identifier hs-var">at_line</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-273"></span><span>            </span><span id="local-6989586621681000778"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000778"><span class="hs-identifier hs-var">srcLine</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000778"><span class="hs-identifier hs-var">srcLine</span></a></span><span>
</span><span id="line-274"></span><span>            </span><span class="annot"><span class="annottext">[String]
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-275"></span><span>        </span><span class="annot"><span class="annottext">Maybe StringBuffer
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-comment">-- allow user to visibly see that their code is incorrectly encoded</span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-comment">-- (StringBuffer.nextChar uses \0 to represent undecodable characters)</span><span>
</span><span id="line-279"></span><span>    </span><span id="local-6989586621681000779"><span class="annot"><span class="annottext">fix :: Char -&gt; Char
</span><a href="#local-6989586621681000779"><span class="hs-identifier hs-var hs-var">fix</span></a></span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\0'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\xfffd'</span></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><a href="#local-6989586621681000779"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span id="local-6989586621681000777"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681000777"><span class="hs-identifier hs-var">c</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681000777"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621681000795"><span class="annot"><span class="annottext">row :: Int
</span><a href="#local-6989586621681000795"><span class="hs-identifier hs-var hs-var">row</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartLine"><span class="hs-identifier hs-var">srcSpanStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681000800"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span id="local-6989586621681000775"><span class="annot"><span class="annottext">rowStr :: String
</span><a href="#local-6989586621681000775"><span class="hs-identifier hs-var hs-var">rowStr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../base-4.16.3.0/src/GHC-Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000795"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-284"></span><span>    </span><span id="local-6989586621681000774"><span class="annot"><span class="annottext">multiline :: Bool
</span><a href="#local-6989586621681000774"><span class="hs-identifier hs-var hs-var">multiline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000795"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanEndLine"><span class="hs-identifier hs-var">srcSpanEndLine</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681000800"><span class="hs-identifier hs-var">span</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621681000799"><span class="annot"><span class="annottext">caretDiagnostic :: Maybe String -&gt; SDoc
</span><a href="#local-6989586621681000799"><span class="hs-identifier hs-var hs-var">caretDiagnostic</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><a href="#local-6989586621681000799"><span class="hs-identifier hs-var">caretDiagnostic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.16.3.0/src/GHC-Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681000771"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000771"><span class="hs-identifier hs-var">srcLineWithNewline</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><span class="annottext">forall a. (SDocContext -&gt; a) -&gt; (a -&gt; SDoc) -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#sdocOption"><span class="hs-identifier hs-var">sdocOption</span></a></span><span> </span><span class="annot"><span class="annottext">SDocContext -&gt; Scheme
</span><a href="GHC.Utils.Outputable.html#sdocColScheme"><span class="hs-identifier hs-var">sdocColScheme</span></a></span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681000770"><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000770"><span class="hs-identifier hs-var">col_scheme</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-289"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681000769"><span class="annot"><span class="annottext">sevColour :: PprColour
</span><a href="#local-6989586621681000769"><span class="hs-identifier hs-var hs-var">sevColour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Scheme -&gt; PprColour
</span><a href="GHC.Types.Error.html#getSeverityColour"><span class="hs-identifier hs-var">getSeverityColour</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000802"><span class="hs-identifier hs-var">severity</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000770"><span class="hs-identifier hs-var">col_scheme</span></a></span><span>
</span><span id="line-290"></span><span>          </span><span id="local-6989586621681000768"><span class="annot"><span class="annottext">marginColour :: PprColour
</span><a href="#local-6989586621681000768"><span class="hs-identifier hs-var hs-var">marginColour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scheme -&gt; PprColour
</span><a href="GHC.Utils.Ppr.Colour.html#sMargin"><span class="hs-identifier hs-var">Col.sMargin</span></a></span><span> </span><span class="annot"><span class="annottext">Scheme
</span><a href="#local-6989586621681000770"><span class="hs-identifier hs-var">col_scheme</span></a></span><span>
</span><span id="line-291"></span><span>      </span><span class="hs-keyword">in</span><span>
</span><span id="line-292"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000768"><span class="hs-identifier hs-var">marginColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000766"><span class="hs-identifier hs-var">marginSpace</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-293"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-294"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000768"><span class="hs-identifier hs-var">marginColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000765"><span class="hs-identifier hs-var">marginRow</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-295"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000764"><span class="hs-identifier hs-var">srcLinePre</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-296"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000769"><span class="hs-identifier hs-var">sevColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000763"><span class="hs-identifier hs-var">srcLineSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-297"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000762"><span class="hs-identifier hs-var">srcLinePost</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-298"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000768"><span class="hs-identifier hs-var">marginColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000766"><span class="hs-identifier hs-var">marginSpace</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-299"></span><span>      </span><span class="annot"><span class="annottext">PprColour -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#coloured"><span class="hs-identifier hs-var">coloured</span></a></span><span> </span><span class="annot"><span class="annottext">PprColour
</span><a href="#local-6989586621681000769"><span class="hs-identifier hs-var">sevColour</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000761"><span class="hs-identifier hs-var">caretLine</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-comment">-- expand tabs in a device-independent manner #13664</span><span>
</span><span id="line-304"></span><span>        </span><span id="local-6989586621681000754"><span class="annot"><span class="annottext">expandTabs :: Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681000754"><span class="hs-identifier hs-var hs-var">expandTabs</span></a></span></span><span> </span><span id="local-6989586621681000753"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000753"><span class="hs-identifier hs-var">tabWidth</span></a></span></span><span> </span><span id="local-6989586621681000752"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000752"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681000751"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000751"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000751"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-306"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-307"></span><span>            </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\t'</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681000750"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000750"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000748"><span class="hs-identifier hs-var">effectiveWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-308"></span><span>                         </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681000754"><span class="hs-identifier hs-var">expandTabs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000753"><span class="hs-identifier hs-var">tabWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000752"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000748"><span class="hs-identifier hs-var">effectiveWidth</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000750"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-309"></span><span>            </span><span id="local-6989586621681000746"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681000746"><span class="hs-identifier hs-var">c</span></a></span></span><span>    </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681000745"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000745"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681000746"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681000754"><span class="hs-identifier hs-var">expandTabs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000753"><span class="hs-identifier hs-var">tabWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000752"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000745"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-310"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681000748"><span class="annot"><span class="annottext">effectiveWidth :: Int
</span><a href="#local-6989586621681000748"><span class="hs-identifier hs-var hs-var">effectiveWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000753"><span class="hs-identifier hs-var">tabWidth</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000752"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Real.html#mod"><span class="hs-operator hs-var">`mod`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000753"><span class="hs-identifier hs-var">tabWidth</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>        </span><span id="local-6989586621681000743"><span class="annot"><span class="annottext">srcLine :: String
</span><a href="#local-6989586621681000743"><span class="hs-identifier hs-var hs-var">srcLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ShowS
</span><a href="#local-6989586621681000754"><span class="hs-identifier hs-var">expandTabs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000771"><span class="hs-identifier hs-var">srcLineWithNewline</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span>        </span><span id="local-6989586621681000742"><span class="annot"><span class="annottext">start :: Int
</span><a href="#local-6989586621681000742"><span class="hs-identifier hs-var hs-var">start</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanStartCol"><span class="hs-identifier hs-var">srcSpanStartCol</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681000800"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-315"></span><span>        </span><span id="local-6989586621681000740"><span class="annot"><span class="annottext">end :: Int
</span><a href="#local-6989586621681000740"><span class="hs-identifier hs-var hs-var">end</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681000774"><span class="hs-identifier hs-var">multiline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000743"><span class="hs-identifier hs-var">srcLine</span></a></span><span>
</span><span id="line-316"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Int
</span><a href="GHC.Types.SrcLoc.html#srcSpanEndCol"><span class="hs-identifier hs-var">srcSpanEndCol</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621681000800"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-317"></span><span>        </span><span id="local-6989586621681000737"><span class="annot"><span class="annottext">width :: Int
</span><a href="#local-6989586621681000737"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000740"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../base-4.16.3.0/src/GHC-Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000742"><span class="hs-identifier hs-var">start</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>        </span><span id="local-6989586621681000735"><span class="annot"><span class="annottext">marginWidth :: Int
</span><a href="#local-6989586621681000735"><span class="hs-identifier hs-var hs-var">marginWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000775"><span class="hs-identifier hs-var">rowStr</span></a></span><span>
</span><span id="line-320"></span><span>        </span><span id="local-6989586621681000766"><span class="annot"><span class="annottext">marginSpace :: String
</span><a href="#local-6989586621681000766"><span class="hs-identifier hs-var hs-var">marginSpace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000735"><span class="hs-identifier hs-var">marginWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; |&quot;</span></span><span>
</span><span id="line-321"></span><span>        </span><span id="local-6989586621681000765"><span class="annot"><span class="annottext">marginRow :: String
</span><a href="#local-6989586621681000765"><span class="hs-identifier hs-var hs-var">marginRow</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000775"><span class="hs-identifier hs-var">rowStr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; |&quot;</span></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681000764"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000764"><span class="hs-identifier hs-var">srcLinePre</span></a></span></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681000734"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000734"><span class="hs-identifier hs-var">srcLineRest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base-4.16.3.0/src/GHC-List.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000742"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000743"><span class="hs-identifier hs-var">srcLine</span></a></span><span>
</span><span id="line-324"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681000763"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000763"><span class="hs-identifier hs-var">srcLineSpan</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681000762"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000762"><span class="hs-identifier hs-var">srcLinePost</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><a href="../../base-4.16.3.0/src/GHC-List.html#splitAt"><span class="hs-identifier hs-var">splitAt</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000737"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000734"><span class="hs-identifier hs-var">srcLineRest</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span>        </span><span id="local-6989586621681000732"><span class="annot"><span class="annottext">caretEllipsis :: String
</span><a href="#local-6989586621681000732"><span class="hs-identifier hs-var hs-var">caretEllipsis</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681000774"><span class="hs-identifier hs-var">multiline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;...&quot;</span></span><span>
</span><span id="line-327"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-328"></span><span>        </span><span id="local-6989586621681000761"><span class="annot"><span class="annottext">caretLine :: String
</span><a href="#local-6989586621681000761"><span class="hs-identifier hs-var hs-var">caretLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000742"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; a -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-List.html#replicate"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681000737"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'^'</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681000732"><span class="hs-identifier hs-var">caretEllipsis</span></a></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span id="local-6989586621681001009"><span class="annot"><a href="GHC.Types.Error.html#makeIntoWarning"><span class="hs-identifier hs-type">makeIntoWarning</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html#WarnReason"><span class="hs-identifier hs-type">WarnReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001009"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001009"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-331"></span><span id="makeIntoWarning"><span class="annot"><span class="annottext">makeIntoWarning :: forall e. WarnReason -&gt; MsgEnvelope e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#makeIntoWarning"><span class="hs-identifier hs-var hs-var">makeIntoWarning</span></a></span></span><span> </span><span id="local-6989586621681000731"><span class="annot"><span class="annottext">WarnReason
</span><a href="#local-6989586621681000731"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span id="local-6989586621681000730"><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681000730"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MsgEnvelope e
</span><a href="#local-6989586621681000730"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">errMsgSeverity :: Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var">errMsgSeverity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMsgReason :: WarnReason
</span><a href="GHC.Types.Error.html#errMsgReason"><span class="hs-identifier hs-var">errMsgReason</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WarnReason
</span><a href="#local-6989586621681000731"><span class="hs-identifier hs-var">reason</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-comment">--</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- Creating MsgEnvelope(s)</span><span>
</span><span id="line-337"></span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span id="local-6989586621681001007"><span class="annot"><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-type">mk_err_msg</span></a></span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PrintUnqualified"><span class="hs-identifier hs-type">PrintUnqualified</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681001007"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001007"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-341"></span><span id="mk_err_msg"><span class="annot"><span class="annottext">mk_err_msg :: forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var hs-var">mk_err_msg</span></a></span></span><span> </span><span id="local-6989586621681000728"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000728"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621681000727"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000727"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681000726"><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000726"><span class="hs-identifier hs-var">print_unqual</span></a></span></span><span> </span><span id="local-6989586621681000725"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681000725"><span class="hs-identifier hs-var">err</span></a></span></span><span>
</span><span id="line-342"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">errMsgSpan :: SrcSpan
</span><a href="GHC.Types.Error.html#errMsgSpan"><span class="hs-identifier hs-var">errMsgSpan</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000727"><span class="hs-identifier hs-var">locn</span></a></span><span>
</span><span id="line-343"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMsgContext :: PrintUnqualified
</span><a href="GHC.Types.Error.html#errMsgContext"><span class="hs-identifier hs-var">errMsgContext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000726"><span class="hs-identifier hs-var">print_unqual</span></a></span><span>
</span><span id="line-344"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMsgDiagnostic :: e
</span><a href="GHC.Types.Error.html#errMsgDiagnostic"><span class="hs-identifier hs-var">errMsgDiagnostic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621681000725"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-345"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMsgSeverity :: Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var">errMsgSeverity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621681000728"><span class="hs-identifier hs-var">sev</span></a></span><span>
</span><span id="line-346"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMsgReason :: WarnReason
</span><a href="GHC.Types.Error.html#errMsgReason"><span class="hs-identifier hs-var">errMsgReason</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WarnReason
</span><a href="GHC.Driver.Flags.html#NoReason"><span class="hs-identifier hs-var">NoReason</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span id="local-6989586621681001005"><span class="annot"><a href="GHC.Types.Error.html#mkErr"><span class="hs-identifier hs-type">mkErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PrintUnqualified"><span class="hs-identifier hs-type">PrintUnqualified</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681001005"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001005"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-349"></span><span id="mkErr"><span class="annot"><span class="annottext">mkErr :: forall e. SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mkErr"><span class="hs-identifier hs-var hs-var">mkErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="annot"><a href="GHC.Types.Error.html#mkLongMsgEnvelope"><span class="hs-identifier hs-type">mkLongMsgEnvelope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkLongWarnMsg"><span class="hs-identifier hs-type">mkLongWarnMsg</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PrintUnqualified"><span class="hs-identifier hs-type">PrintUnqualified</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-352"></span><span class="hs-comment">-- ^ A long (multi-line) error message</span><span>
</span><span id="line-353"></span><span class="annot"><a href="GHC.Types.Error.html#mkMsgEnvelope"><span class="hs-identifier hs-type">mkMsgEnvelope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkWarnMsg"><span class="hs-identifier hs-type">mkWarnMsg</span></a></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#PrintUnqualified"><span class="hs-identifier hs-type">PrintUnqualified</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-354"></span><span class="hs-comment">-- ^ A short (one-line) error message</span><span>
</span><span id="line-355"></span><span class="annot"><a href="GHC.Types.Error.html#mkPlainMsgEnvelope"><span class="hs-identifier hs-type">mkPlainMsgEnvelope</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#mkPlainWarnMsg"><span class="hs-identifier hs-type">mkPlainWarnMsg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>                     </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Error.html#DecoratedSDoc"><span class="hs-identifier hs-type">DecoratedSDoc</span></a></span><span>
</span><span id="line-356"></span><span class="hs-comment">-- ^ Variant that doesn't care about qualified/unqualified names</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span id="mkLongMsgEnvelope"><span class="annot"><span class="annottext">mkLongMsgEnvelope :: SrcSpan
-&gt; PrintUnqualified -&gt; SDoc -&gt; SDoc -&gt; MsgEnvelope DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkLongMsgEnvelope"><span class="hs-identifier hs-var hs-var">mkLongMsgEnvelope</span></a></span></span><span>   </span><span id="local-6989586621681000723"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000723"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681000722"><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000722"><span class="hs-identifier hs-var">unqual</span></a></span></span><span> </span><span id="local-6989586621681000721"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000721"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621681000720"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000720"><span class="hs-identifier hs-var">extra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000723"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000722"><span class="hs-identifier hs-var">unqual</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000721"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000720"><span class="hs-identifier hs-var">extra</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span id="mkMsgEnvelope"><span class="annot"><span class="annottext">mkMsgEnvelope :: SrcSpan -&gt; PrintUnqualified -&gt; SDoc -&gt; MsgEnvelope DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkMsgEnvelope"><span class="hs-identifier hs-var hs-var">mkMsgEnvelope</span></a></span></span><span>       </span><span id="local-6989586621681000719"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000719"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681000718"><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000718"><span class="hs-identifier hs-var">unqual</span></a></span></span><span> </span><span id="local-6989586621681000717"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000717"><span class="hs-identifier hs-var">msg</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000719"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000718"><span class="hs-identifier hs-var">unqual</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000717"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span id="mkPlainMsgEnvelope"><span class="annot"><span class="annottext">mkPlainMsgEnvelope :: SrcSpan -&gt; SDoc -&gt; MsgEnvelope DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkPlainMsgEnvelope"><span class="hs-identifier hs-var hs-var">mkPlainMsgEnvelope</span></a></span></span><span>  </span><span id="local-6989586621681000716"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000716"><span class="hs-identifier hs-var">locn</span></a></span></span><span>        </span><span id="local-6989586621681000715"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000715"><span class="hs-identifier hs-var">msg</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span>   </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000716"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="GHC.Utils.Outputable.html#alwaysQualify"><span class="hs-identifier hs-var">alwaysQualify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000715"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span id="mkLongWarnMsg"><span class="annot"><span class="annottext">mkLongWarnMsg :: SrcSpan
-&gt; PrintUnqualified -&gt; SDoc -&gt; SDoc -&gt; MsgEnvelope DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkLongWarnMsg"><span class="hs-identifier hs-var hs-var">mkLongWarnMsg</span></a></span></span><span>       </span><span id="local-6989586621681000713"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000713"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681000712"><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000712"><span class="hs-identifier hs-var">unqual</span></a></span></span><span> </span><span id="local-6989586621681000711"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000711"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621681000710"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000710"><span class="hs-identifier hs-var">extra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000713"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000712"><span class="hs-identifier hs-var">unqual</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000711"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000710"><span class="hs-identifier hs-var">extra</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span id="mkWarnMsg"><span class="annot"><span class="annottext">mkWarnMsg :: SrcSpan -&gt; PrintUnqualified -&gt; SDoc -&gt; MsgEnvelope DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkWarnMsg"><span class="hs-identifier hs-var hs-var">mkWarnMsg</span></a></span></span><span>           </span><span id="local-6989586621681000709"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000709"><span class="hs-identifier hs-var">locn</span></a></span></span><span> </span><span id="local-6989586621681000708"><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000708"><span class="hs-identifier hs-var">unqual</span></a></span></span><span> </span><span id="local-6989586621681000707"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000707"><span class="hs-identifier hs-var">msg</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000709"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="#local-6989586621681000708"><span class="hs-identifier hs-var">unqual</span></a></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000707"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span id="mkPlainWarnMsg"><span class="annot"><span class="annottext">mkPlainWarnMsg :: SrcSpan -&gt; SDoc -&gt; MsgEnvelope DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkPlainWarnMsg"><span class="hs-identifier hs-var hs-var">mkPlainWarnMsg</span></a></span></span><span>      </span><span id="local-6989586621681000706"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000706"><span class="hs-identifier hs-var">locn</span></a></span></span><span>        </span><span id="local-6989586621681000705"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000705"><span class="hs-identifier hs-var">msg</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e.
Severity -&gt; SrcSpan -&gt; PrintUnqualified -&gt; e -&gt; MsgEnvelope e
</span><a href="GHC.Types.Error.html#mk_err_msg"><span class="hs-identifier hs-var">mk_err_msg</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevWarning"><span class="hs-identifier hs-var">SevWarning</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621681000706"><span class="hs-identifier hs-var">locn</span></a></span><span> </span><span class="annot"><span class="annottext">PrintUnqualified
</span><a href="GHC.Utils.Outputable.html#alwaysQualify"><span class="hs-identifier hs-var">alwaysQualify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; DecoratedSDoc
</span><a href="GHC.Types.Error.html#mkDecorated"><span class="hs-identifier hs-var">mkDecorated</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621681000705"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">--</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- Queries</span><span>
</span><span id="line-367"></span><span class="hs-comment">--</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span id="local-6989586621681001004"><span class="annot"><a href="GHC.Types.Error.html#isErrorMessage"><span class="hs-identifier hs-type">isErrorMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681001004"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-370"></span><span id="isErrorMessage"><span class="annot"><span class="annottext">isErrorMessage :: forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isErrorMessage"><span class="hs-identifier hs-var hs-var">isErrorMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="GHC.Types.Error.html#SevError"><span class="hs-identifier hs-var">SevError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Severity
</span><a href="GHC.Types.Error.html#errMsgSeverity"><span class="hs-identifier hs-var">errMsgSeverity</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span id="local-6989586621681000703"><span class="annot"><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-type">isWarningMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000703"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-373"></span><span id="isWarningMessage"><span class="annot"><span class="annottext">isWarningMessage :: forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-var hs-var">isWarningMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isErrorMessage"><span class="hs-identifier hs-var">isErrorMessage</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span id="local-6989586621681000701"><span class="annot"><a href="GHC.Types.Error.html#errorsFound"><span class="hs-identifier hs-type">errorsFound</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000701"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-376"></span><span id="errorsFound"><span class="annot"><span class="annottext">errorsFound :: forall e. Messages e -&gt; Bool
</span><a href="GHC.Types.Error.html#errorsFound"><span class="hs-identifier hs-var hs-var">errorsFound</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000698"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000698"><span class="hs-identifier hs-var">msgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../base-4.16.3.0/src/Data-Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isErrorMessage"><span class="hs-identifier hs-var">isErrorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000698"><span class="hs-identifier hs-var">msgs</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span id="local-6989586621681000998"><span class="annot"><a href="GHC.Types.Error.html#getWarningMessages"><span class="hs-identifier hs-type">getWarningMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000998"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000998"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-379"></span><span id="getWarningMessages"><span class="annot"><span class="annottext">getWarningMessages :: forall e. Messages e -&gt; Bag (MsgEnvelope e)
</span><a href="GHC.Types.Error.html#getWarningMessages"><span class="hs-identifier hs-var hs-var">getWarningMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000696"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000696"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; Bag a -&gt; (Bag a, Bag a)
</span><a href="GHC.Data.Bag.html#partitionBag"><span class="hs-identifier hs-var">partitionBag</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-var">isWarningMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000696"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span id="local-6989586621681000694"><span class="annot"><a href="GHC.Types.Error.html#getErrorMessages"><span class="hs-identifier hs-type">getErrorMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000694"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000694"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-382"></span><span id="getErrorMessages"><span class="annot"><span class="annottext">getErrorMessages :: forall e. Messages e -&gt; Bag (MsgEnvelope e)
</span><a href="GHC.Types.Error.html#getErrorMessages"><span class="hs-identifier hs-var hs-var">getErrorMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000693"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000693"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../../base-4.16.3.0/src/Data-Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../base-4.16.3.0/src/GHC-Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; Bag a -&gt; (Bag a, Bag a)
</span><a href="GHC.Data.Bag.html#partitionBag"><span class="hs-identifier hs-var">partitionBag</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isErrorMessage"><span class="hs-identifier hs-var">isErrorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000693"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="hs-comment">-- | Partitions the 'Messages' and returns a tuple which first element are the warnings, and the</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- second the errors.</span><span>
</span><span id="line-386"></span><span id="local-6989586621681000992"><span class="annot"><a href="GHC.Types.Error.html#partitionMessages"><span class="hs-identifier hs-type">partitionMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000992"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000992"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.Bag.html#Bag"><span class="hs-identifier hs-type">Bag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#MsgEnvelope"><span class="hs-identifier hs-type">MsgEnvelope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681000992"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-387"></span><span id="partitionMessages"><span class="annot"><span class="annottext">partitionMessages :: forall e. Messages e -&gt; (Bag (MsgEnvelope e), Bag (MsgEnvelope e))
</span><a href="GHC.Types.Error.html#partitionMessages"><span class="hs-identifier hs-var hs-var">partitionMessages</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Error.html#Messages"><span class="hs-identifier hs-type">Messages</span></a></span><span> </span><span id="local-6989586621681000692"><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000692"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; Bag a -&gt; (Bag a, Bag a)
</span><a href="GHC.Data.Bag.html#partitionBag"><span class="hs-identifier hs-var">partitionBag</span></a></span><span> </span><span class="annot"><span class="annottext">forall e. MsgEnvelope e -&gt; Bool
</span><a href="GHC.Types.Error.html#isWarningMessage"><span class="hs-identifier hs-var">isWarningMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Bag (MsgEnvelope e)
</span><a href="#local-6989586621681000692"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-388"></span></pre></body></html>
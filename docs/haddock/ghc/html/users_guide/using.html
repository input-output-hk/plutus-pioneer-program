

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.1. Using GHC &mdash; Glasgow Haskell Compiler 9.2.4 User&#39;s Guide</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Glasgow Haskell Compiler 9.2.4 User&#39;s Guide"
          href="_static/opensearch.xml"/>

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5.2. Warnings and sanity-checking" href="using-warnings.html" />
    <link rel="prev" title="5. Using GHC" href="usage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Glasgow Haskell Compiler
          

          
          </a>

          
            
            
              <div class="version">
                9.2.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">2. Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="ghci.html">3. Using GHCi</a></li>
<li class="toctree-l1"><a class="reference internal" href="runghc.html">4. Using runghc</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="usage.html">5. Using GHC</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.1. Using GHC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getting-started-compiling-programs">5.1.1. Getting started: compiling programs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options-overview">5.1.2. Options overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-line-arguments">5.1.2.1. Command-line arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-options-in-source-files">5.1.2.2. Command line options in source files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-options-in-ghci">5.1.2.3. Setting options in GHCi</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-and-mode-options">5.1.3. Dynamic and Mode options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#meaningful-file-suffixes">5.1.4. Meaningful file suffixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modes-of-operation">5.1.5. Modes of operation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-ghc-make">5.1.5.1. Using <code class="docutils literal notranslate"><span class="pre">ghc</span></code> <code class="docutils literal notranslate"><span class="pre">--make</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#expression-evaluation-mode">5.1.5.2. Expression evaluation mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#batch-compiler-mode">5.1.5.3. Batch compiler mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#verbosity-options">5.1.6. Verbosity options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#platform-specific-flags">5.1.7. Platform-specific Flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#haddock">5.1.8. Haddock</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous-flags">5.1.9. Miscellaneous flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#other-environment-variables">5.1.9.1. Other environment variables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using-warnings.html">5.2. Warnings and sanity-checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-optimisation.html">5.3. Optimisation (code improvement)</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-concurrent.html">5.4. Using Concurrent Haskell</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-concurrent.html#using-smp-parallelism">5.5. Using SMP parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="flags.html">5.6. Flag reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="runtime_control.html">5.7. Running a compiled program</a></li>
<li class="toctree-l2"><a class="reference internal" href="separate_compilation.html">5.8. Filenames and separate compilation</a></li>
<li class="toctree-l2"><a class="reference internal" href="packages.html">5.9. Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="codegens.html">5.10. GHC Backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="phases.html">5.11. Options related to a particular phase</a></li>
<li class="toctree-l2"><a class="reference internal" href="shared_libs.html">5.12. Using shared libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">5.13. Debugging the compiler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="exts.html">6. Language extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending_ghc.html">7. Extending and using GHC as a Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">8. Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug-info.html">9. Debugging compiled programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="gone_wrong.html">10. What to do when something goes wrong</a></li>
<li class="toctree-l1"><a class="reference internal" href="hints.html">11. Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">12. Other Haskell utility programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="win32-dlls.html">13. Running GHC on Win32 systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="bugs.html">14. Known bugs and infelicities</a></li>
<li class="toctree-l1"><a class="reference internal" href="eventlog-formats.html">15. Eventlog encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="editing-guide.html">16. Care and feeding of your GHC User’s Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Glasgow Haskell Compiler</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="usage.html"><span class="section-number">5. </span>Using GHC</a> &raquo;</li>
        
      <li><span class="section-number">5.1. </span>Using GHC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/using.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="using-ghc">
<span id="id1"></span><h1><span class="section-number">5.1. </span>Using GHC<a class="headerlink" href="#using-ghc" title="Permalink to this heading">¶</a></h1>
<section id="getting-started-compiling-programs">
<span id="index-0"></span><h2><span class="section-number">5.1.1. </span>Getting started: compiling programs<a class="headerlink" href="#getting-started-compiling-programs" title="Permalink to this heading">¶</a></h2>
<p>In this chapter you’ll find a complete reference to the GHC command-line
syntax, including all 400+ flags. It’s a large and complex system, and
there are lots of details, so it can be quite hard to figure out how to
get started. With that in mind, this introductory section provides a
quick introduction to the basic usage of GHC for compiling a Haskell
program, before the following sections dive into the full syntax.</p>
<p>Let’s create a Hello World program, and compile and run it. First,
create a file <code class="file docutils literal notranslate"><span class="pre">hello.hs</span></code> containing the Haskell code:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">main</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">putStrLn</span><span class="w"> </span><span class="s">&quot;Hello, World!&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>To compile the program, use GHC like this:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ghc hello.hs
</pre></div>
</div>
<p>(where <code class="docutils literal notranslate"><span class="pre">$</span></code> represents the prompt: don’t type it). GHC will compile the
source file <code class="file docutils literal notranslate"><span class="pre">hello.hs</span></code>, producing an object file <code class="file docutils literal notranslate"><span class="pre">hello.o</span></code> and an
interface file <code class="file docutils literal notranslate"><span class="pre">hello.hi</span></code>, and then it will link the object file to
the libraries that come with GHC to produce an executable called
<code class="file docutils literal notranslate"><span class="pre">hello</span></code> on Unix/Linux/Mac, or <code class="file docutils literal notranslate"><span class="pre">hello.exe</span></code> on Windows.</p>
<p>By default GHC will be very quiet about what it is doing, only printing
error messages. If you want to see in more detail what’s going on behind
the scenes, add <a class="reference internal" href="#ghc-flag-v"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-v</span></code></a> to the command line.</p>
<p>Then we can run the program like this:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ./hello
Hello World!
</pre></div>
</div>
<p>If your program contains multiple modules, then you only need to tell
GHC the name of the source file containing the <code class="docutils literal notranslate"><span class="pre">Main</span></code> module, and GHC
will examine the <code class="docutils literal notranslate"><span class="pre">import</span></code> declarations to find the other modules that
make up the program and find their source files. This means that, with
the exception of the <code class="docutils literal notranslate"><span class="pre">Main</span></code> module, every source file should be named
after the module name that it contains (with dots replaced by directory
separators). For example, the module <code class="docutils literal notranslate"><span class="pre">Data.Person</span></code> would be in the
file <code class="docutils literal notranslate"><span class="pre">Data/Person.hs</span></code> on Unix/Linux/Mac, or <code class="docutils literal notranslate"><span class="pre">Data\Person.hs</span></code> on
Windows.</p>
</section>
<section id="options-overview">
<h2><span class="section-number">5.1.2. </span>Options overview<a class="headerlink" href="#options-overview" title="Permalink to this heading">¶</a></h2>
<p>GHC’s behaviour is controlled by options, which for historical reasons
are also sometimes referred to as command-line flags or arguments.
Options can be specified in three ways:</p>
<section id="command-line-arguments">
<h3><span class="section-number">5.1.2.1. </span>Command-line arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this heading">¶</a></h3>
<p id="index-1">An invocation of GHC takes the following form:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghc [argument...]
</pre></div>
</div>
<p>Command-line arguments are either options or file names.</p>
<p>Command-line options begin with <code class="docutils literal notranslate"><span class="pre">-</span></code>. They may <em>not</em> be grouped:
<code class="docutils literal notranslate"><span class="pre">-vO</span></code> is different from <code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">-O</span></code>. Options need not precede filenames:
e.g., <code class="docutils literal notranslate"><span class="pre">ghc</span> <span class="pre">*.o</span> <span class="pre">-o</span> <span class="pre">foo</span></code>. All options are processed and then applied to
all files; you cannot, for example, invoke
<code class="docutils literal notranslate"><span class="pre">ghc</span> <span class="pre">-c</span> <span class="pre">-O1</span> <span class="pre">Foo.hs</span> <span class="pre">-O2</span> <span class="pre">Bar.hs</span></code> to apply different optimisation levels
to the files <code class="docutils literal notranslate"><span class="pre">Foo.hs</span></code> and <code class="docutils literal notranslate"><span class="pre">Bar.hs</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p id="index-2">Note that command-line options are <em>order-dependent</em>, with arguments being
evaluated from left-to-right. This can have seemingly strange effects in the
presence of flag implication. For instance, consider
<a class="reference internal" href="using-optimisation.html#ghc-flag-fspecialise"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fno-specialise</span></code></a> and <a class="reference internal" href="using-optimisation.html#ghc-flag-O1"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-O1</span></code></a> (which implies
<a class="reference internal" href="using-optimisation.html#ghc-flag-fspecialise"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fspecialise</span></code></a>). These two command lines mean very different
things:</p>
<p><code class="docutils literal notranslate"><span class="pre">-fno-specialise</span> <span class="pre">-O1</span></code></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">-fspecialise</span></code> will be enabled as the <code class="docutils literal notranslate"><span class="pre">-fno-specialise</span></code> is overridden
by the <code class="docutils literal notranslate"><span class="pre">-O1</span></code>.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">-O1</span> <span class="pre">-fno-specialise</span></code></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">-fspecialise</span></code> will not be enabled, since the <code class="docutils literal notranslate"><span class="pre">-fno-specialise</span></code>
overrides the <code class="docutils literal notranslate"><span class="pre">-fspecialise</span></code> implied by <code class="docutils literal notranslate"><span class="pre">-O1</span></code>.</p>
</div></blockquote>
</div>
</section>
<section id="command-line-options-in-source-files">
<span id="source-file-options"></span><h3><span class="section-number">5.1.2.2. </span>Command line options in source files<a class="headerlink" href="#command-line-options-in-source-files" title="Permalink to this heading">¶</a></h3>
<p id="index-3">Sometimes it is useful to make the connection between a source file and
the command-line options it requires quite tight. For instance, if a
Haskell source file deliberately uses name shadowing, it should be
compiled with the <code class="docutils literal notranslate"><span class="pre">-Wno-name-shadowing</span></code> option. Rather than
maintaining the list of per-file options in a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>, it is
possible to do this directly in the source file using the
<code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> <a class="reference internal" href="exts/pragmas.html#options-pragma"><span class="std std-ref">pragma</span></a></p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="cm">{-# OPTIONS_GHC -Wno-name-shadowing #-}</span><span class="w"></span>
<span class="kr">module</span><span class="w"> </span><span class="nn">X</span><span class="w"> </span><span class="kr">where</span><span class="w"></span>
<span class="o">...</span><span class="w"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> is a <em>file-header pragma</em> (see <a class="reference internal" href="exts/pragmas.html#options-pragma"><span class="std std-ref">OPTIONS_GHC pragma</span></a>).</p>
<p>Only <em>dynamic</em> flags can be used in an <code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> pragma (see
<a class="reference internal" href="#mode-dynamic-flags"><span class="std std-ref">Dynamic and Mode options</span></a>).</p>
<p>Note that your command shell does not get to the source file options,
they are just included literally in the array of command-line arguments
the compiler maintains internally, so you’ll be desperately disappointed
if you try to glob etc. inside <code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The contents of <code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> are appended to the command-line
options, so options given in the source file override those given on the
command-line.</p>
</div>
<p>It is not recommended to move all the contents of your Makefiles into
your source files, but in some circumstances, the <code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> pragma
is the Right Thing. (If you use <a class="reference internal" href="separate_compilation.html#ghc-flag-keep-hc-file"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-keep-hc-file</span></code></a> and have <code class="docutils literal notranslate"><span class="pre">OPTION</span></code> flags in
your module, the <code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> will get put into the generated <code class="docutils literal notranslate"><span class="pre">.hc</span></code> file).</p>
</section>
<section id="setting-options-in-ghci">
<h3><span class="section-number">5.1.2.3. </span>Setting options in GHCi<a class="headerlink" href="#setting-options-in-ghci" title="Permalink to this heading">¶</a></h3>
<p>Options may also be modified from within GHCi, using the <a class="reference internal" href="ghci.html#ghci-cmd-set"><code class="xref std std-ghci-cmd docutils literal notranslate"><span class="pre">:set</span></code></a>
command.</p>
</section>
</section>
<section id="dynamic-and-mode-options">
<span id="mode-dynamic-flags"></span><h2><span class="section-number">5.1.3. </span>Dynamic and Mode options<a class="headerlink" href="#dynamic-and-mode-options" title="Permalink to this heading">¶</a></h2>
<p id="index-4">Each of GHC’s command line options is classified as dynamic or mode:</p>
<blockquote>
<div><p>Mode: A mode may be used on the command line only.
You can pass only one mode flag.
For example, <a class="reference internal" href="#ghc-flag-make"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--make</span></code></a> or <a class="reference internal" href="#ghc-flag-E"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-E</span></code></a>.
The available modes are listed in <a class="reference internal" href="#modes"><span class="std std-ref">Modes of operation</span></a>.</p>
<p>Dynamic: A dynamic flag may be used on the command line,
in a <code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> pragma in a source
file, or set using <a class="reference internal" href="ghci.html#ghci-cmd-set"><code class="xref std std-ghci-cmd docutils literal notranslate"><span class="pre">:set</span></code></a> in GHCi.</p>
</div></blockquote>
<p>The flag reference tables (<a class="reference internal" href="flags.html#flag-reference"><span class="std std-ref">Flag reference</span></a>) lists the status of
each flag.</p>
</section>
<section id="meaningful-file-suffixes">
<span id="file-suffixes"></span><h2><span class="section-number">5.1.4. </span>Meaningful file suffixes<a class="headerlink" href="#meaningful-file-suffixes" title="Permalink to this heading">¶</a></h2>
<p id="index-5">File names with “meaningful” suffixes (e.g., <code class="docutils literal notranslate"><span class="pre">.lhs</span></code> or <code class="docutils literal notranslate"><span class="pre">.o</span></code>) cause
the “right thing” to happen to those files.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">.hs</span></code></dt><dd><p>A Haskell module.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.lhs</span></code></dt><dd><p id="index-6">A “literate Haskell” module.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.hspp</span></code></dt><dd><p>A file created by the preprocessor.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.hi</span></code></dt><dd><p>A Haskell interface file, probably compiler-generated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.hie</span></code></dt><dd><p>An extended Haskell interface file, produced by the Haskell compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.hc</span></code></dt><dd><p>Intermediate C file produced by the Haskell compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.c</span></code></dt><dd><p>A C file not produced by the Haskell compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.ll</span></code></dt><dd><p>An llvm-intermediate-language source file, usually produced by the
compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.bc</span></code></dt><dd><p>An llvm-intermediate-language bitcode file, usually produced by the
compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.s</span></code></dt><dd><p>An assembly-language source file, usually produced by the compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">.o</span></code></dt><dd><p>An object file, produced by an assembler.</p>
</dd>
</dl>
<p>Files with other suffixes (or without suffixes) are passed straight to
the linker.</p>
</section>
<section id="modes-of-operation">
<span id="modes"></span><h2><span class="section-number">5.1.5. </span>Modes of operation<a class="headerlink" href="#modes-of-operation" title="Permalink to this heading">¶</a></h2>
<p id="index-7">GHC’s behaviour is firstly controlled by a mode flag. Only one of these
flags may be given, but it does not necessarily need to be the first
option on the command-line. For instance,</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ghc Main.hs --make -o my-application
</pre></div>
</div>
<p>If no mode flag is present, then GHC will enter <a class="reference internal" href="#ghc-flag-make"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--make</span></code></a> mode
(<a class="reference internal" href="#make-mode"><span class="std std-ref">Using ghc --make</span></a>) if there are any Haskell source files given on the
command line, or else it will link the objects named on the command line
to produce an executable.</p>
<p>The available mode flags are:</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-interactive">
<span class="sig-name descname"><span class="pre">--interactive</span></span><a class="headerlink" href="#ghc-flag-interactive" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-8">Interactive mode, which is also available as <strong class="program">ghci</strong>. Interactive
mode is described in more detail in <a class="reference internal" href="ghci.html#ghci"><span class="std std-ref">Using GHCi</span></a>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-run-file">
<span class="sig-name descname"><span class="pre">--run</span></span><span class="sig-prename descclassname"> <span class="pre">⟨file⟩</span></span><a class="headerlink" href="#ghc-flag-run-file" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-9">Run a script’s <code class="docutils literal notranslate"><span class="pre">main</span></code> entry-point. Similar to <code class="docutils literal notranslate"><span class="pre">runghc</span></code> this will by
default use the bytecode interpreter. If the command-line contains a <code class="docutils literal notranslate"><span class="pre">--</span></code>
argument then all arguments that follow will be passed to the script. All
arguments that precede <code class="docutils literal notranslate"><span class="pre">--</span></code> are interpreted as GHC arguments.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-make">
<span class="sig-name descname"><span class="pre">--make</span></span><a class="headerlink" href="#ghc-flag-make" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-10">In this mode, GHC will build a multi-module Haskell program
automatically, figuring out dependencies for itself. If you have a
straightforward Haskell program, this is likely to be much easier,
and faster, than using <strong class="command">make</strong>. Make mode is described in
<a class="reference internal" href="#make-mode"><span class="std std-ref">Using ghc --make</span></a>.</p>
<p>This mode is the default if there are any Haskell source files
mentioned on the command line, and in this case the <a class="reference internal" href="#ghc-flag-make"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--make</span></code></a>
option can be omitted.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-e-expr">
<span class="sig-name descname"><span class="pre">-e</span></span><span class="sig-prename descclassname"> <span class="pre">⟨expr⟩</span></span><a class="headerlink" href="#ghc-flag-e-expr" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-11">Expression-evaluation mode. This is very similar to interactive
mode, except that there is a single expression to evaluate (⟨expr⟩)
which is given on the command line. This flag may be given multiple
times, in which case each expression is evaluated sequentially.
See <a class="reference internal" href="#eval-mode"><span class="std std-ref">Expression evaluation mode</span></a> for more details.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-E">
<span class="sig-name descname"><span class="pre">-E</span></span><a class="headerlink" href="#ghc-flag-E" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop after preprocessing (<code class="docutils literal notranslate"><span class="pre">.hspp</span></code> file)</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-C">
<span class="sig-name descname"><span class="pre">-C</span></span><a class="headerlink" href="#ghc-flag-C" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop after generating C (<code class="docutils literal notranslate"><span class="pre">.hc</span></code> file)</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-S">
<span class="sig-name descname"><span class="pre">-S</span></span><a class="headerlink" href="#ghc-flag-S" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop after generating assembly (<code class="docutils literal notranslate"><span class="pre">.s</span></code> file)</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-c">
<span class="sig-name descname"><span class="pre">-c</span></span><a class="headerlink" href="#ghc-flag-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop after generating object (<code class="docutils literal notranslate"><span class="pre">.o</span></code>) file</p>
<p>This is the traditional batch-compiler mode, in which GHC can
compile source files one at a time, or link objects together into an
executable. See <a class="reference internal" href="#options-order"><span class="std std-ref">Batch compiler mode</span></a>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-M">
<span class="sig-name descname"><span class="pre">-M</span></span><a class="headerlink" href="#ghc-flag-M" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-12">Dependency-generation mode. In this mode, GHC can be used to
generate dependency information suitable for use in a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>.
See <a class="reference internal" href="separate_compilation.html#makefile-dependencies"><span class="std std-ref">Dependency generation</span></a>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-frontend-module">
<span class="sig-name descname"><span class="pre">--frontend</span></span><span class="sig-prename descclassname"> <span class="pre">⟨module⟩</span></span><a class="headerlink" href="#ghc-flag-frontend-module" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-13">Run GHC using the given frontend plugin. See <a class="reference internal" href="extending_ghc.html#frontend-plugins"><span class="std std-ref">Frontend plugins</span></a> for
details.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mk-dll">
<span class="sig-name descname"><span class="pre">--mk-dll</span></span><a class="headerlink" href="#ghc-flag-mk-dll" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-14">DLL-creation mode (Windows only). See <a class="reference internal" href="win32-dlls.html#win32-dlls-create"><span class="std std-ref">Creating a DLL</span></a>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-help">
<span class="sig-name descname"><span class="pre">--help</span></span><a class="headerlink" href="#ghc-flag-help" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="ghc-flag-0">
<span class="sig-name descname"><span class="pre">-?</span></span><a class="headerlink" href="#ghc-flag-0" title="Permalink to this definition">¶</a></dt>
<dd><p>Cause GHC to spew a long usage message to standard output and then
exit.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-show-iface-file">
<span class="sig-name descname"><span class="pre">--show-iface</span></span><span class="sig-prename descclassname"> <span class="pre">⟨file⟩</span></span><a class="headerlink" href="#ghc-flag-show-iface-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the interface in ⟨file⟩ and dump it as text to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>. For
example <code class="docutils literal notranslate"><span class="pre">ghc</span> <span class="pre">--show-iface</span> <span class="pre">M.hi</span></code>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-supported-extensions">
<span class="sig-name descname"><span class="pre">--supported-extensions</span></span><a class="headerlink" href="#ghc-flag-supported-extensions" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="ghc-flag-supported-languages">
<span class="sig-name descname"><span class="pre">--supported-languages</span></span><a class="headerlink" href="#ghc-flag-supported-languages" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the supported language extensions.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-show-options">
<span class="sig-name descname"><span class="pre">--show-options</span></span><a class="headerlink" href="#ghc-flag-show-options" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the supported command line options. This flag can be used for
autocompletion in a shell.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-info">
<span class="sig-name descname"><span class="pre">--info</span></span><a class="headerlink" href="#ghc-flag-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print information about the compiler.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-version">
<span class="sig-name descname"><span class="pre">--version</span></span><a class="headerlink" href="#ghc-flag-version" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="ghc-flag-V">
<span class="sig-name descname"><span class="pre">-V</span></span><a class="headerlink" href="#ghc-flag-V" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a one-line string including GHC’s version number.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-numeric-version">
<span class="sig-name descname"><span class="pre">--numeric-version</span></span><a class="headerlink" href="#ghc-flag-numeric-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print GHC’s numeric version number only.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-booter-version">
<span class="sig-name descname"><span class="pre">--print-booter-version</span></span><a class="headerlink" href="#ghc-flag-print-booter-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the numeric version of the GHC binary used to
bootstrap the build of this compiler.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-build-platform">
<span class="sig-name descname"><span class="pre">--print-build-platform</span></span><a class="headerlink" href="#ghc-flag-print-build-platform" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the target string of the build platform, on which GHC was built,
as generated by GNU Autotools.
The format is <code class="docutils literal notranslate"><span class="pre">cpu-manufacturer-operating_system-(kernel)</span></code>, e.g.,
<code class="docutils literal notranslate"><span class="pre">x86_64-unknown-linux</span></code>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-c-compiler-flags">
<span class="sig-name descname"><span class="pre">--print-c-compiler-flags</span></span><a class="headerlink" href="#ghc-flag-print-c-compiler-flags" title="Permalink to this definition">¶</a></dt>
<dd><p>List the flags passed to the C compiler during GHC build.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-c-compiler-link-flags">
<span class="sig-name descname"><span class="pre">--print-c-compiler-link-flags</span></span><a class="headerlink" href="#ghc-flag-print-c-compiler-link-flags" title="Permalink to this definition">¶</a></dt>
<dd><p>List the flags passed to the C compiler for the linking step
during GHC build.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-debug-on">
<span class="sig-name descname"><span class="pre">--print-debug-on</span></span><a class="headerlink" href="#ghc-flag-print-debug-on" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">True</span></code> if GHC was built with <code class="docutils literal notranslate"><span class="pre">-DDebug</span></code> flag.
This enables assertions and extra debug code.
The flag can be set in <code class="docutils literal notranslate"><span class="pre">GhcStage1HcOpts</span></code> and/or <code class="docutils literal notranslate"><span class="pre">GhcStage2HcOpts</span></code>
and is automatically set for <code class="docutils literal notranslate"><span class="pre">devel1</span></code> and <code class="docutils literal notranslate"><span class="pre">devel2</span></code> build flavors.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-global-package-db">
<span class="sig-name descname"><span class="pre">--print-global-package-db</span></span><a class="headerlink" href="#ghc-flag-print-global-package-db" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the path to GHC’s global package database directory.
A package database stores details about installed packages as a directory
containing a file for each package.
This flag prints the path to the global database shipped with GHC, and
looks something like <code class="docutils literal notranslate"><span class="pre">/usr/lib/ghc/package.conf.d</span></code> on Unix.
There may be other package databases, e.g., the user package databse.
For more details see <a class="reference internal" href="packages.html#package-databases"><span class="std std-ref">Package Databases</span></a>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-have-interpreter">
<span class="sig-name descname"><span class="pre">--print-have-interpreter</span></span><a class="headerlink" href="#ghc-flag-print-have-interpreter" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if GHC was compiled to include the interpreter, <code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.
If this GHC does not have the interpreter included, running it in interactive
mode (see <a class="reference internal" href="#ghc-flag-interactive"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--interactive</span></code></a>) will throw an error.
This only pertains the use of GHC interactively, not any separate GHCi binaries
(see <a class="reference internal" href="ghci.html#ghci"><span class="std std-ref">Using GHCi</span></a>).</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-have-native-code-generator">
<span class="sig-name descname"><span class="pre">--print-have-native-code-generator</span></span><a class="headerlink" href="#ghc-flag-print-have-native-code-generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if native code generator supports the target platform,
<code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.
(See <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">Native Code Generator (-fasm)</span></a>)</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-host-platform">
<span class="sig-name descname"><span class="pre">--print-host-platform</span></span><a class="headerlink" href="#ghc-flag-print-host-platform" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the target string of the host platform, i.e.,
the one on which GHC is supposed to run, as generated by GNU Autotools.
The format is <code class="docutils literal notranslate"><span class="pre">cpu-manufacturer-operating_system-(kernel)</span></code>, e.g.,
<code class="docutils literal notranslate"><span class="pre">x86_64-unknown-linux</span></code>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-leading-underscore">
<span class="sig-name descname"><span class="pre">--print-leading-underscore</span></span><a class="headerlink" href="#ghc-flag-print-leading-underscore" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if GHC was compiled to use symbols with leading underscores
in object files, <code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.
This is usually atarget platform dependent.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-libdir">
<span class="sig-name descname"><span class="pre">--print-libdir</span></span><a class="headerlink" href="#ghc-flag-print-libdir" title="Permalink to this definition">¶</a></dt>
<dd><p id="index-15">Print the path to GHC’s library directory. This is the top of the
directory tree containing GHC’s libraries, interfaces, and include
files (usually something like <code class="docutils literal notranslate"><span class="pre">/usr/local/lib/ghc-5.04</span></code> on Unix).
This is the value of <code class="docutils literal notranslate"><span class="pre">$libdir</span></code> in the package
configuration file (see <a class="reference internal" href="packages.html#packages"><span class="std std-ref">Packages</span></a>).</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-ld-flags">
<span class="sig-name descname"><span class="pre">--print-ld-flags</span></span><a class="headerlink" href="#ghc-flag-print-ld-flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Print linke flags used to compile GHC.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-object-splitting-supported">
<span class="sig-name descname"><span class="pre">--print-object-splitting-supported</span></span><a class="headerlink" href="#ghc-flag-print-object-splitting-supported" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if GHC was compiled with support for splitting generated
object files into smaller objects, <code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.
This feature uses platform specific techniques and may not be available on
all platforms.
See <a class="reference internal" href="phases.html#ghc-flag-split-objs"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-split-objs</span></code></a> for details.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-project-git-commit-id">
<span class="sig-name descname"><span class="pre">--print-project-git-commit-id</span></span><a class="headerlink" href="#ghc-flag-print-project-git-commit-id" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the Git commit id from which this GHC was built.
This can be used to trace the current binary back to a specific
revision, which is especially useful during development on GHC itself.
It is set by the configure script.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-project-version">
<span class="sig-name descname"><span class="pre">--print-project-version</span></span><a class="headerlink" href="#ghc-flag-print-project-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the version set in the configure script during build.
This is simply the GHC version.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-rts-ways">
<span class="sig-name descname"><span class="pre">--print-rts-ways</span></span><a class="headerlink" href="#ghc-flag-print-rts-ways" title="Permalink to this definition">¶</a></dt>
<dd><p>Packages, like the Runtime System, can be built in a number of ways:
- profiling - with profiling support
- dynamic - with dynamic linking
- logging - RTS event logging
- threaded - mulithreaded RTS
- debug - RTS with debug information</p>
<p>Various combinations of these flavours are possible.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-stage">
<span class="sig-name descname"><span class="pre">--print-stage</span></span><a class="headerlink" href="#ghc-flag-print-stage" title="Permalink to this definition">¶</a></dt>
<dd><p>GHC is built using GHC itself and this build happens in stages,
which are numbered.</p>
<ul class="simple">
<li><p>Stage 0 is the GHC you have installed.  The “GHC you have installed” is also called “the bootstrap compiler”.</p></li>
<li><p>Stage 1 is the first GHC we build, using stage 0.  Stage 1 is then used to build the packages.</p></li>
<li><p>Stage 2 is the second GHC we build, using stage 1.  This is the one we normally install when you say make install.</p></li>
<li><p>Stage 3 is optional, but is sometimes built to test stage 2.</p></li>
</ul>
<p>Stage 1 does not support interactive execution (GHCi) and Template Haskell.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-support-smp">
<span class="sig-name descname"><span class="pre">--print-support-smp</span></span><a class="headerlink" href="#ghc-flag-print-support-smp" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if GHC was built with multiporcessor support, <code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-tables-next-to-code">
<span class="sig-name descname"><span class="pre">--print-tables-next-to-code</span></span><a class="headerlink" href="#ghc-flag-print-tables-next-to-code" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if GHC was built with the flag <code class="docutils literal notranslate"><span class="pre">--enable-tables-next-to-code</span></code>, <code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.
This option is on by default, as it generates a more efficient code layout.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-target-platform">
<span class="sig-name descname"><span class="pre">--print-target-platform</span></span><a class="headerlink" href="#ghc-flag-print-target-platform" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the target string of the target platform, i.e.,
the one on which generated binaries will run, as generated by GNU Autotools.
The format is <code class="docutils literal notranslate"><span class="pre">cpu-manufacturer-operating_system-(kernel)</span></code>, e.g.,
<code class="docutils literal notranslate"><span class="pre">x86_64-unknown-linux</span></code>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-print-unregisterised">
<span class="sig-name descname"><span class="pre">--print-unregisterised</span></span><a class="headerlink" href="#ghc-flag-print-unregisterised" title="Permalink to this definition">¶</a></dt>
<dd><p>Print <code class="docutils literal notranslate"><span class="pre">YES</span></code> if this GHC was built in unregisterised mode, <code class="docutils literal notranslate"><span class="pre">NO</span></code> otherwise.
“Unregisterised” means that GHC will disable most platform-specific tricks
and optimisations. Only the LLVM and C code generators will be available.
See <a class="reference internal" href="codegens.html#unreg"><span class="std std-ref">Unregisterised compilation</span></a> for more details.</p>
</dd></dl>

<section id="using-ghc-make">
<span id="make-mode"></span><h3><span class="section-number">5.1.5.1. </span>Using <code class="docutils literal notranslate"><span class="pre">ghc</span></code> <code class="docutils literal notranslate"><span class="pre">--make</span></code><a class="headerlink" href="#using-ghc-make" title="Permalink to this heading">¶</a></h3>
<p id="index-16">In this mode, GHC will build a multi-module Haskell program by following
dependencies from one or more root modules (usually just <code class="docutils literal notranslate"><span class="pre">Main</span></code>). For
example, if your <code class="docutils literal notranslate"><span class="pre">Main</span></code> module is in a file called <code class="file docutils literal notranslate"><span class="pre">Main.hs</span></code>, you
could compile and link the program like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghc --make Main.hs
</pre></div>
</div>
<p>In fact, GHC enters make mode automatically if there are any Haskell
source files on the command line and no other mode is specified, so in
this case we could just type</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghc Main.hs
</pre></div>
</div>
<p>Any number of source file names or module names may be specified; GHC
will figure out all the modules in the program by following the imports
from these initial modules. It will then attempt to compile each module
which is out of date, and finally, if there is a <code class="docutils literal notranslate"><span class="pre">Main</span></code> module, the
program will also be linked into an executable.</p>
<p>The main advantages to using <code class="docutils literal notranslate"><span class="pre">ghc</span> <span class="pre">--make</span></code> over traditional
<code class="docutils literal notranslate"><span class="pre">Makefile</span></code>s are:</p>
<ul>
<li><p>GHC doesn’t have to be restarted for each compilation, which means it
can cache information between compilations. Compiling a multi-module
program with <code class="docutils literal notranslate"><span class="pre">ghc</span> <span class="pre">--make</span></code> can be up to twice as fast as running
<code class="docutils literal notranslate"><span class="pre">ghc</span></code> individually on each source file.</p></li>
<li><p>You don’t have to write a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>.</p>
</li>
<li id="index-17"><p>GHC re-calculates the dependencies each time it is invoked, so the
dependencies never get out of sync with the source.</p></li>
<li><p>Using the <a class="reference internal" href="#ghc-flag-j-n"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-j[⟨n⟩]</span></code></a> flag, you can compile modules in parallel.
Specify <code class="docutils literal notranslate"><span class="pre">-j</span> <span class="pre">⟨n⟩</span></code> to compile ⟨n⟩ jobs in parallel. If ⟨n⟩ is omitted, then
it defaults to the number of processors.</p></li>
</ul>
<p>Any of the command-line options described in the rest of this chapter
can be used with <code class="docutils literal notranslate"><span class="pre">--make</span></code>, but note that any options you give on the
command line will apply to all the source files compiled, so if you want
any options to apply to a single source file only, you’ll need to use an
<code class="docutils literal notranslate"><span class="pre">OPTIONS_GHC</span></code> pragma (see <a class="reference internal" href="#source-file-options"><span class="std std-ref">Command line options in source files</span></a>).</p>
<p>If the program needs to be linked with additional objects (say, some
auxiliary C code), then the object files can be given on the command
line and GHC will include them when linking the executable.</p>
<p>For backward compatibility with existing make scripts, when used in
combination with <a class="reference internal" href="#ghc-flag-c"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-c</span></code></a>, the linking phase is omitted (same as
<code class="docutils literal notranslate"><span class="pre">--make</span> <span class="pre">-no-link</span></code>).</p>
<p>Note that GHC can only follow dependencies if it has the source file
available, so if your program includes a module for which there is no
source file, even if you have an object and an interface file for the
module, then GHC will complain. The exception to this rule is for
package modules, which may or may not have source files.</p>
<p>The source files for the program don’t all need to be in the same
directory; the <a class="reference internal" href="separate_compilation.html#ghc-flag-i"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-i</span></code></a> option can be used to add directories to the
search path (see <a class="reference internal" href="separate_compilation.html#search-path"><span class="std std-ref">The search path</span></a>).</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-j-n">
<span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"><span class="pre">[⟨n⟩]</span></span><a class="headerlink" href="#ghc-flag-j-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform compilation in parallel when possible. GHC will use up to ⟨N⟩
threads during compilation. If N is omitted, then it defaults to the
number of processors. Note that compilation of a module may not begin
until its dependencies have been built.</p>
</dd></dl>

</section>
<section id="expression-evaluation-mode">
<span id="eval-mode"></span><h3><span class="section-number">5.1.5.2. </span>Expression evaluation mode<a class="headerlink" href="#expression-evaluation-mode" title="Permalink to this heading">¶</a></h3>
<p>This mode is very similar to interactive mode, except that there is a
single expression to evaluate which is specified on the command line as
an argument to the <code class="docutils literal notranslate"><span class="pre">-e</span></code> option:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghc -e expr
</pre></div>
</div>
<p>Haskell source files may be named on the command line, and they will be
loaded exactly as in interactive mode. The expression is evaluated in
the context of the loaded modules.</p>
<p>For example, to load and run a Haskell program containing a module
<code class="docutils literal notranslate"><span class="pre">Main</span></code>, we might say:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghc -e Main.main Main.hs
</pre></div>
</div>
<p>or we can just use this mode to evaluate expressions in the context of
the <code class="docutils literal notranslate"><span class="pre">Prelude</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ghc -e &quot;interact (unlines.map reverse.lines)&quot;
hello
olleh
</pre></div>
</div>
</section>
<section id="batch-compiler-mode">
<span id="options-order"></span><h3><span class="section-number">5.1.5.3. </span>Batch compiler mode<a class="headerlink" href="#batch-compiler-mode" title="Permalink to this heading">¶</a></h3>
<p>In <em>batch mode</em>, GHC will compile one or more source files given on the
command line.</p>
<p>The first phase to run is determined by each input-file suffix, and the
last phase is determined by a flag. If no relevant flag is present, then
go all the way through to linking. This table summarises:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Phase of the compilation system</p></th>
<th class="head"><p>Suffix saying “start here”</p></th>
<th class="head"><p>Flag saying “stop after”</p></th>
<th class="head"><p>(suffix of) output file</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>literate pre-processor</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.lhs</span></code></p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hs</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>C pre-processor (opt.)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hs</span></code> (with <code class="docutils literal notranslate"><span class="pre">-cpp</span></code>)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-E</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hspp</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Haskell compiler</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-C</span></code>, <code class="docutils literal notranslate"><span class="pre">-S</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hc</span></code>, <code class="docutils literal notranslate"><span class="pre">.s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>C compiler (opt.)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.hc</span></code> or <code class="docutils literal notranslate"><span class="pre">.c</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-S</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.s</span></code></p></td>
</tr>
<tr class="row-even"><td><p>assembler</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.s</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-c</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.o</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>linker</p></td>
<td><p>⟨other⟩</p></td>
<td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.out</span></code></p></td>
</tr>
</tbody>
</table>
<p id="index-18">Thus, a common invocation would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghc -c Foo.hs
</pre></div>
</div>
<p>to compile the Haskell source file <code class="docutils literal notranslate"><span class="pre">Foo.hs</span></code> to an object file
<code class="docutils literal notranslate"><span class="pre">Foo.o</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>What the Haskell compiler proper produces depends on what backend
code generator is used. See <a class="reference internal" href="codegens.html#code-generators"><span class="std std-ref">GHC Backends</span></a> for more details.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pre-processing is optional, the <a class="reference internal" href="phases.html#ghc-flag-cpp"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-cpp</span></code></a> flag turns it
on. See <a class="reference internal" href="phases.html#c-pre-processor"><span class="std std-ref">Options affecting the C pre-processor</span></a> for more details.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The option <a class="reference internal" href="#ghc-flag-E"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-E</span></code></a> runs just the pre-processing passes of
the compiler, dumping the result in a file.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The option <a class="reference internal" href="#ghc-flag-C"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-C</span></code></a> is only available when GHC is built in
unregisterised mode. See <a class="reference internal" href="codegens.html#unreg"><span class="std std-ref">Unregisterised compilation</span></a> for more details.</p>
</div>
<section id="overriding-the-default-behaviour-for-a-file">
<span id="overriding-suffixes"></span><h4><span class="section-number">5.1.5.3.1. </span>Overriding the default behaviour for a file<a class="headerlink" href="#overriding-the-default-behaviour-for-a-file" title="Permalink to this heading">¶</a></h4>
<p>As described above, the way in which a file is processed by GHC depends on its
suffix. This behaviour can be overridden using the <a class="reference internal" href="#ghc-flag-x-suffix"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-x</span> <span class="pre">⟨suffix⟩</span></code></a>
option:</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-x-suffix">
<span class="sig-name descname"><span class="pre">-x</span></span><span class="sig-prename descclassname"> <span class="pre">⟨suffix⟩</span></span><a class="headerlink" href="#ghc-flag-x-suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes all files following this option on the command line to be
processed as if they had the suffix ⟨suffix⟩. For example, to
compile a Haskell module in the file <code class="docutils literal notranslate"><span class="pre">M.my-hs</span></code>, use
<code class="docutils literal notranslate"><span class="pre">ghc</span> <span class="pre">-c</span> <span class="pre">-x</span> <span class="pre">hs</span> <span class="pre">M.my-hs</span></code>.</p>
</dd></dl>

</section>
</section>
</section>
<section id="verbosity-options">
<span id="options-help"></span><h2><span class="section-number">5.1.6. </span>Verbosity options<a class="headerlink" href="#verbosity-options" title="Permalink to this heading">¶</a></h2>
<p id="index-19">See also the <code class="docutils literal notranslate"><span class="pre">--help</span></code>, <code class="docutils literal notranslate"><span class="pre">--version</span></code>, <code class="docutils literal notranslate"><span class="pre">--numeric-version</span></code>, and
<code class="docutils literal notranslate"><span class="pre">--print-libdir</span></code> modes in <a class="reference internal" href="#modes"><span class="std std-ref">Modes of operation</span></a>.</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-v">
<span class="sig-name descname"><span class="pre">-v</span></span><a class="headerlink" href="#ghc-flag-v" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#ghc-flag-v"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-v</span></code></a> option makes GHC <em>verbose</em>: it reports its version number
and shows (on stderr) exactly how it invokes each phase of the
compilation system. Moreover, it passes the <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag to most
phases; each reports its version number (and possibly some other
information).</p>
<p>Please, oh please, use the <code class="docutils literal notranslate"><span class="pre">-v</span></code> option when reporting bugs!
Knowing that you ran the right bits in the right order is always the
first thing we want to verify.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-vn">
<span class="sig-name descname"><span class="pre">-v⟨n⟩</span></span><a class="headerlink" href="#ghc-flag-vn" title="Permalink to this definition">¶</a></dt>
<dd><p>To provide more control over the compiler’s verbosity, the <code class="docutils literal notranslate"><span class="pre">-v</span></code>
flag takes an optional numeric argument. Specifying <code class="docutils literal notranslate"><span class="pre">-v</span></code> on its
own is equivalent to <code class="docutils literal notranslate"><span class="pre">-v3</span></code>, and the other levels have the
following meanings:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">-v0</span></code></dt><dd><p>Disable all non-essential messages (this is the default).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-v1</span></code></dt><dd><p>Minimal verbosity: print one line per compilation (this is the
default when <a class="reference internal" href="#ghc-flag-make"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--make</span></code></a> or <a class="reference internal" href="#ghc-flag-interactive"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--interactive</span></code></a> is on).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-v2</span></code></dt><dd><p>Print the name of each compilation phase as it is executed.
(equivalent to <a class="reference internal" href="debugging.html#ghc-flag-dshow-passes"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-dshow-passes</span></code></a>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-v3</span></code></dt><dd><p>The same as <code class="docutils literal notranslate"><span class="pre">-v2</span></code>, except that in addition the full command
line (if appropriate) for each compilation phase is also
printed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-v4</span></code></dt><dd><p>The same as <code class="docutils literal notranslate"><span class="pre">-v3</span></code> except that the intermediate program
representation after each compilation phase is also printed
(excluding preprocessed and C/assembly files).</p>
</dd>
</dl>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-potential-instances">
<span class="sig-name descname"><span class="pre">-fprint-potential-instances</span></span><a class="headerlink" href="#ghc-flag-fprint-potential-instances" title="Permalink to this definition">¶</a></dt>
<dd><p>When GHC can’t find an instance for a class, it displays a short
list of some in the instances it knows about. With this flag it
prints <em>all</em> the instances it knows about.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fhide-source-paths">
<span class="sig-name descname"><span class="pre">-fhide-source-paths</span></span><a class="headerlink" href="#ghc-flag-fhide-source-paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Starting with minimal verbosity (<code class="docutils literal notranslate"><span class="pre">-v1</span></code>, see <a class="reference internal" href="#ghc-flag-v"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-v</span></code></a>), GHC
displays the name, the source path and the target path of each compiled
module. This flag can be used to reduce GHC’s output by hiding source paths
and target paths.</p>
</dd></dl>

<p>The following flags control the way in which GHC displays types in error
messages and in GHCi:</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-unicode-syntax">
<span class="sig-name descname"><span class="pre">-fprint-unicode-syntax</span></span><a class="headerlink" href="#ghc-flag-fprint-unicode-syntax" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled GHC prints type signatures using the unicode symbols from the
<a class="reference internal" href="exts/unicode_syntax.html#extension-UnicodeSyntax"><code class="xref std std-extension docutils literal notranslate"><span class="pre">UnicodeSyntax</span></code></a> extension. For instance,</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghci&gt; :set -fprint-unicode-syntax
ghci&gt; :t +v (&gt;&gt;)
(&gt;&gt;) ∷ Monad m ⇒ ∀ a b. m a → m b → m b
</pre></div>
</div>
</dd></dl>

<span class="target" id="pretty-printing-types"></span><dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-explicit-foralls">
<span class="sig-name descname"><span class="pre">-fprint-explicit-foralls</span></span><a class="headerlink" href="#ghc-flag-fprint-explicit-foralls" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="#ghc-flag-fprint-explicit-foralls"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-explicit-foralls</span></code></a> makes
GHC print explicit <code class="docutils literal notranslate"><span class="pre">forall</span></code> quantification at the top level of a
type; normally this is suppressed. For example, in GHCi:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghci&gt; let f x = x
ghci&gt; :t f
f :: a -&gt; a
ghci&gt; :set -fprint-explicit-foralls
ghci&gt; :t f
f :: forall a. a -&gt; a
</pre></div>
</div>
<p>However, regardless of the flag setting, the quantifiers are printed
under these circumstances:</p>
<ul>
<li><p>For nested <code class="docutils literal notranslate"><span class="pre">foralls</span></code>, e.g.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghci&gt; :t GHC.ST.runST
GHC.ST.runST :: (forall s. GHC.ST.ST s a) -&gt; a
</pre></div>
</div>
</li>
<li><p>If any of the quantified type variables has a kind that mentions
a kind variable, e.g.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghci&gt; :i Data.Type.Equality.sym
Data.Type.Equality.sym ::
  forall k (a :: k) (b :: k).
  (a Data.Type.Equality.:~: b) -&gt; b Data.Type.Equality.:~: a
        -- Defined in Data.Type.Equality
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-explicit-kinds">
<span class="sig-name descname"><span class="pre">-fprint-explicit-kinds</span></span><a class="headerlink" href="#ghc-flag-fprint-explicit-kinds" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="#ghc-flag-fprint-explicit-kinds"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-explicit-kinds</span></code></a> makes GHC print kind arguments in
types, which are normally suppressed. This can be important when you
are using kind polymorphism. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghci&gt; :set -XPolyKinds
ghci&gt; data T a (b :: l) = MkT
ghci&gt; :t MkT
MkT :: forall k l (a :: k) (b :: l). T a b
ghci&gt; :set -fprint-explicit-kinds
ghci&gt; :t MkT
MkT :: forall k l (a :: k) (b :: l). T @{k} @l a b
ghci&gt; :set -XNoPolyKinds
ghci&gt; :t MkT
MkT :: T @{*} @* a b
</pre></div>
</div>
<p>In the output above, observe that <code class="docutils literal notranslate"><span class="pre">T</span></code> has two kind variables
(<code class="docutils literal notranslate"><span class="pre">k</span></code> and <code class="docutils literal notranslate"><span class="pre">l</span></code>) and two type variables (<code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>). Note that
<code class="docutils literal notranslate"><span class="pre">k</span></code> is an <em>inferred</em> variable and <code class="docutils literal notranslate"><span class="pre">l</span></code> is a <em>specified</em> variable
(see <a class="reference internal" href="exts/type_applications.html#inferred-vs-specified"><span class="std std-ref">Inferred vs. specified type variables</span></a>), so as a result, they are displayed
using slightly different syntax in the type <code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">&#64;{k}</span> <span class="pre">&#64;l</span> <span class="pre">a</span> <span class="pre">b</span></code>. The
application of <code class="docutils literal notranslate"><span class="pre">l</span></code> (with <code class="docutils literal notranslate"><span class="pre">&#64;l</span></code>) is the standard syntax for visible
type application (see <a class="reference internal" href="exts/type_applications.html#visible-type-application"><span class="std std-ref">Visible type application</span></a>). The application
of <code class="docutils literal notranslate"><span class="pre">k</span></code> (with <code class="docutils literal notranslate"><span class="pre">&#64;{k}</span></code>), however, uses a hypothetical syntax for visible
type application of inferred type variables. This syntax is not currently
exposed to the programmer, but it is nevertheless displayed when
<a class="reference internal" href="#ghc-flag-fprint-explicit-kinds"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-explicit-kinds</span></code></a> is enabled.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-explicit-coercions">
<span class="sig-name descname"><span class="pre">-fprint-explicit-coercions</span></span><a class="headerlink" href="#ghc-flag-fprint-explicit-coercions" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="#ghc-flag-fprint-explicit-coercions"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-explicit-coercions</span></code></a> makes GHC print coercions in
types. When trying to prove the equality between types of different
kinds, GHC uses type-level coercions. Users will rarely need to
see these, as they are meant to be internal.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-axiom-incomps">
<span class="sig-name descname"><span class="pre">-fprint-axiom-incomps</span></span><a class="headerlink" href="#ghc-flag-fprint-axiom-incomps" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="#ghc-flag-fprint-axiom-incomps"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-axiom-incomps</span></code></a> tells GHC to display
incompatibilities between closed type families’ equations, whenever they
are printed by <a class="reference internal" href="ghci.html#ghci-cmd-info"><code class="xref std std-ghci-cmd docutils literal notranslate"><span class="pre">:info</span></code></a> or <a class="reference internal" href="#ghc-flag-show-iface-file"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--show-iface</span> <span class="pre">⟨file⟩</span></code></a>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ghci&gt; :i Data.Type.Equality.==
type family (==) (a :: k) (b :: k) :: Bool
  where
      (==) (f a) (g b) = (f == g) &amp;&amp; (a == b)
      (==) a a = &#39;True
      (==) _1 _2 = &#39;False
ghci&gt; :set -fprint-axiom-incomps
ghci&gt; :i Data.Type.Equality.==
type family (==) (a :: k) (b :: k) :: Bool
  where
      {- #0 -} (==) (f a) (g b) = (f == g) &amp;&amp; (a == b)
      {- #1 -} (==) a a = &#39;True
          -- incompatible with: #0
      {- #2 -} (==) _1 _2 = &#39;False
          -- incompatible with: #1, #0
</pre></div>
</div>
<p>The equations are numbered starting from 0, and the comment after each
equation refers to all preceding equations it is incompatible with.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-equality-relations">
<span class="sig-name descname"><span class="pre">-fprint-equality-relations</span></span><a class="headerlink" href="#ghc-flag-fprint-equality-relations" title="Permalink to this definition">¶</a></dt>
<dd><p>Using <a class="reference internal" href="#ghc-flag-fprint-equality-relations"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-equality-relations</span></code></a> tells GHC to distinguish between
its equality relations when printing. For example, <code class="docutils literal notranslate"><span class="pre">~</span></code> is homogeneous
lifted equality (the kinds of its arguments are the same) while
<code class="docutils literal notranslate"><span class="pre">~~</span></code> is heterogeneous lifted equality (the kinds of its arguments
might be different) and <code class="docutils literal notranslate"><span class="pre">~#</span></code> is heterogeneous unlifted equality,
the internal equality relation used in GHC’s solver. Generally,
users should not need to worry about the subtleties here; <code class="docutils literal notranslate"><span class="pre">~</span></code> is
probably what you want. Without <a class="reference internal" href="#ghc-flag-fprint-equality-relations"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-fprint-equality-relations</span></code></a>, GHC
prints all of these as <code class="docutils literal notranslate"><span class="pre">~</span></code>. See also <a class="reference internal" href="exts/equality_constraints.html#equality-constraints"><span class="std std-ref">Equality constraints</span></a>.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-expanded-synonyms">
<span class="sig-name descname"><span class="pre">-fprint-expanded-synonyms</span></span><a class="headerlink" href="#ghc-flag-fprint-expanded-synonyms" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled, GHC also prints type-synonym-expanded types in type
errors. For example, with this type synonyms:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="kr">type</span><span class="w"> </span><span class="kt">Foo</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Int</span><span class="w"></span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Bar</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Bool</span><span class="w"></span>
<span class="kr">type</span><span class="w"> </span><span class="kt">MyBarST</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ST</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="kt">Bar</span><span class="w"></span>
</pre></div>
</div>
<p>This error message:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Couldn&#39;t match type &#39;Int&#39; with &#39;Bool&#39;
Expected type: ST s Foo
  Actual type: MyBarST s
</pre></div>
</div>
<p>Becomes this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Couldn&#39;t match type &#39;Int&#39; with &#39;Bool&#39;
Expected type: ST s Foo
  Actual type: MyBarST s
Type synonyms expanded:
Expected type: ST s Int
  Actual type: ST s Bool
</pre></div>
</div>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fprint-typechecker-elaboration">
<span class="sig-name descname"><span class="pre">-fprint-typechecker-elaboration</span></span><a class="headerlink" href="#ghc-flag-fprint-typechecker-elaboration" title="Permalink to this definition">¶</a></dt>
<dd><p>When enabled, GHC also prints extra information from the typechecker in
warnings. For example:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">main</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span><span class="w"></span>
<span class="nf">main</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="kr">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="nb">()</span><span class="w"></span>
</pre></div>
</div>
<p>This warning message:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>A do-notation statement discarded a result of type ‘[Char]’
Suppress this warning by saying
  ‘_ &lt;- ($) return let a = &quot;hello&quot; in a’
or by using the flag -fno-warn-unused-do-bind
</pre></div>
</div>
<p>Becomes this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>A do-notation statement discarded a result of type ‘[Char]’
Suppress this warning by saying
  ‘_ &lt;- ($)
          return
          let
            AbsBinds [] []
              {Exports: [a &lt;= a
                           &lt;&gt;]
               Exported types: a :: [Char]
                               [LclId, Str=DmdType]
               Binds: a = &quot;hello&quot;}
          in a’
or by using the flag -fno-warn-unused-do-bind
</pre></div>
</div>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fdefer-diagnostics">
<span class="sig-name descname"><span class="pre">-fdefer-diagnostics</span></span><a class="headerlink" href="#ghc-flag-fdefer-diagnostics" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes GHC to group diagnostic messages by severity and output them after
other messages when building a multi-module Haskell program. This flag can
make diagnostic messages more visible when used in conjunction with
<a class="reference internal" href="#ghc-flag-make"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">--make</span></code></a> and <a class="reference internal" href="#ghc-flag-j-n"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-j[⟨n⟩]</span></code></a>. Otherwise, it can be hard to
find the relevant errors or likely to ignore the warnings when they are
mixed with many other messages.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fdiagnostics-color-always-auto-never">
<span class="sig-name descname"><span class="pre">-fdiagnostics-color</span></span><span class="sig-prename descclassname"><span class="pre">=⟨always|auto|never⟩</span></span><a class="headerlink" href="#ghc-flag-fdiagnostics-color-always-auto-never" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes GHC to display error messages with colors.  To do this, the
terminal must have support for ANSI color codes, or else garbled text will
appear.  The default value is <code class="docutils literal notranslate"><span class="pre">auto</span></code>, which means GHC will make an
attempt to detect whether terminal supports colors and choose accordingly.</p>
<p>The precise color scheme is controlled by the environment variable
<code class="docutils literal notranslate"><span class="pre">GHC_COLORS</span></code> (or <code class="docutils literal notranslate"><span class="pre">GHC_COLOURS</span></code>).  This can be set to colon-separated
list of <code class="docutils literal notranslate"><span class="pre">key=value</span></code> pairs.  These are the default settings:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>header=:message=1:warning=1;35:error=1;31:fatal=1;31:margin=1;34
</pre></div>
</div>
<p>Each value is expected to be a <a class="reference external" href="https://en.wikipedia.org/wiki/ANSI_escape_code#graphics">Select Graphic Rendition (SGR) substring</a>.  The
formatting of each element can inherit from parent elements.  For example,
if <code class="docutils literal notranslate"><span class="pre">header</span></code> is left empty, it will inherit the formatting of
<code class="docutils literal notranslate"><span class="pre">message</span></code>.  Alternatively if <code class="docutils literal notranslate"><span class="pre">header</span></code> is set to <code class="docutils literal notranslate"><span class="pre">1</span></code> (bold), it will
be bolded but still inherits the color of <code class="docutils literal notranslate"><span class="pre">message</span></code>.</p>
<p>Currently, in the primary message, the following inheritance tree is in
place:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">header</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">warning</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fatal</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>In the caret diagnostics, there is currently no inheritance at all between
<code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">warning</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>, and <code class="docutils literal notranslate"><span class="pre">fatal</span></code>.</p>
<p>The environment variable can also be set to the magical values <code class="docutils literal notranslate"><span class="pre">never</span></code>
or <code class="docutils literal notranslate"><span class="pre">always</span></code>, which is equivalent to setting the corresponding
<code class="docutils literal notranslate"><span class="pre">-fdiagnostics-color</span></code> flag but with lower precedence.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fdiagnostics-show-caret">
<span class="sig-name descname"><span class="pre">-fdiagnostics-show-caret</span></span><a class="headerlink" href="#ghc-flag-fdiagnostics-show-caret" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls whether GHC displays a line of the original source code where the
error was detected.  This also affects the associated caret symbol that
points at the region of code at fault.  The flag is on by default.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-ferror-spans">
<span class="sig-name descname"><span class="pre">-ferror-spans</span></span><a class="headerlink" href="#ghc-flag-ferror-spans" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes GHC to emit the full source span of the syntactic entity
relating to an error message. Normally, GHC emits the source
location of the start of the syntactic entity only.</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>test.hs:3:6: parse error on input `where&#39;
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>test296.hs:3:6-10: parse error on input `where&#39;
</pre></div>
</div>
<p>And multi-line spans are possible too:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>test.hs:(5,4)-(6,7):
    Conflicting definitions for `a&#39;
    Bound at: test.hs:5:4
              test.hs:6:7
    In the binding group for: a, b, a
</pre></div>
</div>
<p>Note that line numbers start counting at one, but column numbers
start at zero. This choice was made to follow existing convention
(i.e. this is how Emacs does it).</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-fkeep-going">
<span class="sig-name descname"><span class="pre">-fkeep-going</span></span><a class="headerlink" href="#ghc-flag-fkeep-going" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Since<span class="colon">:</span></dt>
<dd class="field-odd"><p>8.10.1</p>
</dd>
</dl>
<p>Causes GHC to continue the compilation if a module has an error.
Any reverse dependencies are pruned immediately and the whole
compilation is still flagged as an error.  This option has no
effect if parallel compilation (<a class="reference internal" href="#ghc-flag-j-n"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-j[⟨n⟩]</span></code></a>) is in use.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-freverse-errors">
<span class="sig-name descname"><span class="pre">-freverse-errors</span></span><a class="headerlink" href="#ghc-flag-freverse-errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Causes GHC to output errors in reverse line-number order, so that
the errors and warnings that originate later in the file are
displayed first.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-Rghc-timing">
<span class="sig-name descname"><span class="pre">-Rghc-timing</span></span><a class="headerlink" href="#ghc-flag-Rghc-timing" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a one-line summary of timing statistics for the GHC run. This
option is equivalent to <code class="docutils literal notranslate"><span class="pre">+RTS</span> <span class="pre">-tstderr</span></code>, see
<a class="reference internal" href="runtime_control.html#rts-options-gc"><span class="std std-ref">RTS options to control the garbage collector</span></a>.</p>
</dd></dl>

</section>
<section id="platform-specific-flags">
<span id="options-platform"></span><h2><span class="section-number">5.1.7. </span>Platform-specific Flags<a class="headerlink" href="#platform-specific-flags" title="Permalink to this heading">¶</a></h2>
<p id="index-20">Some flags only make sense for particular target platforms.</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mavx">
<span class="sig-name descname"><span class="pre">-mavx</span></span><a class="headerlink" href="#ghc-flag-mavx" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) These SIMD instructions are currently not supported by
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. Enabling this flag
has no effect and is only present for future extensions.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> may use AVX if your
processor supports it, but detects this automatically, so no flag is
required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mavx2">
<span class="sig-name descname"><span class="pre">-mavx2</span></span><a class="headerlink" href="#ghc-flag-mavx2" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) These SIMD instructions are currently not supported by
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. Enabling this flag
has no effect and is only present for future extensions.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> may use AVX2 if your
processor supports it, but detects this automatically, so no flag is
required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mavx512cd">
<span class="sig-name descname"><span class="pre">-mavx512cd</span></span><a class="headerlink" href="#ghc-flag-mavx512cd" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) These SIMD instructions are currently not supported by
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. Enabling this flag
has no effect and is only present for future extensions.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> may use AVX512 if your
processor supports it, but detects this automatically, so no flag is
required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mavx512er">
<span class="sig-name descname"><span class="pre">-mavx512er</span></span><a class="headerlink" href="#ghc-flag-mavx512er" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) These SIMD instructions are currently not supported by
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. Enabling this flag
has no effect and is only present for future extensions.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> may use AVX512 if your
processor supports it, but detects this automatically, so no flag is
required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mavx512f">
<span class="sig-name descname"><span class="pre">-mavx512f</span></span><a class="headerlink" href="#ghc-flag-mavx512f" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) These SIMD instructions are currently not supported by
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. Enabling this flag
has no effect and is only present for future extensions.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> may use AVX512 if your
processor supports it, but detects this automatically, so no flag is
required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mavx512pf">
<span class="sig-name descname"><span class="pre">-mavx512pf</span></span><a class="headerlink" href="#ghc-flag-mavx512pf" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) These SIMD instructions are currently not supported by
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. Enabling this flag
has no effect and is only present for future extensions.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> may use AVX512 if your
processor supports it, but detects this automatically, so no flag is
required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-msse">
<span class="sig-name descname"><span class="pre">-msse</span></span><a class="headerlink" href="#ghc-flag-msse" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) Use the SSE registers and
instruction set to implement floating point operations when using
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. This gives a
substantial performance improvement for floating point, but the
resulting compiled code will only run on processors that support
SSE (Intel Pentium 3 and later, or AMD Athlon XP and later). The
<a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> will also use SSE if your
processor supports it but detects this automatically so no flag is
required.</p>
<p>Since GHC 8.10, SSE2 is assumed to be present on both
x86 and x86-64 platforms and will be used by default.
Even when setting this flag, SSE2 will be used instead.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-msse2">
<span class="sig-name descname"><span class="pre">-msse2</span></span><a class="headerlink" href="#ghc-flag-msse2" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only, added in GHC 7.0.1) Use the SSE2 registers and
instruction set to implement floating point operations when using
the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. This gives a
substantial performance improvement for floating point, but the
resulting compiled code will only run on processors that support
SSE2 (Intel Pentium 4 and later, or AMD Athlon 64 and later). The
<a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> will also use SSE2 if your
processor supports it but detects this automatically so no flag is
required.</p>
<p>Since GHC 8.10, SSE2 is assumed to be present on both
x86 and x86-64 platforms and will be used by default.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-msse3">
<span class="sig-name descname"><span class="pre">-msse3</span></span><a class="headerlink" href="#ghc-flag-msse3" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) Use the SSE3 instruction set to
implement some floating point and bit operations when using the
<a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>.</p>
<p>Note that the current version does not use SSE3 specific instructions
and only requires SSE2 processor support.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> will also use
SSE3 if your processor supports it but detects this automatically
so no flag is required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-msse4">
<span class="sig-name descname"><span class="pre">-msse4</span></span><a class="headerlink" href="#ghc-flag-msse4" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) Use the SSE4 instruction set to
implement some floating point and bit operations when using the
<a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>.</p>
<p>Note that the current version does not use SSE4 specific instructions
and only requires SSE2 processor support.</p>
<p>The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> will also use
SSE4 if your processor supports it but detects this automatically
so no flag is required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-msse4.2">
<span class="sig-name descname"><span class="pre">-msse4.2</span></span><a class="headerlink" href="#ghc-flag-msse4.2" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only, added in GHC 7.4.1) Use the SSE4.2 instruction set to
implement some floating point and bit operations when using the
<a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. The resulting compiled
code will only run on processors that support SSE4.2 (Intel Core i7
and later). The <a class="reference internal" href="codegens.html#llvm-code-gen"><span class="std std-ref">LLVM backend</span></a> will also use
SSE4.2 if your processor supports it but detects this automatically
so no flag is required.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mbmi">
<span class="sig-name descname"><span class="pre">-mbmi</span></span><a class="headerlink" href="#ghc-flag-mbmi" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only) Use the BMI1 instruction set to implement some bit operations
when using the <a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>.</p>
<p>Note that the current version does not use BMI specific instructions,
so using this flag has no effect.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-mbmi2">
<span class="sig-name descname"><span class="pre">-mbmi2</span></span><a class="headerlink" href="#ghc-flag-mbmi2" title="Permalink to this definition">¶</a></dt>
<dd><p>(x86 only, added in GHC 7.4.1) Use the BMI2 instruction set to
implement some bit operations when using the
<a class="reference internal" href="codegens.html#native-code-gen"><span class="std std-ref">native code generator</span></a>. The resulting compiled
code will only run on processors that support BMI2 (Intel Haswell and newer, AMD Excavator, Zen and newer).</p>
</dd></dl>

</section>
<section id="haddock">
<h2><span class="section-number">5.1.8. </span>Haddock<a class="headerlink" href="#haddock" title="Permalink to this heading">¶</a></h2>
<span class="target" id="index-21"></span><dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-haddock">
<span class="sig-name descname"><span class="pre">-haddock</span></span><a class="headerlink" href="#ghc-flag-haddock" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, GHC ignores Haddock comments (<code class="docutils literal notranslate"><span class="pre">--</span> <span class="pre">|</span> <span class="pre">...</span></code> and <code class="docutils literal notranslate"><span class="pre">--</span> <span class="pre">^</span> <span class="pre">...</span></code>)
and does not check that they’re associated with a valid term, such as a
top-level type-signature.  With this flag GHC will parse Haddock comments
and include them in the interface file it produces.</p>
<p>Note that this flag makes GHC’s parser more strict so programs which are
accepted without Haddock may be rejected with <a class="reference internal" href="#ghc-flag-haddock"><code class="xref std std-ghc-flag docutils literal notranslate"><span class="pre">-haddock</span></code></a>.</p>
</dd></dl>

</section>
<section id="miscellaneous-flags">
<h2><span class="section-number">5.1.9. </span>Miscellaneous flags<a class="headerlink" href="#miscellaneous-flags" title="Permalink to this heading">¶</a></h2>
<p id="index-22">Some flags only make sense for a particular use case.</p>
<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-ghcversion-file-path-to-ghcversion.h">
<span class="sig-name descname"><span class="pre">-ghcversion-file</span></span><span class="sig-prename descclassname"> <span class="pre">⟨path</span> <span class="pre">to</span> <span class="pre">ghcversion.h⟩</span></span><a class="headerlink" href="#ghc-flag-ghcversion-file-path-to-ghcversion.h" title="Permalink to this definition">¶</a></dt>
<dd><p>When GHC is used to compile C files, GHC adds package include paths and
includes <code class="docutils literal notranslate"><span class="pre">ghcversion.h</span></code> directly. The compiler will lookup the path for
the <code class="docutils literal notranslate"><span class="pre">ghcversion.h</span></code> file from the <code class="docutils literal notranslate"><span class="pre">rts</span></code> package in the package database.
In some cases, the compiler’s package database does not contain the <code class="docutils literal notranslate"><span class="pre">rts</span></code>
package, or one wants to specify a specific <code class="docutils literal notranslate"><span class="pre">ghcversions.h</span></code> to be
included. This option can be used to specify the path to the
<code class="docutils literal notranslate"><span class="pre">ghcversions.h</span></code> file to be included. This is primarily intended to be
used by GHC’s build system.</p>
</dd></dl>

<dl class="std ghc-flag">
<dt class="sig sig-object std" id="ghc-flag-H-size">
<span class="sig-name descname"><span class="pre">-H</span></span><span class="sig-prename descclassname"> <span class="pre">⟨size⟩</span></span><a class="headerlink" href="#ghc-flag-H-size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the minimum size of the heap to ⟨size⟩. This option is
equivalent to <code class="docutils literal notranslate"><span class="pre">+RTS</span> <span class="pre">-Hsize</span></code>, see <a class="reference internal" href="runtime_control.html#rts-options-gc"><span class="std std-ref">RTS options to control the garbage collector</span></a>.</p>
</dd></dl>

<section id="other-environment-variables">
<h3><span class="section-number">5.1.9.1. </span>Other environment variables<a class="headerlink" href="#other-environment-variables" title="Permalink to this heading">¶</a></h3>
<p id="index-23">GHC can also be configured using environment variables. Currently the only
variable it supports is <code class="docutils literal notranslate"><span class="pre">GHC_NO_UNICODE</span></code>, which, when set, disables Unicode
output regardless of locale settings. <code class="docutils literal notranslate"><span class="pre">GHC_NO_UNICODE</span></code> can be set to anything
+(event an empty string) to trigger this behaviour.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="using-warnings.html" class="btn btn-neutral float-right" title="5.2. Warnings and sanity-checking" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usage.html" class="btn btn-neutral float-left" title="5. Using GHC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, GHC Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
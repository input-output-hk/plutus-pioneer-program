<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- editorconfig-checker-disable-file</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds       #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications      #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators         #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances  #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusCore.Pretty.PrettyConst</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Data.html"><span class="hs-identifier">PlutusCore.Data</span></a></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">Codec.Serialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">serialise</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Coerce</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">fold</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Word8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Numeric</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">showHex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Prettyprinter.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Doc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier">Text.PrettyBy</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier">Text.PrettyBy.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier">DefaultPrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Universe.html"><span class="hs-identifier">Universe</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-comment">{- Note [Prettyprinting built-in constants]
When we're printing PLC
code, the prettyprinter has to render built-in constants.
Unfortunately the instance of `Data.Text.Pretyprint.Doc.Pretty` for
`Char` and `String` (via `Char` and `[]`) does the wrong thing if
control characters are involved.  For example, the string
['a', 'b', 'c', '\n', 'x', '\t', 'y', 'z'] renders as

abc
x    yz

which the PLC parser can't deal with.  However, `show` renders the
string as &quot;abc\nx\tyz&quot; (including the quotes), which can be
successfuly parsed using `read`.  This class provides a
`prettyConst` method which should be used whenever it's necessary
to render a built-in constant: see for example
`PlutusCore.Core.Instance.Pretty.Classic`.  The constraint
`uni `Everywhere` PrettyConst` occurs in many places in the
codebase to make sure that we know how to print a constant from any
type appearing in a universe of built-in types.

Setting up our own machinery for overloading pretty-printing behavior would be laborious,
but fortunately the @prettyprinter-configurable@ library already provides us with all the tools
for doing that and so we define a dummy config for pretty-printing constants, implement a bunch of
instances and derive pretty-printing behavior for non-polymorphic types (including how lists of
such types are pretty-printed) via 'Show'. However always pretty-printing the spine of, say, a list
via 'Show' while pretty-printing its contents via 'PrettyConst' is not something that can be easily
done with the present-day @prettyprinter-configurable@, so we opt for pretty-printing the spine of
a value of a compound type (list of lists, list of tuples, tuple of lists etc) via 'Pretty'.
In practice this means that we have some additional spaces printed after punctuation symbols
that 'show' alone would have omitted, for example:

&gt;&gt;&gt; putStrLn $ displayConst (&quot;abc\nx\tyz&#8704;&quot; :: String, [((), False), ((), True)])
(&quot;abc\nx\tyz\8704&quot;, [((), False), ((), True)])
&gt;&gt;&gt; putStrLn $ show         (&quot;abc\nx\tyz&#8704;&quot; :: String, [((), False), ((), True)])
(&quot;abc\nx\tyz\8704&quot;,[((),False),((),True)])

Not a big deal, since 'read' can see through these spaces perfectly fine.
-}</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-keyword">data</span><span> </span><span id="ConstConfig"><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-var">ConstConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ConstConfig"><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-var">ConstConfig</span></a></span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="HasPrettyDefaults"><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">HasPrettyDefaults</span></a></span></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">False</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-keyword">type</span><span> </span><span id="PrettyConst"><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-var">PrettyConst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- These two can be generalized to any @config@, but that breaks some use cases of 'PrettyAny'</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- then. Perhaps we should split the functionality and have two separate @newtype@ wrappers</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- in @prettyprinter-configurable@ instead of a single 'PrettyAny'.</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- For that we'll also need to ensure that it's alright when @HasPrettyDefaults config ~ 'True@.</span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030898"><span id="local-6989586621681030900"><span id="local-6989586621681031041"><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">DefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031041"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031041"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681031035"><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">DefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031035"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031035"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621681030890"><span class="annot"><span class="annottext">prettyBy :: forall ann. ConstConfig -&gt; PrettyAny a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall config a ann.
DefaultPrettyBy config a =&gt;
config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">defaultPrettyBy</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span id="local-6989586621681030886"><span class="annot"><span class="annottext">prettyListBy :: forall ann. ConstConfig -&gt; [PrettyAny a] -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyListBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall config a ann.
DefaultPrettyBy config a =&gt;
config -&gt; [a] -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">defaultPrettyListBy</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681031029"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031029"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">DefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031029"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-88"></span><span>    </span><span id="local-6989586621681030872"><span class="annot"><span class="annottext">defaultPrettyBy :: forall ann. ConstConfig -&gt; PrettyAny a -&gt; Doc ann
</span><a href="#local-6989586621681030872"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultPrettyBy</span></a></span></span><span>     </span><span class="annot"><span class="annottext">ConstConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681031029"><span class="hs-identifier hs-type">a</span></a></span><span>   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span id="local-6989586621681030863"><span class="annot"><span class="annottext">defaultPrettyListBy :: forall ann. ConstConfig -&gt; [PrettyAny a] -&gt; Doc ann
</span><a href="#local-6989586621681030863"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultPrettyListBy</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConstConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681031029"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span id="local-6989586621681031014"><span id="local-6989586621681031015"><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#prettyConst"><span class="hs-identifier hs-type">prettyConst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031015"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031015"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Doc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031014"><span class="hs-identifier hs-type">ann</span></a></span></span></span><span>
</span><span id="line-92"></span><span id="prettyConst"><span class="annot"><span class="annottext">prettyConst :: forall a ann. PrettyConst a =&gt; a -&gt; Doc ann
</span><a href="PlutusCore.Pretty.PrettyConst.html#prettyConst"><span class="hs-identifier hs-var hs-var">prettyConst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall config a ann. PrettyBy config a =&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyBy</span></a></span><span> </span><span class="annot"><span class="annottext">ConstConfig
</span><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-var">ConstConfig</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#displayConst"><span class="hs-identifier hs-type">displayConst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681031011"><span class="annot"><a href="#local-6989586621681031011"><span class="hs-identifier hs-type">str</span></a></span></span><span> </span><span id="local-6989586621681031012"><span class="annot"><a href="#local-6989586621681031012"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031012"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">Render</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681031011"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031012"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681031011"><span class="hs-identifier hs-type">str</span></a></span><span>
</span><span id="line-95"></span><span id="displayConst"><span class="annot"><span class="annottext">displayConst :: forall str a. (PrettyConst a, Render str) =&gt; a -&gt; str
</span><a href="PlutusCore.Pretty.PrettyConst.html#displayConst"><span class="hs-identifier hs-var hs-var">displayConst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall str ann. Render str =&gt; Doc ann -&gt; str
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. PrettyConst a =&gt; a -&gt; Doc ann
</span><a href="PlutusCore.Pretty.PrettyConst.html#prettyConst"><span class="hs-identifier hs-var">prettyConst</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- This instance for String quotes control characters (which is what we want)</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- but also Unicode characters (\8704 and so on).</span><span>
</span><span id="line-99"></span><span id="local-6989586621681030847"><span id="local-6989586621681030852"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span><span>  </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span></span></span><span>
</span><span id="line-100"></span><span id="local-6989586621681030833"><span id="local-6989586621681030838"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>      </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-101"></span><span id="local-6989586621681030819"><span id="local-6989586621681030824"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>    </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span></span></span><span>
</span><span id="line-102"></span><span id="local-6989586621681030805"><span id="local-6989586621681030810"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyAny</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-bignum-1.2/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-bignum-1.2/src"><span class="hs-identifier hs-type">Integer</span></a></span></span></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030794"><span id="local-6989586621681030796"><span id="local-6989586621681030996"><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030996"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681030996"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030790"><span id="local-6989586621681030792"><span id="local-6989586621681030994"><span id="local-6989586621681030995"><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030995"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030994"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">NonDefaultPrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681030995"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681030994"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030787"><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>    </span><span id="local-6989586621681030776"><span class="annot"><span class="annottext">prettyBy :: forall ann. ConstConfig -&gt; ByteString -&gt; Doc ann
</span><a href="#local-6989586621681030776"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span class="annot"><span class="annottext">ConstConfig
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681030775"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621681030775"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">fold</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Word8 -&gt; Doc ann
</span><a href="PlutusCore.Pretty.PrettyConst.html#asBytes"><span class="hs-identifier hs-var">asBytes</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Word8]
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BS.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621681030775"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- Special instance for bytestrings</span><span>
</span><span id="line-111"></span><span id="local-6989586621681030986"><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#asBytes"><span class="hs-identifier hs-type">asBytes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Doc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030986"><span class="hs-identifier hs-type">ann</span></a></span></span><span>
</span><span id="line-112"></span><span id="asBytes"><span class="annot"><span class="annottext">asBytes :: forall ann. Word8 -&gt; Doc ann
</span><a href="PlutusCore.Pretty.PrettyConst.html#asBytes"><span class="hs-identifier hs-var hs-var">asBytes</span></a></span></span><span> </span><span id="local-6989586621681030761"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681030761"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Int -&gt; Text -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681030759"><span class="hs-identifier hs-var">addLeadingZero</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (Integral a, Show a) =&gt; a -&gt; String -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">showHex</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681030761"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681030759"><span class="hs-identifier hs-type">addLeadingZero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-114"></span><span>          </span><span id="local-6989586621681030759"><span class="annot"><span class="annottext">addLeadingZero :: String -&gt; String
</span><a href="#local-6989586621681030759"><span class="hs-identifier hs-var hs-var">addLeadingZero</span></a></span></span><span>
</span><span id="line-115"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681030761"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">16</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'0'</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030754"><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#ConstConfig"><span class="hs-identifier hs-type">ConstConfig</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>    </span><span id="local-6989586621681030750"><span class="annot"><span class="annottext">prettyBy :: forall ann. ConstConfig -&gt; Data -&gt; Doc ann
</span><a href="#local-6989586621681030750"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span id="local-6989586621681030749"><span class="annot"><span class="annottext">ConstConfig
</span><a href="#local-6989586621681030749"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681030748"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621681030748"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall config a ann. PrettyBy config a =&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyBy</span></a></span><span> </span><span class="annot"><span class="annottext">ConstConfig
</span><a href="#local-6989586621681030749"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BSL.toStrict</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Serialise a =&gt; a -&gt; ByteString
</span><a href="../../../../serialise/html/src"><span class="hs-identifier hs-var">serialise</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621681030748"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030744"><span id="local-6989586621681030967"><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030967"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Kinded"><span class="hs-identifier hs-type">Kinded</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030967"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621681030742"><span class="annot"><span class="annottext">pretty :: forall ann. SomeTypeIn (Kinded uni) -&gt; Doc ann
</span><a href="#local-6989586621681030742"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Kinded"><span class="hs-identifier hs-type">Kinded</span></a></span><span> </span><span id="local-6989586621681030736"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681030736"><span class="hs-identifier hs-var">uni</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) k (a :: k). uni (Esc a) -&gt; SomeTypeIn uni
</span><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-var">SomeTypeIn</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681030736"><span class="hs-identifier hs-var">uni</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- | Special treatment for built-in constants: see the Note in PlutusCore.Pretty.PrettyConst.</span><span>
</span><span id="line-125"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030733"><span id="local-6989586621681030957"><span id="local-6989586621681030958"><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030958"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681030958"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`Everywhere`</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030958"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030957"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621681030730"><span class="annot"><span class="annottext">pretty :: forall ann. ValueOf uni a -&gt; Doc ann
</span><a href="#local-6989586621681030730"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span id="local-6989586621681030728"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681030728"><span class="hs-identifier hs-var">uni</span></a></span></span><span> </span><span id="local-6989586621681030727"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681030727"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) (constr :: * -&gt; Constraint)
       (proxy :: (* -&gt; Constraint) -&gt; *) a r.
(Closed uni, Everywhere uni constr) =&gt;
proxy constr -&gt; uni (Esc a) -&gt; (constr a =&gt; r) -&gt; r
</span><a href="Universe.Core.html#bring"><span class="hs-identifier hs-var">bring</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681030728"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. PrettyConst a =&gt; a -&gt; Doc ann
</span><a href="PlutusCore.Pretty.PrettyConst.html#prettyConst"><span class="hs-identifier hs-var">prettyConst</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681030727"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- Note that the call to `pretty` here is to the instance for `ValueOf uni a`, which calls prettyConst.</span><span>
</span><span id="line-129"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681030720"><span id="local-6989586621681030947"><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030947"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681030947"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`Everywhere`</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681030947"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621681030719"><span class="annot"><span class="annottext">pretty :: forall ann. Some (ValueOf uni) -&gt; Doc ann
</span><a href="#local-6989586621681030719"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span id="local-6989586621681030715"><span class="annot"><span class="annottext">ValueOf uni a
</span><a href="#local-6989586621681030715"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">ValueOf uni a
</span><a href="#local-6989586621681030715"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-131"></span></pre></body></html>
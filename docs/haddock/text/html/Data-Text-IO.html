<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Text.IO</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">text-1.2.5.0: An efficient packed Unicode text type.</span><ul class="links" id="page-menu"><li><a href="src/Data.Text.IO.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2009 2010 Bryan O'Sullivan<br />(c) 2009 Simon Marlow</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>bos@serpentine.com</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Text.IO</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Performance</a></li><li><a href="#g:2">Locale support</a></li><li><a href="#g:3">Operations on handles</a></li><li><a href="#g:4">Special cases for standard input and output</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Efficient locale-sensitive support for text I/O.</p><p>Skip past the synopsis for some important notes on performance and
 portability across different versions of GHC.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:readFile">readFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:writeFile">writeFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:appendFile">appendFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:hGetContents">hGetContents</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:hGetChunk">hGetChunk</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:hGetLine">hGetLine</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:hPutStr">hPutStr</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:hPutStrLn">hPutStrLn</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:interact">interact</a> :: (<a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:getContents">getContents</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:getLine">getLine</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:putStr">putStr</a> :: <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:putStrLn">putStrLn</a> :: <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Performance</h1></a><div class="doc"><p><a id="performance"></a></p><p>The functions in this module obey the runtime system's locale,
 character set encoding, and line ending conversion settings.</p><p>If you know in advance that you will be working with data that has
 a specific encoding (e.g. UTF-8), and your application is highly
 performance sensitive, you may find that it is faster to perform
 I/O with bytestrings and to encode and decode yourself than to use
 the functions in this module.</p><p>Whether this will hold depends on the version of GHC you are using,
 the platform you are working on, the data you are working with, and
 the encodings you are using, so be sure to test for yourself.</p></div><a href="#g:2" id="g:2"><h1>Locale support</h1></a><div class="doc"><p><em>Note</em>: The behaviour of functions in this module depends on the
 version of GHC you are using.</p><p>Beginning with GHC 6.12, text I/O is performed using the system or
 handle's current locale and line ending conventions.</p><p>Under GHC 6.10 and earlier, the system I/O libraries do not
 support locale-sensitive I/O or line ending conversion.  On these
 versions of GHC, functions in this library all use UTF-8.  What
 does this mean in practice?</p><ul><li>All data that is read will be decoded as UTF-8.</li><li>Before data is written, it is first encoded as UTF-8.</li><li>On both reading and writing, the platform's native newline
   conversion is performed.</li></ul><p>If you must use a non-UTF-8 locale on an older version of GHC, you
 will have to perform the transcoding yourself, e.g. as follows:</p><pre>import qualified Data.ByteString as B
import Data.Text (Text)
import Data.Text.Encoding (encodeUtf16)

putStr_Utf16LE :: Text -&gt; IO ()
putStr_Utf16LE t = B.putStr (encodeUtf16LE t)</pre><p>On transcoding errors, an <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO-Error.html#t:IOError" title="System.IO.Error">IOError</a></code> exception is thrown. You can
 use the API in <a href="Data-Text-Encoding.html">Data.Text.Encoding</a> if you need more control over
 error handling or transcoding.</p></div><div class="top"><p class="src"><a id="v:readFile" class="def">readFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.Text.IO.html#readFile" class="link">Source</a> <a href="#v:readFile" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Data-Text-IO.html#v:readFile" title="Data.Text.IO">readFile</a></code> function reads a file and returns the contents of
 the file as a string.  The entire file is read strictly, as with
 <code><a href="Data-Text-IO.html#v:getContents" title="Data.Text.IO">getContents</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:writeFile" class="def">writeFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#writeFile" class="link">Source</a> <a href="#v:writeFile" class="selflink">#</a></p><div class="doc"><p>Write a string to a file.  The file is truncated to zero length
 before writing begins.</p></div></div><div class="top"><p class="src"><a id="v:appendFile" class="def">appendFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#appendFile" class="link">Source</a> <a href="#v:appendFile" class="selflink">#</a></p><div class="doc"><p>Write a string the end of a file.</p></div></div><a href="#g:3" id="g:3"><h1>Operations on handles</h1></a><div class="top"><p class="src"><a id="v:hGetContents" class="def">hGetContents</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.Text.IO.html#hGetContents" class="link">Source</a> <a href="#v:hGetContents" class="selflink">#</a></p><div class="doc"><p>Read the remaining contents of a <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></code> as a string.  The
 <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></code> is closed once the contents have been read, or if an
 exception is thrown.</p><p>Internally, this function reads a chunk at a time from the
 lower-level buffering abstraction, and concatenates the chunks into
 a single string once the entire file has been read.</p><p>As a result, it requires approximately twice as much memory as its
 result to construct its result.  For files more than a half of
 available RAM in size, this may result in memory exhaustion.</p></div></div><div class="top"><p class="src"><a id="v:hGetChunk" class="def">hGetChunk</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.Text.IO.html#hGetChunk" class="link">Source</a> <a href="#v:hGetChunk" class="selflink">#</a></p><div class="doc"><p><em>Experimental.</em> Read a single chunk of strict text from a
 <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></code>. The size of the chunk depends on the amount of input
 currently buffered.</p><p>This function blocks only if there is no data available, and EOF
 has not yet been reached. Once EOF is reached, this function
 returns an empty string instead of throwing an exception.</p></div></div><div class="top"><p class="src"><a id="v:hGetLine" class="def">hGetLine</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.Text.IO.html#hGetLine" class="link">Source</a> <a href="#v:hGetLine" class="selflink">#</a></p><div class="doc"><p>Read a single line from a handle.</p></div></div><div class="top"><p class="src"><a id="v:hPutStr" class="def">hPutStr</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#hPutStr" class="link">Source</a> <a href="#v:hPutStr" class="selflink">#</a></p><div class="doc"><p>Write a string to a handle.</p></div></div><div class="top"><p class="src"><a id="v:hPutStrLn" class="def">hPutStrLn</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#hPutStrLn" class="link">Source</a> <a href="#v:hPutStrLn" class="selflink">#</a></p><div class="doc"><p>Write a string to a handle, followed by a newline.</p></div></div><a href="#g:4" id="g:4"><h1>Special cases for standard input and output</h1></a><div class="top"><p class="src"><a id="v:interact" class="def">interact</a> :: (<a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-Text.html#t:Text" title="Data.Text">Text</a>) -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#interact" class="link">Source</a> <a href="#v:interact" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Data-Text-IO.html#v:interact" title="Data.Text.IO">interact</a></code> function takes a function of type <code>Text -&gt; Text</code>
 as its argument. The entire input from the standard input device is
 passed to this function as its argument, and the resulting string
 is output on the standard output device.</p></div></div><div class="top"><p class="src"><a id="v:getContents" class="def">getContents</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.Text.IO.html#getContents" class="link">Source</a> <a href="#v:getContents" class="selflink">#</a></p><div class="doc"><p>Read all user input on <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#v:stdin" title="System.IO">stdin</a></code> as a single string.</p></div></div><div class="top"><p class="src"><a id="v:getLine" class="def">getLine</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.Text.IO.html#getLine" class="link">Source</a> <a href="#v:getLine" class="selflink">#</a></p><div class="doc"><p>Read a single line of user input from <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#v:stdin" title="System.IO">stdin</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:putStr" class="def">putStr</a> :: <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#putStr" class="link">Source</a> <a href="#v:putStr" class="selflink">#</a></p><div class="doc"><p>Write a string to <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#v:stdout" title="System.IO">stdout</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:putStrLn" class="def">putStrLn</a> :: <a href="Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Text.IO.html#putStrLn" class="link">Source</a> <a href="#v:putStrLn" class="selflink">#</a></p><div class="doc"><p>Write a string to <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#v:stdout" title="System.IO">stdout</a></code>, followed by a newline.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>System.Posix.IO</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">unix-2.7.2.2: POSIX functionality</span><ul class="links" id="page-menu"><li><a href="src/System.Posix.IO.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) The University of Glasgow 2002</td></tr><tr><th>License</th><td>BSD-style (see the file libraries/base/LICENSE)</td></tr><tr><th>Maintainer</th><td>libraries@haskell.org</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>non-portable (requires POSIX)</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.Posix.IO</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Input / Output</a><ul><li><a href="#g:2">Standard file descriptors</a></li><li><a href="#g:3">Opening and closing files</a></li><li><a href="#g:4">Reading/writing data</a></li><li><a href="#g:5">Seeking</a></li><li><a href="#g:6">File options</a></li><li><a href="#g:7">Locking</a></li><li><a href="#g:8">Pipes</a></li><li><a href="#g:9">Duplicating file descriptors</a></li><li><a href="#g:10">Converting file descriptors to/from Handles</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>POSIX IO support.  These types and functions correspond to the unix
 functions open(2), close(2), etc.  For more portable functions
 which are more like fopen(3) and friends from stdio.h, see
 <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html">System.IO</a>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:stdInput">stdInput</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:stdOutput">stdOutput</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:stdError">stdError</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:OpenMode">OpenMode</a><ul class="subs"><li>= <a href="#v:ReadOnly">ReadOnly</a></li><li>| <a href="#v:WriteOnly">WriteOnly</a></li><li>| <a href="#v:ReadWrite">ReadWrite</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:OpenFileFlags">OpenFileFlags</a> = <a href="#v:OpenFileFlags">OpenFileFlags</a> {<ul class="subs"><li><a href="#v:append">append</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:exclusive">exclusive</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:noctty">noctty</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:nonBlock">nonBlock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:trunc">trunc</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:defaultFileFlags">defaultFileFlags</a> :: <a href="System-Posix-IO.html#t:OpenFileFlags" title="System.Posix.IO">OpenFileFlags</a></li><li class="src short"><a href="#v:openFd">openFd</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="System-Posix-IO.html#t:OpenMode" title="System.Posix.IO">OpenMode</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileMode" title="System.Posix.Types">FileMode</a> -&gt; <a href="System-Posix-IO.html#t:OpenFileFlags" title="System.Posix.IO">OpenFileFlags</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:createFile">createFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileMode" title="System.Posix.Types">FileMode</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:closeFd">closeFd</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:fdRead">fdRead</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a>)</li><li class="src short"><a href="#v:fdWrite">fdWrite</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></li><li class="src short"><a href="#v:fdReadBuf">fdReadBuf</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></li><li class="src short"><a href="#v:fdWriteBuf">fdWriteBuf</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></li><li class="src short"><a href="#v:fdSeek">fdSeek</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:SeekMode" title="System.IO">SeekMode</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FdOption">FdOption</a><ul class="subs"><li>= <a href="#v:AppendOnWrite">AppendOnWrite</a></li><li>| <a href="#v:CloseOnExec">CloseOnExec</a></li><li>| <a href="#v:NonBlockingRead">NonBlockingRead</a></li><li>| <a href="#v:SynchronousWrites">SynchronousWrites</a></li></ul></li><li class="src short"><a href="#v:queryFdOption">queryFdOption</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FdOption" title="System.Posix.IO">FdOption</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:setFdOption">setFdOption</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FdOption" title="System.Posix.IO">FdOption</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:FileLock">FileLock</a> = (<a href="System-Posix-IO.html#t:LockRequest" title="System.Posix.IO">LockRequest</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:SeekMode" title="System.IO">SeekMode</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:LockRequest">LockRequest</a><ul class="subs"><li>= <a href="#v:ReadLock">ReadLock</a></li><li>| <a href="#v:WriteLock">WriteLock</a></li><li>| <a href="#v:Unlock">Unlock</a></li></ul></li><li class="src short"><a href="#v:getLock">getLock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ProcessID" title="System.Posix.Types">ProcessID</a>, <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a>))</li><li class="src short"><a href="#v:setLock">setLock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:waitToSetLock">waitToSetLock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:createPipe">createPipe</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a>)</li><li class="src short"><a href="#v:dup">dup</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:dupTo">dupTo</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:handleToFd">handleToFd</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></li><li class="src short"><a href="#v:fdToHandle">fdToHandle</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Input / Output</h1></a><a href="#g:2" id="g:2"><h2>Standard file descriptors</h2></a><div class="top"><p class="src"><a id="v:stdInput" class="def">stdInput</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.Common.html#stdInput" class="link">Source</a> <a href="#v:stdInput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stdOutput" class="def">stdOutput</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.Common.html#stdOutput" class="link">Source</a> <a href="#v:stdOutput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stdError" class="def">stdError</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.Common.html#stdError" class="link">Source</a> <a href="#v:stdError" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h2>Opening and closing files</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OpenMode" class="def">OpenMode</a> <a href="src/System.Posix.IO.Common.html#OpenMode" class="link">Source</a> <a href="#t:OpenMode" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReadOnly" class="def">ReadOnly</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WriteOnly" class="def">WriteOnly</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ReadWrite" class="def">ReadWrite</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:OpenFileFlags" class="def">OpenFileFlags</a> <a href="src/System.Posix.IO.Common.html#OpenFileFlags" class="link">Source</a> <a href="#t:OpenFileFlags" class="selflink">#</a></p><div class="doc"><p>Correspond to some of the int flags from C's fcntl.h.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:OpenFileFlags" class="def">OpenFileFlags</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:append" class="def">append</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>O_APPEND</p></div></li><li><dfn class="src"><a id="v:exclusive" class="def">exclusive</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>O_EXCL</p></div></li><li><dfn class="src"><a id="v:noctty" class="def">noctty</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>O_NOCTTY</p></div></li><li><dfn class="src"><a id="v:nonBlock" class="def">nonBlock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>O_NONBLOCK</p></div></li><li><dfn class="src"><a id="v:trunc" class="def">trunc</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>O_TRUNC</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultFileFlags" class="def">defaultFileFlags</a> :: <a href="System-Posix-IO.html#t:OpenFileFlags" title="System.Posix.IO">OpenFileFlags</a> <a href="src/System.Posix.IO.Common.html#defaultFileFlags" class="link">Source</a> <a href="#v:defaultFileFlags" class="selflink">#</a></p><div class="doc"><p>Default values for the <code><a href="System-Posix-IO.html#t:OpenFileFlags" title="System.Posix.IO">OpenFileFlags</a></code> type. False for each of
 append, exclusive, noctty, nonBlock, and trunc.</p></div></div><div class="top"><p class="src"><a id="v:openFd" class="def">openFd</a> <a href="src/System.Posix.IO.html#openFd" class="link">Source</a> <a href="#v:openFd" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="System-Posix-IO.html#t:OpenMode" title="System.Posix.IO">OpenMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileMode" title="System.Posix.Types">FileMode</a></td><td class="doc"><p>Just x =&gt; creates the file with the given modes, Nothing =&gt; the file must exist.</p></td></tr><tr><td class="src">-&gt; <a href="System-Posix-IO.html#t:OpenFileFlags" title="System.Posix.IO">OpenFileFlags</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Open and optionally create this file.  See <code><a href="System-Posix.html#v:Files" title="System.Posix">Files</a></code>
 for information on how to use the <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileMode" title="System.Posix.Types">FileMode</a></code> type.</p></div></div><div class="top"><p class="src"><a id="v:createFile" class="def">createFile</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileMode" title="System.Posix.Types">FileMode</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.html#createFile" class="link">Source</a> <a href="#v:createFile" class="selflink">#</a></p><div class="doc"><p>Create and open this file in WriteOnly mode.  A special case of
 <code><a href="System-Posix-IO.html#v:openFd" title="System.Posix.IO">openFd</a></code>.  See <code><a href="System-Posix.html#v:Files" title="System.Posix">Files</a></code> for information on how to use
 the <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileMode" title="System.Posix.Types">FileMode</a></code> type.</p></div></div><div class="top"><p class="src"><a id="v:closeFd" class="def">closeFd</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.Posix.IO.Common.html#closeFd" class="link">Source</a> <a href="#v:closeFd" class="selflink">#</a></p><div class="doc"><p>Close this file descriptor.  May throw an exception if this is an
 invalid descriptor.</p></div></div><a href="#g:4" id="g:4"><h2>Reading/writing data</h2></a><div class="doc"><p>Programmers using the <code><a href="System-Posix-IO.html#v:fdRead" title="System.Posix.IO">fdRead</a></code> and <code><a href="System-Posix-IO.html#v:fdWrite" title="System.Posix.IO">fdWrite</a></code> API should be aware that
 EAGAIN exceptions may occur for non-blocking IO!</p></div><div class="top"><p class="src"><a id="v:fdRead" class="def">fdRead</a> <a href="src/System.Posix.IO.Common.html#fdRead" class="link">Source</a> <a href="#v:fdRead" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></td><td class="doc"><p>How many bytes to read</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a>)</td><td class="doc"><p>The bytes read, how many bytes were read.</p></td></tr></table></div><div class="doc"><p>Read data from an <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></code> and convert it to a <code><a href="../../ghc/html/libraries/base-4.16.3.0/Data-String.html#t:String" title="Data.String">String</a></code> using the locale encoding.
 Throws an exception if this is an invalid descriptor, or EOF has been
 reached.</p></div></div><div class="top"><p class="src"><a id="v:fdWrite" class="def">fdWrite</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a> <a href="src/System.Posix.IO.Common.html#fdWrite" class="link">Source</a> <a href="#v:fdWrite" class="selflink">#</a></p><div class="doc"><p>Write a <code><a href="../../ghc/html/libraries/base-4.16.3.0/Data-String.html#t:String" title="Data.String">String</a></code> to an <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></code> using the locale encoding.</p></div></div><div class="top"><p class="src"><a id="v:fdReadBuf" class="def">fdReadBuf</a> <a href="src/System.Posix.IO.Common.html#fdReadBuf" class="link">Source</a> <a href="#v:fdReadBuf" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></td><td class="doc"><p>Memory in which to put the data</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></td><td class="doc"><p>Maximum number of bytes to read</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></td><td class="doc"><p>Number of bytes read (zero for EOF)</p></td></tr></table></div><div class="doc"><p>Read data from an <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></code> into memory.  This is exactly equivalent
 to the POSIX <code>read</code> function.</p></div></div><div class="top"><p class="src"><a id="v:fdWriteBuf" class="def">fdWriteBuf</a> <a href="src/System.Posix.IO.Common.html#fdWriteBuf" class="link">Source</a> <a href="#v:fdWriteBuf" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></td><td class="doc"><p>Memory containing the data to write</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></td><td class="doc"><p>Maximum number of bytes to write</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ByteCount" title="System.Posix.Types">ByteCount</a></td><td class="doc"><p>Number of bytes written</p></td></tr></table></div><div class="doc"><p>Write data from memory to an <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></code>.  This is exactly equivalent
 to the POSIX <code>write</code> function.</p></div></div><a href="#g:5" id="g:5"><h2>Seeking</h2></a><div class="top"><p class="src"><a id="v:fdSeek" class="def">fdSeek</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:SeekMode" title="System.IO">SeekMode</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a> <a href="src/System.Posix.IO.Common.html#fdSeek" class="link">Source</a> <a href="#v:fdSeek" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><a href="#g:6" id="g:6"><h2>File options</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FdOption" class="def">FdOption</a> <a href="src/System.Posix.IO.Common.html#FdOption" class="link">Source</a> <a href="#t:FdOption" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AppendOnWrite" class="def">AppendOnWrite</a></td><td class="doc"><p>O_APPEND</p></td></tr><tr><td class="src"><a id="v:CloseOnExec" class="def">CloseOnExec</a></td><td class="doc"><p>FD_CLOEXEC</p></td></tr><tr><td class="src"><a id="v:NonBlockingRead" class="def">NonBlockingRead</a></td><td class="doc"><p>O_NONBLOCK</p></td></tr><tr><td class="src"><a id="v:SynchronousWrites" class="def">SynchronousWrites</a></td><td class="doc"><p>O_SYNC</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:queryFdOption" class="def">queryFdOption</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FdOption" title="System.Posix.IO">FdOption</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/System.Posix.IO.Common.html#queryFdOption" class="link">Source</a> <a href="#v:queryFdOption" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><div class="top"><p class="src"><a id="v:setFdOption" class="def">setFdOption</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FdOption" title="System.Posix.IO">FdOption</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.Posix.IO.Common.html#setFdOption" class="link">Source</a> <a href="#v:setFdOption" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><a href="#g:7" id="g:7"><h2>Locking</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FileLock" class="def">FileLock</a> = (<a href="System-Posix-IO.html#t:LockRequest" title="System.Posix.IO">LockRequest</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:SeekMode" title="System.IO">SeekMode</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:FileOffset" title="System.Posix.Types">FileOffset</a>) <a href="src/System.Posix.IO.Common.html#FileLock" class="link">Source</a> <a href="#t:FileLock" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LockRequest" class="def">LockRequest</a> <a href="src/System.Posix.IO.Common.html#LockRequest" class="link">Source</a> <a href="#t:LockRequest" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReadLock" class="def">ReadLock</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WriteLock" class="def">WriteLock</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Unlock" class="def">Unlock</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:getLock" class="def">getLock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:ProcessID" title="System.Posix.Types">ProcessID</a>, <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a>)) <a href="src/System.Posix.IO.Common.html#getLock" class="link">Source</a> <a href="#v:getLock" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><div class="top"><p class="src"><a id="v:setLock" class="def">setLock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.Posix.IO.Common.html#setLock" class="link">Source</a> <a href="#v:setLock" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><div class="top"><p class="src"><a id="v:waitToSetLock" class="def">waitToSetLock</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="System-Posix-IO.html#t:FileLock" title="System.Posix.IO">FileLock</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.Posix.IO.Common.html#waitToSetLock" class="link">Source</a> <a href="#v:waitToSetLock" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><a href="#g:8" id="g:8"><h2>Pipes</h2></a><div class="top"><p class="src"><a id="v:createPipe" class="def">createPipe</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a>, <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a>) <a href="src/System.Posix.IO.Common.html#createPipe" class="link">Source</a> <a href="#v:createPipe" class="selflink">#</a></p><div class="doc"><p>The <code><a href="System-Posix-IO.html#v:createPipe" title="System.Posix.IO">createPipe</a></code> function creates a pair of connected file
 descriptors. The first component is the fd to read from, the second
 is the write end.  Although pipes may be bidirectional, this
 behaviour is not portable and programmers should use two separate
 pipes for this purpose.  May throw an exception if this is an
 invalid descriptor.</p></div></div><a href="#g:9" id="g:9"><h2>Duplicating file descriptors</h2></a><div class="top"><p class="src"><a id="v:dup" class="def">dup</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.Common.html#dup" class="link">Source</a> <a href="#v:dup" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><div class="top"><p class="src"><a id="v:dupTo" class="def">dupTo</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.Common.html#dupTo" class="link">Source</a> <a href="#v:dupTo" class="selflink">#</a></p><div class="doc"><p>May throw an exception if this is an invalid descriptor.</p></div></div><a href="#g:10" id="g:10"><h2>Converting file descriptors to/from Handles</h2></a><div class="top"><p class="src"><a id="v:handleToFd" class="def">handleToFd</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> <a href="src/System.Posix.IO.Common.html#handleToFd" class="link">Source</a> <a href="#v:handleToFd" class="selflink">#</a></p><div class="doc"><p>Extracts the <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></code> from a <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></code>.  This function has the side effect
 of closing the <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></code> and flushing its write buffer, if necessary.</p></div></div><div class="top"><p class="src"><a id="v:fdToHandle" class="def">fdToHandle</a> :: <a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a> -&gt; <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a> <a href="src/System.Posix.IO.Common.html#fdToHandle" class="link">Source</a> <a href="#v:fdToHandle" class="selflink">#</a></p><div class="doc"><p>Converts an <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-Posix-Types.html#t:Fd" title="System.Posix.Types">Fd</a></code> into a <code><a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html#t:Handle" title="System.IO">Handle</a></code> that can be used with the
 standard Haskell IO library (see <a href="../../ghc/html/libraries/base-4.16.3.0/System-IO.html">System.IO</a>).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>
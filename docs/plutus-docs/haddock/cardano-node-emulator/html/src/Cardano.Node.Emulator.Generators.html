<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE NumericUnderscores  #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards     #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications    #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies        #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-comment">-- | Generators for constructing blockchains and transactions for use in property-based testing.</span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Node.Emulator.Generators</span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Mockchain</span></span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier">Mockchain</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMockchain"><span class="hs-identifier">genMockchain</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMockchain%27"><span class="hs-identifier">genMockchain'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#emptyChain"><span class="hs-identifier">emptyChain</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier">GeneratorModel</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier">TxInputWitnessed</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#generatorModel"><span class="hs-identifier">generatorModel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Transactions</span></span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction"><span class="hs-identifier">genValidTransaction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction%27"><span class="hs-identifier">genValidTransaction'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending"><span class="hs-identifier">genValidTransactionSpending</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending%27"><span class="hs-identifier">genValidTransactionSpending'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genInitialTransaction"><span class="hs-identifier">genInitialTransaction</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Assertions</span></span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#assertValid"><span class="hs-identifier">assertValid</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Time</span></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genInterval"><span class="hs-identifier">genInterval</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSlotRange"><span class="hs-identifier">genSlotRange</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genTimeRange"><span class="hs-identifier">genTimeRange</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSlot"><span class="hs-identifier">genSlot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genPOSIXTime"><span class="hs-identifier">genPOSIXTime</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSlotConfig"><span class="hs-identifier">genSlotConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Etc.</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSomeCardanoApiTx"><span class="hs-identifier">genSomeCardanoApiTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genAda"><span class="hs-identifier">genAda</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMintingPolicyHash"><span class="hs-identifier">genMintingPolicyHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genCurrencySymbol"><span class="hs-identifier">genCurrencySymbol</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genAssetClass"><span class="hs-identifier">genAssetClass</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValue"><span class="hs-identifier">genValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValueNonNegative"><span class="hs-identifier">genValueNonNegative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSizedByteString"><span class="hs-identifier">genSizedByteString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSizedByteStringExact"><span class="hs-identifier">genSizedByteStringExact</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genTokenName"><span class="hs-identifier">genTokenName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSeed"><span class="hs-identifier">genSeed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genPassphrase"><span class="hs-identifier">genPassphrase</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#splitVal"><span class="hs-identifier">splitVal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#validateMockchain"><span class="hs-identifier">validateMockchain</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#signAll"><span class="hs-identifier">signAll</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#signTx"><span class="hs-identifier">signTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CW.knownAddresses</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CW.knownPaymentPublicKeys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CW.knownPaymentPrivateKeys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CW.knownPaymentKeys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#knownXPrvs"><span class="hs-identifier">knownXPrvs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">someTokenValue</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&amp;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">guard</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">replicateM</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">first</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/dy85hyx24kbdxbcbs19gvac43vbvvnjd-bytestring-lib-bytestring-0.10.12.0-haddock-doc/share/doc/bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/snd5q6v3qrq7cdxpn9nlwg98vvy50j53-data-default-lib-data-default-0.7.1.1-haddock-doc/share/doc/data-default/html/src"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/hd22prf4ijbkkzljr5dwf7r24zn61mmn-either-lib-either-5.0.2-haddock-doc/share/doc/either/html/src"><span class="hs-identifier">Data.Either.Combinators</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/hd22prf4ijbkkzljr5dwf7r24zn61mmn-either-lib-either-5.0.2-haddock-doc/share/doc/either/html/src"><span class="hs-identifier">leftToMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fold</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Functor.Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Identity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">sort</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">catMaybes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">isNothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Stack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">HasCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Gen.Cardano.Api.Typed</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Gen</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier">Hedgehog</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier">Hedgehog.Gen</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Gen</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier">Hedgehog.Range</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Range</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier">Cardano.Api.Shelley</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier">ProtocolParameters</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/ry2dz8v15w24fs3v0kp3gg27jfms22qc-cardano-crypto-lib-cardano-crypto-1.1.1-haddock-doc/share/doc/cardano-crypto/html/src"><span class="hs-identifier">Cardano.Crypto.Wallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">Crypto</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Params.html"><span class="hs-identifier">Cardano.Node.Emulator.Params</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.Params.html#Params"><span class="hs-identifier">Params</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.Params.html#pSlotConfig"><span class="hs-identifier">pSlotConfig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.TimeSlot.html"><span class="hs-identifier">Cardano.Node.Emulator.TimeSlot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.TimeSlot.html#SlotConfig"><span class="hs-identifier">SlotConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.TimeSlot.html"><span class="hs-identifier">Cardano.Node.Emulator.TimeSlot</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TimeSlot</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Validation.html"><span class="hs-identifier">Cardano.Node.Emulator.Validation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.Validation.html#fromPlutusTxSigned"><span class="hs-identifier">fromPlutusTxSigned</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Validation.html#validateCardanoTx"><span class="hs-identifier">validateCardanoTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Alternative</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ada</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">AssetClass</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CardanoTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">EmulatorTx</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">CurrencySymbol</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Datum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Interval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/azj0kfbgizyr4qj49lql36z31i3346pb-cardano-ledger-alonzo-lib-cardano-ledger-alonzo-0.1.0.0-haddock-doc/share/doc/cardano-ledger-alonzo/html/src"><span class="hs-identifier">Language</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/azj0kfbgizyr4qj49lql36z31i3346pb-cardano-ledger-alonzo-lib-cardano-ledger-alonzo-0.1.0.0-haddock-doc/share/doc/cardano-ledger-alonzo/html/src"><span class="hs-identifier">PlutusV1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">POSIXTime</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">POSIXTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">getPOSIXTime</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">POSIXTimeRange</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Passphrase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Passphrase</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">PaymentPrivateKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">unPaymentPrivateKey</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">PaymentPubKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Slot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Slot</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">SlotRange</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">SomeCardanoApiTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">SomeTx</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">TokenName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txCollateralInputs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txFee</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txInputs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txMint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txOutputs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txValidRange</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxInType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">ConsumePublicKeyAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">ConsumeSimpleScriptAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">ScriptAddress</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxInput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxInput</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxInputType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxConsumePublicKeyAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxConsumeSimpleScriptAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxScriptAddress</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">TxOutRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">TxOutRef</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">ValidationErrorInPhase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Validator</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Value</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">Versioned</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">addCardanoTxSignature</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">addMintingPolicy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">getValidator</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">maxFee</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">minAdaTxOutEstimated</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">pubKeyTxOut</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">scriptHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>               </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txOutValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">txScripts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">validatorHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Ada</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ada</span></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.CardanoWallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CW</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Index.Internal</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Index</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">UtxoIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">UtxoIndex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Tx</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tx</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Tx.CardanoAPI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">fromPlutusIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Value</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Value</span></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Numeric.Natural</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Natural</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">Plutus.Script.Utils.Scripts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">Versioned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">Versioned</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">datumHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier">Plutus.Script.Utils.V1.Generators</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ScriptGen</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V1.Ledger.Interval</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Interval</span></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V1.Ledger.Scripts</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx.Prelude</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | Attach signatures of all known private keys to a transaction.</span><span>
</span><span id="line-112"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#signAll"><span class="hs-identifier hs-type">signAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span>
</span><span id="line-113"></span><span id="signAll"><span class="annot"><span class="annottext">signAll :: CardanoTx -&gt; CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#signAll"><span class="hs-identifier hs-var hs-var">signAll</span></a></span></span><span> </span><span id="local-6989586621679445357"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445357"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CardanoTx -&gt; PrivateKey -&gt; CardanoTx)
-&gt; CardanoTx -&gt; [PrivateKey] -&gt; CardanoTx
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PrivateKey -&gt; CardanoTx -&gt; CardanoTx)
-&gt; CardanoTx -&gt; PrivateKey -&gt; CardanoTx
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">PrivateKey -&gt; CardanoTx -&gt; CardanoTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">addCardanoTxSignature</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445357"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-114"></span><span>           </span><span class="annot"><span class="annottext">([PrivateKey] -&gt; CardanoTx) -&gt; [PrivateKey] -&gt; CardanoTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PaymentPrivateKey -&gt; PrivateKey)
-&gt; [PaymentPrivateKey] -&gt; [PrivateKey]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentPrivateKey -&gt; PrivateKey
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var hs-var">unPaymentPrivateKey</span></a></span><span> </span><span class="annot"><span class="annottext">[PaymentPrivateKey]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">CW.knownPaymentPrivateKeys</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | The parameters for the generators in this module.</span><span>
</span><span id="line-117"></span><span class="hs-keyword">data</span><span> </span><span id="GeneratorModel"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-var">GeneratorModel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="GeneratorModel"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-var">GeneratorModel</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-118"></span><span>    </span><span id="gmInitialBalance"><span class="annot"><span class="annottext">GeneratorModel -&gt; Map PaymentPubKey Value
</span><a href="Cardano.Node.Emulator.Generators.html#gmInitialBalance"><span class="hs-identifier hs-var hs-var">gmInitialBalance</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">PaymentPubKey</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-comment">-- ^ Value created at the beginning of the blockchain.</span><span>
</span><span id="line-120"></span><span>    </span><span id="gmPubKeys"><span class="annot"><span class="annottext">GeneratorModel -&gt; Set PaymentPubKey
</span><a href="Cardano.Node.Emulator.Generators.html#gmPubKeys"><span class="hs-identifier hs-var hs-var">gmPubKeys</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">PaymentPubKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-comment">-- ^ Public keys that are to be used for generating transactions.</span><span>
</span><span id="line-122"></span><span>    </span><span id="gmMaxCollateralInputs"><span class="annot"><span class="annottext">GeneratorModel -&gt; Maybe Natural
</span><a href="Cardano.Node.Emulator.Generators.html#gmMaxCollateralInputs"><span class="hs-identifier hs-var hs-var">gmMaxCollateralInputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679445346"><span id="local-6989586621679445348"><span id="local-6989586621679445350"><span class="annot"><span class="annottext">Int -&gt; GeneratorModel -&gt; ShowS
[GeneratorModel] -&gt; ShowS
GeneratorModel -&gt; String
(Int -&gt; GeneratorModel -&gt; ShowS)
-&gt; (GeneratorModel -&gt; String)
-&gt; ([GeneratorModel] -&gt; ShowS)
-&gt; Show GeneratorModel
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [GeneratorModel] -&gt; ShowS
$cshowList :: [GeneratorModel] -&gt; ShowS
show :: GeneratorModel -&gt; String
$cshow :: GeneratorModel -&gt; String
showsPrec :: Int -&gt; GeneratorModel -&gt; ShowS
$cshowsPrec :: Int -&gt; GeneratorModel -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | A generator model with some sensible defaults.</span><span>
</span><span id="line-126"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#generatorModel"><span class="hs-identifier hs-type">generatorModel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span>
</span><span id="line-127"></span><span id="generatorModel"><span class="annot"><span class="annottext">generatorModel :: GeneratorModel
</span><a href="Cardano.Node.Emulator.Generators.html#generatorModel"><span class="hs-identifier hs-var hs-var">generatorModel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445344"><span class="annot"><span class="annottext">vl :: Value
</span><a href="#local-6989586621679445344"><span class="hs-identifier hs-var hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.lovelaceValueOf</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">100_000_000</span></span><span>
</span><span id="line-129"></span><span>        </span><span id="local-6989586621679445342"><span class="annot"><span class="annottext">pubKeys :: [PaymentPubKey]
</span><a href="#local-6989586621679445342"><span class="hs-identifier hs-var hs-var">pubKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PaymentPubKey]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">CW.knownPaymentPublicKeys</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="annottext">GeneratorModel :: Map PaymentPubKey Value
-&gt; Set PaymentPubKey -&gt; Maybe Natural -&gt; GeneratorModel
</span><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">gmInitialBalance :: Map PaymentPubKey Value
</span><a href="Cardano.Node.Emulator.Generators.html#gmInitialBalance"><span class="hs-identifier hs-var">gmInitialBalance</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(PaymentPubKey, Value)] -&gt; Map PaymentPubKey Value
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(PaymentPubKey, Value)] -&gt; Map PaymentPubKey Value)
-&gt; [(PaymentPubKey, Value)] -&gt; Map PaymentPubKey Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[PaymentPubKey] -&gt; [Value] -&gt; [(PaymentPubKey, Value)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[PaymentPubKey]
</span><a href="#local-6989586621679445342"><span class="hs-identifier hs-var">pubKeys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; [Value]
forall a. a -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445344"><span class="hs-identifier hs-var">vl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gmPubKeys :: Set PaymentPubKey
</span><a href="Cardano.Node.Emulator.Generators.html#gmPubKeys"><span class="hs-identifier hs-var">gmPubKeys</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PaymentPubKey] -&gt; Set PaymentPubKey
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[PaymentPubKey]
</span><a href="#local-6989586621679445342"><span class="hs-identifier hs-var">pubKeys</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">gmMaxCollateralInputs :: Maybe Natural
</span><a href="Cardano.Node.Emulator.Generators.html#gmMaxCollateralInputs"><span class="hs-identifier hs-var">gmMaxCollateralInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProtocolParameters -&gt; Maybe Natural
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var hs-var">protocolParamMaxCollateralInputs</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolParameters
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | Blockchain for testing the emulator implementation and traces.</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">--   To avoid having to rely on functions from the implementation of</span><span>
</span><span id="line-141"></span><span class="hs-comment">--   plutus-ledger (in particular, 'Ledger.Tx.unspentOutputs') we note the</span><span>
</span><span id="line-142"></span><span class="hs-comment">--   unspent outputs of the chain when it is first created.</span><span>
</span><span id="line-143"></span><span class="hs-keyword">data</span><span> </span><span id="Mockchain"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-var">Mockchain</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Mockchain"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-var">Mockchain</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-144"></span><span>    </span><span id="mockchainInitialTxPool"><span class="annot"><span class="annottext">Mockchain -&gt; [CardanoTx]
</span><a href="Cardano.Node.Emulator.Generators.html#mockchainInitialTxPool"><span class="hs-identifier hs-var hs-var">mockchainInitialTxPool</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>    </span><span id="mockchainUtxo"><span class="annot"><span class="annottext">Mockchain -&gt; Map TxOutRef TxOut
</span><a href="Cardano.Node.Emulator.Generators.html#mockchainUtxo"><span class="hs-identifier hs-var hs-var">mockchainUtxo</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-146"></span><span>    </span><span id="mockchainParams"><span class="annot"><span class="annottext">Mockchain -&gt; Params
</span><a href="Cardano.Node.Emulator.Generators.html#mockchainParams"><span class="hs-identifier hs-var hs-var">mockchainParams</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Params.html#Params"><span class="hs-identifier hs-type">Params</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679445328"><span id="local-6989586621679445330"><span id="local-6989586621679445332"><span class="annot"><span class="annottext">Int -&gt; Mockchain -&gt; ShowS
[Mockchain] -&gt; ShowS
Mockchain -&gt; String
(Int -&gt; Mockchain -&gt; ShowS)
-&gt; (Mockchain -&gt; String)
-&gt; ([Mockchain] -&gt; ShowS)
-&gt; Show Mockchain
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Mockchain] -&gt; ShowS
$cshowList :: [Mockchain] -&gt; ShowS
show :: Mockchain -&gt; String
$cshow :: Mockchain -&gt; String
showsPrec :: Int -&gt; Mockchain -&gt; ShowS
$cshowsPrec :: Int -&gt; Mockchain -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | The empty mockchain.</span><span>
</span><span id="line-150"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#emptyChain"><span class="hs-identifier hs-type">emptyChain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span>
</span><span id="line-151"></span><span id="emptyChain"><span class="annot"><span class="annottext">emptyChain :: Mockchain
</span><a href="Cardano.Node.Emulator.Generators.html#emptyChain"><span class="hs-identifier hs-var hs-var">emptyChain</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CardanoTx] -&gt; Map TxOutRef TxOut -&gt; Params -&gt; Mockchain
</span><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-var">Mockchain</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
forall k a. Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Params
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Generate a mockchain.</span><span>
</span><span id="line-154"></span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span class="hs-comment">--   TODO: Generate more than 1 txn</span><span>
</span><span id="line-156"></span><span id="local-6989586621679445644"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMockchain%27"><span class="hs-identifier hs-type">genMockchain'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445644"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445644"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span></span><span>
</span><span id="line-159"></span><span id="genMockchain%27"><span class="annot"><span class="annottext">genMockchain' :: GeneratorModel -&gt; m Mockchain
</span><a href="Cardano.Node.Emulator.Generators.html#genMockchain%27"><span class="hs-identifier hs-var hs-var">genMockchain'</span></a></span></span><span> </span><span id="local-6989586621679445326"><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445326"><span class="hs-identifier hs-var">gm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621679445325"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679445325"><span class="hs-identifier hs-var">slotCfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SlotConfig
forall (m :: * -&gt; *). MonadGen m =&gt; m SlotConfig
</span><a href="Cardano.Node.Emulator.Generators.html#genSlotConfig"><span class="hs-identifier hs-var">genSlotConfig</span></a></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679445324"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445324"><span class="hs-identifier hs-var">txn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679445323"><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679445323"><span class="hs-identifier hs-var">ot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneratorModel -&gt; (CardanoTx, [TxOut])
</span><a href="Cardano.Node.Emulator.Generators.html#genInitialTransaction"><span class="hs-identifier hs-var">genInitialTransaction</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445326"><span class="hs-identifier hs-var">gm</span></a></span><span>
</span><span id="line-162"></span><span>        </span><span id="local-6989586621679445322"><span class="annot"><span class="annottext">params :: Params
</span><a href="#local-6989586621679445322"><span class="hs-identifier hs-var hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Params
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pSlotConfig :: SlotConfig
</span><a href="Cardano.Node.Emulator.Params.html#pSlotConfig"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679445325"><span class="hs-identifier hs-var">slotCfg</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-163"></span><span>        </span><span id="local-6989586621679445321"><span class="annot"><span class="annottext">signedTx :: CardanoTx
</span><a href="#local-6989586621679445321"><span class="hs-identifier hs-var hs-var">signedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Params -&gt; Map TxOutRef TxOut -&gt; CardanoTx -&gt; CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#signTx"><span class="hs-identifier hs-var">signTx</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445322"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445324"><span class="hs-identifier hs-var">txn</span></a></span><span>
</span><span id="line-164"></span><span>        </span><span class="hs-comment">-- There is a problem that txId of emulator tx and tx of cardano tx are different.</span><span>
</span><span id="line-165"></span><span>        </span><span class="hs-comment">-- We convert the emulator tx to cardano tx here to get the correct transaction id</span><span>
</span><span id="line-166"></span><span>        </span><span class="hs-comment">-- because later we anyway will use the converted cardano tx so the utxo should match it.</span><span>
</span><span id="line-167"></span><span>        </span><span id="local-6989586621679445320"><span class="annot"><span class="annottext">tid :: TxId
</span><a href="#local-6989586621679445320"><span class="hs-identifier hs-var hs-var">tid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CardanoTx -&gt; TxId
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Tx.getCardanoTxId</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445321"><span class="hs-identifier hs-var">signedTx</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><span class="annottext">Mockchain -&gt; m Mockchain
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Mockchain :: [CardanoTx] -&gt; Map TxOutRef TxOut -&gt; Params -&gt; Mockchain
</span><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-169"></span><span>        </span><span class="annot"><span class="annottext">mockchainInitialTxPool :: [CardanoTx]
</span><a href="Cardano.Node.Emulator.Generators.html#mockchainInitialTxPool"><span class="hs-identifier hs-var">mockchainInitialTxPool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445324"><span class="hs-identifier hs-var">txn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-170"></span><span>        </span><span class="annot"><span class="annottext">mockchainUtxo :: Map TxOutRef TxOut
</span><a href="Cardano.Node.Emulator.Generators.html#mockchainUtxo"><span class="hs-identifier hs-var">mockchainUtxo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TxOutRef, TxOut)] -&gt; Map TxOutRef TxOut
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(TxOutRef, TxOut)] -&gt; Map TxOutRef TxOut)
-&gt; [(TxOutRef, TxOut)] -&gt; Map TxOutRef TxOut
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; TxOutRef) -&gt; (Integer, TxOut) -&gt; (TxOutRef, TxOut)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId -&gt; Integer -&gt; TxOutRef
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">TxOutRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679445320"><span class="hs-identifier hs-var">tid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Integer, TxOut) -&gt; (TxOutRef, TxOut))
-&gt; [(Integer, TxOut)] -&gt; [(TxOutRef, TxOut)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Integer] -&gt; [TxOut] -&gt; [(Integer, TxOut)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679445323"><span class="hs-identifier hs-var">ot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><span class="annottext">mockchainParams :: Params
</span><a href="Cardano.Node.Emulator.Generators.html#mockchainParams"><span class="hs-identifier hs-var">mockchainParams</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445322"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">-- | Generate a mockchain using the default 'GeneratorModel'.</span><span>
</span><span id="line-175"></span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span id="local-6989586621679445317"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMockchain"><span class="hs-identifier hs-type">genMockchain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445317"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span></span><span>
</span><span id="line-177"></span><span id="genMockchain"><span class="annot"><span class="annottext">genMockchain :: m Mockchain
</span><a href="Cardano.Node.Emulator.Generators.html#genMockchain"><span class="hs-identifier hs-var hs-var">genMockchain</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneratorModel -&gt; m Mockchain
forall (m :: * -&gt; *). MonadGen m =&gt; GeneratorModel -&gt; m Mockchain
</span><a href="Cardano.Node.Emulator.Generators.html#genMockchain%27"><span class="hs-identifier hs-var">genMockchain'</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="Cardano.Node.Emulator.Generators.html#generatorModel"><span class="hs-identifier hs-var">generatorModel</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-comment">-- | A transaction with no inputs that mints some value (to be used at the</span><span>
</span><span id="line-180"></span><span class="hs-comment">--   beginning of a blockchain).</span><span>
</span><span id="line-181"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genInitialTransaction"><span class="hs-identifier hs-type">genInitialTransaction</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-182"></span><span>       </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span id="genInitialTransaction"><span class="annot"><span class="annottext">genInitialTransaction :: GeneratorModel -&gt; (CardanoTx, [TxOut])
</span><a href="Cardano.Node.Emulator.Generators.html#genInitialTransaction"><span class="hs-identifier hs-var hs-var">genInitialTransaction</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span class="hs-special">{</span><span id="local-6989586621679445314"><span id="local-6989586621679445315"><span id="local-6989586621679445316"><span class="annot"><span class="annottext">Maybe Natural
Set PaymentPubKey
Map PaymentPubKey Value
gmMaxCollateralInputs :: Maybe Natural
gmPubKeys :: Set PaymentPubKey
gmInitialBalance :: Map PaymentPubKey Value
gmMaxCollateralInputs :: GeneratorModel -&gt; Maybe Natural
gmPubKeys :: GeneratorModel -&gt; Set PaymentPubKey
gmInitialBalance :: GeneratorModel -&gt; Map PaymentPubKey Value
</span><a href="#local-6989586621679445314"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445313"><span class="annot"><span class="annottext">o :: [TxOut]
</span><a href="#local-6989586621679445313"><span class="hs-identifier hs-var hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ToCardanoError -&gt; [TxOut])
-&gt; ([TxOut] -&gt; [TxOut]) -&gt; Either ToCardanoError [TxOut] -&gt; [TxOut]
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [TxOut]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [TxOut])
-&gt; (ToCardanoError -&gt; String) -&gt; ToCardanoError -&gt; [TxOut]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot create outputs: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (ToCardanoError -&gt; String) -&gt; ToCardanoError -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ToCardanoError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxOut] -&gt; [TxOut]
forall a. a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-186"></span><span>          </span><span class="annot"><span class="annottext">(Either ToCardanoError [TxOut] -&gt; [TxOut])
-&gt; Either ToCardanoError [TxOut] -&gt; [TxOut]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((PaymentPubKey, Value) -&gt; Either ToCardanoError TxOut)
-&gt; [(PaymentPubKey, Value)] -&gt; Either ToCardanoError [TxOut]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679445306"><span class="annot"><span class="annottext">PaymentPubKey
</span><a href="#local-6989586621679445306"><span class="hs-identifier hs-var">ppk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679445305"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445305"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
-&gt; PaymentPubKey
-&gt; Maybe StakingCredential
-&gt; Either ToCardanoError TxOut
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">pubKeyTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445305"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentPubKey
</span><a href="#local-6989586621679445306"><span class="hs-identifier hs-var">ppk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(PaymentPubKey, Value)] -&gt; Either ToCardanoError [TxOut])
-&gt; [(PaymentPubKey, Value)] -&gt; Either ToCardanoError [TxOut]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map PaymentPubKey Value -&gt; [(PaymentPubKey, Value)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map PaymentPubKey Value
</span><a href="#local-6989586621679445316"><span class="hs-identifier hs-var">gmInitialBalance</span></a></span><span>
</span><span id="line-187"></span><span>        </span><span id="local-6989586621679445303"><span class="annot"><span class="annottext">t :: Value
</span><a href="#local-6989586621679445303"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map PaymentPubKey Value -&gt; Value
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fold</span></a></span><span> </span><span class="annot"><span class="annottext">Map PaymentPubKey Value
</span><a href="#local-6989586621679445316"><span class="hs-identifier hs-var">gmInitialBalance</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx -&gt; CardanoTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">EmulatorTx</span></a></span><span> </span><span class="annot"><span class="annottext">(Tx -&gt; CardanoTx) -&gt; Tx -&gt; CardanoTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-189"></span><span>        </span><span class="annot"><span class="annottext">txOutputs :: [TxOut]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679445313"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-190"></span><span>        </span><span class="annot"><span class="annottext">txMint :: Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txMint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445303"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><span class="annottext">txValidRange :: SlotRange
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txValidRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Slot -&gt; SlotRange
forall a. a -&gt; Interval a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Interval.from</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><span class="hs-number">0</span></span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679445313"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- | Generate a valid transaction, using the unspent outputs provided.</span><span>
</span><span id="line-195"></span><span class="hs-comment">--   Fails if the there are no unspent outputs, or if the total value</span><span>
</span><span id="line-196"></span><span class="hs-comment">--   of the unspent outputs is smaller than the minimum fee.</span><span>
</span><span id="line-197"></span><span id="local-6989586621679445301"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction"><span class="hs-identifier hs-type">genValidTransaction</span></a></span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alternative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445301"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445301"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span></span><span>
</span><span id="line-202"></span><span id="genValidTransaction"><span class="annot"><span class="annottext">genValidTransaction :: Mockchain -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction"><span class="hs-identifier hs-var hs-var">genValidTransaction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneratorModel -&gt; Mockchain -&gt; m CardanoTx
forall (m :: * -&gt; *).
(Alternative m, MonadGen m) =&gt;
GeneratorModel -&gt; Mockchain -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction%27"><span class="hs-identifier hs-var">genValidTransaction'</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="Cardano.Node.Emulator.Generators.html#generatorModel"><span class="hs-identifier hs-var">generatorModel</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-comment">-- | Generate a valid transaction, using the unspent outputs provided.</span><span>
</span><span id="line-205"></span><span class="hs-comment">--   Fails if the there are no unspent outputs, or if the total value</span><span>
</span><span id="line-206"></span><span class="hs-comment">--   of the unspent outputs is smaller than the estimated fee.</span><span>
</span><span id="line-207"></span><span id="local-6989586621679445617"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction%27"><span class="hs-identifier hs-type">genValidTransaction'</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alternative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445617"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445617"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445617"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span></span><span>
</span><span id="line-213"></span><span id="genValidTransaction%27"><span class="annot"><span class="annottext">genValidTransaction' :: GeneratorModel -&gt; Mockchain -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransaction%27"><span class="hs-identifier hs-var hs-var">genValidTransaction'</span></a></span></span><span> </span><span id="local-6989586621679445300"><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445300"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span> </span><span class="annot"><span class="annottext">[CardanoTx]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679445299"><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445299"><span class="hs-identifier hs-var">ops</span></a></span></span><span> </span><span class="annot"><span class="annottext">Params
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-comment">-- Take a random number of UTXO from the input</span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621679445298"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445298"><span class="hs-identifier hs-var">nUtxo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut -&gt; Bool
forall k a. Map k a -&gt; Bool
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.null</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445299"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-216"></span><span>                </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">m Int
forall (m :: * -&gt; *) a. MonadGen m =&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.discard</span></a></span><span>
</span><span id="line-217"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Range Int -&gt; m Int
forall (m :: * -&gt; *). MonadGen m =&gt; Range Int -&gt; m Int
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Range Int
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map TxOutRef TxOut -&gt; Int
forall k a. Map k a -&gt; Int
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.size</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445299"><span class="hs-identifier hs-var">ops</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445292"><span class="annot"><span class="annottext">ins :: [TxInputWitnessed]
</span><a href="#local-6989586621679445292"><span class="hs-identifier hs-var hs-var">ins</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; TxInType -&gt; TxInputWitnessed
</span><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-operator hs-var">`TxInputWitnessed`</span></a></span><span> </span><span class="annot"><span class="annottext">TxInType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">ConsumePublicKeyAddress</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TxOutRef -&gt; TxInputWitnessed)
-&gt; ((TxOutRef, TxOut) -&gt; TxOutRef)
-&gt; (TxOutRef, TxOut)
-&gt; TxInputWitnessed
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutRef, TxOut) -&gt; TxOutRef
forall a b. (a, b) -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((TxOutRef, TxOut) -&gt; TxInputWitnessed)
-&gt; [(TxOutRef, TxOut)] -&gt; [TxInputWitnessed]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[(TxOutRef, TxOut)]
</span><a href="#local-6989586621679445290"><span class="hs-identifier hs-var">inUTXO</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span id="local-6989586621679445290"><span class="annot"><span class="annottext">inUTXO :: [(TxOutRef, TxOut)]
</span><a href="#local-6989586621679445290"><span class="hs-identifier hs-var hs-var">inUTXO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [(TxOutRef, TxOut)] -&gt; [(TxOutRef, TxOut)]
forall a. Int -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445298"><span class="hs-identifier hs-var">nUtxo</span></a></span><span> </span><span class="annot"><span class="annottext">([(TxOutRef, TxOut)] -&gt; [(TxOutRef, TxOut)])
-&gt; [(TxOutRef, TxOut)] -&gt; [(TxOutRef, TxOut)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut -&gt; [(TxOutRef, TxOut)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445299"><span class="hs-identifier hs-var">ops</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span id="local-6989586621679445288"><span class="annot"><span class="annottext">totalVal :: Value
</span><a href="#local-6989586621679445288"><span class="hs-identifier hs-var hs-var">totalVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Value -&gt; Value) -&gt; Value -&gt; [Value] -&gt; Value
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Value
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Value
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">([Value] -&gt; Value) -&gt; [Value] -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((TxOutRef, TxOut) -&gt; Value) -&gt; [(TxOutRef, TxOut)] -&gt; [Value]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Value)
-&gt; ((TxOutRef, TxOut) -&gt; TxOut) -&gt; (TxOutRef, TxOut) -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutRef, TxOut) -&gt; TxOut
forall a b. (a, b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TxOutRef, TxOut)]
</span><a href="#local-6989586621679445290"><span class="hs-identifier hs-var">inUTXO</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><span class="annottext">GeneratorModel -&gt; [TxInputWitnessed] -&gt; Value -&gt; m CardanoTx
forall (m :: * -&gt; *).
(Alternative m, MonadGen m) =&gt;
GeneratorModel -&gt; [TxInputWitnessed] -&gt; Value -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending%27"><span class="hs-identifier hs-var">genValidTransactionSpending'</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445300"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">[TxInputWitnessed]
</span><a href="#local-6989586621679445292"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445288"><span class="hs-identifier hs-var">totalVal</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span id="local-6989586621679445287"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending"><span class="hs-identifier hs-type">genValidTransactionSpending</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alternative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445287"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445287"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier hs-type">TxInputWitnessed</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445287"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span></span><span>
</span><span id="line-229"></span><span id="genValidTransactionSpending"><span class="annot"><span class="annottext">genValidTransactionSpending :: [TxInputWitnessed] -&gt; Value -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending"><span class="hs-identifier hs-var hs-var">genValidTransactionSpending</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneratorModel -&gt; [TxInputWitnessed] -&gt; Value -&gt; m CardanoTx
forall (m :: * -&gt; *).
(Alternative m, MonadGen m) =&gt;
GeneratorModel -&gt; [TxInputWitnessed] -&gt; Value -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending%27"><span class="hs-identifier hs-var">genValidTransactionSpending'</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="Cardano.Node.Emulator.Generators.html#generatorModel"><span class="hs-identifier hs-var">generatorModel</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | A transaction input, consisting of a transaction output reference and an input type with data witnesses.</span><span>
</span><span id="line-232"></span><span class="hs-keyword">data</span><span> </span><span id="TxInputWitnessed"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier hs-var">TxInputWitnessed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxInputWitnessed"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier hs-var">TxInputWitnessed</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Ledger.TxInType</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span id="local-6989586621679445596"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending%27"><span class="hs-identifier hs-type">genValidTransactionSpending'</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alternative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445596"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445596"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#GeneratorModel"><span class="hs-identifier hs-type">GeneratorModel</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier hs-type">TxInputWitnessed</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445596"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span></span><span>
</span><span id="line-241"></span><span id="genValidTransactionSpending%27"><span class="annot"><span class="annottext">genValidTransactionSpending' :: GeneratorModel -&gt; [TxInputWitnessed] -&gt; Value -&gt; m CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#genValidTransactionSpending%27"><span class="hs-identifier hs-var hs-var">genValidTransactionSpending'</span></a></span></span><span> </span><span id="local-6989586621679445286"><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445286"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679445285"><span class="annot"><span class="annottext">[TxInputWitnessed]
</span><a href="#local-6989586621679445285"><span class="hs-identifier hs-var">ins</span></a></span></span><span> </span><span id="local-6989586621679445284"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445284"><span class="hs-identifier hs-var">totalVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-242"></span><span>    </span><span id="local-6989586621679445283"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445283"><span class="hs-identifier hs-var">mintAmount</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; m Int -&gt; m Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Range Int -&gt; m Int
forall (m :: * -&gt; *). MonadGen m =&gt; Range Int -&gt; m Int
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Range Int
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
forall a. Bounded a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maxBound</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621679445281"><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679445281"><span class="hs-identifier hs-var">mintTokenName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m TokenName
forall (m :: * -&gt; *). MonadGen m =&gt; m TokenName
</span><a href="Cardano.Node.Emulator.Generators.html#genTokenName"><span class="hs-identifier hs-var">genTokenName</span></a></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445280"><span class="annot"><span class="annottext">mintValue :: Maybe Value
</span><a href="#local-6989586621679445280"><span class="hs-identifier hs-var hs-var">mintValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Maybe ()) -&gt; Bool -&gt; Maybe ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445283"><span class="hs-identifier hs-var">mintAmount</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-246"></span><span>         </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span>  </span><span class="annot"><span class="annottext">(Value -&gt; Maybe Value) -&gt; Value -&gt; Maybe Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName -&gt; Integer -&gt; Value
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">ScriptGen.someTokenValue</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621679445281"><span class="hs-identifier hs-var">mintTokenName</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445283"><span class="hs-identifier hs-var">mintAmount</span></a></span><span>
</span><span id="line-247"></span><span>        </span><span id="local-6989586621679445278"><span class="annot"><span class="annottext">fee' :: Ada
</span><a href="#local-6989586621679445278"><span class="hs-identifier hs-var hs-var">fee'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.lovelaceOf</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">300000</span></span><span>
</span><span id="line-248"></span><span>        </span><span id="local-6989586621679445276"><span class="annot"><span class="annottext">numOut :: Int
</span><a href="#local-6989586621679445276"><span class="hs-identifier hs-var hs-var">numOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set PaymentPubKey -&gt; Int
forall a. Set a -&gt; Int
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Set.size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneratorModel -&gt; Set PaymentPubKey
</span><a href="Cardano.Node.Emulator.Generators.html#gmPubKeys"><span class="hs-identifier hs-var hs-var">gmPubKeys</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445286"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-249"></span><span>        </span><span id="local-6989586621679445274"><span class="annot"><span class="annottext">totalValAda :: Ada
</span><a href="#local-6989586621679445274"><span class="hs-identifier hs-var hs-var">totalValAda</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.fromValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445284"><span class="hs-identifier hs-var">totalVal</span></a></span><span>
</span><span id="line-250"></span><span>        </span><span id="local-6989586621679445272"><span class="annot"><span class="annottext">totalValTokens :: Maybe Value
</span><a href="#local-6989586621679445272"><span class="hs-identifier hs-var hs-var">totalValTokens</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; Maybe ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Maybe ()) -&gt; Bool -&gt; Maybe ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Bool
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.isZero</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Value.noAdaValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445284"><span class="hs-identifier hs-var">totalVal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>          </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Maybe Value) -&gt; Value -&gt; Maybe Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Value.noAdaValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445284"><span class="hs-identifier hs-var">totalVal</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; m ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; m ()) -&gt; Bool -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445278"><span class="hs-identifier hs-var">fee'</span></a></span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Ada -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445274"><span class="hs-identifier hs-var">totalValAda</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">-- We only split the Ada part of the input value</span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679445267"><span class="annot"><span class="annottext">[Ada]
</span><a href="#local-6989586621679445267"><span class="hs-identifier hs-var">splitOutVals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Ada -&gt; m [Ada]
forall (m :: * -&gt; *) n.
(MonadGen m, Integral n) =&gt;
Int -&gt; n -&gt; m [n]
</span><a href="Cardano.Node.Emulator.Generators.html#splitVal"><span class="hs-identifier hs-var">splitVal</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445276"><span class="hs-identifier hs-var">numOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445274"><span class="hs-identifier hs-var">totalValAda</span></a></span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Ada -&gt; Ada
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445278"><span class="hs-identifier hs-var">fee'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445266"><span class="annot"><span class="annottext">outVals :: [Value]
</span><a href="#local-6989586621679445266"><span class="hs-identifier hs-var hs-var">outVals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="#local-6989586621679445272"><span class="hs-identifier hs-var">totalValTokens</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Value -&gt; Maybe Value -&gt; Maybe Value
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="#local-6989586621679445280"><span class="hs-identifier hs-var">mintValue</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-257"></span><span>          </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-258"></span><span>            </span><span class="annot"><span class="annottext">(Ada -&gt; Value) -&gt; [Ada] -&gt; [Value]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.toValue</span></a></span><span> </span><span class="annot"><span class="annottext">[Ada]
</span><a href="#local-6989586621679445267"><span class="hs-identifier hs-var">splitOutVals</span></a></span><span>
</span><span id="line-259"></span><span>          </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679445264"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445264"><span class="hs-identifier hs-var">mv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-260"></span><span>            </span><span class="hs-comment">-- If there is a minted value, we look for a value in the</span><span>
</span><span id="line-261"></span><span>            </span><span class="hs-comment">-- splitted values which can be associated with it.</span><span>
</span><span id="line-262"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445263"><span class="annot"><span class="annottext">outValForMint :: Ada
</span><a href="#local-6989586621679445263"><span class="hs-identifier hs-var hs-var">outValForMint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-263"></span><span>                  </span><span class="annot"><span class="annottext">Ada -&gt; Maybe Ada -&gt; Ada
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Ada -&gt; Ada) -&gt; Maybe Ada -&gt; Ada
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Ada -&gt; Bool) -&gt; [Ada] -&gt; Maybe Ada
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">List.find</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ada -&gt; Ada -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.minAdaTxOutEstimated</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>                                   </span><span class="annot"><span class="annottext">([Ada] -&gt; Maybe Ada) -&gt; [Ada] -&gt; Maybe Ada
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Ada] -&gt; [Ada]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">List.sort</span></a></span><span> </span><span class="annot"><span class="annottext">[Ada]
</span><a href="#local-6989586621679445267"><span class="hs-identifier hs-var">splitOutVals</span></a></span><span>
</span><span id="line-265"></span><span>            </span><span class="annot"><span class="annottext">Ada -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.toValue</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445263"><span class="hs-identifier hs-var">outValForMint</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Value
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445264"><span class="hs-identifier hs-var">mv</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; [Value] -&gt; [Value]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">(Ada -&gt; Value) -&gt; [Ada] -&gt; [Value]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.toValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ada -&gt; [Ada] -&gt; [Ada]
forall a. Eq a =&gt; a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">List.delete</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445263"><span class="hs-identifier hs-var">outValForMint</span></a></span><span> </span><span class="annot"><span class="annottext">[Ada]
</span><a href="#local-6989586621679445267"><span class="hs-identifier hs-var">splitOutVals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>        </span><span id="local-6989586621679445260"><span class="annot"><span class="annottext">txOutputs :: [TxOut]
</span><a href="#local-6989586621679445260"><span class="hs-identifier hs-var hs-var">txOutputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ToCardanoError -&gt; [TxOut])
-&gt; ([TxOut] -&gt; [TxOut]) -&gt; Either ToCardanoError [TxOut] -&gt; [TxOut]
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [TxOut]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [TxOut])
-&gt; (ToCardanoError -&gt; String) -&gt; ToCardanoError -&gt; [TxOut]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot create outputs: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (ToCardanoError -&gt; String) -&gt; ToCardanoError -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ToCardanoError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxOut] -&gt; [TxOut]
forall a. a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-267"></span><span>                  </span><span class="annot"><span class="annottext">(Either ToCardanoError [TxOut] -&gt; [TxOut])
-&gt; Either ToCardanoError [TxOut] -&gt; [TxOut]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Value, PaymentPubKey) -&gt; Either ToCardanoError TxOut)
-&gt; [(Value, PaymentPubKey)] -&gt; Either ToCardanoError [TxOut]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679445259"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445259"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679445258"><span class="annot"><span class="annottext">PaymentPubKey
</span><a href="#local-6989586621679445258"><span class="hs-identifier hs-var">ppk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
-&gt; PaymentPubKey
-&gt; Maybe StakingCredential
-&gt; Either ToCardanoError TxOut
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">pubKeyTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679445259"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentPubKey
</span><a href="#local-6989586621679445258"><span class="hs-identifier hs-var">ppk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Value, PaymentPubKey)] -&gt; Either ToCardanoError [TxOut])
-&gt; [(Value, PaymentPubKey)] -&gt; Either ToCardanoError [TxOut]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Value] -&gt; [PaymentPubKey] -&gt; [(Value, PaymentPubKey)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Value]
</span><a href="#local-6989586621679445266"><span class="hs-identifier hs-var">outVals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set PaymentPubKey -&gt; [PaymentPubKey]
forall a. Set a -&gt; [a]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set PaymentPubKey -&gt; [PaymentPubKey])
-&gt; Set PaymentPubKey -&gt; [PaymentPubKey]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel -&gt; Set PaymentPubKey
</span><a href="Cardano.Node.Emulator.Generators.html#gmPubKeys"><span class="hs-identifier hs-var hs-var">gmPubKeys</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445286"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679445256"><span class="annot"><span class="annottext">[TxInput]
</span><a href="#local-6989586621679445256"><span class="hs-identifier hs-var">ins'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679445255"><span class="annot"><span class="annottext">[(Maybe (Versioned Validator), Maybe Datum)]
</span><a href="#local-6989586621679445255"><span class="hs-identifier hs-var">witnesses</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TxInput, (Maybe (Versioned Validator), Maybe Datum))]
-&gt; ([TxInput], [(Maybe (Versioned Validator), Maybe Datum)])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">([(TxInput, (Maybe (Versioned Validator), Maybe Datum))]
 -&gt; ([TxInput], [(Maybe (Versioned Validator), Maybe Datum)]))
-&gt; [(TxInput, (Maybe (Versioned Validator), Maybe Datum))]
-&gt; ([TxInput], [(Maybe (Versioned Validator), Maybe Datum)])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInputWitnessed
 -&gt; (TxInput, (Maybe (Versioned Validator), Maybe Datum)))
-&gt; [TxInputWitnessed]
-&gt; [(TxInput, (Maybe (Versioned Validator), Maybe Datum))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TxInputWitnessed
-&gt; (TxInput, (Maybe (Versioned Validator), Maybe Datum))
</span><a href="#local-6989586621679445253"><span class="hs-identifier hs-var">txInToTxInput</span></a></span><span> </span><span class="annot"><span class="annottext">[TxInputWitnessed]
</span><a href="#local-6989586621679445285"><span class="hs-identifier hs-var">ins</span></a></span><span>
</span><span id="line-269"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679445252"><span class="annot"><span class="annottext">[Versioned Validator]
</span><a href="#local-6989586621679445252"><span class="hs-identifier hs-var">scripts</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679445251"><span class="annot"><span class="annottext">[Datum]
</span><a href="#local-6989586621679445251"><span class="hs-identifier hs-var">datums</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Maybe (Versioned Validator)] -&gt; [Versioned Validator])
-&gt; ([Maybe Datum] -&gt; [Datum])
-&gt; ([Maybe (Versioned Validator)], [Maybe Datum])
-&gt; ([Versioned Validator], [Datum])
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe (Versioned Validator)] -&gt; [Versioned Validator]
forall a. [Maybe a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="annot"><span class="annottext">[Maybe Datum] -&gt; [Datum]
forall a. [Maybe a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">catMaybes</span></a></span><span> </span><span class="annot"><span class="annottext">(([Maybe (Versioned Validator)], [Maybe Datum])
 -&gt; ([Versioned Validator], [Datum]))
-&gt; ([Maybe (Versioned Validator)], [Maybe Datum])
-&gt; ([Versioned Validator], [Datum])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Maybe (Versioned Validator), Maybe Datum)]
-&gt; ([Maybe (Versioned Validator)], [Maybe Datum])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Maybe (Versioned Validator), Maybe Datum)]
</span><a href="#local-6989586621679445255"><span class="hs-identifier hs-var">witnesses</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span id="local-6989586621679445250"><span class="annot"><span class="annottext">tx :: CardanoTx
</span><a href="#local-6989586621679445250"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-271"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txInputs :: [TxInput]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxInput]
</span><a href="#local-6989586621679445256"><span class="hs-identifier hs-var">ins'</span></a></span><span>
</span><span id="line-272"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txCollateralInputs :: [TxInput]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txCollateralInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxInput] -&gt; (Natural -&gt; [TxInput]) -&gt; Maybe Natural -&gt; [TxInput]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; [TxInput] -&gt; [TxInput]) -&gt; [TxInput] -&gt; Int -&gt; [TxInput]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [TxInput] -&gt; [TxInput]
forall a. Int -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">[TxInput]
</span><a href="#local-6989586621679445256"><span class="hs-identifier hs-var">ins'</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [TxInput]) -&gt; (Natural -&gt; Int) -&gt; Natural -&gt; [TxInput]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneratorModel -&gt; Maybe Natural
</span><a href="Cardano.Node.Emulator.Generators.html#gmMaxCollateralInputs"><span class="hs-identifier hs-var hs-var">gmMaxCollateralInputs</span></a></span><span> </span><span class="annot"><span class="annottext">GeneratorModel
</span><a href="#local-6989586621679445286"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txOutputs :: [TxOut]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TxOut]
</span><a href="#local-6989586621679445260"><span class="hs-identifier hs-var">txOutputs</span></a></span><span>
</span><span id="line-274"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txMint :: Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txMint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Maybe Value -&gt; Value
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Value
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="#local-6989586621679445280"><span class="hs-identifier hs-var">mintValue</span></a></span><span>
</span><span id="line-275"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txFee :: Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txFee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Value
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.toValue</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="#local-6989586621679445278"><span class="hs-identifier hs-var">fee'</span></a></span><span>
</span><span id="line-276"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txData :: Map DatumHash Datum
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(DatumHash, Datum)] -&gt; Map DatumHash Datum
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Datum -&gt; (DatumHash, Datum)) -&gt; [Datum] -&gt; [(DatumHash, Datum)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679445248"><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679445248"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Datum -&gt; DatumHash
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">datumHash</span></a></span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679445248"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Datum
</span><a href="#local-6989586621679445248"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Datum]
</span><a href="#local-6989586621679445251"><span class="hs-identifier hs-var">datums</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">txScripts :: ScriptsMap
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">txScripts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ScriptHash, Versioned Script)] -&gt; ScriptsMap
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Versioned Validator -&gt; (ScriptHash, Versioned Script))
-&gt; [Versioned Validator] -&gt; [(ScriptHash, Versioned Script)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679445247"><span class="annot"><span class="annottext">Versioned Script
</span><a href="#local-6989586621679445247"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Versioned Script -&gt; ScriptHash
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">scriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Script
</span><a href="#local-6989586621679445247"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Versioned Script
</span><a href="#local-6989586621679445247"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Versioned Script -&gt; (ScriptHash, Versioned Script))
-&gt; (Versioned Validator -&gt; Versioned Script)
-&gt; Versioned Validator
-&gt; (ScriptHash, Versioned Script)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Validator -&gt; Script) -&gt; Versioned Validator -&gt; Versioned Script
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Validator -&gt; Script
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var hs-var">getValidator</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Versioned Validator]
</span><a href="#local-6989586621679445252"><span class="hs-identifier hs-var">scripts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-279"></span><span>            </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned MintingPolicy
-&gt; (Redeemer, Maybe (Versioned TxOutRef)) -&gt; Tx -&gt; Tx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">addMintingPolicy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MintingPolicy -&gt; Language -&gt; Versioned MintingPolicy
forall script. script -&gt; Language -&gt; Versioned script
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">Versioned</span></a></span><span> </span><span class="annot"><span class="annottext">MintingPolicy
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">ScriptGen.alwaysSucceedPolicy</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="../file:///nix/store/azj0kfbgizyr4qj49lql36z31i3346pb-cardano-ledger-alonzo-lib-cardano-ledger-alonzo-0.1.0.0-haddock-doc/share/doc/cardano-ledger-alonzo/html/src"><span class="hs-identifier hs-var">PlutusV1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemer
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Script.unitRedeemer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned TxOutRef)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>            </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; CardanoTx) -&gt; CardanoTx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Tx -&gt; CardanoTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">EmulatorTx</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>        </span><span class="hs-comment">-- sign the transaction with all known wallets</span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-comment">-- this is somewhat crude (but technically valid)</span><span>
</span><span id="line-284"></span><span>    </span><span class="annot"><span class="annottext">CardanoTx -&gt; m CardanoTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoTx -&gt; CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#signAll"><span class="hs-identifier hs-var">signAll</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445250"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-comment">-- | Translate TxIn to TxInput taking out data witnesses if present.</span><span>
</span><span id="line-288"></span><span>        </span><span class="annot"><a href="#local-6989586621679445253"><span class="hs-identifier hs-type">txInToTxInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier hs-type">TxInputWitnessed</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">TxInput</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-type">Versioned</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Validator</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Datum</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>        </span><span id="local-6989586621679445253"><span class="annot"><span class="annottext">txInToTxInput :: TxInputWitnessed
-&gt; (TxInput, (Maybe (Versioned Validator), Maybe Datum))
</span><a href="#local-6989586621679445253"><span class="hs-identifier hs-var hs-var">txInToTxInput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#TxInputWitnessed"><span class="hs-identifier hs-type">TxInputWitnessed</span></a></span><span> </span><span id="local-6989586621679445244"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679445244"><span class="hs-identifier hs-var">outref</span></a></span></span><span> </span><span id="local-6989586621679445243"><span class="annot"><span class="annottext">TxInType
</span><a href="#local-6989586621679445243"><span class="hs-identifier hs-var">txInType</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxInType
</span><a href="#local-6989586621679445243"><span class="hs-identifier hs-var">txInType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-290"></span><span>            </span><span class="annot"><span class="annottext">TxInType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.ConsumePublicKeyAddress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; TxInputType -&gt; TxInput
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">TxInput</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679445244"><span class="hs-identifier hs-var">outref</span></a></span><span> </span><span class="annot"><span class="annottext">TxInputType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">TxConsumePublicKeyAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Versioned Validator)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Datum
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>            </span><span class="annot"><span class="annottext">TxInType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.ConsumeSimpleScriptAddress</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; TxInputType -&gt; TxInput
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">TxInput</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679445244"><span class="hs-identifier hs-var">outref</span></a></span><span> </span><span class="annot"><span class="annottext">TxInputType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.TxConsumeSimpleScriptAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Versioned Validator)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Datum
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>            </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Ledger.ScriptAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679445242"><span class="annot"><span class="annottext">Versioned Validator
</span><a href="#local-6989586621679445242"><span class="hs-identifier hs-var">vl</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679445241"><span class="annot"><span class="annottext">Redeemer
</span><a href="#local-6989586621679445241"><span class="hs-identifier hs-var">rd</span></a></span></span><span> </span><span id="local-6989586621679445240"><span class="annot"><span class="annottext">Maybe Datum
</span><a href="#local-6989586621679445240"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; TxInputType -&gt; TxInput
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">TxInput</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679445244"><span class="hs-identifier hs-var">outref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemer
-&gt; Either ValidatorHash (Versioned TxOutRef)
-&gt; Maybe DatumHash
-&gt; TxInputType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.TxScriptAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Redeemer
</span><a href="#local-6989586621679445241"><span class="hs-identifier hs-var">rd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValidatorHash -&gt; Either ValidatorHash (Versioned TxOutRef)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidatorHash -&gt; Either ValidatorHash (Versioned TxOutRef))
-&gt; ValidatorHash -&gt; Either ValidatorHash (Versioned TxOutRef)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Validator -&gt; ValidatorHash
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">validatorHash</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Validator
</span><a href="#local-6989586621679445242"><span class="hs-identifier hs-var">vl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Datum -&gt; DatumHash) -&gt; Maybe Datum -&gt; Maybe DatumHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Datum -&gt; DatumHash
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">datumHash</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Datum
</span><a href="#local-6989586621679445240"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Versioned Validator -&gt; Maybe (Versioned Validator)
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned Validator
</span><a href="#local-6989586621679445242"><span class="hs-identifier hs-var">vl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Datum
</span><a href="#local-6989586621679445240"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>            </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Ledger.ScriptAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679445239"><span class="annot"><span class="annottext">Versioned TxOutRef
</span><a href="#local-6989586621679445239"><span class="hs-identifier hs-var">ref</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679445238"><span class="annot"><span class="annottext">Redeemer
</span><a href="#local-6989586621679445238"><span class="hs-identifier hs-var">rd</span></a></span></span><span> </span><span id="local-6989586621679445237"><span class="annot"><span class="annottext">Maybe Datum
</span><a href="#local-6989586621679445237"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-295"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; TxInputType -&gt; TxInput
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">TxInput</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621679445244"><span class="hs-identifier hs-var">outref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Redeemer
-&gt; Either ValidatorHash (Versioned TxOutRef)
-&gt; Maybe DatumHash
-&gt; TxInputType
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.TxScriptAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Redeemer
</span><a href="#local-6989586621679445238"><span class="hs-identifier hs-var">rd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Versioned TxOutRef -&gt; Either ValidatorHash (Versioned TxOutRef)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Versioned TxOutRef
</span><a href="#local-6989586621679445239"><span class="hs-identifier hs-var">ref</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Datum -&gt; DatumHash) -&gt; Maybe Datum -&gt; Maybe DatumHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Datum -&gt; DatumHash
</span><a href="../../../../plutus-script-utils/html/src"><span class="hs-identifier hs-var">datumHash</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Datum
</span><a href="#local-6989586621679445237"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Versioned Validator)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Datum
</span><a href="#local-6989586621679445237"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#signTx"><span class="hs-identifier hs-type">signTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Params.html#Params"><span class="hs-identifier hs-type">Params</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">TxOutRef</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span>
</span><span id="line-298"></span><span id="signTx"><span class="annot"><span class="annottext">signTx :: Params -&gt; Map TxOutRef TxOut -&gt; CardanoTx -&gt; CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#signTx"><span class="hs-identifier hs-var hs-var">signTx</span></a></span></span><span> </span><span id="local-6989586621679445236"><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445236"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621679445235"><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445235"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-299"></span><span>  </span><span id="local-6989586621679445234"><span class="annot"><span class="annottext">cUtxoIndex :: UTxO (BabbageEra StandardCrypto)
</span><a href="#local-6989586621679445234"><span class="hs-identifier hs-var hs-var">cUtxoIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either ValidationErrorInPhase ToCardanoError
 -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; (UTxO (BabbageEra StandardCrypto)
    -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; Either
     (Either ValidationErrorInPhase ToCardanoError)
     (UTxO (BabbageEra StandardCrypto))
-&gt; UTxO (BabbageEra StandardCrypto)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; UTxO (BabbageEra StandardCrypto)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; (Either ValidationErrorInPhase ToCardanoError -&gt; String)
-&gt; Either ValidationErrorInPhase ToCardanoError
-&gt; UTxO (BabbageEra StandardCrypto)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either ValidationErrorInPhase ToCardanoError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO (BabbageEra StandardCrypto)
-&gt; UTxO (BabbageEra StandardCrypto)
forall a. a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">(Either
   (Either ValidationErrorInPhase ToCardanoError)
   (UTxO (BabbageEra StandardCrypto))
 -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; Either
     (Either ValidationErrorInPhase ToCardanoError)
     (UTxO (BabbageEra StandardCrypto))
-&gt; UTxO (BabbageEra StandardCrypto)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoIndex
-&gt; Either
     (Either ValidationErrorInPhase ToCardanoError)
     (UTxO (BabbageEra StandardCrypto))
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">fromPlutusIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map TxOutRef TxOut -&gt; UtxoIndex
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Index.UtxoIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445235"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Tx -&gt; CardanoTx)
-&gt; (SomeCardanoApiTx -&gt; CardanoTx) -&gt; CardanoTx -&gt; CardanoTx
forall r. (Tx -&gt; r) -&gt; (SomeCardanoApiTx -&gt; r) -&gt; CardanoTx -&gt; r
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Tx.onCardanoTx</span></a></span><span>
</span><span id="line-301"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679445232"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621679445232"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Params
-&gt; UTxO (BabbageEra StandardCrypto)
-&gt; Tx
-&gt; Map PaymentPubKey PaymentPrivateKey
-&gt; CardanoTx
</span><a href="Cardano.Node.Emulator.Validation.html#fromPlutusTxSigned"><span class="hs-identifier hs-var">fromPlutusTxSigned</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445236"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO (BabbageEra StandardCrypto)
</span><a href="#local-6989586621679445234"><span class="hs-identifier hs-var">cUtxoIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621679445232"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Map PaymentPubKey PaymentPrivateKey
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">CW.knownPaymentKeys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>      </span><span class="annot"><span class="annottext">SomeCardanoApiTx -&gt; CardanoTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Tx.CardanoApiTx</span></a></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | Validate a transaction in a mockchain.</span><span>
</span><span id="line-305"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#validateMockchain"><span class="hs-identifier hs-type">validateMockchain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Ledger.ValidationErrorInPhase</span></a></span><span>
</span><span id="line-306"></span><span id="validateMockchain"><span class="annot"><span class="annottext">validateMockchain :: Mockchain -&gt; CardanoTx -&gt; Maybe ValidationErrorInPhase
</span><a href="Cardano.Node.Emulator.Generators.html#validateMockchain"><span class="hs-identifier hs-var hs-var">validateMockchain</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span> </span><span class="annot"><span class="annottext">[CardanoTx]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679445230"><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445230"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span id="local-6989586621679445229"><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445229"><span class="hs-identifier hs-var">params</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679445228"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445228"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ValidationErrorInPhase
</span><a href="#local-6989586621679445227"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621679445226"><span class="annot"><span class="annottext">cUtxoIndex :: UTxO (BabbageEra StandardCrypto)
</span><a href="#local-6989586621679445226"><span class="hs-identifier hs-var hs-var">cUtxoIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either ValidationErrorInPhase ToCardanoError
 -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; (UTxO (BabbageEra StandardCrypto)
    -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; Either
     (Either ValidationErrorInPhase ToCardanoError)
     (UTxO (BabbageEra StandardCrypto))
-&gt; UTxO (BabbageEra StandardCrypto)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; UTxO (BabbageEra StandardCrypto)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; (Either ValidationErrorInPhase ToCardanoError -&gt; String)
-&gt; Either ValidationErrorInPhase ToCardanoError
-&gt; UTxO (BabbageEra StandardCrypto)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Either ValidationErrorInPhase ToCardanoError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO (BabbageEra StandardCrypto)
-&gt; UTxO (BabbageEra StandardCrypto)
forall a. a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">(Either
   (Either ValidationErrorInPhase ToCardanoError)
   (UTxO (BabbageEra StandardCrypto))
 -&gt; UTxO (BabbageEra StandardCrypto))
-&gt; Either
     (Either ValidationErrorInPhase ToCardanoError)
     (UTxO (BabbageEra StandardCrypto))
-&gt; UTxO (BabbageEra StandardCrypto)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UtxoIndex
-&gt; Either
     (Either ValidationErrorInPhase ToCardanoError)
     (UTxO (BabbageEra StandardCrypto))
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">fromPlutusIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map TxOutRef TxOut -&gt; UtxoIndex
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Index.UtxoIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445230"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>    </span><span id="local-6989586621679445227"><span class="annot"><span class="annottext">result :: Maybe ValidationErrorInPhase
</span><a href="#local-6989586621679445227"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either ValidationErrorInPhase ValidationSuccess
-&gt; Maybe ValidationErrorInPhase
forall a b. Either a b -&gt; Maybe a
</span><a href="../file:///nix/store/hd22prf4ijbkkzljr5dwf7r24zn61mmn-either-lib-either-5.0.2-haddock-doc/share/doc/either/html/src"><span class="hs-identifier hs-var">leftToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Either ValidationErrorInPhase ValidationSuccess
 -&gt; Maybe ValidationErrorInPhase)
-&gt; Either ValidationErrorInPhase ValidationSuccess
-&gt; Maybe ValidationErrorInPhase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Params
-&gt; Slot
-&gt; UTxO (BabbageEra StandardCrypto)
-&gt; CardanoTx
-&gt; Either ValidationErrorInPhase ValidationSuccess
</span><a href="Cardano.Node.Emulator.Validation.html#validateCardanoTx"><span class="hs-identifier hs-var">validateCardanoTx</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445229"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">UTxO (BabbageEra StandardCrypto)
</span><a href="#local-6989586621679445226"><span class="hs-identifier hs-var">cUtxoIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Params -&gt; Map TxOutRef TxOut -&gt; CardanoTx -&gt; CardanoTx
</span><a href="Cardano.Node.Emulator.Generators.html#signTx"><span class="hs-identifier hs-var">signTx</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621679445229"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Map TxOutRef TxOut
</span><a href="#local-6989586621679445230"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445228"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-comment">-- | Generate an 'Interval where the lower bound if less or equal than the</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- upper bound.</span><span>
</span><span id="line-312"></span><span id="local-6989586621679445527"><span id="local-6989586621679445528"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genInterval"><span class="hs-identifier hs-type">genInterval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadFail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445528"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445527"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445528"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445527"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-314"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445528"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445527"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-315"></span><span id="genInterval"><span class="annot"><span class="annottext">genInterval :: m a -&gt; m (Interval a)
</span><a href="Cardano.Node.Emulator.Generators.html#genInterval"><span class="hs-identifier hs-var hs-var">genInterval</span></a></span></span><span> </span><span id="local-6989586621679445225"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679445225"><span class="hs-identifier hs-var">gen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621679445224"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679445224"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679445223"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679445223"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">sort</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; m [a] -&gt; m [a]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; m a -&gt; m [a]
forall (m :: * -&gt; *) a. Applicative m =&gt; Int -&gt; m a -&gt; m [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">replicateM</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679445225"><span class="hs-identifier hs-var">gen</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="annot"><span class="annottext">Interval a -&gt; m (Interval a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Interval a -&gt; m (Interval a)) -&gt; Interval a -&gt; m (Interval a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Interval a
forall a. a -&gt; a -&gt; Interval a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Interval.interval</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679445224"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679445223"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">-- | Generate a 'SlotRange' where the lower bound if less or equal than the</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- upper bound.</span><span>
</span><span id="line-321"></span><span id="local-6989586621679445221"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSlotRange"><span class="hs-identifier hs-type">genSlotRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadFail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445221"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Hedgehog.MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445221"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445221"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SlotRange</span></a></span></span><span>
</span><span id="line-322"></span><span id="genSlotRange"><span class="annot"><span class="annottext">genSlotRange :: m SlotRange
</span><a href="Cardano.Node.Emulator.Generators.html#genSlotRange"><span class="hs-identifier hs-var hs-var">genSlotRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Slot -&gt; m SlotRange
forall (m :: * -&gt; *) a.
(MonadFail m, Ord a) =&gt;
m a -&gt; m (Interval a)
</span><a href="Cardano.Node.Emulator.Generators.html#genInterval"><span class="hs-identifier hs-var">genInterval</span></a></span><span> </span><span class="annot"><span class="annottext">m Slot
forall (m :: * -&gt; *). MonadGen m =&gt; m Slot
</span><a href="Cardano.Node.Emulator.Generators.html#genSlot"><span class="hs-identifier hs-var">genSlot</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-comment">-- | Generate a 'POSIXTimeRange' where the lower bound if less or equal than the</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- upper bound.</span><span>
</span><span id="line-326"></span><span id="local-6989586621679445220"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genTimeRange"><span class="hs-identifier hs-type">genTimeRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadFail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445220"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Hedgehog.MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445220"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445220"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTimeRange</span></a></span></span><span>
</span><span id="line-327"></span><span id="genTimeRange"><span class="annot"><span class="annottext">genTimeRange :: SlotConfig -&gt; m POSIXTimeRange
</span><a href="Cardano.Node.Emulator.Generators.html#genTimeRange"><span class="hs-identifier hs-var hs-var">genTimeRange</span></a></span></span><span> </span><span id="local-6989586621679445219"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679445219"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m POSIXTime -&gt; m POSIXTimeRange
forall (m :: * -&gt; *) a.
(MonadFail m, Ord a) =&gt;
m a -&gt; m (Interval a)
</span><a href="Cardano.Node.Emulator.Generators.html#genInterval"><span class="hs-identifier hs-var">genInterval</span></a></span><span> </span><span class="annot"><span class="annottext">(m POSIXTime -&gt; m POSIXTimeRange)
-&gt; m POSIXTime -&gt; m POSIXTimeRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; m POSIXTime
forall (m :: * -&gt; *). MonadGen m =&gt; SlotConfig -&gt; m POSIXTime
</span><a href="Cardano.Node.Emulator.Generators.html#genPOSIXTime"><span class="hs-identifier hs-var">genPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679445219"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- | Generate a 'Slot' where the lowest slot number is 0.</span><span>
</span><span id="line-330"></span><span id="local-6989586621679445526"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSlot"><span class="hs-identifier hs-type">genSlot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Hedgehog.MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445526"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445526"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Slot</span></a></span></span><span>
</span><span id="line-331"></span><span id="genSlot"><span class="annot"><span class="annottext">genSlot :: m Slot
</span><a href="Cardano.Node.Emulator.Generators.html#genSlot"><span class="hs-identifier hs-var hs-var">genSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Slot
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Slot</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Slot) -&gt; m Integer -&gt; m Slot
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Integer
forall (m :: * -&gt; *) a. (MonadGen m, Integral a) =&gt; Range a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Range Integer
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10000</span></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-comment">-- | Generate a 'POSIXTime' where the lowest value is 'scSlotZeroTime' given a</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- 'SlotConfig'.</span><span>
</span><span id="line-335"></span><span id="local-6989586621679445522"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genPOSIXTime"><span class="hs-identifier hs-type">genPOSIXTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Hedgehog.MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445522"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445522"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTime</span></a></span></span><span>
</span><span id="line-336"></span><span id="genPOSIXTime"><span class="annot"><span class="annottext">genPOSIXTime :: SlotConfig -&gt; m POSIXTime
</span><a href="Cardano.Node.Emulator.Generators.html#genPOSIXTime"><span class="hs-identifier hs-var hs-var">genPOSIXTime</span></a></span></span><span> </span><span id="local-6989586621679445217"><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679445217"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445216"><span class="annot"><span class="annottext">beginTime :: Integer
</span><a href="#local-6989586621679445216"><span class="hs-identifier hs-var hs-var">beginTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; Integer
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var hs-var">getPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTime -&gt; Integer) -&gt; POSIXTime -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; POSIXTime
</span><a href="Cardano.Node.Emulator.TimeSlot.html#scSlotZeroTime"><span class="hs-identifier hs-var hs-var">TimeSlot.scSlotZeroTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621679445217"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-338"></span><span>    </span><span class="annot"><span class="annottext">Integer -&gt; POSIXTime
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">POSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; POSIXTime) -&gt; m Integer -&gt; m POSIXTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Integer
forall (m :: * -&gt; *) a. (MonadGen m, Integral a) =&gt; Range a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Range Integer
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445216"><span class="hs-identifier hs-var">beginTime</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445216"><span class="hs-identifier hs-var">beginTime</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">10000000</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span class="hs-comment">-- | Generate a 'SlotConfig' where the slot length goes from 1 to 100000</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- ms and the time of Slot 0 is the default 'scSlotZeroTime'.</span><span>
</span><span id="line-342"></span><span id="local-6989586621679445659"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSlotConfig"><span class="hs-identifier hs-type">genSlotConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Hedgehog.MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445659"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.TimeSlot.html#SlotConfig"><span class="hs-identifier hs-type">SlotConfig</span></a></span></span><span>
</span><span id="line-343"></span><span id="genSlotConfig"><span class="annot"><span class="annottext">genSlotConfig :: m SlotConfig
</span><a href="Cardano.Node.Emulator.Generators.html#genSlotConfig"><span class="hs-identifier hs-var hs-var">genSlotConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-344"></span><span>    </span><span id="local-6989586621679445213"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445213"><span class="hs-identifier hs-var">sl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Integer
forall (m :: * -&gt; *) a. (MonadGen m, Integral a) =&gt; Range a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Range Integer
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1000000</span></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><span class="annottext">SlotConfig -&gt; m SlotConfig
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(SlotConfig -&gt; m SlotConfig) -&gt; SlotConfig -&gt; m SlotConfig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">scSlotLength :: Integer
</span><a href="Cardano.Node.Emulator.TimeSlot.html#scSlotLength"><span class="hs-identifier hs-var">TimeSlot.scSlotLength</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679445213"><span class="hs-identifier hs-var">sl</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-comment">-- TODO Unfortunately, there's no way to get a warning if another era has been</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- added to EraInMode. Alternative way?</span><span>
</span><span id="line-349"></span><span id="local-6989586621679445211"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSomeCardanoApiTx"><span class="hs-identifier hs-type">genSomeCardanoApiTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">GenBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445211"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445211"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445211"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SomeCardanoApiTx</span></a></span></span><span>
</span><span id="line-350"></span><span id="genSomeCardanoApiTx"><span class="annot"><span class="annottext">genSomeCardanoApiTx :: m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genSomeCardanoApiTx"><span class="hs-identifier hs-var hs-var">genSomeCardanoApiTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[m SomeCardanoApiTx] -&gt; m SomeCardanoApiTx
forall (m :: * -&gt; *) a. MonadGen m =&gt; [m a] -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.choice</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">m SomeCardanoApiTx
forall (m :: * -&gt; *).
(GenBase m ~ Identity, MonadGen m) =&gt;
m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genByronEraInCardanoModeTx"><span class="hs-identifier hs-var">genByronEraInCardanoModeTx</span></a></span><span>
</span><span id="line-351"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m SomeCardanoApiTx
forall (m :: * -&gt; *).
(GenBase m ~ Identity, MonadGen m) =&gt;
m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genShelleyEraInCardanoModeTx"><span class="hs-identifier hs-var">genShelleyEraInCardanoModeTx</span></a></span><span>
</span><span id="line-352"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m SomeCardanoApiTx
forall (m :: * -&gt; *).
(GenBase m ~ Identity, MonadGen m) =&gt;
m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genAllegraEraInCardanoModeTx"><span class="hs-identifier hs-var">genAllegraEraInCardanoModeTx</span></a></span><span>
</span><span id="line-353"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m SomeCardanoApiTx
forall (m :: * -&gt; *).
(GenBase m ~ Identity, MonadGen m) =&gt;
m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genMaryEraInCardanoModeTx"><span class="hs-identifier hs-var">genMaryEraInCardanoModeTx</span></a></span><span>
</span><span id="line-354"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m SomeCardanoApiTx
forall (m :: * -&gt; *).
(GenBase m ~ Identity, MonadGen m) =&gt;
m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genBabbageEraInCardanoModeTx"><span class="hs-identifier hs-var">genBabbageEraInCardanoModeTx</span></a></span><span>
</span><span id="line-355"></span><span>                                 </span><span class="hs-special">]</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span id="local-6989586621679445513"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genByronEraInCardanoModeTx"><span class="hs-identifier hs-type">genByronEraInCardanoModeTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">GenBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445513"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445513"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445513"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SomeCardanoApiTx</span></a></span></span><span>
</span><span id="line-358"></span><span id="genByronEraInCardanoModeTx"><span class="annot"><span class="annottext">genByronEraInCardanoModeTx :: m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genByronEraInCardanoModeTx"><span class="hs-identifier hs-var hs-var">genByronEraInCardanoModeTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-359"></span><span>  </span><span id="local-6989586621679445204"><span class="annot"><span class="annottext">Tx ByronEra
</span><a href="#local-6989586621679445204"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenT (GenBase m) (Tx ByronEra) -&gt; m (Tx ByronEra)
forall (m :: * -&gt; *) a. MonadGen m =&gt; GenT (GenBase m) a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">fromGenT</span></a></span><span> </span><span class="annot"><span class="annottext">(GenT (GenBase m) (Tx ByronEra) -&gt; m (Tx ByronEra))
-&gt; GenT (GenBase m) (Tx ByronEra) -&gt; m (Tx ByronEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra ByronEra -&gt; Gen (Tx ByronEra)
forall era. IsCardanoEra era =&gt; CardanoEra era -&gt; Gen (Tx era)
</span><span class="hs-identifier hs-var">Gen.genTx</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra ByronEra
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.ByronEra</span></a></span><span>
</span><span id="line-360"></span><span>  </span><span class="annot"><span class="annottext">SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeCardanoApiTx -&gt; m SomeCardanoApiTx)
-&gt; SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx ByronEra -&gt; EraInMode ByronEra CardanoMode -&gt; SomeCardanoApiTx
forall era.
IsCardanoEra era =&gt;
Tx era -&gt; EraInMode era CardanoMode -&gt; SomeCardanoApiTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">SomeTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx ByronEra
</span><a href="#local-6989586621679445204"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">EraInMode ByronEra CardanoMode
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.ByronEraInCardanoMode</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span id="local-6989586621679445199"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genShelleyEraInCardanoModeTx"><span class="hs-identifier hs-type">genShelleyEraInCardanoModeTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">GenBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445199"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445199"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445199"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SomeCardanoApiTx</span></a></span></span><span>
</span><span id="line-363"></span><span id="genShelleyEraInCardanoModeTx"><span class="annot"><span class="annottext">genShelleyEraInCardanoModeTx :: m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genShelleyEraInCardanoModeTx"><span class="hs-identifier hs-var hs-var">genShelleyEraInCardanoModeTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-364"></span><span>  </span><span id="local-6989586621679445198"><span class="annot"><span class="annottext">Tx ShelleyEra
</span><a href="#local-6989586621679445198"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenT (GenBase m) (Tx ShelleyEra) -&gt; m (Tx ShelleyEra)
forall (m :: * -&gt; *) a. MonadGen m =&gt; GenT (GenBase m) a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">fromGenT</span></a></span><span> </span><span class="annot"><span class="annottext">(GenT (GenBase m) (Tx ShelleyEra) -&gt; m (Tx ShelleyEra))
-&gt; GenT (GenBase m) (Tx ShelleyEra) -&gt; m (Tx ShelleyEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra ShelleyEra -&gt; Gen (Tx ShelleyEra)
forall era. IsCardanoEra era =&gt; CardanoEra era -&gt; Gen (Tx era)
</span><span class="hs-identifier hs-var">Gen.genTx</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra ShelleyEra
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.ShelleyEra</span></a></span><span>
</span><span id="line-365"></span><span>  </span><span class="annot"><span class="annottext">SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeCardanoApiTx -&gt; m SomeCardanoApiTx)
-&gt; SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx ShelleyEra
-&gt; EraInMode ShelleyEra CardanoMode -&gt; SomeCardanoApiTx
forall era.
IsCardanoEra era =&gt;
Tx era -&gt; EraInMode era CardanoMode -&gt; SomeCardanoApiTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">SomeTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx ShelleyEra
</span><a href="#local-6989586621679445198"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">EraInMode ShelleyEra CardanoMode
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.ShelleyEraInCardanoMode</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span id="local-6989586621679445195"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genAllegraEraInCardanoModeTx"><span class="hs-identifier hs-type">genAllegraEraInCardanoModeTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">GenBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445195"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445195"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445195"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SomeCardanoApiTx</span></a></span></span><span>
</span><span id="line-368"></span><span id="genAllegraEraInCardanoModeTx"><span class="annot"><span class="annottext">genAllegraEraInCardanoModeTx :: m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genAllegraEraInCardanoModeTx"><span class="hs-identifier hs-var hs-var">genAllegraEraInCardanoModeTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-369"></span><span>  </span><span id="local-6989586621679445194"><span class="annot"><span class="annottext">Tx AllegraEra
</span><a href="#local-6989586621679445194"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenT (GenBase m) (Tx AllegraEra) -&gt; m (Tx AllegraEra)
forall (m :: * -&gt; *) a. MonadGen m =&gt; GenT (GenBase m) a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">fromGenT</span></a></span><span> </span><span class="annot"><span class="annottext">(GenT (GenBase m) (Tx AllegraEra) -&gt; m (Tx AllegraEra))
-&gt; GenT (GenBase m) (Tx AllegraEra) -&gt; m (Tx AllegraEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra AllegraEra -&gt; Gen (Tx AllegraEra)
forall era. IsCardanoEra era =&gt; CardanoEra era -&gt; Gen (Tx era)
</span><span class="hs-identifier hs-var">Gen.genTx</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra AllegraEra
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.AllegraEra</span></a></span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><span class="annottext">SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeCardanoApiTx -&gt; m SomeCardanoApiTx)
-&gt; SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx AllegraEra
-&gt; EraInMode AllegraEra CardanoMode -&gt; SomeCardanoApiTx
forall era.
IsCardanoEra era =&gt;
Tx era -&gt; EraInMode era CardanoMode -&gt; SomeCardanoApiTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">SomeTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx AllegraEra
</span><a href="#local-6989586621679445194"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">EraInMode AllegraEra CardanoMode
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.AllegraEraInCardanoMode</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span id="local-6989586621679445191"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMaryEraInCardanoModeTx"><span class="hs-identifier hs-type">genMaryEraInCardanoModeTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">GenBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445191"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445191"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445191"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SomeCardanoApiTx</span></a></span></span><span>
</span><span id="line-373"></span><span id="genMaryEraInCardanoModeTx"><span class="annot"><span class="annottext">genMaryEraInCardanoModeTx :: m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genMaryEraInCardanoModeTx"><span class="hs-identifier hs-var hs-var">genMaryEraInCardanoModeTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>  </span><span id="local-6989586621679445190"><span class="annot"><span class="annottext">Tx MaryEra
</span><a href="#local-6989586621679445190"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenT (GenBase m) (Tx MaryEra) -&gt; m (Tx MaryEra)
forall (m :: * -&gt; *) a. MonadGen m =&gt; GenT (GenBase m) a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">fromGenT</span></a></span><span> </span><span class="annot"><span class="annottext">(GenT (GenBase m) (Tx MaryEra) -&gt; m (Tx MaryEra))
-&gt; GenT (GenBase m) (Tx MaryEra) -&gt; m (Tx MaryEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra MaryEra -&gt; Gen (Tx MaryEra)
forall era. IsCardanoEra era =&gt; CardanoEra era -&gt; Gen (Tx era)
</span><span class="hs-identifier hs-var">Gen.genTx</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra MaryEra
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.MaryEra</span></a></span><span>
</span><span id="line-375"></span><span>  </span><span class="annot"><span class="annottext">SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeCardanoApiTx -&gt; m SomeCardanoApiTx)
-&gt; SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx MaryEra -&gt; EraInMode MaryEra CardanoMode -&gt; SomeCardanoApiTx
forall era.
IsCardanoEra era =&gt;
Tx era -&gt; EraInMode era CardanoMode -&gt; SomeCardanoApiTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">SomeTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx MaryEra
</span><a href="#local-6989586621679445190"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">EraInMode MaryEra CardanoMode
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.MaryEraInCardanoMode</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621679445187"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genBabbageEraInCardanoModeTx"><span class="hs-identifier hs-type">genBabbageEraInCardanoModeTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">GenBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445187"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445187"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445187"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SomeCardanoApiTx</span></a></span></span><span>
</span><span id="line-378"></span><span id="genBabbageEraInCardanoModeTx"><span class="annot"><span class="annottext">genBabbageEraInCardanoModeTx :: m SomeCardanoApiTx
</span><a href="Cardano.Node.Emulator.Generators.html#genBabbageEraInCardanoModeTx"><span class="hs-identifier hs-var hs-var">genBabbageEraInCardanoModeTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-379"></span><span>  </span><span id="local-6989586621679445186"><span class="annot"><span class="annottext">Tx BabbageEra
</span><a href="#local-6989586621679445186"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenT (GenBase m) (Tx BabbageEra) -&gt; m (Tx BabbageEra)
forall (m :: * -&gt; *) a. MonadGen m =&gt; GenT (GenBase m) a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">fromGenT</span></a></span><span> </span><span class="annot"><span class="annottext">(GenT (GenBase m) (Tx BabbageEra) -&gt; m (Tx BabbageEra))
-&gt; GenT (GenBase m) (Tx BabbageEra) -&gt; m (Tx BabbageEra)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra BabbageEra -&gt; Gen (Tx BabbageEra)
forall era. IsCardanoEra era =&gt; CardanoEra era -&gt; Gen (Tx era)
</span><span class="hs-identifier hs-var">Gen.genTx</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra BabbageEra
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.BabbageEra</span></a></span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><span class="annottext">SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeCardanoApiTx -&gt; m SomeCardanoApiTx)
-&gt; SomeCardanoApiTx -&gt; m SomeCardanoApiTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx BabbageEra
-&gt; EraInMode BabbageEra CardanoMode -&gt; SomeCardanoApiTx
forall era.
IsCardanoEra era =&gt;
Tx era -&gt; EraInMode era CardanoMode -&gt; SomeCardanoApiTx
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">SomeTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx BabbageEra
</span><a href="#local-6989586621679445186"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">EraInMode BabbageEra CardanoMode
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">C.BabbageEraInCardanoMode</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span id="local-6989586621679445183"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genAda"><span class="hs-identifier hs-type">genAda</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445183"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445183"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Ada</span></a></span></span><span>
</span><span id="line-383"></span><span id="genAda"><span class="annot"><span class="annottext">genAda :: m Ada
</span><a href="Cardano.Node.Emulator.Generators.html#genAda"><span class="hs-identifier hs-var hs-var">genAda</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.lovelaceOf</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Ada) -&gt; m Integer -&gt; m Ada
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Integer
forall (m :: * -&gt; *) a. (MonadGen m, Integral a) =&gt; Range a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Range Integer
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">100000</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-comment">-- | Generate a 'ByteString s' of up to @s@ bytes.</span><span>
</span><span id="line-386"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSizedByteString"><span class="hs-identifier hs-type">genSizedByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679445482"><span class="annot"><a href="#local-6989586621679445482"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445482"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445482"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/dy85hyx24kbdxbcbs19gvac43vbvvnjd-bytestring-lib-bytestring-0.10.12.0-haddock-doc/share/doc/bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-387"></span><span id="genSizedByteString"><span class="annot"><span class="annottext">genSizedByteString :: Int -&gt; m ByteString
</span><a href="Cardano.Node.Emulator.Generators.html#genSizedByteString"><span class="hs-identifier hs-var hs-var">genSizedByteString</span></a></span></span><span> </span><span id="local-6989586621679445182"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445182"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445181"><span class="annot"><span class="annottext">range :: Range Int
</span><a href="#local-6989586621679445181"><span class="hs-identifier hs-var hs-var">range</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Range Int
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445182"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Range Int -&gt; m ByteString
forall (m :: * -&gt; *). MonadGen m =&gt; Range Int -&gt; m ByteString
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Range Int
</span><a href="#local-6989586621679445181"><span class="hs-identifier hs-var">range</span></a></span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span class="hs-comment">-- | Generate a 'ByteString s' of exactly @s@ bytes.</span><span>
</span><span id="line-392"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSizedByteStringExact"><span class="hs-identifier hs-type">genSizedByteStringExact</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679445179"><span class="annot"><a href="#local-6989586621679445179"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445179"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445179"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/dy85hyx24kbdxbcbs19gvac43vbvvnjd-bytestring-lib-bytestring-0.10.12.0-haddock-doc/share/doc/bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-393"></span><span id="genSizedByteStringExact"><span class="annot"><span class="annottext">genSizedByteStringExact :: Int -&gt; m ByteString
</span><a href="Cardano.Node.Emulator.Generators.html#genSizedByteStringExact"><span class="hs-identifier hs-var hs-var">genSizedByteStringExact</span></a></span></span><span> </span><span id="local-6989586621679445178"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445178"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679445177"><span class="annot"><span class="annottext">range :: Range Int
</span><a href="#local-6989586621679445177"><span class="hs-identifier hs-var hs-var">range</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Range Int
forall a. a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445178"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Range Int -&gt; m ByteString
forall (m :: * -&gt; *). MonadGen m =&gt; Range Int -&gt; m ByteString
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Range Int
</span><a href="#local-6989586621679445177"><span class="hs-identifier hs-var">range</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-comment">-- | A TokenName is either an arbitrary bytestring or the ada token name</span><span>
</span><span id="line-398"></span><span id="local-6989586621679445590"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genTokenName"><span class="hs-identifier hs-type">genTokenName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445590"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445590"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">TokenName</span></a></span></span><span>
</span><span id="line-399"></span><span id="genTokenName"><span class="annot"><span class="annottext">genTokenName :: m TokenName
</span><a href="Cardano.Node.Emulator.Generators.html#genTokenName"><span class="hs-identifier hs-var hs-var">genTokenName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[m TokenName] -&gt; m TokenName
forall (m :: * -&gt; *) a. MonadGen m =&gt; [m a] -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.choice</span></a></span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; TokenName
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.tokenName</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; TokenName) -&gt; m ByteString -&gt; m TokenName
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ByteString
forall (m :: * -&gt; *). MonadGen m =&gt; Int -&gt; m ByteString
</span><a href="Cardano.Node.Emulator.Generators.html#genSizedByteString"><span class="hs-identifier hs-var">genSizedByteString</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TokenName -&gt; m TokenName
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.adaToken</span></a></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-comment">-- | A minting policy hash is an arbitrary bytestring of length 28</span><span>
</span><span id="line-405"></span><span id="local-6989586621679445473"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genMintingPolicyHash"><span class="hs-identifier hs-type">genMintingPolicyHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445473"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445473"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Script.MintingPolicyHash</span></a></span></span><span>
</span><span id="line-406"></span><span id="genMintingPolicyHash"><span class="annot"><span class="annottext">genMintingPolicyHash :: m MintingPolicyHash
</span><a href="Cardano.Node.Emulator.Generators.html#genMintingPolicyHash"><span class="hs-identifier hs-var hs-var">genMintingPolicyHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; MintingPolicyHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Script.MintingPolicyHash</span></a></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; MintingPolicyHash)
-&gt; (ByteString -&gt; BuiltinByteString)
-&gt; ByteString
-&gt; MintingPolicyHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PlutusTx.toBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; MintingPolicyHash)
-&gt; m ByteString -&gt; m MintingPolicyHash
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ByteString
forall (m :: * -&gt; *). MonadGen m =&gt; Int -&gt; m ByteString
</span><a href="Cardano.Node.Emulator.Generators.html#genSizedByteStringExact"><span class="hs-identifier hs-var">genSizedByteStringExact</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">28</span></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-comment">-- | A currency symbol is either a minting policy hash (bytestring of length 28)</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- or the ada symbol (empty bytestring).</span><span>
</span><span id="line-411"></span><span id="local-6989586621679445171"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genCurrencySymbol"><span class="hs-identifier hs-type">genCurrencySymbol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445171"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445171"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">CurrencySymbol</span></a></span></span><span>
</span><span id="line-412"></span><span id="genCurrencySymbol"><span class="annot"><span class="annottext">genCurrencySymbol :: m CurrencySymbol
</span><a href="Cardano.Node.Emulator.Generators.html#genCurrencySymbol"><span class="hs-identifier hs-var hs-var">genCurrencySymbol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[m CurrencySymbol] -&gt; m CurrencySymbol
forall (m :: * -&gt; *) a. MonadGen m =&gt; [m a] -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.choice</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">MintingPolicyHash -&gt; CurrencySymbol
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.mpsSymbol</span></a></span><span> </span><span class="annot"><span class="annottext">(MintingPolicyHash -&gt; CurrencySymbol)
-&gt; m MintingPolicyHash -&gt; m CurrencySymbol
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m MintingPolicyHash
forall (m :: * -&gt; *). MonadGen m =&gt; m MintingPolicyHash
</span><a href="Cardano.Node.Emulator.Generators.html#genMintingPolicyHash"><span class="hs-identifier hs-var">genMintingPolicyHash</span></a></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; m CurrencySymbol
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.adaSymbol</span></a></span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">-- | An asset class is either the ada symbol with the ada token name</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- or a minting policy hash symbol with an arbitrary token name</span><span>
</span><span id="line-419"></span><span id="local-6989586621679445467"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genAssetClass"><span class="hs-identifier hs-type">genAssetClass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445467"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445467"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">AssetClass</span></a></span></span><span>
</span><span id="line-420"></span><span id="genAssetClass"><span class="annot"><span class="annottext">genAssetClass :: m AssetClass
</span><a href="Cardano.Node.Emulator.Generators.html#genAssetClass"><span class="hs-identifier hs-var hs-var">genAssetClass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-421"></span><span>    </span><span class="annot"><span class="annottext">[m AssetClass] -&gt; m AssetClass
forall (m :: * -&gt; *) a. MonadGen m =&gt; [m a] -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.choice</span></a></span><span>
</span><span id="line-422"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">AssetClass -&gt; m AssetClass
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621679445168"><span class="hs-identifier hs-var">adaAssetClass</span></a></span><span>
</span><span id="line-423"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; AssetClass
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.assetClass</span></a></span><span>
</span><span id="line-424"></span><span>            </span><span class="annot"><span class="annottext">(CurrencySymbol -&gt; TokenName -&gt; AssetClass)
-&gt; m CurrencySymbol -&gt; m (TokenName -&gt; AssetClass)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MintingPolicyHash -&gt; CurrencySymbol
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.mpsSymbol</span></a></span><span> </span><span class="annot"><span class="annottext">(MintingPolicyHash -&gt; CurrencySymbol)
-&gt; m MintingPolicyHash -&gt; m CurrencySymbol
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m MintingPolicyHash
forall (m :: * -&gt; *). MonadGen m =&gt; m MintingPolicyHash
</span><a href="Cardano.Node.Emulator.Generators.html#genMintingPolicyHash"><span class="hs-identifier hs-var">genMintingPolicyHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>            </span><span class="annot"><span class="annottext">m (TokenName -&gt; AssetClass) -&gt; m TokenName -&gt; m AssetClass
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m TokenName
forall (m :: * -&gt; *). MonadGen m =&gt; m TokenName
</span><a href="Cardano.Node.Emulator.Generators.html#genTokenName"><span class="hs-identifier hs-var">genTokenName</span></a></span><span>
</span><span id="line-426"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><a href="#local-6989586621679445168"><span class="hs-identifier hs-type">adaAssetClass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">AssetClass</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span id="local-6989586621679445168"><span class="annot"><span class="annottext">adaAssetClass :: AssetClass
</span><a href="#local-6989586621679445168"><span class="hs-identifier hs-var hs-var">adaAssetClass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; AssetClass
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.assetClass</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.adaSymbol</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.adaToken</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span id="local-6989586621679445463"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSingleton"><span class="hs-identifier hs-type">genSingleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445463"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445463"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span></span><span>
</span><span id="line-432"></span><span id="genSingleton"><span class="annot"><span class="annottext">genSingleton :: Range Integer -&gt; m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genSingleton"><span class="hs-identifier hs-var hs-var">genSingleton</span></a></span></span><span> </span><span id="local-6989586621679445165"><span class="annot"><span class="annottext">Range Integer
</span><a href="#local-6989586621679445165"><span class="hs-identifier hs-var">range</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><span class="annottext">AssetClass -&gt; Integer -&gt; Value
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Value.assetClassValue</span></a></span><span> </span><span class="annot"><span class="annottext">(AssetClass -&gt; Integer -&gt; Value)
-&gt; m AssetClass -&gt; m (Integer -&gt; Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m AssetClass
forall (m :: * -&gt; *). MonadGen m =&gt; m AssetClass
</span><a href="Cardano.Node.Emulator.Generators.html#genAssetClass"><span class="hs-identifier hs-var">genAssetClass</span></a></span><span> </span><span class="annot"><span class="annottext">m (Integer -&gt; Value) -&gt; m Integer -&gt; m Value
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Integer
forall (m :: * -&gt; *) a. (MonadGen m, Integral a) =&gt; Range a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.integral</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer
</span><a href="#local-6989586621679445165"><span class="hs-identifier hs-var">range</span></a></span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span id="local-6989586621679445163"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValue%27"><span class="hs-identifier hs-type">genValue'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445163"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">Range</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445163"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span></span><span>
</span><span id="line-436"></span><span id="genValue%27"><span class="annot"><span class="annottext">genValue' :: Range Integer -&gt; m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genValue%27"><span class="hs-identifier hs-var hs-var">genValue'</span></a></span></span><span> </span><span id="local-6989586621679445161"><span class="annot"><span class="annottext">Range Integer
</span><a href="#local-6989586621679445161"><span class="hs-identifier hs-var">valueRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-437"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-438"></span><span>        </span><span class="hs-comment">-- generate values with no more than 5 elements to avoid the tests</span><span>
</span><span id="line-439"></span><span>        </span><span class="hs-comment">-- taking too long (due to the map-as-list-of-kv-pairs implementation)</span><span>
</span><span id="line-440"></span><span>        </span><span id="local-6989586621679445160"><span class="annot"><span class="annottext">maxCurrencies :: Int
</span><a href="#local-6989586621679445160"><span class="hs-identifier hs-var hs-var">maxCurrencies</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>    </span><span id="local-6989586621679445159"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445159"><span class="hs-identifier hs-var">numValues</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Range Int -&gt; m Int
forall (m :: * -&gt; *). MonadGen m =&gt; Range Int -&gt; m Int
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Range Int
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445160"><span class="hs-identifier hs-var">maxCurrencies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>    </span><span class="annot"><span class="annottext">[Value] -&gt; Value
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fold</span></a></span><span> </span><span class="annot"><span class="annottext">([Value] -&gt; Value) -&gt; m [Value] -&gt; m Value
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; m Value) -&gt; [Int] -&gt; m [Value]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m Value -&gt; Int -&gt; m Value
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(m Value -&gt; Int -&gt; m Value) -&gt; m Value -&gt; Int -&gt; m Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Value
forall (m :: * -&gt; *). MonadGen m =&gt; Range Integer -&gt; m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genSingleton"><span class="hs-identifier hs-var">genSingleton</span></a></span><span> </span><span class="annot"><span class="annottext">Range Integer
</span><a href="#local-6989586621679445161"><span class="hs-identifier hs-var">valueRange</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445159"><span class="hs-identifier hs-var">numValues</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- | Generate a 'Value' with a value range of @minBound .. maxBound@.</span><span>
</span><span id="line-446"></span><span id="local-6989586621679445157"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValue"><span class="hs-identifier hs-type">genValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445157"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445157"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span></span><span>
</span><span id="line-447"></span><span id="genValue"><span class="annot"><span class="annottext">genValue :: m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genValue"><span class="hs-identifier hs-var hs-var">genValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Value
forall (m :: * -&gt; *). MonadGen m =&gt; Range Integer -&gt; m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genValue%27"><span class="hs-identifier hs-var">genValue'</span></a></span><span> </span><span class="annot"><span class="annottext">(Range Integer -&gt; m Value) -&gt; Range Integer -&gt; m Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Range Int -&gt; Range Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Bounded Int, Integral Int) =&gt; Range Int
forall a. (Bounded a, Integral a) =&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linearBounded</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-comment">-- | Generate a 'Value' with a value range of @0 .. maxBound@.</span><span>
</span><span id="line-450"></span><span id="local-6989586621679445155"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genValueNonNegative"><span class="hs-identifier hs-type">genValueNonNegative</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445155"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445155"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span></span><span>
</span><span id="line-451"></span><span id="genValueNonNegative"><span class="annot"><span class="annottext">genValueNonNegative :: m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genValueNonNegative"><span class="hs-identifier hs-var hs-var">genValueNonNegative</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Range Integer -&gt; m Value
forall (m :: * -&gt; *). MonadGen m =&gt; Range Integer -&gt; m Value
</span><a href="Cardano.Node.Emulator.Generators.html#genValue%27"><span class="hs-identifier hs-var">genValue'</span></a></span><span> </span><span class="annot"><span class="annottext">(Range Integer -&gt; m Value) -&gt; Range Integer -&gt; m Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Range Int -&gt; Range Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Range Int
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
forall a. Bounded a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maxBound</span></a></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="hs-comment">-- | Assert that a transaction is valid in a chain.</span><span>
</span><span id="line-454"></span><span id="local-6989586621679445154"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#assertValid"><span class="hs-identifier hs-type">assertValid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445154"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#Mockchain"><span class="hs-identifier hs-type">Mockchain</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445154"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-458"></span><span id="assertValid"><span class="annot"><span class="annottext">assertValid :: CardanoTx -&gt; Mockchain -&gt; m ()
</span><a href="Cardano.Node.Emulator.Generators.html#assertValid"><span class="hs-identifier hs-var hs-var">assertValid</span></a></span></span><span> </span><span id="local-6989586621679445153"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445153"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span id="local-6989586621679445152"><span class="annot"><span class="annottext">Mockchain
</span><a href="#local-6989586621679445152"><span class="hs-identifier hs-var">mc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m ()
forall (m :: * -&gt; *). (MonadTest m, HasCallStack) =&gt; Bool -&gt; m ()
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Hedgehog.assert</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; m ()) -&gt; Bool -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ValidationErrorInPhase -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ValidationErrorInPhase -&gt; Bool)
-&gt; Maybe ValidationErrorInPhase -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Mockchain -&gt; CardanoTx -&gt; Maybe ValidationErrorInPhase
</span><a href="Cardano.Node.Emulator.Generators.html#validateMockchain"><span class="hs-identifier hs-var">validateMockchain</span></a></span><span> </span><span class="annot"><span class="annottext">Mockchain
</span><a href="#local-6989586621679445152"><span class="hs-identifier hs-var">mc</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621679445153"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-comment">{- | Split a value into max. n positive-valued parts such that the sum of the
     parts equals the original value. Each part should contain the required
     minimum amount of Ada.

     I noticed how for values of `mx` &gt; 1000 the resulting lists are much smaller than
     one would expect. I think this may be caused by the way we select the next value
     for the split. It looks like the available funds get exhausted quite fast, which
     makes the function return before generating anything close to `mx` values.
-}</span><span>
</span><span id="line-469"></span><span id="local-6989586621679445582"><span id="local-6989586621679445583"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#splitVal"><span class="hs-identifier hs-type">splitVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445583"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Integral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445582"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445582"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445583"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679445582"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-470"></span><span id="splitVal"><span class="annot"><span class="annottext">splitVal :: Int -&gt; n -&gt; m [n]
</span><a href="Cardano.Node.Emulator.Generators.html#splitVal"><span class="hs-identifier hs-var hs-var">splitVal</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">n
</span><span class="hs-number">0</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[n] -&gt; m [n]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-471"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#splitVal"><span class="hs-identifier hs-var">splitVal</span></a></span><span> </span><span id="local-6989586621679445150"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445150"><span class="hs-identifier hs-var">mx</span></a></span></span><span> </span><span id="local-6989586621679445149"><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445149"><span class="hs-identifier hs-var">init'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; n -&gt; [n] -&gt; m [n]
</span><a href="#local-6989586621679445148"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">n
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>    </span><span id="local-6989586621679445148"><span class="annot"><span class="annottext">go :: Int -&gt; n -&gt; [n] -&gt; m [n]
</span><a href="#local-6989586621679445148"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679445147"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445147"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679445146"><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445146"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679445145"><span class="annot"><span class="annottext">[n]
</span><a href="#local-6989586621679445145"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-473"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445147"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Enum a =&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445150"><span class="hs-identifier hs-var">mx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445149"><span class="hs-identifier hs-var">init'</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445146"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445141"><span class="hs-identifier hs-var">minAda</span></a></span><span>
</span><span id="line-474"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[n] -&gt; m [n]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">([n] -&gt; m [n]) -&gt; [n] -&gt; m [n]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445149"><span class="hs-identifier hs-var">init'</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445146"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">n -&gt; [n] -&gt; [n]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[n]
</span><a href="#local-6989586621679445145"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-475"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-476"></span><span>            </span><span id="local-6989586621679445140"><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445140"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Range n -&gt; m n
forall (m :: * -&gt; *) a. (MonadGen m, Integral a) =&gt; Range a -&gt; m a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.integral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">n -&gt; n -&gt; Range n
forall a. Integral a =&gt; a -&gt; a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.linear</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445141"><span class="hs-identifier hs-var">minAda</span></a></span><span> </span><span class="annot"><span class="annottext">(n -&gt; Range n) -&gt; n -&gt; Range n
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445149"><span class="hs-identifier hs-var">init'</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445146"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445141"><span class="hs-identifier hs-var">minAda</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445140"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445146"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445149"><span class="hs-identifier hs-var">init'</span></a></span><span>
</span><span id="line-478"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[n] -&gt; m [n]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">([n] -&gt; m [n]) -&gt; [n] -&gt; m [n]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445140"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; [n] -&gt; [n]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[n]
</span><a href="#local-6989586621679445145"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-479"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; n -&gt; [n] -&gt; m [n]
</span><a href="#local-6989586621679445148"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Enum a =&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679445147"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445140"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; n -&gt; n
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445146"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">n
</span><a href="#local-6989586621679445140"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">n -&gt; [n] -&gt; [n]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[n]
</span><a href="#local-6989586621679445145"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>    </span><span id="local-6989586621679445141"><span class="annot"><span class="annottext">minAda :: n
</span><a href="#local-6989586621679445141"><span class="hs-identifier hs-var hs-var">minAda</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; n
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; n) -&gt; Integer -&gt; n
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Integer
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var hs-var">Ada.getLovelace</span></a></span><span> </span><span class="annot"><span class="annottext">(Ada -&gt; Integer) -&gt; Ada -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.minAdaTxOutEstimated</span></a></span><span> </span><span class="annot"><span class="annottext">Ada -&gt; Ada -&gt; Ada
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ledger.maxFee</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#knownXPrvs"><span class="hs-identifier hs-type">knownXPrvs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///nix/store/ry2dz8v15w24fs3v0kp3gg27jfms22qc-cardano-crypto-lib-cardano-crypto-1.1.1-haddock-doc/share/doc/cardano-crypto/html/src"><span class="hs-identifier hs-type">Crypto.XPrv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-483"></span><span id="knownXPrvs"><span class="annot"><span class="annottext">knownXPrvs :: [PrivateKey]
</span><a href="Cardano.Node.Emulator.Generators.html#knownXPrvs"><span class="hs-identifier hs-var hs-var">knownXPrvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PaymentPrivateKey -&gt; PrivateKey
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var hs-var">unPaymentPrivateKey</span></a></span><span> </span><span class="annot"><span class="annottext">(PaymentPrivateKey -&gt; PrivateKey)
-&gt; [PaymentPrivateKey] -&gt; [PrivateKey]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[PaymentPrivateKey]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">CW.knownPaymentPrivateKeys</span></a></span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="hs-comment">-- | Seed suitable for testing a seed but not for actual wallets as ScrubbedBytes isn't used to ensure</span><span>
</span><span id="line-486"></span><span class="hs-comment">--  memory isn't inspectable</span><span>
</span><span id="line-487"></span><span id="local-6989586621679445136"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genSeed"><span class="hs-identifier hs-type">genSeed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445136"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445136"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/dy85hyx24kbdxbcbs19gvac43vbvvnjd-bytestring-lib-bytestring-0.10.12.0-haddock-doc/share/doc/bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span><span>
</span><span id="line-488"></span><span id="genSeed"><span class="annot"><span class="annottext">genSeed :: m ByteString
</span><a href="Cardano.Node.Emulator.Generators.html#genSeed"><span class="hs-identifier hs-var hs-var">genSeed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Range Int -&gt; m ByteString
forall (m :: * -&gt; *). MonadGen m =&gt; Range Int -&gt; m ByteString
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.bytes</span></a></span><span> </span><span class="annot"><span class="annottext">(Range Int -&gt; m ByteString) -&gt; Range Int -&gt; m ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Range Int
forall a. a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span id="local-6989586621679445135"><span class="annot"><a href="Cardano.Node.Emulator.Generators.html#genPassphrase"><span class="hs-identifier hs-type">genPassphrase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-type">MonadGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679445135"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679445135"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Passphrase</span></a></span></span><span>
</span><span id="line-491"></span><span id="genPassphrase"><span class="annot"><span class="annottext">genPassphrase :: m Passphrase
</span><a href="Cardano.Node.Emulator.Generators.html#genPassphrase"><span class="hs-identifier hs-var hs-var">genPassphrase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-492"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; Passphrase
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Passphrase</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Passphrase) -&gt; m ByteString -&gt; m Passphrase
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Range Int -&gt; m Char -&gt; m ByteString
forall (m :: * -&gt; *).
MonadGen m =&gt;
Range Int -&gt; m Char -&gt; m ByteString
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.utf8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Range Int
forall a. a -&gt; Range a
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Range.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m Char
forall (m :: * -&gt; *). MonadGen m =&gt; m Char
</span><a href="../file:///nix/store/5vmhd82v6j1njfq48bsls9f8szxjr3fa-hedgehog-lib-hedgehog-1.2-haddock-doc/share/doc/hedgehog/html/src"><span class="hs-identifier hs-var">Gen.unicode</span></a></span><span>
</span><span id="line-493"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_AJmGrpLQAGU5ZTspbYtPhe"><span id="%24con2tag_282GKnNvrgt2upzyOFxOHs"></span></span><span class="hs-pragma">{-# LANGUAGE DataKinds          #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass     #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts   #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs              #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase         #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns     #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings  #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes         #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE StrictData         #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell    #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications   #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators      #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-comment">-- $log</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-comment">-- * Logging functions</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier">LogMsg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogLevel"><span class="hs-identifier">LogLevel</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier">LogMessage</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logLevel"><span class="hs-identifier">logLevel</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logMessageContent"><span class="hs-identifier">logMessageContent</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logMessage"><span class="hs-identifier">logMessage</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logDebug"><span class="hs-identifier">logDebug</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logInfo"><span class="hs-identifier">logInfo</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logWarn"><span class="hs-identifier">logWarn</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logError"><span class="hs-identifier">logError</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Modifying logs</span></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#mapLog"><span class="hs-identifier">mapLog</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#mapMLog"><span class="hs-identifier">mapMLog</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Running logs</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleWriterLog"><span class="hs-identifier">handleWriterLog</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleLogIgnore"><span class="hs-identifier">handleLogIgnore</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleLogTrace"><span class="hs-identifier">handleLogTrace</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleLogWriter"><span class="hs-identifier">handleLogWriter</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#renderLogMessages"><span class="hs-identifier">renderLogMessages</span></a></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Observing</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier">LogObserve</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier">ObservationHandle</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Observation"><span class="hs-identifier">Observation</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#observeBefore"><span class="hs-identifier">observeBefore</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#observeAfter"><span class="hs-identifier">observeAfter</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>     </span><span class="annot"><span class="hs-comment">-- * Combinators</span></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surround"><span class="hs-identifier">surround</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surroundDebug"><span class="hs-identifier">surroundDebug</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surroundInfo"><span class="hs-identifier">surroundInfo</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surroundWarn"><span class="hs-identifier">surroundWarn</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Handlers</span></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleObserveLog"><span class="hs-identifier">handleObserveLog</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleObserve"><span class="hs-identifier">handleObserve</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Modify.html"><span class="hs-identifier">Control.Monad.Freer.Extras.Modify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Modify.html#raiseUnder"><span class="hs-identifier">raiseUnder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">AReview</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Prism'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">makeLenses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">prism'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">review</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">State</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">get</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">put</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">runState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.TH</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">makeEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Writer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Writer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">tell</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">for_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">traverse_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Debug.Trace</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Trace</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">surround</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter.Render.String</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Render</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter.Render.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Render</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- $log</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- This module provides effects and handlers for structured logging and</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- tracing.</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">{- Note [Logging and Tracing]

This module provides two effects for structured logging, implementing a
'freer-simple' version of https://github.com/input-output-hk/iohk-monitoring-framework/tree/master/contra-tracer.

* 'LogMsg' and its handlers correspond to 'Control.Tracer'
* 'LogObserve' and its handler correspond to 'Control.Tracer.Observe'

= LogMsg

When using 'Control.Tracer' with mtl-style effects, we usually have a
'Tracer m s' at the top level with a sum type @s@, and we can use
'contramap' to get tracers for the finer-grained message
types.

In this module we have 'Member (LogMsg s) effs' instead of the 'Tracer m s'
value. With 'freer' effects we can have many instances of 'LogMsg' in our
effects stack so we don't need to call 'contramap' or similar on
the client side. The conversion to @s@ happens in the big effect handler that
discharges all the 'LogMsg' effects.

= LogObserve

'LogObserve' is an effect for taking measurements before and after an action,
and recording the difference between them. It is implemented using two markers,
'LObserveBefore' and 'LObserveAfter'.

Some effects such as Error, Prompt may short-circuit the action, so that the
LObserveAfter marker is never encountered by the handler. 'handleObserve' deals
with this by keeping a stack of unmatched 'LObserveBefore' markers and popping
as many items of the stack as needed whenever 'LObserveAfter' is run. It works
even if the topmost LObserveAfter is never seen, by popping all remaining items
off the stack at the end.

'LogObserve' supports measures taken on the call site and on the
interpretation site.

* Interpretation-site measures are produced with the second argument to
  'handleObserve'
* Call-site measures can be provided using the type parameter a in the
  constructors of 'LogObserve'

-}</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-keyword">data</span><span> </span><span id="LogMsg"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-var">LogMsg</span></a></span></span><span> </span><span id="local-6989586621679259410"><span class="annot"><a href="#local-6989586621679259410"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259409"><span class="annot"><a href="#local-6989586621679259409"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-124"></span><span>    </span><span id="local-6989586621679259609"><span id="LMessage"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259609"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259609"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | An abstract type used to tie the beginning and end of observations</span><span>
</span><span id="line-127"></span><span class="hs-comment">--   together.</span><span>
</span><span id="line-128"></span><span class="hs-keyword">newtype</span><span> </span><span id="ObservationHandle"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-var">ObservationHandle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ObservationHandle"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-var">ObservationHandle</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-keyword">data</span><span> </span><span id="LogObserve"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-var">LogObserve</span></a></span></span><span> </span><span id="local-6989586621679259406"><span class="annot"><a href="#local-6989586621679259406"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259405"><span class="annot"><a href="#local-6989586621679259405"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679259536"><span id="ObserveBefore"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObserveBefore"><span class="hs-identifier hs-var">ObserveBefore</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259536"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259536"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-type">ObservationHandle</span></a></span></span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679259535"><span id="ObserveAfter"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObserveAfter"><span class="hs-identifier hs-var">ObserveAfter</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-type">ObservationHandle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- | The severity level of a log message</span><span>
</span><span id="line-135"></span><span class="hs-comment">--   See https://en.wikipedia.org/wiki/Syslog#Severity_level</span><span>
</span><span id="line-136"></span><span id="local-6989586621679259401"><span id="local-6989586621679259402"></span></span><span class="hs-keyword">data</span><span> </span><span id="LogLevel"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogLevel"><span class="hs-identifier hs-var">LogLevel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-137"></span><span>        </span><span id="Debug"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span></span><span>
</span><span id="line-138"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Info"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Info"><span class="hs-identifier hs-var">Info</span></a></span></span><span>
</span><span id="line-139"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Notice"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Notice"><span class="hs-identifier hs-var">Notice</span></a></span></span><span>
</span><span id="line-140"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Warning"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Warning"><span class="hs-identifier hs-var">Warning</span></a></span></span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Error"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Error"><span class="hs-identifier hs-var">Error</span></a></span></span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Critical"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Critical"><span class="hs-identifier hs-var">Critical</span></a></span></span><span>
</span><span id="line-143"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Alert"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Alert"><span class="hs-identifier hs-var">Alert</span></a></span></span><span>
</span><span id="line-144"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="Emergency"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Emergency"><span class="hs-identifier hs-var">Emergency</span></a></span></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259387"><span id="local-6989586621679259389"><span id="local-6989586621679259391"><span class="annot"><span class="annottext">Int -&gt; LogLevel -&gt; ShowS
[LogLevel] -&gt; ShowS
LogLevel -&gt; String
(Int -&gt; LogLevel -&gt; ShowS)
-&gt; (LogLevel -&gt; String) -&gt; ([LogLevel] -&gt; ShowS) -&gt; Show LogLevel
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [LogLevel] -&gt; ShowS
$cshowList :: [LogLevel] -&gt; ShowS
show :: LogLevel -&gt; String
$cshow :: LogLevel -&gt; String
showsPrec :: Int -&gt; LogLevel -&gt; ShowS
$cshowsPrec :: Int -&gt; LogLevel -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259382"><span id="local-6989586621679259384"><span class="annot"><span class="annottext">LogLevel -&gt; LogLevel -&gt; Bool
(LogLevel -&gt; LogLevel -&gt; Bool)
-&gt; (LogLevel -&gt; LogLevel -&gt; Bool) -&gt; Eq LogLevel
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: LogLevel -&gt; LogLevel -&gt; Bool
$c/= :: LogLevel -&gt; LogLevel -&gt; Bool
== :: LogLevel -&gt; LogLevel -&gt; Bool
$c== :: LogLevel -&gt; LogLevel -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259366"><span id="local-6989586621679259368"><span id="local-6989586621679259370"><span id="local-6989586621679259372"><span id="local-6989586621679259374"><span id="local-6989586621679259376"><span id="local-6989586621679259378"><span class="annot"><span class="annottext">Eq LogLevel
Eq LogLevel
-&gt; (LogLevel -&gt; LogLevel -&gt; Ordering)
-&gt; (LogLevel -&gt; LogLevel -&gt; Bool)
-&gt; (LogLevel -&gt; LogLevel -&gt; Bool)
-&gt; (LogLevel -&gt; LogLevel -&gt; Bool)
-&gt; (LogLevel -&gt; LogLevel -&gt; Bool)
-&gt; (LogLevel -&gt; LogLevel -&gt; LogLevel)
-&gt; (LogLevel -&gt; LogLevel -&gt; LogLevel)
-&gt; Ord LogLevel
LogLevel -&gt; LogLevel -&gt; Bool
LogLevel -&gt; LogLevel -&gt; Ordering
LogLevel -&gt; LogLevel -&gt; LogLevel
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: LogLevel -&gt; LogLevel -&gt; LogLevel
$cmin :: LogLevel -&gt; LogLevel -&gt; LogLevel
max :: LogLevel -&gt; LogLevel -&gt; LogLevel
$cmax :: LogLevel -&gt; LogLevel -&gt; LogLevel
&gt;= :: LogLevel -&gt; LogLevel -&gt; Bool
$c&gt;= :: LogLevel -&gt; LogLevel -&gt; Bool
&gt; :: LogLevel -&gt; LogLevel -&gt; Bool
$c&gt; :: LogLevel -&gt; LogLevel -&gt; Bool
&lt;= :: LogLevel -&gt; LogLevel -&gt; Bool
$c&lt;= :: LogLevel -&gt; LogLevel -&gt; Bool
&lt; :: LogLevel -&gt; LogLevel -&gt; Bool
$c&lt; :: LogLevel -&gt; LogLevel -&gt; Bool
compare :: LogLevel -&gt; LogLevel -&gt; Ordering
$ccompare :: LogLevel -&gt; LogLevel -&gt; Ordering
$cp1Ord :: Eq LogLevel
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. LogLevel -&gt; Rep LogLevel x)
-&gt; (forall x. Rep LogLevel x -&gt; LogLevel) -&gt; Generic LogLevel
forall x. Rep LogLevel x -&gt; LogLevel
forall x. LogLevel -&gt; Rep LogLevel x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep LogLevel x -&gt; LogLevel
$cfrom :: forall x. LogLevel -&gt; Rep LogLevel x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259354"><span id="local-6989586621679259356"><span id="local-6989586621679259358"><span id="local-6989586621679259360"><span class="annot"><span class="annottext">[LogLevel] -&gt; Encoding
[LogLevel] -&gt; Value
LogLevel -&gt; Encoding
LogLevel -&gt; Value
(LogLevel -&gt; Value)
-&gt; (LogLevel -&gt; Encoding)
-&gt; ([LogLevel] -&gt; Value)
-&gt; ([LogLevel] -&gt; Encoding)
-&gt; ToJSON LogLevel
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [LogLevel] -&gt; Encoding
$ctoEncodingList :: [LogLevel] -&gt; Encoding
toJSONList :: [LogLevel] -&gt; Value
$ctoJSONList :: [LogLevel] -&gt; Value
toEncoding :: LogLevel -&gt; Encoding
$ctoEncoding :: LogLevel -&gt; Encoding
toJSON :: LogLevel -&gt; Value
$ctoJSON :: LogLevel -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259349"><span id="local-6989586621679259351"><span class="annot"><span class="annottext">Value -&gt; Parser [LogLevel]
Value -&gt; Parser LogLevel
(Value -&gt; Parser LogLevel)
-&gt; (Value -&gt; Parser [LogLevel]) -&gt; FromJSON LogLevel
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [LogLevel]
$cparseJSONList :: Value -&gt; Parser [LogLevel]
parseJSON :: Value -&gt; Parser LogLevel
$cparseJSON :: Value -&gt; Parser LogLevel
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679259345"><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>    </span><span id="local-6989586621679259343"><span class="annot"><span class="annottext">pretty :: LogLevel -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[DEBUG]&quot;</span></span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Info"><span class="hs-identifier hs-var">Info</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[INFO]&quot;</span></span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Notice"><span class="hs-identifier hs-var">Notice</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[NOTICE]&quot;</span></span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Warning"><span class="hs-identifier hs-var">Warning</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[WARNING]&quot;</span></span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Error"><span class="hs-identifier hs-var">Error</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[ERROR]&quot;</span></span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Critical"><span class="hs-identifier hs-var">Critical</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[CRITICAL]&quot;</span></span><span>
</span><span id="line-156"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Alert"><span class="hs-identifier hs-var">Alert</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[ALERT]&quot;</span></span><span>
</span><span id="line-157"></span><span>        </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Emergency"><span class="hs-identifier hs-var">Emergency</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;[EMERGENCY]&quot;</span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span id="local-6989586621679259340"><span id="local-6989586621679259341"></span></span><span class="hs-keyword">data</span><span> </span><span id="LogMessage"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span></span><span> </span><span id="local-6989586621679259626"><span class="annot"><a href="#local-6989586621679259626"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LogMessage"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="_logLevel"><span class="annot"><span class="annottext">LogMessage a -&gt; LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#_logLevel"><span class="hs-identifier hs-var hs-var">_logLevel</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span class="hs-special">,</span><span> </span><span id="_logMessageContent"><span class="annot"><span class="annottext">LogMessage a -&gt; a
</span><a href="Control.Monad.Freer.Extras.Log.html#_logMessageContent"><span class="hs-identifier hs-var hs-var">_logMessageContent</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259626"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259331"><span id="local-6989586621679259333"><span id="local-6989586621679259335"><span class="annot"><span class="annottext">Int -&gt; LogMessage a -&gt; ShowS
[LogMessage a] -&gt; ShowS
LogMessage a -&gt; String
(Int -&gt; LogMessage a -&gt; ShowS)
-&gt; (LogMessage a -&gt; String)
-&gt; ([LogMessage a] -&gt; ShowS)
-&gt; Show (LogMessage a)
forall a. Show a =&gt; Int -&gt; LogMessage a -&gt; ShowS
forall a. Show a =&gt; [LogMessage a] -&gt; ShowS
forall a. Show a =&gt; LogMessage a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [LogMessage a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [LogMessage a] -&gt; ShowS
show :: LogMessage a -&gt; String
$cshow :: forall a. Show a =&gt; LogMessage a -&gt; String
showsPrec :: Int -&gt; LogMessage a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; LogMessage a -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259327"><span id="local-6989586621679259329"><span class="annot"><span class="annottext">LogMessage a -&gt; LogMessage a -&gt; Bool
(LogMessage a -&gt; LogMessage a -&gt; Bool)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; Bool) -&gt; Eq (LogMessage a)
forall a. Eq a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: LogMessage a -&gt; LogMessage a -&gt; Bool
$c/= :: forall a. Eq a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
== :: LogMessage a -&gt; LogMessage a -&gt; Bool
$c== :: forall a. Eq a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259312"><span id="local-6989586621679259314"><span id="local-6989586621679259316"><span id="local-6989586621679259318"><span id="local-6989586621679259320"><span id="local-6989586621679259322"><span id="local-6989586621679259324"><span class="annot"><span class="annottext">Eq (LogMessage a)
Eq (LogMessage a)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; Ordering)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; Bool)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; Bool)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; Bool)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; Bool)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; LogMessage a)
-&gt; (LogMessage a -&gt; LogMessage a -&gt; LogMessage a)
-&gt; Ord (LogMessage a)
LogMessage a -&gt; LogMessage a -&gt; Bool
LogMessage a -&gt; LogMessage a -&gt; Ordering
LogMessage a -&gt; LogMessage a -&gt; LogMessage a
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (LogMessage a)
forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Ordering
forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; LogMessage a
min :: LogMessage a -&gt; LogMessage a -&gt; LogMessage a
$cmin :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; LogMessage a
max :: LogMessage a -&gt; LogMessage a -&gt; LogMessage a
$cmax :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; LogMessage a
&gt;= :: LogMessage a -&gt; LogMessage a -&gt; Bool
$c&gt;= :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
&gt; :: LogMessage a -&gt; LogMessage a -&gt; Bool
$c&gt; :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
&lt;= :: LogMessage a -&gt; LogMessage a -&gt; Bool
$c&lt;= :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
&lt; :: LogMessage a -&gt; LogMessage a -&gt; Bool
$c&lt; :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Bool
compare :: LogMessage a -&gt; LogMessage a -&gt; Ordering
$ccompare :: forall a. Ord a =&gt; LogMessage a -&gt; LogMessage a -&gt; Ordering
$cp1Ord :: forall a. Ord a =&gt; Eq (LogMessage a)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. LogMessage a -&gt; Rep (LogMessage a) x)
-&gt; (forall x. Rep (LogMessage a) x -&gt; LogMessage a)
-&gt; Generic (LogMessage a)
forall x. Rep (LogMessage a) x -&gt; LogMessage a
forall x. LogMessage a -&gt; Rep (LogMessage a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (LogMessage a) x -&gt; LogMessage a
forall a x. LogMessage a -&gt; Rep (LogMessage a) x
$cto :: forall a x. Rep (LogMessage a) x -&gt; LogMessage a
$cfrom :: forall a x. LogMessage a -&gt; Rep (LogMessage a) x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259306"><span id="local-6989586621679259308"><span class="annot"><span class="annottext">a -&gt; LogMessage b -&gt; LogMessage a
(a -&gt; b) -&gt; LogMessage a -&gt; LogMessage b
(forall a b. (a -&gt; b) -&gt; LogMessage a -&gt; LogMessage b)
-&gt; (forall a b. a -&gt; LogMessage b -&gt; LogMessage a)
-&gt; Functor LogMessage
forall a b. a -&gt; LogMessage b -&gt; LogMessage a
forall a b. (a -&gt; b) -&gt; LogMessage a -&gt; LogMessage b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; LogMessage b -&gt; LogMessage a
$c&lt;$ :: forall a b. a -&gt; LogMessage b -&gt; LogMessage a
fmap :: (a -&gt; b) -&gt; LogMessage a -&gt; LogMessage b
$cfmap :: forall a b. (a -&gt; b) -&gt; LogMessage a -&gt; LogMessage b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259271"><span id="local-6989586621679259273"><span id="local-6989586621679259275"><span id="local-6989586621679259277"><span id="local-6989586621679259279"><span id="local-6989586621679259281"><span id="local-6989586621679259283"><span id="local-6989586621679259285"><span id="local-6989586621679259287"><span id="local-6989586621679259289"><span id="local-6989586621679259291"><span id="local-6989586621679259293"><span id="local-6989586621679259295"><span id="local-6989586621679259297"><span id="local-6989586621679259299"><span id="local-6989586621679259301"><span id="local-6989586621679259303"><span class="annot"><span class="annottext">LogMessage a -&gt; Bool
(a -&gt; m) -&gt; LogMessage a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
(forall m. Monoid m =&gt; LogMessage m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; LogMessage a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; LogMessage a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a)
-&gt; (forall a. LogMessage a -&gt; [a])
-&gt; (forall a. LogMessage a -&gt; Bool)
-&gt; (forall a. LogMessage a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; LogMessage a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; LogMessage a -&gt; a)
-&gt; (forall a. Ord a =&gt; LogMessage a -&gt; a)
-&gt; (forall a. Num a =&gt; LogMessage a -&gt; a)
-&gt; (forall a. Num a =&gt; LogMessage a -&gt; a)
-&gt; Foldable LogMessage
forall a. Eq a =&gt; a -&gt; LogMessage a -&gt; Bool
forall a. Num a =&gt; LogMessage a -&gt; a
forall a. Ord a =&gt; LogMessage a -&gt; a
forall m. Monoid m =&gt; LogMessage m -&gt; m
forall a. LogMessage a -&gt; Bool
forall a. LogMessage a -&gt; Int
forall a. LogMessage a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; LogMessage a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: LogMessage a -&gt; a
$cproduct :: forall a. Num a =&gt; LogMessage a -&gt; a
sum :: LogMessage a -&gt; a
$csum :: forall a. Num a =&gt; LogMessage a -&gt; a
minimum :: LogMessage a -&gt; a
$cminimum :: forall a. Ord a =&gt; LogMessage a -&gt; a
maximum :: LogMessage a -&gt; a
$cmaximum :: forall a. Ord a =&gt; LogMessage a -&gt; a
elem :: a -&gt; LogMessage a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; LogMessage a -&gt; Bool
length :: LogMessage a -&gt; Int
$clength :: forall a. LogMessage a -&gt; Int
null :: LogMessage a -&gt; Bool
$cnull :: forall a. LogMessage a -&gt; Bool
toList :: LogMessage a -&gt; [a]
$ctoList :: forall a. LogMessage a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; LogMessage a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; LogMessage a -&gt; b
foldMap' :: (a -&gt; m) -&gt; LogMessage a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; LogMessage a -&gt; m
foldMap :: (a -&gt; m) -&gt; LogMessage a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; LogMessage a -&gt; m
fold :: LogMessage m -&gt; m
$cfold :: forall m. Monoid m =&gt; LogMessage m -&gt; m
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259260"><span id="local-6989586621679259262"><span id="local-6989586621679259264"><span id="local-6989586621679259266"><span class="annot"><span class="annottext">Functor LogMessage
Foldable LogMessage
Functor LogMessage
-&gt; Foldable LogMessage
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; LogMessage a -&gt; f (LogMessage b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    LogMessage (f a) -&gt; f (LogMessage a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; LogMessage a -&gt; m (LogMessage b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    LogMessage (m a) -&gt; m (LogMessage a))
-&gt; Traversable LogMessage
(a -&gt; f b) -&gt; LogMessage a -&gt; f (LogMessage b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
LogMessage (m a) -&gt; m (LogMessage a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
LogMessage (f a) -&gt; f (LogMessage a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; LogMessage a -&gt; m (LogMessage b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; LogMessage a -&gt; f (LogMessage b)
sequence :: LogMessage (m a) -&gt; m (LogMessage a)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
LogMessage (m a) -&gt; m (LogMessage a)
mapM :: (a -&gt; m b) -&gt; LogMessage a -&gt; m (LogMessage b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; LogMessage a -&gt; m (LogMessage b)
sequenceA :: LogMessage (f a) -&gt; f (LogMessage a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
LogMessage (f a) -&gt; f (LogMessage a)
traverse :: (a -&gt; f b) -&gt; LogMessage a -&gt; f (LogMessage b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; LogMessage a -&gt; f (LogMessage b)
$cp2Traversable :: Foldable LogMessage
$cp1Traversable :: Functor LogMessage
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259251"><span id="local-6989586621679259253"><span id="local-6989586621679259255"><span id="local-6989586621679259257"><span class="annot"><span class="annottext">[LogMessage a] -&gt; Encoding
[LogMessage a] -&gt; Value
LogMessage a -&gt; Encoding
LogMessage a -&gt; Value
(LogMessage a -&gt; Value)
-&gt; (LogMessage a -&gt; Encoding)
-&gt; ([LogMessage a] -&gt; Value)
-&gt; ([LogMessage a] -&gt; Encoding)
-&gt; ToJSON (LogMessage a)
forall a. ToJSON a =&gt; [LogMessage a] -&gt; Encoding
forall a. ToJSON a =&gt; [LogMessage a] -&gt; Value
forall a. ToJSON a =&gt; LogMessage a -&gt; Encoding
forall a. ToJSON a =&gt; LogMessage a -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [LogMessage a] -&gt; Encoding
$ctoEncodingList :: forall a. ToJSON a =&gt; [LogMessage a] -&gt; Encoding
toJSONList :: [LogMessage a] -&gt; Value
$ctoJSONList :: forall a. ToJSON a =&gt; [LogMessage a] -&gt; Value
toEncoding :: LogMessage a -&gt; Encoding
$ctoEncoding :: forall a. ToJSON a =&gt; LogMessage a -&gt; Encoding
toJSON :: LogMessage a -&gt; Value
$ctoJSON :: forall a. ToJSON a =&gt; LogMessage a -&gt; Value
</span><a href="#local-6989586621679259251"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259247"><span id="local-6989586621679259249"><span class="annot"><span class="annottext">Value -&gt; Parser [LogMessage a]
Value -&gt; Parser (LogMessage a)
(Value -&gt; Parser (LogMessage a))
-&gt; (Value -&gt; Parser [LogMessage a]) -&gt; FromJSON (LogMessage a)
forall a. FromJSON a =&gt; Value -&gt; Parser [LogMessage a]
forall a. FromJSON a =&gt; Value -&gt; Parser (LogMessage a)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [LogMessage a]
$cparseJSONList :: forall a. FromJSON a =&gt; Value -&gt; Parser [LogMessage a]
parseJSON :: Value -&gt; Parser (LogMessage a)
$cparseJSON :: forall a. FromJSON a =&gt; Value -&gt; Parser (LogMessage a)
</span><a href="#local-6989586621679259247"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span id="local-6989586621679259246"><span id="logMessageContent"><span id="logLevel"><span id="local-6989586621679259626"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">LogMessage</span></span></span></span></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621679259245"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logMessage"><span class="hs-identifier hs-type">logMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-type">Prism'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259245"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259245"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-166"></span><span id="logMessage"><span class="annot"><span class="annottext">logMessage :: LogLevel -&gt; Prism' (LogMessage a) a
</span><a href="Control.Monad.Freer.Extras.Log.html#logMessage"><span class="hs-identifier hs-var hs-var">logMessage</span></a></span></span><span> </span><span id="local-6989586621679259244"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679259244"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; LogMessage a)
-&gt; (LogMessage a -&gt; Maybe a) -&gt; Prism' (LogMessage a) a
forall b s a. (b -&gt; s) -&gt; (s -&gt; Maybe a) -&gt; Prism s s a b
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">prism'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel -&gt; a -&gt; LogMessage a
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679259244"><span class="hs-identifier hs-var">lvl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span id="local-6989586621679259243"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679259243"><span class="hs-identifier hs-var">lvl'</span></a></span></span><span> </span><span id="local-6989586621679259242"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259242"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679259243"><span class="hs-identifier hs-var">lvl'</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; LogLevel -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679259244"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259242"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span id="local-6989586621679259241"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679259238"><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259241"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259241"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621679259237"><span class="annot"><span class="annottext">pretty :: LogMessage a -&gt; Doc ann
</span><a href="#local-6989586621679259237"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span class="hs-special">{</span><span id="local-6989586621679259236"><span class="annot"><span class="annottext">LogLevel
_logLevel :: LogLevel
_logLevel :: forall a. LogMessage a -&gt; LogLevel
</span><a href="#local-6989586621679259236"><span class="hs-identifier hs-var hs-var">_logLevel</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259235"><span class="annot"><span class="annottext">a
_logMessageContent :: a
_logMessageContent :: forall a. LogMessage a -&gt; a
</span><a href="#local-6989586621679259235"><span class="hs-identifier hs-var hs-var">_logMessageContent</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-170"></span><span>        </span><span class="annot"><span class="annottext">LogLevel -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621679259236"><span class="hs-identifier hs-var">_logLevel</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259235"><span class="hs-identifier hs-var">_logMessageContent</span></a></span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logDebug"><span class="hs-identifier hs-type">logDebug</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259233"><span class="annot"><a href="#local-6989586621679259233"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259232"><span class="annot"><a href="#local-6989586621679259232"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259233"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259232"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259233"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259232"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span id="logDebug"><span class="annot"><span class="annottext">logDebug :: a -&gt; Eff effs ()
</span><a href="Control.Monad.Freer.Extras.Log.html#logDebug"><span class="hs-identifier hs-var hs-var">logDebug</span></a></span></span><span> </span><span id="local-6989586621679259231"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259231"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMsg a () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg a () -&gt; Eff effs ()) -&gt; LogMsg a () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; LogMsg a ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel -&gt; a -&gt; LogMessage a
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259231"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logWarn"><span class="hs-identifier hs-type">logWarn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259229"><span class="annot"><a href="#local-6989586621679259229"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259228"><span class="annot"><a href="#local-6989586621679259228"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259229"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259228"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259229"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259228"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span id="logWarn"><span class="annot"><span class="annottext">logWarn :: a -&gt; Eff effs ()
</span><a href="Control.Monad.Freer.Extras.Log.html#logWarn"><span class="hs-identifier hs-var hs-var">logWarn</span></a></span></span><span> </span><span id="local-6989586621679259227"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259227"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMsg a () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg a () -&gt; Eff effs ()) -&gt; LogMsg a () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; LogMsg a ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel -&gt; a -&gt; LogMessage a
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Warning"><span class="hs-identifier hs-var">Warning</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259227"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logInfo"><span class="hs-identifier hs-type">logInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259226"><span class="annot"><a href="#local-6989586621679259226"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259225"><span class="annot"><a href="#local-6989586621679259225"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259226"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259225"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259226"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259225"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span id="logInfo"><span class="annot"><span class="annottext">logInfo :: a -&gt; Eff effs ()
</span><a href="Control.Monad.Freer.Extras.Log.html#logInfo"><span class="hs-identifier hs-var hs-var">logInfo</span></a></span></span><span> </span><span id="local-6989586621679259224"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259224"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMsg a () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg a () -&gt; Eff effs ()) -&gt; LogMsg a () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; LogMsg a ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel -&gt; a -&gt; LogMessage a
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Info"><span class="hs-identifier hs-var">Info</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259224"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#logError"><span class="hs-identifier hs-type">logError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259223"><span class="annot"><a href="#local-6989586621679259223"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259222"><span class="annot"><a href="#local-6989586621679259222"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259223"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259222"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259223"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259222"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span id="logError"><span class="annot"><span class="annottext">logError :: a -&gt; Eff effs ()
</span><a href="Control.Monad.Freer.Extras.Log.html#logError"><span class="hs-identifier hs-var hs-var">logError</span></a></span></span><span> </span><span id="local-6989586621679259221"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259221"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMsg a () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg a () -&gt; Eff effs ()) -&gt; LogMsg a () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; LogMsg a ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel -&gt; a -&gt; LogMessage a
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Error"><span class="hs-identifier hs-var">Error</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259221"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">-- | Re-interpret a logging effect by mapping the</span><span>
</span><span id="line-185"></span><span class="hs-comment">--   log messages.</span><span>
</span><span id="line-186"></span><span class="hs-comment">--   (Does the same thing as 'Covariant.contramap' for</span><span>
</span><span id="line-187"></span><span class="hs-comment">--   'Control.Tracer.Trace')</span><span>
</span><span id="line-188"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#mapLog"><span class="hs-identifier hs-type">mapLog</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259581"><span class="annot"><a href="#local-6989586621679259581"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259583"><span class="annot"><a href="#local-6989586621679259583"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679259582"><span class="annot"><a href="#local-6989586621679259582"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-190"></span><span>    </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259583"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259582"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259581"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259583"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259581"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259582"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-194"></span><span id="mapLog"><span class="annot"><span class="annottext">mapLog :: (a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#mapLog"><span class="hs-identifier hs-var hs-var">mapLog</span></a></span></span><span> </span><span id="local-6989586621679259220"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679259220"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-195"></span><span>    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-type">LMessage</span></a></span><span> </span><span id="local-6989586621679259219"><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259219"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogMsg b () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg b () -&gt; Eff effs ()) -&gt; LogMsg b () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage b -&gt; LogMsg b ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; LogMessage a -&gt; LogMessage b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679259220"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259219"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | Re-interpret a logging effect by mapping the</span><span>
</span><span id="line-198"></span><span class="hs-comment">--   log messages. Can use other effects.</span><span>
</span><span id="line-199"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#mapMLog"><span class="hs-identifier hs-type">mapMLog</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259218"><span class="annot"><a href="#local-6989586621679259218"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259217"><span class="annot"><a href="#local-6989586621679259217"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679259216"><span class="annot"><a href="#local-6989586621679259216"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-201"></span><span>    </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259217"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259216"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259218"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259216"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259217"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259218"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259216"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-205"></span><span id="mapMLog"><span class="annot"><span class="annottext">mapMLog :: (a -&gt; Eff effs b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#mapMLog"><span class="hs-identifier hs-var hs-var">mapMLog</span></a></span></span><span> </span><span id="local-6989586621679259215"><span class="annot"><span class="annottext">a -&gt; Eff effs b
</span><a href="#local-6989586621679259215"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-206"></span><span>    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-type">LMessage</span></a></span><span> </span><span id="local-6989586621679259214"><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259214"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Eff effs b) -&gt; LogMessage a -&gt; Eff effs (LogMessage b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Eff effs b
</span><a href="#local-6989586621679259215"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259214"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs (LogMessage b)
-&gt; (LogMessage b -&gt; Eff effs ()) -&gt; Eff effs ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">LogMsg b () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg b () -&gt; Eff effs ())
-&gt; (LogMessage b -&gt; LogMsg b ()) -&gt; LogMessage b -&gt; Eff effs ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage b -&gt; LogMsg b ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-comment">-- | Pretty-print the log messages</span><span>
</span><span id="line-209"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#renderLogMessages"><span class="hs-identifier hs-type">renderLogMessages</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259211"><span class="annot"><a href="#local-6989586621679259211"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259210"><span class="annot"><a href="#local-6989586621679259210"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259210"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259211"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259211"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259210"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-216"></span><span id="renderLogMessages"><span class="annot"><span class="annottext">renderLogMessages :: LogMsg a ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#renderLogMessages"><span class="hs-identifier hs-var hs-var">renderLogMessages</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><span class="annottext">(a -&gt; Text) -&gt; LogMsg a ~&gt; Eff effs
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#mapLog"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleDocStream Any -&gt; Text
forall ann. SimpleDocStream ann -&gt; Text
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">Render.renderStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(SimpleDocStream Any -&gt; Text)
-&gt; (a -&gt; SimpleDocStream Any) -&gt; a -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions -&gt; Doc Any -&gt; SimpleDocStream Any
forall ann. LayoutOptions -&gt; Doc ann -&gt; SimpleDocStream ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">layoutPretty</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">defaultLayoutOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc Any -&gt; SimpleDocStream Any)
-&gt; (a -&gt; Doc Any) -&gt; a -&gt; SimpleDocStream Any
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- | Re-interpret a 'Writer' effect by writing the events to the log</span><span>
</span><span id="line-220"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleWriterLog"><span class="hs-identifier hs-type">handleWriterLog</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259206"><span class="annot"><a href="#local-6989586621679259206"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259205"><span class="annot"><a href="#local-6989586621679259205"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679259204"><span class="annot"><a href="#local-6989586621679259204"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259206"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259204"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Traversable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259205"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259206"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogLevel"><span class="hs-identifier hs-type">LogLevel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Writer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259205"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259206"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259204"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259204"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-228"></span><span id="handleWriterLog"><span class="annot"><span class="annottext">handleWriterLog :: (a -&gt; LogLevel) -&gt; Eff (Writer (f a) : effs) ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#handleWriterLog"><span class="hs-identifier hs-var hs-var">handleWriterLog</span></a></span></span><span> </span><span id="local-6989586621679259203"><span class="annot"><span class="annottext">a -&gt; LogLevel
</span><a href="#local-6989586621679259203"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Writer (f a) ~&gt; Eff effs) -&gt; Eff (Writer (f a) : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">((Writer (f a) ~&gt; Eff effs)
 -&gt; Eff (Writer (f a) : effs) ~&gt; Eff effs)
-&gt; (Writer (f a) ~&gt; Eff effs)
-&gt; Eff (Writer (f a) : effs) ~&gt; Eff effs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Tell</span></a></span><span> </span><span id="local-6989586621679259200"><span class="annot"><a href="#local-6989586621679259200"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Eff effs ()) -&gt; f a -&gt; Eff effs ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679259199"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259199"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogMsg a () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg a () -&gt; Eff effs ()) -&gt; LogMsg a () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; LogMsg a ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMessage a -&gt; LogMsg a ()) -&gt; LogMessage a -&gt; LogMsg a ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; a -&gt; LogMessage a
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; LogLevel
</span><a href="#local-6989586621679259203"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259199"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259199"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679259200"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Re-interpret a 'Log' effect with a 'Writer'</span><span>
</span><span id="line-232"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleLogWriter"><span class="hs-identifier hs-type">handleLogWriter</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259198"><span class="annot"><a href="#local-6989586621679259198"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259197"><span class="annot"><a href="#local-6989586621679259197"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621679259196"><span class="annot"><a href="#local-6989586621679259196"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Writer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259197"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259196"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-type">AReview</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259197"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259198"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259198"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259196"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-239"></span><span id="handleLogWriter"><span class="annot"><span class="annottext">handleLogWriter :: AReview w (LogMessage a) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#handleLogWriter"><span class="hs-identifier hs-var hs-var">handleLogWriter</span></a></span></span><span> </span><span id="local-6989586621679259195"><span class="annot"><span class="annottext">AReview w (LogMessage a)
</span><a href="#local-6989586621679259195"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-type">LMessage</span></a></span><span> </span><span id="local-6989586621679259194"><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259194"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">w -&gt; Eff effs ()
forall w (effs :: [* -&gt; *]).
Member (Writer w) effs =&gt;
w -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679259197"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AReview w (LogMessage a) -&gt; LogMessage a -&gt; w
forall b (m :: * -&gt; *) t. MonadReader b m =&gt; AReview t b -&gt; m t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">review</span></a></span><span> </span><span class="annot"><span class="annottext">AReview w (LogMessage a)
</span><a href="#local-6989586621679259195"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259194"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | Ignore all log messages.</span><span>
</span><span id="line-243"></span><span id="local-6989586621679259192"><span id="local-6989586621679259193"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleLogIgnore"><span class="hs-identifier hs-type">handleLogIgnore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259193"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259192"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259192"><span class="hs-identifier hs-type">effs</span></a></span></span></span><span>
</span><span id="line-244"></span><span id="handleLogIgnore"><span class="annot"><span class="annottext">handleLogIgnore :: Eff (LogMsg a : effs) x -&gt; Eff effs x
</span><a href="Control.Monad.Freer.Extras.Log.html#handleLogIgnore"><span class="hs-identifier hs-var hs-var">handleLogIgnore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogMsg a ~&gt; Eff effs) -&gt; Eff (LogMsg a : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">((LogMsg a ~&gt; Eff effs) -&gt; Eff (LogMsg a : effs) ~&gt; Eff effs)
-&gt; (LogMsg a ~&gt; Eff effs) -&gt; Eff (LogMsg a : effs) ~&gt; Eff effs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-type">LMessage</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Eff effs ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-comment">-- | Write the log to stdout using 'Debug.Trace.trace'</span><span>
</span><span id="line-248"></span><span id="local-6989586621679259190"><span id="local-6989586621679259191"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleLogTrace"><span class="hs-identifier hs-type">handleLogTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259191"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259191"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259190"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259190"><span class="hs-identifier hs-type">effs</span></a></span></span></span><span>
</span><span id="line-249"></span><span id="handleLogTrace"><span class="annot"><span class="annottext">handleLogTrace :: Eff (LogMsg a : effs) ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#handleLogTrace"><span class="hs-identifier hs-var hs-var">handleLogTrace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogMsg a ~&gt; Eff effs) -&gt; Eff (LogMsg a : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">((LogMsg a ~&gt; Eff effs) -&gt; Eff (LogMsg a : effs) ~&gt; Eff effs)
-&gt; (LogMsg a ~&gt; Eff effs) -&gt; Eff (LogMsg a : effs) ~&gt; Eff effs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-type">LMessage</span></a></span><span> </span><span id="local-6989586621679259189"><span class="annot"><a href="#local-6989586621679259189"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Eff effs () -&gt; Eff effs ()
forall a. String -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Trace.trace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SimpleDocStream Any -&gt; String
forall ann. SimpleDocStream ann -&gt; String
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">Render.renderString</span></a></span><span> </span><span class="annot"><span class="annottext">(SimpleDocStream Any -&gt; String)
-&gt; (LogMessage a -&gt; SimpleDocStream Any) -&gt; LogMessage a -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions -&gt; Doc Any -&gt; SimpleDocStream Any
forall ann. LayoutOptions -&gt; Doc ann -&gt; SimpleDocStream ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">layoutPretty</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">defaultLayoutOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc Any -&gt; SimpleDocStream Any)
-&gt; (LogMessage a -&gt; Doc Any) -&gt; LogMessage a -&gt; SimpleDocStream Any
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMessage a -&gt; String) -&gt; LogMessage a -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259189"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Eff effs ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">-- | Write a log message before and after an action. Consider using</span><span>
</span><span id="line-253"></span><span class="hs-comment">--   'observeBefore' and 'observeAfter' directly if you need more control</span><span>
</span><span id="line-254"></span><span class="hs-comment">--   over the values that are observed at the call site.</span><span>
</span><span id="line-255"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surround"><span class="hs-identifier hs-type">surround</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259531"><span class="annot"><a href="#local-6989586621679259531"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679259529"><span class="annot"><a href="#local-6989586621679259529"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679259530"><span class="annot"><a href="#local-6989586621679259530"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259531"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259530"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259531"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259530"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259529"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259530"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259529"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-256"></span><span id="surround"><span class="annot"><span class="annottext">surround :: v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surround"><span class="hs-identifier hs-var hs-var">surround</span></a></span></span><span> </span><span id="local-6989586621679259187"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259187"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679259186"><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621679259186"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-257"></span><span>    </span><span id="local-6989586621679259185"><span class="annot"><span class="annottext">ObservationHandle
</span><a href="#local-6989586621679259185"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LogObserve v ObservationHandle -&gt; Eff effs ObservationHandle
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogObserve v ObservationHandle -&gt; Eff effs ObservationHandle)
-&gt; LogObserve v ObservationHandle -&gt; Eff effs ObservationHandle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; LogObserve v ObservationHandle
forall a. a -&gt; LogObserve a ObservationHandle
</span><a href="Control.Monad.Freer.Extras.Log.html#ObserveBefore"><span class="hs-identifier hs-var">ObserveBefore</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259187"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621679259184"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259184"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621679259186"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Member (LogObserve v) effs =&gt;
LogObserve v a -&gt; Eff effs a
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259531"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LogObserve v () -&gt; Eff effs ()) -&gt; LogObserve v () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe v -&gt; ObservationHandle -&gt; LogObserve v ()
forall a. Maybe a -&gt; ObservationHandle -&gt; LogObserve a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#ObserveAfter"><span class="hs-identifier hs-var">ObserveAfter</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">ObservationHandle
</span><a href="#local-6989586621679259185"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; Eff effs a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259184"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-- | @surroundInfo = surround Info@</span><span>
</span><span id="line-263"></span><span id="local-6989586621679259181"><span id="local-6989586621679259182"><span id="local-6989586621679259183"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surroundInfo"><span class="hs-identifier hs-type">surroundInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259183"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259182"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259183"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259182"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259181"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259182"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259181"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-264"></span><span id="surroundInfo"><span class="annot"><span class="annottext">surroundInfo :: v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surroundInfo"><span class="hs-identifier hs-var hs-var">surroundInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMessage v -&gt; Eff effs a -&gt; Eff effs a
forall v a (effs :: [* -&gt; *]).
Member (LogObserve v) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surround"><span class="hs-identifier hs-var">surround</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMessage v -&gt; Eff effs a -&gt; Eff effs a)
-&gt; (v -&gt; LogMessage v) -&gt; v -&gt; Eff effs a -&gt; Eff effs a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; v -&gt; LogMessage v
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Info"><span class="hs-identifier hs-var">Info</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | @surroundDebug = surround Debug@</span><span>
</span><span id="line-267"></span><span id="local-6989586621679259178"><span id="local-6989586621679259179"><span id="local-6989586621679259180"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surroundDebug"><span class="hs-identifier hs-type">surroundDebug</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259180"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259179"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259180"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259179"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259178"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259179"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259178"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-268"></span><span id="surroundDebug"><span class="annot"><span class="annottext">surroundDebug :: v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surroundDebug"><span class="hs-identifier hs-var hs-var">surroundDebug</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMessage v -&gt; Eff effs a -&gt; Eff effs a
forall v a (effs :: [* -&gt; *]).
Member (LogObserve v) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surround"><span class="hs-identifier hs-var">surround</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMessage v -&gt; Eff effs a -&gt; Eff effs a)
-&gt; (v -&gt; LogMessage v) -&gt; v -&gt; Eff effs a -&gt; Eff effs a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; v -&gt; LogMessage v
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-comment">-- | @surroundWarn = surround Warn@</span><span>
</span><span id="line-271"></span><span id="local-6989586621679259175"><span id="local-6989586621679259176"><span id="local-6989586621679259177"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#surroundWarn"><span class="hs-identifier hs-type">surroundWarn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259177"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259176"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679259177"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259176"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259175"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259176"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259175"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-272"></span><span id="surroundWarn"><span class="annot"><span class="annottext">surroundWarn :: v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surroundWarn"><span class="hs-identifier hs-var hs-var">surroundWarn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogMessage v -&gt; Eff effs a -&gt; Eff effs a
forall v a (effs :: [* -&gt; *]).
Member (LogObserve v) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Control.Monad.Freer.Extras.Log.html#surround"><span class="hs-identifier hs-var">surround</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMessage v -&gt; Eff effs a -&gt; Eff effs a)
-&gt; (v -&gt; LogMessage v) -&gt; v -&gt; Eff effs a -&gt; Eff effs a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; v -&gt; LogMessage v
forall a. LogLevel -&gt; a -&gt; LogMessage a
</span><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-var">LogMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Control.Monad.Freer.Extras.Log.html#Warning"><span class="hs-identifier hs-var">Warning</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-comment">-- | How did the observed action end</span><span>
</span><span id="line-275"></span><span class="hs-keyword">data</span><span> </span><span id="ExitMode"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ExitMode"><span class="hs-identifier hs-var">ExitMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-276"></span><span>    </span><span id="Regular"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Regular"><span class="hs-identifier hs-var">Regular</span></a></span></span><span> </span><span class="hs-comment">-- ^ The action was run to completion</span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Irregular"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Irregular"><span class="hs-identifier hs-var">Irregular</span></a></span></span><span> </span><span class="hs-comment">-- ^ Execution of the observed action was cut short. This can happen if you use 'LogObserve' in combination with 'Error', 'NonDet', 'Prompt' or similar effects.</span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259169"><span id="local-6989586621679259171"><span class="annot"><span class="annottext">ExitMode -&gt; ExitMode -&gt; Bool
(ExitMode -&gt; ExitMode -&gt; Bool)
-&gt; (ExitMode -&gt; ExitMode -&gt; Bool) -&gt; Eq ExitMode
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ExitMode -&gt; ExitMode -&gt; Bool
$c/= :: ExitMode -&gt; ExitMode -&gt; Bool
== :: ExitMode -&gt; ExitMode -&gt; Bool
$c== :: ExitMode -&gt; ExitMode -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259154"><span id="local-6989586621679259156"><span id="local-6989586621679259158"><span id="local-6989586621679259160"><span id="local-6989586621679259162"><span id="local-6989586621679259164"><span id="local-6989586621679259166"><span class="annot"><span class="annottext">Eq ExitMode
Eq ExitMode
-&gt; (ExitMode -&gt; ExitMode -&gt; Ordering)
-&gt; (ExitMode -&gt; ExitMode -&gt; Bool)
-&gt; (ExitMode -&gt; ExitMode -&gt; Bool)
-&gt; (ExitMode -&gt; ExitMode -&gt; Bool)
-&gt; (ExitMode -&gt; ExitMode -&gt; Bool)
-&gt; (ExitMode -&gt; ExitMode -&gt; ExitMode)
-&gt; (ExitMode -&gt; ExitMode -&gt; ExitMode)
-&gt; Ord ExitMode
ExitMode -&gt; ExitMode -&gt; Bool
ExitMode -&gt; ExitMode -&gt; Ordering
ExitMode -&gt; ExitMode -&gt; ExitMode
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ExitMode -&gt; ExitMode -&gt; ExitMode
$cmin :: ExitMode -&gt; ExitMode -&gt; ExitMode
max :: ExitMode -&gt; ExitMode -&gt; ExitMode
$cmax :: ExitMode -&gt; ExitMode -&gt; ExitMode
&gt;= :: ExitMode -&gt; ExitMode -&gt; Bool
$c&gt;= :: ExitMode -&gt; ExitMode -&gt; Bool
&gt; :: ExitMode -&gt; ExitMode -&gt; Bool
$c&gt; :: ExitMode -&gt; ExitMode -&gt; Bool
&lt;= :: ExitMode -&gt; ExitMode -&gt; Bool
$c&lt;= :: ExitMode -&gt; ExitMode -&gt; Bool
&lt; :: ExitMode -&gt; ExitMode -&gt; Bool
$c&lt; :: ExitMode -&gt; ExitMode -&gt; Bool
compare :: ExitMode -&gt; ExitMode -&gt; Ordering
$ccompare :: ExitMode -&gt; ExitMode -&gt; Ordering
$cp1Ord :: Eq ExitMode
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259148"><span id="local-6989586621679259150"><span id="local-6989586621679259152"><span class="annot"><span class="annottext">Int -&gt; ExitMode -&gt; ShowS
[ExitMode] -&gt; ShowS
ExitMode -&gt; String
(Int -&gt; ExitMode -&gt; ShowS)
-&gt; (ExitMode -&gt; String) -&gt; ([ExitMode] -&gt; ShowS) -&gt; Show ExitMode
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ExitMode] -&gt; ShowS
$cshowList :: [ExitMode] -&gt; ShowS
show :: ExitMode -&gt; String
$cshow :: ExitMode -&gt; String
showsPrec :: Int -&gt; ExitMode -&gt; ShowS
$cshowsPrec :: Int -&gt; ExitMode -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-comment">-- | An observation with measurements before and after running an action.</span><span>
</span><span id="line-281"></span><span class="hs-keyword">data</span><span> </span><span id="Observation"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Observation"><span class="hs-identifier hs-var">Observation</span></a></span></span><span> </span><span id="local-6989586621679259475"><span class="annot"><a href="#local-6989586621679259475"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679259474"><span class="annot"><a href="#local-6989586621679259474"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-282"></span><span>    </span><span id="Observation"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Observation"><span class="hs-identifier hs-var">Observation</span></a></span></span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="obsLabelStart"><span class="annot"><span class="annottext">Observation v s -&gt; v
</span><a href="Control.Monad.Freer.Extras.Log.html#obsLabelStart"><span class="hs-identifier hs-var hs-var">obsLabelStart</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259475"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-comment">-- ^ Call-site information about the start of the observation</span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="obsStart"><span class="annot"><span class="annottext">Observation v s -&gt; s
</span><a href="Control.Monad.Freer.Extras.Log.html#obsStart"><span class="hs-identifier hs-var hs-var">obsStart</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259474"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-comment">-- ^ Measurement taken before running the action</span><span>
</span><span id="line-285"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="obsLabelEnd"><span class="annot"><span class="annottext">Observation v s -&gt; Maybe v
</span><a href="Control.Monad.Freer.Extras.Log.html#obsLabelEnd"><span class="hs-identifier hs-var hs-var">obsLabelEnd</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259475"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-comment">-- ^ Call-site information about the end of the observation</span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="obsExit"><span class="annot"><span class="annottext">Observation v s -&gt; ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#obsExit"><span class="hs-identifier hs-var hs-var">obsExit</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ExitMode"><span class="hs-identifier hs-type">ExitMode</span></a></span><span> </span><span class="hs-comment">-- ^ 'ExitMode' of the action.</span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">--  | An 'Observation' that doesn't have an 'obsEnd' value yet.</span><span>
</span><span id="line-290"></span><span class="hs-keyword">data</span><span> </span><span id="PartialObservation"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#PartialObservation"><span class="hs-identifier hs-var">PartialObservation</span></a></span></span><span> </span><span id="local-6989586621679259481"><span class="annot"><a href="#local-6989586621679259481"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679259480"><span class="annot"><a href="#local-6989586621679259480"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-291"></span><span>    </span><span id="PartialObservation"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#PartialObservation"><span class="hs-identifier hs-var">PartialObservation</span></a></span></span><span>
</span><span id="line-292"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="obsMsg"><span class="annot"><span class="annottext">PartialObservation v s -&gt; v
</span><a href="Control.Monad.Freer.Extras.Log.html#obsMsg"><span class="hs-identifier hs-var hs-var">obsMsg</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259481"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="obsValue"><span class="annot"><span class="annottext">PartialObservation v s -&gt; s
</span><a href="Control.Monad.Freer.Extras.Log.html#obsValue"><span class="hs-identifier hs-var hs-var">obsValue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259480"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="obsDepth"><span class="annot"><span class="annottext">PartialObservation v s -&gt; Integer
</span><a href="Control.Monad.Freer.Extras.Log.html#obsDepth"><span class="hs-identifier hs-var hs-var">obsDepth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">-- | State of partial observations</span><span>
</span><span id="line-298"></span><span class="hs-keyword">data</span><span> </span><span id="ObsState"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-var">ObsState</span></a></span></span><span> </span><span id="local-6989586621679259499"><span class="annot"><a href="#local-6989586621679259499"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679259498"><span class="annot"><a href="#local-6989586621679259498"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-299"></span><span>    </span><span id="ObsState"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-var">ObsState</span></a></span></span><span>
</span><span id="line-300"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="obsMaxDepth"><span class="annot"><span class="annottext">ObsState v s -&gt; Integer
</span><a href="Control.Monad.Freer.Extras.Log.html#obsMaxDepth"><span class="hs-identifier hs-var hs-var">obsMaxDepth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="obsPartials"><span class="annot"><span class="annottext">ObsState v s -&gt; [PartialObservation v s]
</span><a href="Control.Monad.Freer.Extras.Log.html#obsPartials"><span class="hs-identifier hs-var hs-var">obsPartials</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#PartialObservation"><span class="hs-identifier hs-type">PartialObservation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259499"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259498"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span id="local-6989586621679259487"><span id="local-6989586621679259488"><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#initialState"><span class="hs-identifier hs-type">initialState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259488"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259487"><span class="hs-identifier hs-type">s</span></a></span></span></span><span>
</span><span id="line-305"></span><span id="initialState"><span class="annot"><span class="annottext">initialState :: ObsState v s
</span><a href="Control.Monad.Freer.Extras.Log.html#initialState"><span class="hs-identifier hs-var hs-var">initialState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; [PartialObservation v s] -&gt; ObsState v s
forall v s. Integer -&gt; [PartialObservation v s] -&gt; ObsState v s
</span><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-var">ObsState</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- see note [Logging and Tracing]</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- | Handle the 'LogObserve' effect by recording observations</span><span>
</span><span id="line-309"></span><span class="hs-comment">--   @s@ before and after the observed action, and turning</span><span>
</span><span id="line-310"></span><span class="hs-comment">--   them into 'LogMessage (Observation s)' values.</span><span>
</span><span id="line-311"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleObserve"><span class="hs-identifier hs-type">handleObserve</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259461"><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679259459"><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679259460"><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ How to get the current 's'</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Observation"><span class="hs-identifier hs-type">Observation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- what to do with the observation</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-317"></span><span id="handleObserve"><span class="annot"><span class="annottext">handleObserve :: (v -&gt; Eff effs s)
-&gt; (Observation v s -&gt; Eff effs ())
-&gt; Eff (LogObserve v : effs) ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#handleObserve"><span class="hs-identifier hs-var hs-var">handleObserve</span></a></span></span><span> </span><span id="local-6989586621679259134"><span class="annot"><span class="annottext">v -&gt; Eff effs s
</span><a href="#local-6989586621679259134"><span class="hs-identifier hs-var">getCurrent</span></a></span></span><span> </span><span id="local-6989586621679259133"><span class="annot"><span class="annottext">Observation v s -&gt; Eff effs ()
</span><a href="#local-6989586621679259133"><span class="hs-identifier hs-var">handleObs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-318"></span><span>    </span><span class="annot"><span class="annottext">Eff effs (x, ObsState v s) -&gt; Eff effs x
forall a. Eff effs (a, ObsState v s) -&gt; Eff effs a
</span><a href="#local-6989586621679259132"><span class="hs-identifier hs-var">handleFinalState</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span class="annot"><span class="annottext">(Eff effs (x, ObsState v s) -&gt; Eff effs x)
-&gt; (Eff (LogObserve v : effs) x -&gt; Eff effs (x, ObsState v s))
-&gt; Eff (LogObserve v : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState v s
-&gt; Eff (State (ObsState v s) : effs) x
-&gt; Eff effs (x, ObsState v s)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ObsState v s
forall v s. ObsState v s
</span><a href="Control.Monad.Freer.Extras.Log.html#initialState"><span class="hs-identifier hs-var">initialState</span></a></span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">(Eff (State (ObsState v s) : effs) x -&gt; Eff effs (x, ObsState v s))
-&gt; (Eff (LogObserve v : effs) x
    -&gt; Eff (State (ObsState v s) : effs) x)
-&gt; Eff (LogObserve v : effs) x
-&gt; Eff effs (x, ObsState v s)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (LogObserve v : State (ObsState v s) : effs) x
-&gt; Eff (State (ObsState v s) : effs) x
Eff (LogObserve v : State (ObsState v s) : effs)
~&gt; Eff (State (ObsState v s) : effs)
</span><a href="#local-6989586621679259131"><span class="hs-identifier hs-var">handler</span></a></span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><span class="annottext">(Eff (LogObserve v : State (ObsState v s) : effs) x
 -&gt; Eff (State (ObsState v s) : effs) x)
-&gt; (Eff (LogObserve v : effs) x
    -&gt; Eff (LogObserve v : State (ObsState v s) : effs) x)
-&gt; Eff (LogObserve v : effs) x
-&gt; Eff (State (ObsState v s) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) (a :: * -&gt; *) (b :: * -&gt; *).
Eff (a : effs) ~&gt; Eff (a : b : effs)
Eff (LogObserve v : effs)
~&gt; Eff (LogObserve v : State (ObsState v s) : effs)
</span><a href="Control.Monad.Freer.Extras.Modify.html#raiseUnder"><span class="hs-identifier hs-var">raiseUnder</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-comment">-- empty the stack of partial observations at the very end.</span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><a href="#local-6989586621679259132"><span class="hs-identifier hs-type">handleFinalState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259493"><span class="annot"><a href="#local-6989586621679259493"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679259493"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259493"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-325"></span><span>        </span><span id="local-6989586621679259132"><span class="annot"><span class="annottext">handleFinalState :: Eff effs (a, ObsState v s) -&gt; Eff effs a
</span><a href="#local-6989586621679259132"><span class="hs-identifier hs-var hs-var">handleFinalState</span></a></span></span><span> </span><span id="local-6989586621679259130"><span class="annot"><span class="annottext">Eff effs (a, ObsState v s)
</span><a href="#local-6989586621679259130"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-326"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679259129"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259129"><span class="hs-identifier hs-var">result</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259128"><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259128"><span class="hs-identifier hs-var">finalState</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs (a, ObsState v s)
</span><a href="#local-6989586621679259130"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-327"></span><span>            </span><span class="annot"><span class="annottext">ObsState v s
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe v -&gt; ObsState v s -&gt; Integer -&gt; Eff effs (ObsState v s)
</span><a href="#local-6989586621679259127"><span class="hs-identifier hs-var">handleObserveAfter</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259128"><span class="hs-identifier hs-var">finalState</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-328"></span><span>            </span><span class="annot"><span class="annottext">a -&gt; Eff effs a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259129"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>        </span><span class="hs-comment">-- when an action with the given depth is finished, take the final</span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-comment">-- measurement and clear the stack of partial observations.</span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><a href="#local-6989586621679259127"><span class="hs-identifier hs-type">handleObserveAfter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>        </span><span id="local-6989586621679259127"><span class="annot"><span class="annottext">handleObserveAfter :: Maybe v -&gt; ObsState v s -&gt; Integer -&gt; Eff effs (ObsState v s)
</span><a href="#local-6989586621679259127"><span class="hs-identifier hs-var hs-var">handleObserveAfter</span></a></span></span><span> </span><span id="local-6989586621679259126"><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679259126"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span class="hs-special">{</span><span id="local-6989586621679259125"><span class="annot"><span class="annottext">[PartialObservation v s]
obsPartials :: [PartialObservation v s]
obsPartials :: forall v s. ObsState v s -&gt; [PartialObservation v s]
</span><a href="#local-6989586621679259125"><span class="hs-identifier hs-var hs-var">obsPartials</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679259124"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259124"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-334"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679259123"><span class="annot"><span class="annottext">[PartialObservation v s]
</span><a href="#local-6989586621679259123"><span class="hs-identifier hs-var">finishedPartials</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259122"><span class="annot"><span class="annottext">[PartialObservation v s]
</span><a href="#local-6989586621679259122"><span class="hs-identifier hs-var">remainingPartials</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PartialObservation v s -&gt; Bool)
-&gt; [PartialObservation v s]
-&gt; ([PartialObservation v s], [PartialObservation v s])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">span</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">(&lt;=)</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259124"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Bool)
-&gt; (PartialObservation v s -&gt; Integer)
-&gt; PartialObservation v s
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PartialObservation v s -&gt; Integer
forall v s. PartialObservation v s -&gt; Integer
</span><a href="Control.Monad.Freer.Extras.Log.html#obsDepth"><span class="hs-identifier hs-var hs-var">obsDepth</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PartialObservation v s]
</span><a href="#local-6989586621679259125"><span class="hs-identifier hs-var">obsPartials</span></a></span><span>
</span><span id="line-335"></span><span>                </span><span class="annot"><span class="annottext">[PartialObservation v s]
-&gt; (PartialObservation v s -&gt; Eff effs ()) -&gt; Eff effs ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[PartialObservation v s]
</span><a href="#local-6989586621679259123"><span class="hs-identifier hs-var">finishedPartials</span></a></span><span> </span><span class="annot"><span class="annottext">((PartialObservation v s -&gt; Eff effs ()) -&gt; Eff effs ())
-&gt; (PartialObservation v s -&gt; Eff effs ()) -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#PartialObservation"><span class="hs-identifier hs-type">PartialObservation</span></a></span><span class="hs-special">{</span><span id="local-6989586621679259119"><span class="annot"><span class="annottext">v
obsMsg :: v
obsMsg :: forall v s. PartialObservation v s -&gt; v
</span><a href="#local-6989586621679259119"><span class="hs-identifier hs-var hs-var">obsMsg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259118"><span class="annot"><span class="annottext">s
obsValue :: s
obsValue :: forall v s. PartialObservation v s -&gt; s
</span><a href="#local-6989586621679259118"><span class="hs-identifier hs-var hs-var">obsValue</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679259117"><span class="annot"><span class="annottext">Integer
obsDepth :: Integer
obsDepth :: forall v s. PartialObservation v s -&gt; Integer
</span><a href="#local-6989586621679259117"><span class="hs-identifier hs-var hs-var">obsDepth</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-336"></span><span>                    </span><span class="hs-comment">-- we assume that a 'PartialObservation' was completed</span><span>
</span><span id="line-337"></span><span>                    </span><span class="hs-comment">-- regularly if it is handled at its own depth level.</span><span>
</span><span id="line-338"></span><span>                    </span><span class="hs-comment">-- If the @obsDepth@ is greater than @i@ then one or more</span><span>
</span><span id="line-339"></span><span>                    </span><span class="hs-comment">-- 'LObserveAfter' calls were skipped, which we note with</span><span>
</span><span id="line-340"></span><span>                    </span><span class="hs-comment">-- 'Irregular'.</span><span>
</span><span id="line-341"></span><span>                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679259116"><span class="annot"><span class="annottext">exitMode :: ExitMode
</span><a href="#local-6989586621679259116"><span class="hs-identifier hs-var hs-var">exitMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259117"><span class="hs-identifier hs-var">obsDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259124"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#Regular"><span class="hs-identifier hs-var">Regular</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#Irregular"><span class="hs-identifier hs-var">Irregular</span></a></span><span>
</span><span id="line-342"></span><span>                        </span><span id="local-6989586621679259115"><span class="annot"><span class="annottext">message :: Observation v s
</span><a href="#local-6989586621679259115"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-343"></span><span>                            </span><span class="annot"><span class="annottext">Observation :: forall v s. v -&gt; s -&gt; Maybe v -&gt; ExitMode -&gt; Observation v s
</span><a href="Control.Monad.Freer.Extras.Log.html#Observation"><span class="hs-identifier hs-type">Observation</span></a></span><span>
</span><span id="line-344"></span><span>                                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">obsLabelStart :: v
</span><a href="Control.Monad.Freer.Extras.Log.html#obsLabelStart"><span class="hs-identifier hs-var">obsLabelStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259119"><span class="hs-identifier hs-var">obsMsg</span></a></span><span>
</span><span id="line-345"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obsStart :: s
</span><a href="Control.Monad.Freer.Extras.Log.html#obsStart"><span class="hs-identifier hs-var">obsStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679259118"><span class="hs-identifier hs-var">obsValue</span></a></span><span>
</span><span id="line-346"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obsExit :: ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#obsExit"><span class="hs-identifier hs-var">obsExit</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">ExitMode
</span><a href="#local-6989586621679259116"><span class="hs-identifier hs-var">exitMode</span></a></span><span>
</span><span id="line-347"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obsLabelEnd :: Maybe v
</span><a href="Control.Monad.Freer.Extras.Log.html#obsLabelEnd"><span class="hs-identifier hs-var">obsLabelEnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="#local-6989586621679259116"><span class="hs-identifier hs-var">exitMode</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#Regular"><span class="hs-identifier hs-var">Regular</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679259126"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#Irregular"><span class="hs-identifier hs-var">Irregular</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-348"></span><span>                                </span><span class="hs-special">}</span><span>
</span><span id="line-349"></span><span>                    </span><span class="annot"><span class="annottext">Observation v s -&gt; Eff effs ()
</span><a href="#local-6989586621679259133"><span class="hs-identifier hs-var">handleObs</span></a></span><span> </span><span class="annot"><span class="annottext">Observation v s
</span><a href="#local-6989586621679259115"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-350"></span><span>                </span><span class="annot"><span class="annottext">ObsState v s -&gt; Eff effs (ObsState v s)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState :: forall v s. Integer -&gt; [PartialObservation v s] -&gt; ObsState v s
</span><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">obsMaxDepth :: Integer
</span><a href="Control.Monad.Freer.Extras.Log.html#obsMaxDepth"><span class="hs-identifier hs-var">obsMaxDepth</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259124"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obsPartials :: [PartialObservation v s]
</span><a href="Control.Monad.Freer.Extras.Log.html#obsPartials"><span class="hs-identifier hs-var">obsPartials</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">[PartialObservation v s]
</span><a href="#local-6989586621679259122"><span class="hs-identifier hs-var">remainingPartials</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>        </span><span class="annot"><a href="#local-6989586621679259114"><span class="hs-identifier hs-type">handleObserveBefore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-type">ObservationHandle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>        </span><span id="local-6989586621679259114"><span class="annot"><span class="annottext">handleObserveBefore :: v -&gt; ObsState v s -&gt; Eff effs (ObsState v s, ObservationHandle)
</span><a href="#local-6989586621679259114"><span class="hs-identifier hs-var hs-var">handleObserveBefore</span></a></span></span><span> </span><span id="local-6989586621679259113"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259113"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span class="hs-special">{</span><span id="local-6989586621679259112"><span class="annot"><span class="annottext">[PartialObservation v s]
obsPartials :: [PartialObservation v s]
obsPartials :: forall v s. ObsState v s -&gt; [PartialObservation v s]
</span><a href="#local-6989586621679259112"><span class="hs-identifier hs-var hs-var">obsPartials</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679259111"><span class="annot"><span class="annottext">Integer
obsMaxDepth :: Integer
obsMaxDepth :: forall v s. ObsState v s -&gt; Integer
</span><a href="#local-6989586621679259111"><span class="hs-identifier hs-var hs-var">obsMaxDepth</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-354"></span><span>            </span><span id="local-6989586621679259110"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679259110"><span class="hs-identifier hs-var">current</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">v -&gt; Eff effs s
</span><a href="#local-6989586621679259134"><span class="hs-identifier hs-var">getCurrent</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259113"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-355"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679259109"><span class="annot"><span class="annottext">newMaxDepth :: Integer
</span><a href="#local-6989586621679259109"><span class="hs-identifier hs-var hs-var">newMaxDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259111"><span class="hs-identifier hs-var">obsMaxDepth</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-356"></span><span>                </span><span id="local-6989586621679259107"><span class="annot"><span class="annottext">msg :: PartialObservation v s
</span><a href="#local-6989586621679259107"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PartialObservation :: forall v s. v -&gt; s -&gt; Integer -&gt; PartialObservation v s
</span><a href="Control.Monad.Freer.Extras.Log.html#PartialObservation"><span class="hs-identifier hs-type">PartialObservation</span></a></span><span>
</span><span id="line-357"></span><span>                        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">obsMsg :: v
</span><a href="Control.Monad.Freer.Extras.Log.html#obsMsg"><span class="hs-identifier hs-var">obsMsg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259113"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-358"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obsValue :: s
</span><a href="Control.Monad.Freer.Extras.Log.html#obsValue"><span class="hs-identifier hs-var">obsValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679259110"><span class="hs-identifier hs-var">current</span></a></span><span>
</span><span id="line-359"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">obsDepth :: Integer
</span><a href="Control.Monad.Freer.Extras.Log.html#obsDepth"><span class="hs-identifier hs-var">obsDepth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259109"><span class="hs-identifier hs-var">newMaxDepth</span></a></span><span>
</span><span id="line-360"></span><span>                        </span><span class="hs-special">}</span><span>
</span><span id="line-361"></span><span>                </span><span id="local-6989586621679259106"><span class="annot"><span class="annottext">newState :: ObsState v s
</span><a href="#local-6989586621679259106"><span class="hs-identifier hs-var hs-var">newState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ObsState :: forall v s. Integer -&gt; [PartialObservation v s] -&gt; ObsState v s
</span><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">obsMaxDepth :: Integer
</span><a href="Control.Monad.Freer.Extras.Log.html#obsMaxDepth"><span class="hs-identifier hs-var">obsMaxDepth</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259109"><span class="hs-identifier hs-var">newMaxDepth</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">obsPartials :: [PartialObservation v s]
</span><a href="Control.Monad.Freer.Extras.Log.html#obsPartials"><span class="hs-identifier hs-var">obsPartials</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">PartialObservation v s
</span><a href="#local-6989586621679259107"><span class="hs-identifier hs-var">msg</span></a></span><span class="annot"><span class="annottext">PartialObservation v s
-&gt; [PartialObservation v s] -&gt; [PartialObservation v s]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span class="annot"><span class="annottext">[PartialObservation v s]
</span><a href="#local-6989586621679259112"><span class="hs-identifier hs-var">obsPartials</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-362"></span><span>            </span><span class="annot"><span class="annottext">(ObsState v s, ObservationHandle)
-&gt; Eff effs (ObsState v s, ObservationHandle)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259106"><span class="hs-identifier hs-var">newState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ObservationHandle
</span><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-var">ObservationHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259109"><span class="hs-identifier hs-var">newMaxDepth</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>        </span><span class="annot"><a href="#local-6989586621679259131"><span class="hs-identifier hs-type">handler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-365"></span><span>            </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>            </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259460"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>        </span><span id="local-6989586621679259131"><span class="annot"><span class="annottext">handler :: Eff (LogObserve v : State (ObsState v s) : effs) x
-&gt; Eff (State (ObsState v s) : effs) x
</span><a href="#local-6989586621679259131"><span class="hs-identifier hs-var hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogObserve v ~&gt; Eff (State (ObsState v s) : effs))
-&gt; Eff (LogObserve v : State (ObsState v s) : effs)
   ~&gt; Eff (State (ObsState v s) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">((LogObserve v ~&gt; Eff (State (ObsState v s) : effs))
 -&gt; Eff (LogObserve v : State (ObsState v s) : effs)
    ~&gt; Eff (State (ObsState v s) : effs))
-&gt; (LogObserve v ~&gt; Eff (State (ObsState v s) : effs))
-&gt; Eff (LogObserve v : State (ObsState v s) : effs)
   ~&gt; Eff (State (ObsState v s) : effs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-368"></span><span>            </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObserveBefore"><span class="hs-identifier hs-type">ObserveBefore</span></a></span><span> </span><span id="local-6989586621679259105"><span class="annot"><a href="#local-6989586621679259105"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-369"></span><span>                </span><span id="local-6989586621679259104"><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259104"><span class="hs-identifier hs-var">currentState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State (ObsState v s)) effs =&gt;
Eff effs (ObsState v s)
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679259103"><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259103"><span class="hs-identifier hs-var">newState</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259102"><span class="annot"><span class="annottext">ObservationHandle
</span><a href="#local-6989586621679259102"><span class="hs-identifier hs-var">handle</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs (ObsState v s, ObservationHandle)
-&gt; Eff
     (State (ObsState v s) : effs) (ObsState v s, ObservationHandle)
forall (effs :: [* -&gt; *]) a (e :: * -&gt; *).
Eff effs a -&gt; Eff (e : effs) a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; ObsState v s -&gt; Eff effs (ObsState v s, ObservationHandle)
</span><a href="#local-6989586621679259114"><span class="hs-identifier hs-var">handleObserveBefore</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679259105"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259104"><span class="hs-identifier hs-var">currentState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>                </span><span class="annot"><span class="annottext">ObsState v s -&gt; Eff (State (ObsState v s) : effs) ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259103"><span class="hs-identifier hs-var">newState</span></a></span><span>
</span><span id="line-372"></span><span>                </span><span class="annot"><span class="annottext">ObservationHandle
-&gt; Eff (State (ObsState v s) : effs) ObservationHandle
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ObservationHandle
</span><a href="#local-6989586621679259102"><span class="hs-identifier hs-var">handle</span></a></span><span>
</span><span id="line-373"></span><span>            </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObserveAfter"><span class="hs-identifier hs-type">ObserveAfter</span></a></span><span> </span><span id="local-6989586621679259100"><span class="annot"><a href="#local-6989586621679259100"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObservationHandle"><span class="hs-identifier hs-type">ObservationHandle</span></a></span><span> </span><span id="local-6989586621679259099"><span class="annot"><a href="#local-6989586621679259099"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>                </span><span id="local-6989586621679259098"><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259098"><span class="hs-identifier hs-var">currentState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State (ObsState v s)) effs =&gt;
Eff effs (ObsState v s)
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObsState"><span class="hs-identifier hs-type">ObsState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259461"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259459"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>                </span><span id="local-6989586621679259097"><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259097"><span class="hs-identifier hs-var">newState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs (ObsState v s)
-&gt; Eff (State (ObsState v s) : effs) (ObsState v s)
forall (effs :: [* -&gt; *]) a (e :: * -&gt; *).
Eff effs a -&gt; Eff (e : effs) a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe v -&gt; ObsState v s -&gt; Integer -&gt; Eff effs (ObsState v s)
</span><a href="#local-6989586621679259127"><span class="hs-identifier hs-var">handleObserveAfter</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679259100"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259098"><span class="hs-identifier hs-var">currentState</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679259099"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>                </span><span class="annot"><span class="annottext">ObsState v s -&gt; Eff (State (ObsState v s) : effs) ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">ObsState v s
</span><a href="#local-6989586621679259097"><span class="hs-identifier hs-var">newState</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="hs-comment">-- | Interpret the 'LogObserve' effect by logging a &quot;start&quot; message</span><span>
</span><span id="line-379"></span><span class="hs-comment">--   before the action and an &quot;end&quot; message after the action.</span><span>
</span><span id="line-380"></span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#handleObserveLog"><span class="hs-identifier hs-type">handleObserveLog</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-381"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679259096"><span class="annot"><a href="#local-6989586621679259096"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMsg"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679259096"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-383"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259096"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679259096"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-385"></span><span id="handleObserveLog"><span class="annot"><span class="annottext">handleObserveLog :: Eff (LogObserve (LogMessage Text) : effs) ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#handleObserveLog"><span class="hs-identifier hs-var hs-var">handleObserveLog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><span class="annottext">(LogMessage Text -&gt; Eff effs ())
-&gt; (Observation (LogMessage Text) () -&gt; Eff effs ())
-&gt; Eff (LogObserve (LogMessage Text) : effs) ~&gt; Eff effs
forall v s (effs :: [* -&gt; *]).
(v -&gt; Eff effs s)
-&gt; (Observation v s -&gt; Eff effs ())
-&gt; Eff (LogObserve v : effs) ~&gt; Eff effs
</span><a href="Control.Monad.Freer.Extras.Log.html#handleObserve"><span class="hs-identifier hs-var">handleObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">LogMessage Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Eff effs ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Observation (LogMessage Text) () -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]) s.
(Semigroup a, IsString a, FindElem (LogMsg a) effs) =&gt;
Observation (LogMessage a) s -&gt; Eff effs ()
</span><a href="#local-6989586621679259095"><span class="hs-identifier hs-var">handleAfter</span></a></span><span>
</span><span id="line-387"></span><span>    </span><span class="annot"><span class="annottext">(Eff (LogObserve (LogMessage Text) : effs) x -&gt; Eff effs x)
-&gt; (Eff (LogObserve (LogMessage Text) : effs) x
    -&gt; Eff (LogObserve (LogMessage Text) : effs) x)
-&gt; Eff (LogObserve (LogMessage Text) : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogObserve (LogMessage Text)
 ~&gt; Eff (LogObserve (LogMessage Text) : effs))
-&gt; Eff (LogObserve (LogMessage Text) : effs)
   ~&gt; Eff (LogObserve (LogMessage Text) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
Member eff effs =&gt;
(eff ~&gt; Eff effs) -&gt; Eff effs ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpose</span></a></span><span> </span><span class="annot"><span class="annottext">LogObserve (LogMessage Text)
~&gt; Eff (LogObserve (LogMessage Text) : effs)
</span><a href="#local-6989586621679259093"><span class="hs-identifier hs-var">handleBefore</span></a></span><span>
</span><span id="line-388"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-389"></span><span>            </span><span class="annot"><a href="#local-6989586621679259093"><span class="hs-identifier hs-type">handleBefore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679259096"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>            </span><span id="local-6989586621679259093"><span class="annot"><span class="annottext">handleBefore :: LogObserve (LogMessage Text) x
-&gt; Eff (LogObserve (LogMessage Text) : effs) x
</span><a href="#local-6989586621679259093"><span class="hs-identifier hs-var hs-var">handleBefore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-391"></span><span>                    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObserveBefore"><span class="hs-identifier hs-type">ObserveBefore</span></a></span><span> </span><span id="local-6989586621679259092"><span class="annot"><span class="annottext">LogMessage Text
</span><a href="#local-6989586621679259092"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-392"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679259091"><span class="annot"><span class="annottext">msg' :: LogMessage Text
</span><a href="#local-6989586621679259091"><span class="hs-identifier hs-var hs-var">msg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; LogMessage Text -&gt; LogMessage Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; start&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LogMessage Text
</span><a href="#local-6989586621679259092"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-393"></span><span>                        </span><span class="annot"><span class="annottext">LogMsg Text () -&gt; Eff (LogObserve (LogMessage Text) : effs) ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg Text () -&gt; Eff (LogObserve (LogMessage Text) : effs) ())
-&gt; LogMsg Text () -&gt; Eff (LogObserve (LogMessage Text) : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage Text -&gt; LogMsg Text ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage Text
</span><a href="#local-6989586621679259091"><span class="hs-identifier hs-var">msg'</span></a></span><span>
</span><span id="line-394"></span><span>                        </span><span class="annot"><span class="annottext">LogObserve (LogMessage Text) ObservationHandle
-&gt; Eff (LogObserve (LogMessage Text) : effs) ObservationHandle
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogObserve (LogMessage Text) ObservationHandle
 -&gt; Eff (LogObserve (LogMessage Text) : effs) ObservationHandle)
-&gt; LogObserve (LogMessage Text) ObservationHandle
-&gt; Eff (LogObserve (LogMessage Text) : effs) ObservationHandle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage Text -&gt; LogObserve (LogMessage Text) ObservationHandle
forall a. a -&gt; LogObserve a ObservationHandle
</span><a href="Control.Monad.Freer.Extras.Log.html#ObserveBefore"><span class="hs-identifier hs-var">ObserveBefore</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage Text
</span><a href="#local-6989586621679259092"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-395"></span><span>                    </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#ObserveAfter"><span class="hs-identifier hs-type">ObserveAfter</span></a></span><span> </span><span id="local-6989586621679259090"><span class="annot"><span class="annottext">Maybe (LogMessage Text)
</span><a href="#local-6989586621679259090"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span id="local-6989586621679259089"><span class="annot"><span class="annottext">ObservationHandle
</span><a href="#local-6989586621679259089"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage Text)) effs =&gt;
LogObserve (LogMessage Text) a -&gt; Eff effs a
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogObserve"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#LogMessage"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(LogObserve (LogMessage Text) ()
 -&gt; Eff (LogObserve (LogMessage Text) : effs) ())
-&gt; LogObserve (LogMessage Text) ()
-&gt; Eff (LogObserve (LogMessage Text) : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LogMessage Text)
-&gt; ObservationHandle -&gt; LogObserve (LogMessage Text) ()
forall a. Maybe a -&gt; ObservationHandle -&gt; LogObserve a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#ObserveAfter"><span class="hs-identifier hs-var">ObserveAfter</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LogMessage Text)
</span><a href="#local-6989586621679259090"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">ObservationHandle
</span><a href="#local-6989586621679259089"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-396"></span><span>            </span><span id="local-6989586621679259095"><span class="annot"><span class="annottext">handleAfter :: Observation (LogMessage a) s -&gt; Eff effs ()
</span><a href="#local-6989586621679259095"><span class="hs-identifier hs-var hs-var">handleAfter</span></a></span></span><span> </span><span class="annot"><a href="Control.Monad.Freer.Extras.Log.html#Observation"><span class="hs-identifier hs-type">Observation</span></a></span><span class="hs-special">{</span><span id="local-6989586621679259088"><span class="annot"><span class="annottext">LogMessage a
obsLabelStart :: LogMessage a
obsLabelStart :: forall v s. Observation v s -&gt; v
</span><a href="#local-6989586621679259088"><span class="hs-identifier hs-var hs-var">obsLabelStart</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679259087"><span class="annot"><span class="annottext">ExitMode
obsExit :: ExitMode
obsExit :: forall v s. Observation v s -&gt; ExitMode
</span><a href="#local-6989586621679259087"><span class="hs-identifier hs-var hs-var">obsExit</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-397"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679259086"><span class="annot"><span class="annottext">msg' :: LogMessage a
</span><a href="#local-6989586621679259086"><span class="hs-identifier hs-var hs-var">msg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; LogMessage a -&gt; LogMessage a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679259085"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259085"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="#local-6989586621679259087"><span class="hs-identifier hs-var">obsExit</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#Regular"><span class="hs-identifier hs-var">Regular</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259085"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot; end&quot;</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">ExitMode
</span><a href="Control.Monad.Freer.Extras.Log.html#Irregular"><span class="hs-identifier hs-var">Irregular</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679259085"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot; end (irregular)&quot;</span></span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259088"><span class="hs-identifier hs-var">obsLabelStart</span></a></span><span>
</span><span id="line-398"></span><span>                </span><span class="annot"><span class="annottext">LogMsg a () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg a () -&gt; Eff effs ()) -&gt; LogMsg a () -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a -&gt; LogMsg a ()
forall a. LogMessage a -&gt; LogMsg a ()
</span><a href="Control.Monad.Freer.Extras.Log.html#LMessage"><span class="hs-identifier hs-var">LMessage</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage a
</span><a href="#local-6989586621679259086"><span class="hs-identifier hs-var">msg'</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span id="local-6989586621679259083"><span id="local-6989586621679259084"><span id="observeAfter"><span id="observeBefore"><span id="local-6989586621679259535"><span id="local-6989586621679259536"><span class="hs-identifier">makeEffect</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">LogObserve</span></span></span></span></span></span></span><span>
</span><span id="line-401"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds        #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE MonoLocalBinds   #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes       #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators    #-}</span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.ChainIndex.Server</span><span class="hs-special">(</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Plutus.ChainIndex.Server.html#serveChainIndexQueryServer"><span class="hs-identifier">serveChainIndexQueryServer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Plutus.ChainIndex.Server.html#serveChainIndex"><span class="hs-identifier">serveChainIndex</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&gt;=&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier">Control.Monad.Except</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">E</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Eff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Member</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator">(~&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Error</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">runError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">throwError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Modify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">raiseEnd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MonadIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">liftIO</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/dy85hyx24kbdxbcbs19gvac43vbvvnjd-bytestring-lib-bytestring-0.10.12.0-haddock-doc/share/doc/bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSL</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/snd5q6v3qrq7cdxpn9nlwg98vvy50j53-data-default-lib-data-default-0.7.1.1-haddock-doc/share/doc/data-default/html/src"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier">Network.Wai.Handler.Warp</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Warp</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.html"><span class="hs-identifier">Plutus.ChainIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.html#RunRequirements"><span class="hs-identifier">RunRequirements</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.html#runChainIndexEffects"><span class="hs-identifier">runChainIndexEffects</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html"><span class="hs-identifier">Plutus.ChainIndex.Api</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#API"><span class="hs-identifier">API</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#FromHashAPI"><span class="hs-identifier">FromHashAPI</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#FullAPI"><span class="hs-identifier">FullAPI</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#QueryAtAddressRequest"><span class="hs-identifier">QueryAtAddressRequest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#QueryAtAddressRequest"><span class="hs-identifier">QueryAtAddressRequest</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>                              </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#TxoAtAddressRequest"><span class="hs-identifier">TxoAtAddressRequest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#TxoAtAddressRequest"><span class="hs-identifier">TxoAtAddressRequest</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#UtxoAtAddressRequest"><span class="hs-identifier">UtxoAtAddressRequest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#UtxoAtAddressRequest"><span class="hs-identifier">UtxoAtAddressRequest</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>                              </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#UtxoWithCurrencyRequest"><span class="hs-identifier">UtxoWithCurrencyRequest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#UtxoWithCurrencyRequest"><span class="hs-identifier">UtxoWithCurrencyRequest</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#swagger"><span class="hs-identifier">swagger</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html"><span class="hs-identifier">Plutus.ChainIndex.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexControlEffect"><span class="hs-identifier">ChainIndexControlEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexQueryEffect"><span class="hs-identifier">ChainIndexQueryEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html"><span class="hs-identifier">Plutus.ChainIndex.Effects</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">E</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier">Servant.API</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator">(:&lt;|&gt;)</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier">Servant.API.ContentTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier">NoContent</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">Servant.Server</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">Handler</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">ServerError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">ServerT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">err404</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">err500</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">errBody</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">hoistServer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">serve</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="annot"><a href="Plutus.ChainIndex.Server.html#serveChainIndexQueryServer"><span class="hs-identifier hs-type">serveChainIndexQueryServer</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-comment">-- ^ Port</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.html#RunRequirements"><span class="hs-identifier hs-type">RunRequirements</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span id="serveChainIndexQueryServer"><span class="annot"><span class="annottext">serveChainIndexQueryServer :: Int -&gt; RunRequirements -&gt; IO ()
</span><a href="Plutus.ChainIndex.Server.html#serveChainIndexQueryServer"><span class="hs-identifier hs-var hs-var">serveChainIndexQueryServer</span></a></span></span><span> </span><span id="local-6989586621679726957"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679726957"><span class="hs-identifier hs-var">port</span></a></span></span><span> </span><span id="local-6989586621679726956"><span class="annot"><span class="annottext">RunRequirements
</span><a href="#local-6989586621679726956"><span class="hs-identifier hs-var">runReq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679726955"><span class="annot"><span class="annottext">server :: ServerT API Handler
</span><a href="#local-6989586621679726955"><span class="hs-identifier hs-var hs-var">server</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy API
-&gt; (forall x.
    Eff
      '[Error ServerError, ChainIndexQueryEffect,
        ChainIndexControlEffect]
      x
    -&gt; Handler x)
-&gt; ServerT
     API
     (Eff
        '[Error ServerError, ChainIndexQueryEffect,
          ChainIndexControlEffect])
-&gt; ServerT API Handler
forall api (m :: * -&gt; *) (n :: * -&gt; *).
HasServer api '[] =&gt;
Proxy api
-&gt; (forall x. m x -&gt; n x) -&gt; ServerT api m -&gt; ServerT api n
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">hoistServer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy API
forall k (t :: k). Proxy t
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#API"><span class="hs-identifier hs-type">API</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunRequirements
-&gt; forall x.
   Eff
     '[Error ServerError, ChainIndexQueryEffect,
       ChainIndexControlEffect]
     x
   -&gt; Handler x
</span><a href="Plutus.ChainIndex.Server.html#runChainIndexQuery"><span class="hs-identifier hs-var">runChainIndexQuery</span></a></span><span> </span><span class="annot"><span class="annottext">RunRequirements
</span><a href="#local-6989586621679726956"><span class="hs-identifier hs-var">runReq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ServerT
  API
  (Eff
     '[Error ServerError, ChainIndexQueryEffect,
       ChainIndexControlEffect])
forall (effs :: [* -&gt; *]).
(Member (Error ServerError) effs,
 Member ChainIndexQueryEffect effs,
 Member ChainIndexControlEffect effs) =&gt;
ServerT API (Eff effs)
</span><a href="Plutus.ChainIndex.Server.html#serveChainIndex"><span class="hs-identifier hs-var">serveChainIndex</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; Application -&gt; IO ()
</span><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier hs-var">Warp.run</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679726957"><span class="hs-identifier hs-var">port</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy FullAPI -&gt; Server FullAPI -&gt; Application
forall api.
HasServer api '[] =&gt;
Proxy api -&gt; Server api -&gt; Application
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">serve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy FullAPI
forall k (t :: k). Proxy t
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#FullAPI"><span class="hs-identifier hs-type">FullAPI</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handler NoContent
:&lt;|&gt; (((DatumHash -&gt; Handler Datum)
       :&lt;|&gt; ((ValidatorHash -&gt; Handler (Versioned Validator))
             :&lt;|&gt; ((MintingPolicyHash -&gt; Handler (Versioned MintingPolicy))
                   :&lt;|&gt; ((StakeValidatorHash -&gt; Handler (Versioned StakeValidator))
                         :&lt;|&gt; (RedeemerHash -&gt; Handler Redeemer)))))
      :&lt;|&gt; ((TxOutRef -&gt; Handler DecoratedTxOut)
            :&lt;|&gt; ((TxOutRef -&gt; Handler DecoratedTxOut)
                  :&lt;|&gt; ((TxId -&gt; Handler ChainIndexTx)
                        :&lt;|&gt; ((TxOutRef -&gt; Handler IsUtxoResponse)
                              :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Handler UtxosResponse)
                                    :&lt;|&gt; ((QueryAtAddressRequest
                                           -&gt; Handler (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                          :&lt;|&gt; ((QueryAtAddressRequest
                                                 -&gt; Handler (QueryResponse [Datum]))
                                                :&lt;|&gt; ((UtxoWithCurrencyRequest
                                                       -&gt; Handler UtxosResponse)
                                                      :&lt;|&gt; (([TxId] -&gt; Handler [ChainIndexTx])
                                                            :&lt;|&gt; ((TxoAtAddressRequest
                                                                   -&gt; Handler TxosResponse)
                                                                  :&lt;|&gt; (Handler Tip
                                                                        :&lt;|&gt; (Handler NoContent
                                                                              :&lt;|&gt; Handler
                                                                                     Diagnostics)))))))))))))
ServerT API Handler
</span><a href="#local-6989586621679726955"><span class="hs-identifier hs-var">server</span></a></span><span> </span><span class="annot"><span class="annottext">(Handler NoContent
 :&lt;|&gt; (((DatumHash -&gt; Handler Datum)
        :&lt;|&gt; ((ValidatorHash -&gt; Handler (Versioned Validator))
              :&lt;|&gt; ((MintingPolicyHash -&gt; Handler (Versioned MintingPolicy))
                    :&lt;|&gt; ((StakeValidatorHash -&gt; Handler (Versioned StakeValidator))
                          :&lt;|&gt; (RedeemerHash -&gt; Handler Redeemer)))))
       :&lt;|&gt; ((TxOutRef -&gt; Handler DecoratedTxOut)
             :&lt;|&gt; ((TxOutRef -&gt; Handler DecoratedTxOut)
                   :&lt;|&gt; ((TxId -&gt; Handler ChainIndexTx)
                         :&lt;|&gt; ((TxOutRef -&gt; Handler IsUtxoResponse)
                               :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Handler UtxosResponse)
                                     :&lt;|&gt; ((QueryAtAddressRequest
                                            -&gt; Handler (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                           :&lt;|&gt; ((QueryAtAddressRequest
                                                  -&gt; Handler (QueryResponse [Datum]))
                                                 :&lt;|&gt; ((UtxoWithCurrencyRequest
                                                        -&gt; Handler UtxosResponse)
                                                       :&lt;|&gt; (([TxId] -&gt; Handler [ChainIndexTx])
                                                             :&lt;|&gt; ((TxoAtAddressRequest
                                                                    -&gt; Handler TxosResponse)
                                                                   :&lt;|&gt; (Handler Tip
                                                                         :&lt;|&gt; (Handler NoContent
                                                                               :&lt;|&gt; Handler
                                                                                      Diagnostics))))))))))))))
-&gt; (Handler Value
    :&lt;|&gt; (Handler
            (SwaggerUiHtml &quot;swagger-ui&quot; (&quot;swagger.json&quot; :&gt; Get '[JSON] Value))
          :&lt;|&gt; (Handler
                  (SwaggerUiHtml &quot;swagger-ui&quot; (&quot;swagger.json&quot; :&gt; Get '[JSON] Value))
                :&lt;|&gt; Tagged Handler Application)))
-&gt; (Handler NoContent
    :&lt;|&gt; (((DatumHash -&gt; Handler Datum)
           :&lt;|&gt; ((ValidatorHash -&gt; Handler (Versioned Validator))
                 :&lt;|&gt; ((MintingPolicyHash -&gt; Handler (Versioned MintingPolicy))
                       :&lt;|&gt; ((StakeValidatorHash -&gt; Handler (Versioned StakeValidator))
                             :&lt;|&gt; (RedeemerHash -&gt; Handler Redeemer)))))
          :&lt;|&gt; ((TxOutRef -&gt; Handler DecoratedTxOut)
                :&lt;|&gt; ((TxOutRef -&gt; Handler DecoratedTxOut)
                      :&lt;|&gt; ((TxId -&gt; Handler ChainIndexTx)
                            :&lt;|&gt; ((TxOutRef -&gt; Handler IsUtxoResponse)
                                  :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Handler UtxosResponse)
                                        :&lt;|&gt; ((QueryAtAddressRequest
                                               -&gt; Handler
                                                    (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                              :&lt;|&gt; ((QueryAtAddressRequest
                                                     -&gt; Handler (QueryResponse [Datum]))
                                                    :&lt;|&gt; ((UtxoWithCurrencyRequest
                                                           -&gt; Handler UtxosResponse)
                                                          :&lt;|&gt; (([TxId] -&gt; Handler [ChainIndexTx])
                                                                :&lt;|&gt; ((TxoAtAddressRequest
                                                                       -&gt; Handler TxosResponse)
                                                                      :&lt;|&gt; (Handler Tip
                                                                            :&lt;|&gt; (Handler NoContent
                                                                                  :&lt;|&gt; Handler
                                                                                         Diagnostics))))))))))))))
   :&lt;|&gt; (Handler Value
         :&lt;|&gt; (Handler
                 (SwaggerUiHtml &quot;swagger-ui&quot; (&quot;swagger.json&quot; :&gt; Get '[JSON] Value))
               :&lt;|&gt; (Handler
                       (SwaggerUiHtml &quot;swagger-ui&quot; (&quot;swagger.json&quot; :&gt; Get '[JSON] Value))
                     :&lt;|&gt; Tagged Handler Application)))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Handler Value
:&lt;|&gt; (Handler
        (SwaggerUiHtml &quot;swagger-ui&quot; (&quot;swagger.json&quot; :&gt; Get '[JSON] Value))
      :&lt;|&gt; (Handler
              (SwaggerUiHtml &quot;swagger-ui&quot; (&quot;swagger.json&quot; :&gt; Get '[JSON] Value))
            :&lt;|&gt; Tagged Handler Application))
forall (dir :: Symbol) api.
(Server api ~ Handler Value) =&gt;
Server (SwaggerSchemaUI' dir api)
</span><a href="Plutus.ChainIndex.Api.html#swagger"><span class="hs-identifier hs-var">swagger</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="annot"><a href="Plutus.ChainIndex.Server.html#runChainIndexQuery"><span class="hs-identifier hs-type">runChainIndexQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Plutus.ChainIndex.html#RunRequirements"><span class="hs-identifier hs-type">RunRequirements</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">ServerError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexQueryEffect"><span class="hs-identifier hs-type">ChainIndexQueryEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexControlEffect"><span class="hs-identifier hs-type">ChainIndexControlEffect</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">Handler</span></a></span><span>
</span><span id="line-45"></span><span id="runChainIndexQuery"><span class="annot"><span class="annottext">runChainIndexQuery :: RunRequirements
-&gt; forall x.
   Eff
     '[Error ServerError, ChainIndexQueryEffect,
       ChainIndexControlEffect]
     x
   -&gt; Handler x
</span><a href="Plutus.ChainIndex.Server.html#runChainIndexQuery"><span class="hs-identifier hs-var hs-var">runChainIndexQuery</span></a></span></span><span> </span><span id="local-6989586621679726950"><span class="annot"><span class="annottext">RunRequirements
</span><a href="#local-6989586621679726950"><span class="hs-identifier hs-var">runReq</span></a></span></span><span> </span><span id="local-6989586621679726949"><span class="annot"><span class="annottext">Eff
  '[Error ServerError, ChainIndexQueryEffect,
    ChainIndexControlEffect]
  x
</span><a href="#local-6989586621679726949"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-46"></span><span>    </span><span id="local-6989586621679726948"><span class="annot"><span class="annottext">Either ChainIndexError (Either ServerError x)
</span><a href="#local-6989586621679726948"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Either ChainIndexError (Either ServerError x))
-&gt; Handler (Either ChainIndexError (Either ServerError x))
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Either ChainIndexError (Either ServerError x))
 -&gt; Handler (Either ChainIndexError (Either ServerError x)))
-&gt; IO (Either ChainIndexError (Either ServerError x))
-&gt; Handler (Either ChainIndexError (Either ServerError x))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RunRequirements
-&gt; Eff
     '[ChainIndexQueryEffect, ChainIndexControlEffect,
       BeamEffect Sqlite]
     (Either ServerError x)
-&gt; IO (Either ChainIndexError (Either ServerError x))
forall a.
RunRequirements
-&gt; Eff
     '[ChainIndexQueryEffect, ChainIndexControlEffect,
       BeamEffect Sqlite]
     a
-&gt; IO (Either ChainIndexError a)
</span><a href="Plutus.ChainIndex.html#runChainIndexEffects"><span class="hs-identifier hs-var">runChainIndexEffects</span></a></span><span> </span><span class="annot"><span class="annottext">RunRequirements
</span><a href="#local-6989586621679726950"><span class="hs-identifier hs-var">runReq</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   '[ChainIndexQueryEffect, ChainIndexControlEffect,
     BeamEffect Sqlite]
   (Either ServerError x)
 -&gt; IO (Either ChainIndexError (Either ServerError x)))
-&gt; Eff
     '[ChainIndexQueryEffect, ChainIndexControlEffect,
       BeamEffect Sqlite]
     (Either ServerError x)
-&gt; IO (Either ChainIndexError (Either ServerError x))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  '[Error ServerError, ChainIndexQueryEffect,
    ChainIndexControlEffect, BeamEffect Sqlite]
  x
-&gt; Eff
     '[ChainIndexQueryEffect, ChainIndexControlEffect,
       BeamEffect Sqlite]
     (Either ServerError x)
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; Eff effs (Either e a)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runError</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   '[Error ServerError, ChainIndexQueryEffect,
     ChainIndexControlEffect, BeamEffect Sqlite]
   x
 -&gt; Eff
      '[ChainIndexQueryEffect, ChainIndexControlEffect,
        BeamEffect Sqlite]
      (Either ServerError x))
-&gt; Eff
     '[Error ServerError, ChainIndexQueryEffect,
       ChainIndexControlEffect, BeamEffect Sqlite]
     x
-&gt; Eff
     '[ChainIndexQueryEffect, ChainIndexControlEffect,
       BeamEffect Sqlite]
     (Either ServerError x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  '[Error ServerError, ChainIndexQueryEffect,
    ChainIndexControlEffect]
  x
-&gt; Eff
     '[Error ServerError, ChainIndexQueryEffect,
       ChainIndexControlEffect, BeamEffect Sqlite]
     x
forall (effs :: [* -&gt; *]) (as :: [* -&gt; *]).
CanWeakenEnd as effs =&gt;
Eff as ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">raiseEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  '[Error ServerError, ChainIndexQueryEffect,
    ChainIndexControlEffect]
  x
</span><a href="#local-6989586621679726949"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either ChainIndexError (Either ServerError x)
</span><a href="#local-6989586621679726948"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679726947"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679726947"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; Handler x
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679726947"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679726946"><span class="annot"><span class="annottext">ServerError
</span><a href="#local-6989586621679726946"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ServerError -&gt; Handler x
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier hs-var">E.throwError</span></a></span><span> </span><span class="annot"><span class="annottext">ServerError
</span><a href="#local-6989586621679726946"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679726944"><span class="annot"><span class="annottext">ChainIndexError
</span><a href="#local-6989586621679726944"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-51"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679726943"><span class="annot"><span class="annottext">err :: ServerError
</span><a href="#local-6989586621679726943"><span class="hs-identifier hs-var hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ServerError
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">err500</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">errBody :: ByteString
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">errBody</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../file:///nix/store/dy85hyx24kbdxbcbs19gvac43vbvvnjd-bytestring-lib-bytestring-0.10.12.0-haddock-doc/share/doc/bytestring/html/src"><span class="hs-identifier hs-var">BSL.fromStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">Text.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString) -&gt; Text -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexError
</span><a href="#local-6989586621679726944"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-52"></span><span>            </span><span class="annot"><span class="annottext">ServerError -&gt; Handler x
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier hs-var">E.throwError</span></a></span><span> </span><span class="annot"><span class="annottext">ServerError
</span><a href="#local-6989586621679726943"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="annot"><a href="Plutus.ChainIndex.Server.html#serveChainIndex"><span class="hs-identifier hs-type">serveChainIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679727091"><span class="annot"><a href="#local-6989586621679727091"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">ServerError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679727091"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexQueryEffect"><span class="hs-identifier hs-type">ChainIndexQueryEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679727091"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexControlEffect"><span class="hs-identifier hs-type">ChainIndexControlEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679727091"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">ServerT</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#API"><span class="hs-identifier hs-type">API</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679727091"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span id="serveChainIndex"><span class="annot"><span class="annottext">serveChainIndex :: ServerT API (Eff effs)
</span><a href="Plutus.ChainIndex.Server.html#serveChainIndex"><span class="hs-identifier hs-var hs-var">serveChainIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="annottext">NoContent -&gt; Eff effs NoContent
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">NoContent
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-var">NoContent</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="annottext">Eff effs NoContent
-&gt; (((DatumHash -&gt; Eff effs Datum)
     :&lt;|&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
           :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
                 :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                       :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)))))
    :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
          :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
                :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
                      :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
                            :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                                  :&lt;|&gt; ((QueryAtAddressRequest
                                         -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                        :&lt;|&gt; ((QueryAtAddressRequest
                                               -&gt; Eff effs (QueryResponse [Datum]))
                                              :&lt;|&gt; ((UtxoWithCurrencyRequest
                                                     -&gt; Eff effs UtxosResponse)
                                                    :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                                          :&lt;|&gt; ((TxoAtAddressRequest
                                                                 -&gt; Eff effs TxosResponse)
                                                                :&lt;|&gt; (Eff effs Tip
                                                                      :&lt;|&gt; (Eff effs NoContent
                                                                            :&lt;|&gt; Eff
                                                                                   effs
                                                                                   Diagnostics)))))))))))))
-&gt; Eff effs NoContent
   :&lt;|&gt; (((DatumHash -&gt; Eff effs Datum)
          :&lt;|&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
                :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
                      :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                            :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)))))
         :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
               :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
                     :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
                           :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
                                 :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                                       :&lt;|&gt; ((QueryAtAddressRequest
                                              -&gt; Eff
                                                   effs
                                                   (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                             :&lt;|&gt; ((QueryAtAddressRequest
                                                    -&gt; Eff effs (QueryResponse [Datum]))
                                                   :&lt;|&gt; ((UtxoWithCurrencyRequest
                                                          -&gt; Eff effs UtxosResponse)
                                                         :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                                               :&lt;|&gt; ((TxoAtAddressRequest
                                                                      -&gt; Eff effs TxosResponse)
                                                                     :&lt;|&gt; (Eff effs Tip
                                                                           :&lt;|&gt; (Eff effs NoContent
                                                                                 :&lt;|&gt; Eff
                                                                                        effs
                                                                                        Diagnostics)))))))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumHash -&gt; Eff effs Datum)
:&lt;|&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
      :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
            :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                  :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer))))
forall (effs :: [* -&gt; *]).
(Member (Error ServerError) effs,
 Member ChainIndexQueryEffect effs) =&gt;
ServerT FromHashAPI (Eff effs)
</span><a href="Plutus.ChainIndex.Server.html#serveFromHashApi"><span class="hs-identifier hs-var">serveFromHashApi</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="annottext">((DatumHash -&gt; Eff effs Datum)
 :&lt;|&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
       :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
             :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                   :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)))))
-&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
    :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
          :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
                :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
                      :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                            :&lt;|&gt; ((QueryAtAddressRequest
                                   -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                  :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                                        :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                                              :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                                    :&lt;|&gt; ((TxoAtAddressRequest
                                                           -&gt; Eff effs TxosResponse)
                                                          :&lt;|&gt; (Eff effs Tip
                                                                :&lt;|&gt; (Eff effs NoContent
                                                                      :&lt;|&gt; Eff
                                                                             effs
                                                                             Diagnostics))))))))))))
-&gt; ((DatumHash -&gt; Eff effs Datum)
    :&lt;|&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
          :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
                :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                      :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)))))
   :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
         :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
               :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
                     :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
                           :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                                 :&lt;|&gt; ((QueryAtAddressRequest
                                        -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                       :&lt;|&gt; ((QueryAtAddressRequest
                                              -&gt; Eff effs (QueryResponse [Datum]))
                                             :&lt;|&gt; ((UtxoWithCurrencyRequest
                                                    -&gt; Eff effs UtxosResponse)
                                                   :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                                         :&lt;|&gt; ((TxoAtAddressRequest
                                                                -&gt; Eff effs TxosResponse)
                                                               :&lt;|&gt; (Eff effs Tip
                                                                     :&lt;|&gt; (Eff effs NoContent
                                                                           :&lt;|&gt; Eff
                                                                                  effs
                                                                                  Diagnostics))))))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut)
</span><a href="Plutus.ChainIndex.Effects.html#txOutFromRef"><span class="hs-identifier hs-var">E.txOutFromRef</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut))
-&gt; (Maybe DecoratedTxOut -&gt; Eff effs DecoratedTxOut)
-&gt; TxOutRef
-&gt; Eff effs DecoratedTxOut
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; Eff effs DecoratedTxOut
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Eff effs DecoratedTxOut)
-&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
    :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
          :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
                :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                      :&lt;|&gt; ((QueryAtAddressRequest
                             -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                            :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                                  :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                                        :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                              :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                                    :&lt;|&gt; (Eff effs Tip
                                                          :&lt;|&gt; (Eff effs NoContent
                                                                :&lt;|&gt; Eff effs Diagnostics)))))))))))
-&gt; (TxOutRef -&gt; Eff effs DecoratedTxOut)
   :&lt;|&gt; ((TxOutRef -&gt; Eff effs DecoratedTxOut)
         :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
               :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
                     :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                           :&lt;|&gt; ((QueryAtAddressRequest
                                  -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                                 :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                                       :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                                             :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                                   :&lt;|&gt; ((TxoAtAddressRequest
                                                          -&gt; Eff effs TxosResponse)
                                                         :&lt;|&gt; (Eff effs Tip
                                                               :&lt;|&gt; (Eff effs NoContent
                                                                     :&lt;|&gt; Eff
                                                                            effs
                                                                            Diagnostics)))))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut)
</span><a href="Plutus.ChainIndex.Effects.html#unspentTxOutFromRef"><span class="hs-identifier hs-var">E.unspentTxOutFromRef</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut))
-&gt; (Maybe DecoratedTxOut -&gt; Eff effs DecoratedTxOut)
-&gt; TxOutRef
-&gt; Eff effs DecoratedTxOut
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; Eff effs DecoratedTxOut
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Eff effs DecoratedTxOut)
-&gt; ((TxId -&gt; Eff effs ChainIndexTx)
    :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
          :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                :&lt;|&gt; ((QueryAtAddressRequest
                       -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                      :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                            :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                                  :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                        :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                              :&lt;|&gt; (Eff effs Tip
                                                    :&lt;|&gt; (Eff effs NoContent
                                                          :&lt;|&gt; Eff effs Diagnostics))))))))))
-&gt; (TxOutRef -&gt; Eff effs DecoratedTxOut)
   :&lt;|&gt; ((TxId -&gt; Eff effs ChainIndexTx)
         :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
               :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
                     :&lt;|&gt; ((QueryAtAddressRequest
                            -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                           :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                                 :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                                       :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                             :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                                   :&lt;|&gt; (Eff effs Tip
                                                         :&lt;|&gt; (Eff effs NoContent
                                                               :&lt;|&gt; Eff effs Diagnostics))))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId -&gt; Eff effs (Maybe ChainIndexTx)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxId -&gt; Eff effs (Maybe ChainIndexTx)
</span><a href="Plutus.ChainIndex.Effects.html#txFromTxId"><span class="hs-identifier hs-var">E.txFromTxId</span></a></span><span> </span><span class="annot"><span class="annottext">(TxId -&gt; Eff effs (Maybe ChainIndexTx))
-&gt; (Maybe ChainIndexTx -&gt; Eff effs ChainIndexTx)
-&gt; TxId
-&gt; Eff effs ChainIndexTx
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTx -&gt; Eff effs ChainIndexTx
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">(TxId -&gt; Eff effs ChainIndexTx)
-&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
    :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
          :&lt;|&gt; ((QueryAtAddressRequest
                 -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                      :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                            :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                  :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                        :&lt;|&gt; (Eff effs Tip
                                              :&lt;|&gt; (Eff effs NoContent
                                                    :&lt;|&gt; Eff effs Diagnostics)))))))))
-&gt; (TxId -&gt; Eff effs ChainIndexTx)
   :&lt;|&gt; ((TxOutRef -&gt; Eff effs IsUtxoResponse)
         :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
               :&lt;|&gt; ((QueryAtAddressRequest
                      -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
                     :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                           :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                                 :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                       :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                             :&lt;|&gt; (Eff effs Tip
                                                   :&lt;|&gt; (Eff effs NoContent
                                                         :&lt;|&gt; Eff effs Diagnostics)))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Eff effs IsUtxoResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxOutRef -&gt; Eff effs IsUtxoResponse
</span><a href="Plutus.ChainIndex.Effects.html#utxoSetMembership"><span class="hs-identifier hs-var">E.utxoSetMembership</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="annottext">(TxOutRef -&gt; Eff effs IsUtxoResponse)
-&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
    :&lt;|&gt; ((QueryAtAddressRequest
           -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
          :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                      :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                            :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                  :&lt;|&gt; (Eff effs Tip
                                        :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))))))))
-&gt; (TxOutRef -&gt; Eff effs IsUtxoResponse)
   :&lt;|&gt; ((UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
         :&lt;|&gt; ((QueryAtAddressRequest
                -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
               :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
                     :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                           :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                                 :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                       :&lt;|&gt; (Eff effs Tip
                                             :&lt;|&gt; (Eff effs NoContent
                                                   :&lt;|&gt; Eff effs Diagnostics))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#UtxoAtAddressRequest"><span class="hs-identifier hs-type">UtxoAtAddressRequest</span></a></span><span> </span><span id="local-6989586621679726931"><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726931"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621679726930"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726930"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef -&gt; Credential -&gt; Eff effs UtxosResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef -&gt; Credential -&gt; Eff effs UtxosResponse
</span><a href="Plutus.ChainIndex.Effects.html#utxoSetAtAddress"><span class="hs-identifier hs-var">E.utxoSetAtAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Maybe (PageQuery TxOutRef) -&gt; PageQuery TxOutRef
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726931"><span class="hs-identifier hs-var">pq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726930"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>    </span><span class="annot"><span class="annottext">(UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
-&gt; ((QueryAtAddressRequest
     -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
    :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
          :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                      :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                            :&lt;|&gt; (Eff effs Tip
                                  :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)))))))
-&gt; (UtxoAtAddressRequest -&gt; Eff effs UtxosResponse)
   :&lt;|&gt; ((QueryAtAddressRequest
          -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
         :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
               :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
                     :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                           :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                                 :&lt;|&gt; (Eff effs Tip
                                       :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#QueryAtAddressRequest"><span class="hs-identifier hs-type">QueryAtAddressRequest</span></a></span><span> </span><span id="local-6989586621679726928"><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726928"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621679726927"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726927"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Credential
-&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)])
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef
-&gt; Credential
-&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)])
</span><a href="Plutus.ChainIndex.Effects.html#unspentTxOutSetAtAddress"><span class="hs-identifier hs-var">E.unspentTxOutSetAtAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Maybe (PageQuery TxOutRef) -&gt; PageQuery TxOutRef
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726928"><span class="hs-identifier hs-var">pq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726927"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="annottext">(QueryAtAddressRequest
 -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
-&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
    :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
          :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                      :&lt;|&gt; (Eff effs Tip
                            :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))))))
-&gt; (QueryAtAddressRequest
    -&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)]))
   :&lt;|&gt; ((QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
         :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
               :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
                     :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                           :&lt;|&gt; (Eff effs Tip
                                 :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#QueryAtAddressRequest"><span class="hs-identifier hs-type">QueryAtAddressRequest</span></a></span><span> </span><span id="local-6989586621679726925"><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726925"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621679726924"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726924"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Credential -&gt; Eff effs (QueryResponse [Datum])
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef
-&gt; Credential -&gt; Eff effs (QueryResponse [Datum])
</span><a href="Plutus.ChainIndex.Effects.html#datumsAtAddress"><span class="hs-identifier hs-var">E.datumsAtAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Maybe (PageQuery TxOutRef) -&gt; PageQuery TxOutRef
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726925"><span class="hs-identifier hs-var">pq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726924"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><span class="annottext">(QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
-&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
    :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
          :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                :&lt;|&gt; (Eff effs Tip
                      :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)))))
-&gt; (QueryAtAddressRequest -&gt; Eff effs (QueryResponse [Datum]))
   :&lt;|&gt; ((UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
         :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
               :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
                     :&lt;|&gt; (Eff effs Tip
                           :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#UtxoWithCurrencyRequest"><span class="hs-identifier hs-type">UtxoWithCurrencyRequest</span></a></span><span> </span><span id="local-6989586621679726922"><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726922"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621679726921"><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621679726921"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef -&gt; AssetClass -&gt; Eff effs UtxosResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef -&gt; AssetClass -&gt; Eff effs UtxosResponse
</span><a href="Plutus.ChainIndex.Effects.html#utxoSetWithCurrency"><span class="hs-identifier hs-var">E.utxoSetWithCurrency</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Maybe (PageQuery TxOutRef) -&gt; PageQuery TxOutRef
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726922"><span class="hs-identifier hs-var">pq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621679726921"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>    </span><span class="annot"><span class="annottext">(UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
-&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
    :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
          :&lt;|&gt; (Eff effs Tip
                :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))))
-&gt; (UtxoWithCurrencyRequest -&gt; Eff effs UtxosResponse)
   :&lt;|&gt; (([TxId] -&gt; Eff effs [ChainIndexTx])
         :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
               :&lt;|&gt; (Eff effs Tip
                     :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[TxId] -&gt; Eff effs [ChainIndexTx]
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
[TxId] -&gt; Eff effs [ChainIndexTx]
</span><a href="Plutus.ChainIndex.Effects.html#txsFromTxIds"><span class="hs-identifier hs-var">E.txsFromTxIds</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><span class="annottext">([TxId] -&gt; Eff effs [ChainIndexTx])
-&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
    :&lt;|&gt; (Eff effs Tip
          :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)))
-&gt; ([TxId] -&gt; Eff effs [ChainIndexTx])
   :&lt;|&gt; ((TxoAtAddressRequest -&gt; Eff effs TxosResponse)
         :&lt;|&gt; (Eff effs Tip
               :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.ChainIndex.Api.html#TxoAtAddressRequest"><span class="hs-identifier hs-type">TxoAtAddressRequest</span></a></span><span> </span><span id="local-6989586621679726918"><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726918"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621679726917"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726917"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef -&gt; Credential -&gt; Eff effs TxosResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef -&gt; Credential -&gt; Eff effs TxosResponse
</span><a href="Plutus.ChainIndex.Effects.html#txoSetAtAddress"><span class="hs-identifier hs-var">E.txoSetAtAddress</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Maybe (PageQuery TxOutRef) -&gt; PageQuery TxOutRef
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (PageQuery TxOutRef)
</span><a href="#local-6989586621679726918"><span class="hs-identifier hs-var">pq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621679726917"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><span class="annottext">(TxoAtAddressRequest -&gt; Eff effs TxosResponse)
-&gt; (Eff effs Tip
    :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))
-&gt; (TxoAtAddressRequest -&gt; Eff effs TxosResponse)
   :&lt;|&gt; (Eff effs Tip
         :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs Tip
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
Eff effs Tip
</span><a href="Plutus.ChainIndex.Effects.html#getTip"><span class="hs-identifier hs-var">E.getTip</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><span class="annottext">Eff effs Tip
-&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)
-&gt; Eff effs Tip :&lt;|&gt; (Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics)
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs ()
forall (effs :: [* -&gt; *]).
Member ChainIndexControlEffect effs =&gt;
Eff effs ()
</span><a href="Plutus.ChainIndex.Effects.html#collectGarbage"><span class="hs-identifier hs-var">E.collectGarbage</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs () -&gt; Eff effs NoContent -&gt; Eff effs NoContent
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NoContent -&gt; Eff effs NoContent
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">NoContent
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-var">NoContent</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><span class="annottext">Eff effs NoContent
-&gt; Eff effs Diagnostics
-&gt; Eff effs NoContent :&lt;|&gt; Eff effs Diagnostics
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs Diagnostics
forall (effs :: [* -&gt; *]).
Member ChainIndexControlEffect effs =&gt;
Eff effs Diagnostics
</span><a href="Plutus.ChainIndex.Effects.html#getDiagnostics"><span class="hs-identifier hs-var">E.getDiagnostics</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="annot"><a href="Plutus.ChainIndex.Server.html#serveFromHashApi"><span class="hs-identifier hs-type">serveFromHashApi</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679727017"><span class="annot"><a href="#local-6989586621679727017"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">ServerError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679727017"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Effects.html#ChainIndexQueryEffect"><span class="hs-identifier hs-type">ChainIndexQueryEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679727017"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">ServerT</span></a></span><span> </span><span class="annot"><a href="Plutus.ChainIndex.Api.html#FromHashAPI"><span class="hs-identifier hs-type">FromHashAPI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679727017"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span id="serveFromHashApi"><span class="annot"><span class="annottext">serveFromHashApi :: ServerT FromHashAPI (Eff effs)
</span><a href="Plutus.ChainIndex.Server.html#serveFromHashApi"><span class="hs-identifier hs-var hs-var">serveFromHashApi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatumHash -&gt; Eff effs (Maybe Datum)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
DatumHash -&gt; Eff effs (Maybe Datum)
</span><a href="Plutus.ChainIndex.Effects.html#datumFromHash"><span class="hs-identifier hs-var">E.datumFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">(DatumHash -&gt; Eff effs (Maybe Datum))
-&gt; (Maybe Datum -&gt; Eff effs Datum) -&gt; DatumHash -&gt; Eff effs Datum
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Datum -&gt; Eff effs Datum
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">(DatumHash -&gt; Eff effs Datum)
-&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
    :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
          :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer))))
-&gt; (DatumHash -&gt; Eff effs Datum)
   :&lt;|&gt; ((ValidatorHash -&gt; Eff effs (Versioned Validator))
         :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
               :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
                     :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValidatorHash -&gt; Eff effs (Maybe (Versioned Validator))
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
ValidatorHash -&gt; Eff effs (Maybe (Versioned Validator))
</span><a href="Plutus.ChainIndex.Effects.html#validatorFromHash"><span class="hs-identifier hs-var">E.validatorFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidatorHash -&gt; Eff effs (Maybe (Versioned Validator)))
-&gt; (Maybe (Versioned Validator) -&gt; Eff effs (Versioned Validator))
-&gt; ValidatorHash
-&gt; Eff effs (Versioned Validator)
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned Validator) -&gt; Eff effs (Versioned Validator)
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="annottext">(ValidatorHash -&gt; Eff effs (Versioned Validator))
-&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
    :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
          :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)))
-&gt; (ValidatorHash -&gt; Eff effs (Versioned Validator))
   :&lt;|&gt; ((MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
         :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
               :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MintingPolicyHash -&gt; Eff effs (Maybe (Versioned MintingPolicy))
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
MintingPolicyHash -&gt; Eff effs (Maybe (Versioned MintingPolicy))
</span><a href="Plutus.ChainIndex.Effects.html#mintingPolicyFromHash"><span class="hs-identifier hs-var">E.mintingPolicyFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">(MintingPolicyHash -&gt; Eff effs (Maybe (Versioned MintingPolicy)))
-&gt; (Maybe (Versioned MintingPolicy)
    -&gt; Eff effs (Versioned MintingPolicy))
-&gt; MintingPolicyHash
-&gt; Eff effs (Versioned MintingPolicy)
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned MintingPolicy)
-&gt; Eff effs (Versioned MintingPolicy)
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="annottext">(MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
-&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
    :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer))
-&gt; (MintingPolicyHash -&gt; Eff effs (Versioned MintingPolicy))
   :&lt;|&gt; ((StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
         :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeValidatorHash -&gt; Eff effs (Maybe (Versioned StakeValidator))
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
StakeValidatorHash -&gt; Eff effs (Maybe (Versioned StakeValidator))
</span><a href="Plutus.ChainIndex.Effects.html#stakeValidatorFromHash"><span class="hs-identifier hs-var">E.stakeValidatorFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">(StakeValidatorHash -&gt; Eff effs (Maybe (Versioned StakeValidator)))
-&gt; (Maybe (Versioned StakeValidator)
    -&gt; Eff effs (Versioned StakeValidator))
-&gt; StakeValidatorHash
-&gt; Eff effs (Versioned StakeValidator)
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned StakeValidator)
-&gt; Eff effs (Versioned StakeValidator)
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><span class="annottext">(StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
-&gt; (RedeemerHash -&gt; Eff effs Redeemer)
-&gt; (StakeValidatorHash -&gt; Eff effs (Versioned StakeValidator))
   :&lt;|&gt; (RedeemerHash -&gt; Eff effs Redeemer)
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RedeemerHash -&gt; Eff effs (Maybe Redeemer)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
RedeemerHash -&gt; Eff effs (Maybe Redeemer)
</span><a href="Plutus.ChainIndex.Effects.html#redeemerFromHash"><span class="hs-identifier hs-var">E.redeemerFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">(RedeemerHash -&gt; Eff effs (Maybe Redeemer))
-&gt; (Maybe Redeemer -&gt; Eff effs Redeemer)
-&gt; RedeemerHash
-&gt; Eff effs Redeemer
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Redeemer -&gt; Eff effs Redeemer
forall (effs :: [* -&gt; *]).
Member (Error ServerError) effs =&gt;
Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var">handleMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | Return the value of throw a 404 error</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-type">handleMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679727010"><span class="annot"><a href="#local-6989586621679727010"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-type">ServerError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679727010"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679727010"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-93"></span><span id="handleMaybe"><span class="annot"><span class="annottext">handleMaybe :: Maybe ~&gt; Eff effs
</span><a href="Plutus.ChainIndex.Server.html#handleMaybe"><span class="hs-identifier hs-var hs-var">handleMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff effs x -&gt; (x -&gt; Eff effs x) -&gt; Maybe x -&gt; Eff effs x
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ServerError -&gt; Eff effs x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">ServerError
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">err404</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">x -&gt; Eff effs x
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-94"></span></pre></body></html>
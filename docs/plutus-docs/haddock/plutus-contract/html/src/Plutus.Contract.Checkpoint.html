<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_CxZAqmqSbdp1Zi6nuCkoHW"></span><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric       #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies  #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts    #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GADTs               #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures      #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes          #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell     #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications    #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators       #-}</span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Contract.Checkpoint</span><span class="hs-special">(</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Checkpoints</span></span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><span class="hs-comment">-- $checkpoints</span></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier">Checkpoint</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier">CheckpointError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier">AsCheckpointError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier">CheckpointStore</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier">CheckpointStoreItem</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier">CheckpointKey</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier">CheckpointLogMsg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#jsonCheckpoint"><span class="hs-identifier">jsonCheckpoint</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#jsonCheckpointLoop"><span class="hs-identifier">jsonCheckpointLoop</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#handleCheckpoint"><span class="hs-identifier">handleCheckpoint</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#completedIntervals"><span class="hs-identifier">completedIntervals</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#maxKey"><span class="hs-identifier">maxKey</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Error</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">throwError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMsg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">logDebug</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">logError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">State</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">get</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">gets</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">modify</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">put</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">FromJSONKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">ToJSONKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">JSON</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier">Data.IntervalMap.Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier">Interval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier">ClosedInterval</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/y8j109nxdvhy2z0y4dgw6myddcwdryyr-data-interval-lib-data-interval-2.1.1-haddock-doc/share/doc/data-interval/html/src"><span class="hs-identifier">Data.IntervalSet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IS</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">colon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">vsep</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator">(&lt;+&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-comment">-- $checkpoints</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- This module contains a checkpoints mechanism that can be used to store</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- intermediate results of 'Control.Monad.Freer.Eff' programs as JSON values</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- inside a 'CheckpointStore'. It works similar to the short-circuiting behavior</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- of 'Control.Monad.Freer.Error.Error': Before we execute an action</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- @Eff effs a@ whose result should be checkpointed, we check if the there is</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- already a value of @a@ for this checkpoint it in the store. If there is, we</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- return it /instead/ of running the action. If there isn't, we run the action</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- @a@ and then store the result.</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- * To create a checkpoint use 'jsonCheckpoint'.</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- * To handle the checkpoint effect use 'handleCheckpoint'.</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span id="local-6989586621680811233"><span id="local-6989586621680811234"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="CheckpointKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-var">CheckpointKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CheckpointKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-var">CheckpointKey</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811228"><span id="local-6989586621680811230"><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; Bool
(CheckpointKey -&gt; CheckpointKey -&gt; Bool)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; Bool) -&gt; Eq CheckpointKey
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
$c/= :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
== :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
$c== :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811212"><span id="local-6989586621680811214"><span id="local-6989586621680811216"><span id="local-6989586621680811218"><span id="local-6989586621680811220"><span id="local-6989586621680811222"><span id="local-6989586621680811224"><span class="annot"><span class="annottext">Eq CheckpointKey
Eq CheckpointKey
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; Ordering)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; Bool)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; Bool)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; Bool)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; Bool)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey)
-&gt; Ord CheckpointKey
CheckpointKey -&gt; CheckpointKey -&gt; Bool
CheckpointKey -&gt; CheckpointKey -&gt; Ordering
CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
$cmin :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
max :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
$cmax :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
&gt;= :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
$c&gt;= :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
&gt; :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
$c&gt; :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
&lt;= :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
$c&lt;= :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
&lt; :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
$c&lt; :: CheckpointKey -&gt; CheckpointKey -&gt; Bool
compare :: CheckpointKey -&gt; CheckpointKey -&gt; Ordering
$ccompare :: CheckpointKey -&gt; CheckpointKey -&gt; Ordering
$cp1Ord :: Eq CheckpointKey
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811205"><span id="local-6989586621680811207"><span id="local-6989586621680811209"><span class="annot"><span class="annottext">Int -&gt; CheckpointKey -&gt; ShowS
[CheckpointKey] -&gt; ShowS
CheckpointKey -&gt; String
(Int -&gt; CheckpointKey -&gt; ShowS)
-&gt; (CheckpointKey -&gt; String)
-&gt; ([CheckpointKey] -&gt; ShowS)
-&gt; Show CheckpointKey
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CheckpointKey] -&gt; ShowS
$cshowList :: [CheckpointKey] -&gt; ShowS
show :: CheckpointKey -&gt; String
$cshow :: CheckpointKey -&gt; String
showsPrec :: Int -&gt; CheckpointKey -&gt; ShowS
$cshowsPrec :: Int -&gt; CheckpointKey -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. CheckpointKey -&gt; Rep CheckpointKey x)
-&gt; (forall x. Rep CheckpointKey x -&gt; CheckpointKey)
-&gt; Generic CheckpointKey
forall x. Rep CheckpointKey x -&gt; CheckpointKey
forall x. CheckpointKey -&gt; Rep CheckpointKey x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep CheckpointKey x -&gt; CheckpointKey
$cfrom :: forall x. CheckpointKey -&gt; Rep CheckpointKey x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811197"><span id="local-6989586621680811199"><span class="annot"><span class="annottext">Value -&gt; Parser [CheckpointKey]
Value -&gt; Parser CheckpointKey
(Value -&gt; Parser CheckpointKey)
-&gt; (Value -&gt; Parser [CheckpointKey]) -&gt; FromJSON CheckpointKey
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [CheckpointKey]
$cparseJSONList :: Value -&gt; Parser [CheckpointKey]
parseJSON :: Value -&gt; Parser CheckpointKey
$cparseJSON :: Value -&gt; Parser CheckpointKey
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811188"><span id="local-6989586621680811190"><span id="local-6989586621680811192"><span id="local-6989586621680811194"><span class="annot"><span class="annottext">[CheckpointKey] -&gt; Encoding
[CheckpointKey] -&gt; Value
CheckpointKey -&gt; Encoding
CheckpointKey -&gt; Value
(CheckpointKey -&gt; Value)
-&gt; (CheckpointKey -&gt; Encoding)
-&gt; ([CheckpointKey] -&gt; Value)
-&gt; ([CheckpointKey] -&gt; Encoding)
-&gt; ToJSON CheckpointKey
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [CheckpointKey] -&gt; Encoding
$ctoEncodingList :: [CheckpointKey] -&gt; Encoding
toJSONList :: [CheckpointKey] -&gt; Value
$ctoJSONList :: [CheckpointKey] -&gt; Value
toEncoding :: CheckpointKey -&gt; Encoding
$ctoEncoding :: CheckpointKey -&gt; Encoding
toJSON :: CheckpointKey -&gt; Value
$ctoJSON :: CheckpointKey -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811183"><span id="local-6989586621680811185"><span class="annot"><span class="annottext">ToJSONKeyFunction [CheckpointKey]
ToJSONKeyFunction CheckpointKey
ToJSONKeyFunction CheckpointKey
-&gt; ToJSONKeyFunction [CheckpointKey] -&gt; ToJSONKey CheckpointKey
forall a.
ToJSONKeyFunction a -&gt; ToJSONKeyFunction [a] -&gt; ToJSONKey a
toJSONKeyList :: ToJSONKeyFunction [CheckpointKey]
$ctoJSONKeyList :: ToJSONKeyFunction [CheckpointKey]
toJSONKey :: ToJSONKeyFunction CheckpointKey
$ctoJSONKey :: ToJSONKeyFunction CheckpointKey
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">ToJSONKey</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811178"><span id="local-6989586621680811180"><span class="annot"><span class="annottext">FromJSONKeyFunction [CheckpointKey]
FromJSONKeyFunction CheckpointKey
FromJSONKeyFunction CheckpointKey
-&gt; FromJSONKeyFunction [CheckpointKey] -&gt; FromJSONKey CheckpointKey
forall a.
FromJSONKeyFunction a -&gt; FromJSONKeyFunction [a] -&gt; FromJSONKey a
fromJSONKeyList :: FromJSONKeyFunction [CheckpointKey]
$cfromJSONKeyList :: FromJSONKeyFunction [CheckpointKey]
fromJSONKey :: FromJSONKeyFunction CheckpointKey
$cfromJSONKey :: FromJSONKeyFunction CheckpointKey
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSONKey</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811163"><span id="local-6989586621680811165"><span id="local-6989586621680811167"><span id="local-6989586621680811169"><span id="local-6989586621680811171"><span id="local-6989586621680811173"><span id="local-6989586621680811175"><span class="annot"><span class="annottext">Integer -&gt; CheckpointKey
CheckpointKey -&gt; CheckpointKey
CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
(CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey)
-&gt; (Integer -&gt; CheckpointKey)
-&gt; Num CheckpointKey
forall a.
(a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Integer -&gt; a)
-&gt; Num a
fromInteger :: Integer -&gt; CheckpointKey
$cfromInteger :: Integer -&gt; CheckpointKey
signum :: CheckpointKey -&gt; CheckpointKey
$csignum :: CheckpointKey -&gt; CheckpointKey
abs :: CheckpointKey -&gt; CheckpointKey
$cabs :: CheckpointKey -&gt; CheckpointKey
negate :: CheckpointKey -&gt; CheckpointKey
$cnegate :: CheckpointKey -&gt; CheckpointKey
* :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
$c* :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
- :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
$c- :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
+ :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
$c+ :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Num</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811146"><span id="local-6989586621680811148"><span id="local-6989586621680811150"><span id="local-6989586621680811152"><span id="local-6989586621680811154"><span id="local-6989586621680811156"><span id="local-6989586621680811158"><span id="local-6989586621680811160"><span class="annot"><span class="annottext">Int -&gt; CheckpointKey
CheckpointKey -&gt; Int
CheckpointKey -&gt; [CheckpointKey]
CheckpointKey -&gt; CheckpointKey
CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
(CheckpointKey -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; CheckpointKey)
-&gt; (Int -&gt; CheckpointKey)
-&gt; (CheckpointKey -&gt; Int)
-&gt; (CheckpointKey -&gt; [CheckpointKey])
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey])
-&gt; (CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey])
-&gt; (CheckpointKey
    -&gt; CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey])
-&gt; Enum CheckpointKey
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
$cenumFromThenTo :: CheckpointKey -&gt; CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
enumFromTo :: CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
$cenumFromTo :: CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
enumFromThen :: CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
$cenumFromThen :: CheckpointKey -&gt; CheckpointKey -&gt; [CheckpointKey]
enumFrom :: CheckpointKey -&gt; [CheckpointKey]
$cenumFrom :: CheckpointKey -&gt; [CheckpointKey]
fromEnum :: CheckpointKey -&gt; Int
$cfromEnum :: CheckpointKey -&gt; Int
toEnum :: Int -&gt; CheckpointKey
$ctoEnum :: Int -&gt; CheckpointKey
pred :: CheckpointKey -&gt; CheckpointKey
$cpred :: CheckpointKey -&gt; CheckpointKey
succ :: CheckpointKey -&gt; CheckpointKey
$csucc :: CheckpointKey -&gt; CheckpointKey
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811141"><span id="local-6989586621680811143"><span class="annot"><span class="annottext">[CheckpointKey] -&gt; Doc ann
CheckpointKey -&gt; Doc ann
(forall ann. CheckpointKey -&gt; Doc ann)
-&gt; (forall ann. [CheckpointKey] -&gt; Doc ann) -&gt; Pretty CheckpointKey
forall ann. [CheckpointKey] -&gt; Doc ann
forall ann. CheckpointKey -&gt; Doc ann
forall a.
(forall ann. a -&gt; Doc ann)
-&gt; (forall ann. [a] -&gt; Doc ann) -&gt; Pretty a
prettyList :: [CheckpointKey] -&gt; Doc ann
$cprettyList :: forall ann. [CheckpointKey] -&gt; Doc ann
pretty :: CheckpointKey -&gt; Doc ann
$cpretty :: forall ann. CheckpointKey -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Pretty</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span id="local-6989586621680811138"><span id="local-6989586621680811139"></span></span><span class="hs-keyword">data</span><span> </span><span id="CheckpointError"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier hs-var">CheckpointError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="JSONDecodeError"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#JSONDecodeError"><span class="hs-identifier hs-var">JSONDecodeError</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811133"><span id="local-6989586621680811135"><span class="annot"><span class="annottext">CheckpointError -&gt; CheckpointError -&gt; Bool
(CheckpointError -&gt; CheckpointError -&gt; Bool)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; Bool)
-&gt; Eq CheckpointError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CheckpointError -&gt; CheckpointError -&gt; Bool
$c/= :: CheckpointError -&gt; CheckpointError -&gt; Bool
== :: CheckpointError -&gt; CheckpointError -&gt; Bool
$c== :: CheckpointError -&gt; CheckpointError -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811118"><span id="local-6989586621680811120"><span id="local-6989586621680811122"><span id="local-6989586621680811124"><span id="local-6989586621680811126"><span id="local-6989586621680811128"><span id="local-6989586621680811130"><span class="annot"><span class="annottext">Eq CheckpointError
Eq CheckpointError
-&gt; (CheckpointError -&gt; CheckpointError -&gt; Ordering)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; Bool)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; Bool)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; Bool)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; Bool)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; CheckpointError)
-&gt; (CheckpointError -&gt; CheckpointError -&gt; CheckpointError)
-&gt; Ord CheckpointError
CheckpointError -&gt; CheckpointError -&gt; Bool
CheckpointError -&gt; CheckpointError -&gt; Ordering
CheckpointError -&gt; CheckpointError -&gt; CheckpointError
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: CheckpointError -&gt; CheckpointError -&gt; CheckpointError
$cmin :: CheckpointError -&gt; CheckpointError -&gt; CheckpointError
max :: CheckpointError -&gt; CheckpointError -&gt; CheckpointError
$cmax :: CheckpointError -&gt; CheckpointError -&gt; CheckpointError
&gt;= :: CheckpointError -&gt; CheckpointError -&gt; Bool
$c&gt;= :: CheckpointError -&gt; CheckpointError -&gt; Bool
&gt; :: CheckpointError -&gt; CheckpointError -&gt; Bool
$c&gt; :: CheckpointError -&gt; CheckpointError -&gt; Bool
&lt;= :: CheckpointError -&gt; CheckpointError -&gt; Bool
$c&lt;= :: CheckpointError -&gt; CheckpointError -&gt; Bool
&lt; :: CheckpointError -&gt; CheckpointError -&gt; Bool
$c&lt; :: CheckpointError -&gt; CheckpointError -&gt; Bool
compare :: CheckpointError -&gt; CheckpointError -&gt; Ordering
$ccompare :: CheckpointError -&gt; CheckpointError -&gt; Ordering
$cp1Ord :: Eq CheckpointError
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811112"><span id="local-6989586621680811114"><span id="local-6989586621680811116"><span class="annot"><span class="annottext">Int -&gt; CheckpointError -&gt; ShowS
[CheckpointError] -&gt; ShowS
CheckpointError -&gt; String
(Int -&gt; CheckpointError -&gt; ShowS)
-&gt; (CheckpointError -&gt; String)
-&gt; ([CheckpointError] -&gt; ShowS)
-&gt; Show CheckpointError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CheckpointError] -&gt; ShowS
$cshowList :: [CheckpointError] -&gt; ShowS
show :: CheckpointError -&gt; String
$cshow :: CheckpointError -&gt; String
showsPrec :: Int -&gt; CheckpointError -&gt; ShowS
$cshowsPrec :: Int -&gt; CheckpointError -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. CheckpointError -&gt; Rep CheckpointError x)
-&gt; (forall x. Rep CheckpointError x -&gt; CheckpointError)
-&gt; Generic CheckpointError
forall x. Rep CheckpointError x -&gt; CheckpointError
forall x. CheckpointError -&gt; Rep CheckpointError x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep CheckpointError x -&gt; CheckpointError
$cfrom :: forall x. CheckpointError -&gt; Rep CheckpointError x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811106"><span id="local-6989586621680811108"><span class="annot"><span class="annottext">Value -&gt; Parser [CheckpointError]
Value -&gt; Parser CheckpointError
(Value -&gt; Parser CheckpointError)
-&gt; (Value -&gt; Parser [CheckpointError]) -&gt; FromJSON CheckpointError
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [CheckpointError]
$cparseJSONList :: Value -&gt; Parser [CheckpointError]
parseJSON :: Value -&gt; Parser CheckpointError
$cparseJSON :: Value -&gt; Parser CheckpointError
</span><a href="#local-6989586621680811106"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811098"><span id="local-6989586621680811100"><span id="local-6989586621680811102"><span id="local-6989586621680811104"><span class="annot"><span class="annottext">[CheckpointError] -&gt; Encoding
[CheckpointError] -&gt; Value
CheckpointError -&gt; Encoding
CheckpointError -&gt; Value
(CheckpointError -&gt; Value)
-&gt; (CheckpointError -&gt; Encoding)
-&gt; ([CheckpointError] -&gt; Value)
-&gt; ([CheckpointError] -&gt; Encoding)
-&gt; ToJSON CheckpointError
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [CheckpointError] -&gt; Encoding
$ctoEncodingList :: [CheckpointError] -&gt; Encoding
toJSONList :: [CheckpointError] -&gt; Value
$ctoJSONList :: [CheckpointError] -&gt; Value
toEncoding :: CheckpointError -&gt; Encoding
$ctoEncoding :: CheckpointError -&gt; Encoding
toJSON :: CheckpointError -&gt; Value
$ctoJSON :: CheckpointError -&gt; Value
</span><a href="#local-6989586621680811098"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680811095"><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier hs-type">CheckpointError</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621680811094"><span class="annot"><span class="annottext">pretty :: CheckpointError -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#JSONDecodeError"><span class="hs-identifier hs-type">JSONDecodeError</span></a></span><span> </span><span id="local-6989586621680811092"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680811092"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;JSON decoding error:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680811092"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span id="_JSONDecodeError"><span id="_CheckpointError"><span id="local-6989586621680811087"><span id="local-6989586621680811089"><span id="local-6989586621680811091"><span id="AsCheckpointError"><span id="local-6989586621680811483"><span class="hs-identifier">makeClassyPrisms</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">CheckpointError</span></span></span></span></span></span></span></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span id="local-6989586621680811082"><span id="local-6989586621680811083"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="CheckpointStore"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-var">CheckpointStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CheckpointStore"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-var">CheckpointStore</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unCheckpointStore"><span class="annot"><span class="annottext">CheckpointStore -&gt; Map CheckpointKey (CheckpointStoreItem Value)
</span><a href="Plutus.Contract.Checkpoint.html#unCheckpointStore"><span class="hs-identifier hs-var hs-var">unCheckpointStore</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-type">CheckpointStoreItem</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811076"><span id="local-6989586621680811078"><span class="annot"><span class="annottext">CheckpointStore -&gt; CheckpointStore -&gt; Bool
(CheckpointStore -&gt; CheckpointStore -&gt; Bool)
-&gt; (CheckpointStore -&gt; CheckpointStore -&gt; Bool)
-&gt; Eq CheckpointStore
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CheckpointStore -&gt; CheckpointStore -&gt; Bool
$c/= :: CheckpointStore -&gt; CheckpointStore -&gt; Bool
== :: CheckpointStore -&gt; CheckpointStore -&gt; Bool
$c== :: CheckpointStore -&gt; CheckpointStore -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811070"><span id="local-6989586621680811072"><span id="local-6989586621680811074"><span class="annot"><span class="annottext">Int -&gt; CheckpointStore -&gt; ShowS
[CheckpointStore] -&gt; ShowS
CheckpointStore -&gt; String
(Int -&gt; CheckpointStore -&gt; ShowS)
-&gt; (CheckpointStore -&gt; String)
-&gt; ([CheckpointStore] -&gt; ShowS)
-&gt; Show CheckpointStore
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CheckpointStore] -&gt; ShowS
$cshowList :: [CheckpointStore] -&gt; ShowS
show :: CheckpointStore -&gt; String
$cshow :: CheckpointStore -&gt; String
showsPrec :: Int -&gt; CheckpointStore -&gt; ShowS
$cshowsPrec :: Int -&gt; CheckpointStore -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. CheckpointStore -&gt; Rep CheckpointStore x)
-&gt; (forall x. Rep CheckpointStore x -&gt; CheckpointStore)
-&gt; Generic CheckpointStore
forall x. Rep CheckpointStore x -&gt; CheckpointStore
forall x. CheckpointStore -&gt; Rep CheckpointStore x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep CheckpointStore x -&gt; CheckpointStore
$cfrom :: forall x. CheckpointStore -&gt; Rep CheckpointStore x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811060"><span id="local-6989586621680811062"><span id="local-6989586621680811064"><span id="local-6989586621680811066"><span class="annot"><span class="annottext">[CheckpointStore] -&gt; Encoding
[CheckpointStore] -&gt; Value
CheckpointStore -&gt; Encoding
CheckpointStore -&gt; Value
(CheckpointStore -&gt; Value)
-&gt; (CheckpointStore -&gt; Encoding)
-&gt; ([CheckpointStore] -&gt; Value)
-&gt; ([CheckpointStore] -&gt; Encoding)
-&gt; ToJSON CheckpointStore
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [CheckpointStore] -&gt; Encoding
$ctoEncodingList :: [CheckpointStore] -&gt; Encoding
toJSONList :: [CheckpointStore] -&gt; Value
$ctoJSONList :: [CheckpointStore] -&gt; Value
toEncoding :: CheckpointStore -&gt; Encoding
$ctoEncoding :: CheckpointStore -&gt; Encoding
toJSON :: CheckpointStore -&gt; Value
$ctoJSON :: CheckpointStore -&gt; Value
</span><a href="#local-6989586621680811060"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811056"><span id="local-6989586621680811058"><span class="annot"><span class="annottext">Value -&gt; Parser [CheckpointStore]
Value -&gt; Parser CheckpointStore
(Value -&gt; Parser CheckpointStore)
-&gt; (Value -&gt; Parser [CheckpointStore]) -&gt; FromJSON CheckpointStore
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [CheckpointStore]
$cparseJSONList :: Value -&gt; Parser [CheckpointStore]
parseJSON :: Value -&gt; Parser CheckpointStore
$cparseJSON :: Value -&gt; Parser CheckpointStore
</span><a href="#local-6989586621680811056"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811050"><span id="local-6989586621680811052"><span id="local-6989586621680811054"><span class="annot"><span class="annottext">b -&gt; CheckpointStore -&gt; CheckpointStore
NonEmpty CheckpointStore -&gt; CheckpointStore
CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore
(CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore)
-&gt; (NonEmpty CheckpointStore -&gt; CheckpointStore)
-&gt; (forall b.
    Integral b =&gt;
    b -&gt; CheckpointStore -&gt; CheckpointStore)
-&gt; Semigroup CheckpointStore
forall b. Integral b =&gt; b -&gt; CheckpointStore -&gt; CheckpointStore
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; CheckpointStore -&gt; CheckpointStore
$cstimes :: forall b. Integral b =&gt; b -&gt; CheckpointStore -&gt; CheckpointStore
sconcat :: NonEmpty CheckpointStore -&gt; CheckpointStore
$csconcat :: NonEmpty CheckpointStore -&gt; CheckpointStore
&lt;&gt; :: CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore
$c&lt;&gt; :: CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680811042"><span id="local-6989586621680811044"><span id="local-6989586621680811046"><span class="annot"><span class="annottext">Semigroup CheckpointStore
CheckpointStore
Semigroup CheckpointStore
-&gt; CheckpointStore
-&gt; (CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore)
-&gt; ([CheckpointStore] -&gt; CheckpointStore)
-&gt; Monoid CheckpointStore
[CheckpointStore] -&gt; CheckpointStore
CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [CheckpointStore] -&gt; CheckpointStore
$cmconcat :: [CheckpointStore] -&gt; CheckpointStore
mappend :: CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore
$cmappend :: CheckpointStore -&gt; CheckpointStore -&gt; CheckpointStore
mempty :: CheckpointStore
$cmempty :: CheckpointStore
$cp1Monoid :: Semigroup CheckpointStore
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680811038"><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621680811037"><span class="annot"><span class="annottext">pretty :: CheckpointStore -&gt; Doc ann
</span><a href="#local-6989586621680811037"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span> </span><span id="local-6989586621680811036"><span class="annot"><span class="annottext">Map CheckpointKey (CheckpointStoreItem Value)
</span><a href="#local-6989586621680811036"><span class="hs-identifier hs-var">mp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-84"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680811035"><span class="annot"><span class="annottext">p :: a -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621680811035"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680811034"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680811034"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680811033"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680811033"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680811034"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
forall ann. Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">colon</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Doc ann) -&gt; (a -&gt; String) -&gt; a -&gt; Doc ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ShowS
forall a. Int -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">100</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (a -&gt; String) -&gt; a -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680811033"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><span class="annottext">[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">vsep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CheckpointKey -&gt; CheckpointStoreItem Value -&gt; Doc ann)
-&gt; (CheckpointKey, CheckpointStoreItem Value) -&gt; Doc ann
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointStoreItem Value -&gt; Doc ann
forall a a ann. (Pretty a, Show a) =&gt; a -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621680811035"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">((CheckpointKey, CheckpointStoreItem Value) -&gt; Doc ann)
-&gt; [(CheckpointKey, CheckpointStoreItem Value)] -&gt; [Doc ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map CheckpointKey (CheckpointStoreItem Value)
-&gt; [(CheckpointKey, CheckpointStoreItem Value)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map CheckpointKey (CheckpointStoreItem Value)
</span><a href="#local-6989586621680811036"><span class="hs-identifier hs-var">mp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#_CheckpointStore"><span class="hs-identifier hs-type">_CheckpointStore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-type">Iso'</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-type">CheckpointStoreItem</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span id="_CheckpointStore"><span class="annot"><span class="annottext">_CheckpointStore :: p (Map CheckpointKey (CheckpointStoreItem Value))
  (f (Map CheckpointKey (CheckpointStoreItem Value)))
-&gt; p CheckpointStore (f CheckpointStore)
</span><a href="Plutus.Contract.Checkpoint.html#_CheckpointStore"><span class="hs-identifier hs-var hs-var">_CheckpointStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CheckpointStore -&gt; Map CheckpointKey (CheckpointStoreItem Value))
-&gt; (Map CheckpointKey (CheckpointStoreItem Value)
    -&gt; CheckpointStore)
-&gt; Iso
     CheckpointStore
     CheckpointStore
     (Map CheckpointKey (CheckpointStoreItem Value))
     (Map CheckpointKey (CheckpointStoreItem Value))
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore -&gt; Map CheckpointKey (CheckpointStoreItem Value)
</span><a href="Plutus.Contract.Checkpoint.html#unCheckpointStore"><span class="hs-identifier hs-var hs-var">unCheckpointStore</span></a></span><span> </span><span class="annot"><span class="annottext">Map CheckpointKey (CheckpointStoreItem Value) -&gt; CheckpointStore
</span><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-var">CheckpointStore</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">-- | Intervals of checkpoint keys that are completely covered by the</span><span>
</span><span id="line-91"></span><span class="hs-comment">--   checkpoint store.</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#completedIntervals"><span class="hs-identifier hs-type">completedIntervals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier hs-type">IS.IntervalSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span id="completedIntervals"><span class="annot"><span class="annottext">completedIntervals :: CheckpointStore -&gt; IntervalSet (Interval CheckpointKey)
</span><a href="Plutus.Contract.Checkpoint.html#completedIntervals"><span class="hs-identifier hs-var hs-var">completedIntervals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Interval CheckpointKey] -&gt; IntervalSet (Interval CheckpointKey)
forall k e. (Interval k e, Ord k) =&gt; [k] -&gt; IntervalSet k
</span><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier hs-var">IS.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Interval CheckpointKey] -&gt; IntervalSet (Interval CheckpointKey))
-&gt; (CheckpointStore -&gt; [Interval CheckpointKey])
-&gt; CheckpointStore
-&gt; IntervalSet (Interval CheckpointKey)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((CheckpointKey, CheckpointStoreItem Value)
 -&gt; Interval CheckpointKey)
-&gt; [(CheckpointKey, CheckpointStoreItem Value)]
-&gt; [Interval CheckpointKey]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CheckpointKey
 -&gt; CheckpointStoreItem Value -&gt; Interval CheckpointKey)
-&gt; (CheckpointKey, CheckpointStoreItem Value)
-&gt; Interval CheckpointKey
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
-&gt; CheckpointStoreItem Value -&gt; Interval CheckpointKey
forall a.
CheckpointKey -&gt; CheckpointStoreItem a -&gt; Interval CheckpointKey
</span><a href="#local-6989586621680811022"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(CheckpointKey, CheckpointStoreItem Value)]
 -&gt; [Interval CheckpointKey])
-&gt; (CheckpointStore
    -&gt; [(CheckpointKey, CheckpointStoreItem Value)])
-&gt; CheckpointStore
-&gt; [Interval CheckpointKey]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map CheckpointKey (CheckpointStoreItem Value)
-&gt; [(CheckpointKey, CheckpointStoreItem Value)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Map CheckpointKey (CheckpointStoreItem Value)
 -&gt; [(CheckpointKey, CheckpointStoreItem Value)])
-&gt; (CheckpointStore
    -&gt; Map CheckpointKey (CheckpointStoreItem Value))
-&gt; CheckpointStore
-&gt; [(CheckpointKey, CheckpointStoreItem Value)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore -&gt; Map CheckpointKey (CheckpointStoreItem Value)
</span><a href="Plutus.Contract.Checkpoint.html#unCheckpointStore"><span class="hs-identifier hs-var hs-var">unCheckpointStore</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-94"></span><span>    </span><span id="local-6989586621680811022"><span class="annot"><span class="annottext">f :: CheckpointKey -&gt; CheckpointStoreItem a -&gt; Interval CheckpointKey
</span><a href="#local-6989586621680811022"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811021"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680811021"><span class="hs-identifier hs-var">from_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-type">CheckpointStoreItem</span></a></span><span class="hs-special">{</span><span id="local-6989586621680811019"><span class="annot"><span class="annottext">CheckpointKey
csNewKey :: forall a. CheckpointStoreItem a -&gt; CheckpointKey
csNewKey :: CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#csNewKey"><span class="hs-identifier hs-var hs-var">csNewKey</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; Interval CheckpointKey
forall a. a -&gt; a -&gt; Interval a
</span><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier hs-var">ClosedInterval</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680811021"><span class="hs-identifier hs-var">from_</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680811019"><span class="hs-identifier hs-var">csNewKey</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | The maximum key that is present in the store</span><span>
</span><span id="line-97"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#maxKey"><span class="hs-identifier hs-type">maxKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-98"></span><span id="maxKey"><span class="annot"><span class="annottext">maxKey :: CheckpointStore -&gt; Maybe CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#maxKey"><span class="hs-identifier hs-var hs-var">maxKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((CheckpointKey, CheckpointStoreItem Value) -&gt; CheckpointKey)
-&gt; Maybe (CheckpointKey, CheckpointStoreItem Value)
-&gt; Maybe CheckpointKey
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointKey, CheckpointStoreItem Value) -&gt; CheckpointKey
forall a b. (a, b) -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (CheckpointKey, CheckpointStoreItem Value)
 -&gt; Maybe CheckpointKey)
-&gt; (CheckpointStore
    -&gt; Maybe (CheckpointKey, CheckpointStoreItem Value))
-&gt; CheckpointStore
-&gt; Maybe CheckpointKey
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map CheckpointKey (CheckpointStoreItem Value)
-&gt; Maybe (CheckpointKey, CheckpointStoreItem Value)
forall k a. Map k a -&gt; Maybe (k, a)
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.lookupMax</span></a></span><span> </span><span class="annot"><span class="annottext">(Map CheckpointKey (CheckpointStoreItem Value)
 -&gt; Maybe (CheckpointKey, CheckpointStoreItem Value))
-&gt; (CheckpointStore
    -&gt; Map CheckpointKey (CheckpointStoreItem Value))
-&gt; CheckpointStore
-&gt; Maybe (CheckpointKey, CheckpointStoreItem Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore -&gt; Map CheckpointKey (CheckpointStoreItem Value)
</span><a href="Plutus.Contract.Checkpoint.html#unCheckpointStore"><span class="hs-identifier hs-var hs-var">unCheckpointStore</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span id="local-6989586621680811015"><span id="local-6989586621680811016"></span></span><span class="hs-keyword">data</span><span> </span><span id="CheckpointStoreItem"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-var">CheckpointStoreItem</span></a></span></span><span> </span><span id="local-6989586621680811431"><span class="annot"><a href="#local-6989586621680811431"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-101"></span><span>    </span><span id="CheckpointStoreItem"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-var">CheckpointStoreItem</span></a></span></span><span>
</span><span id="line-102"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="csValue"><span class="annot"><span class="annottext">CheckpointStoreItem a -&gt; a
</span><a href="Plutus.Contract.Checkpoint.html#csValue"><span class="hs-identifier hs-var hs-var">csValue</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680811431"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-103"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="csNewKey"><span class="annot"><span class="annottext">CheckpointStoreItem a -&gt; CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#csNewKey"><span class="hs-identifier hs-var hs-var">csNewKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-104"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680811010"><span id="local-6989586621680811012"><span class="annot"><span class="annottext">CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
(CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; (CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; Eq (CheckpointStoreItem a)
forall a.
Eq a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
$c/= :: forall a.
Eq a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
== :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
$c== :: forall a.
Eq a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810995"><span id="local-6989586621680810997"><span id="local-6989586621680810999"><span id="local-6989586621680811001"><span id="local-6989586621680811003"><span id="local-6989586621680811005"><span id="local-6989586621680811007"><span class="annot"><span class="annottext">Eq (CheckpointStoreItem a)
Eq (CheckpointStoreItem a)
-&gt; (CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Ordering)
-&gt; (CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; (CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; (CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; (CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; (CheckpointStoreItem a
    -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a)
-&gt; (CheckpointStoreItem a
    -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a)
-&gt; Ord (CheckpointStoreItem a)
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Ordering
CheckpointStoreItem a
-&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall a. Ord a =&gt; Eq (CheckpointStoreItem a)
forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Ordering
forall a.
Ord a =&gt;
CheckpointStoreItem a
-&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a
min :: CheckpointStoreItem a
-&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a
$cmin :: forall a.
Ord a =&gt;
CheckpointStoreItem a
-&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a
max :: CheckpointStoreItem a
-&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a
$cmax :: forall a.
Ord a =&gt;
CheckpointStoreItem a
-&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem a
&gt;= :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
$c&gt;= :: forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
&gt; :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
$c&gt; :: forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
&lt;= :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
$c&lt;= :: forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
&lt; :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
$c&lt; :: forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Bool
compare :: CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Ordering
$ccompare :: forall a.
Ord a =&gt;
CheckpointStoreItem a -&gt; CheckpointStoreItem a -&gt; Ordering
$cp1Ord :: forall a. Ord a =&gt; Eq (CheckpointStoreItem a)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810989"><span id="local-6989586621680810991"><span id="local-6989586621680810993"><span class="annot"><span class="annottext">Int -&gt; CheckpointStoreItem a -&gt; ShowS
[CheckpointStoreItem a] -&gt; ShowS
CheckpointStoreItem a -&gt; String
(Int -&gt; CheckpointStoreItem a -&gt; ShowS)
-&gt; (CheckpointStoreItem a -&gt; String)
-&gt; ([CheckpointStoreItem a] -&gt; ShowS)
-&gt; Show (CheckpointStoreItem a)
forall a. Show a =&gt; Int -&gt; CheckpointStoreItem a -&gt; ShowS
forall a. Show a =&gt; [CheckpointStoreItem a] -&gt; ShowS
forall a. Show a =&gt; CheckpointStoreItem a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CheckpointStoreItem a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [CheckpointStoreItem a] -&gt; ShowS
show :: CheckpointStoreItem a -&gt; String
$cshow :: forall a. Show a =&gt; CheckpointStoreItem a -&gt; String
showsPrec :: Int -&gt; CheckpointStoreItem a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; CheckpointStoreItem a -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. CheckpointStoreItem a -&gt; Rep (CheckpointStoreItem a) x)
-&gt; (forall x.
    Rep (CheckpointStoreItem a) x -&gt; CheckpointStoreItem a)
-&gt; Generic (CheckpointStoreItem a)
forall x. Rep (CheckpointStoreItem a) x -&gt; CheckpointStoreItem a
forall x. CheckpointStoreItem a -&gt; Rep (CheckpointStoreItem a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (CheckpointStoreItem a) x -&gt; CheckpointStoreItem a
forall a x. CheckpointStoreItem a -&gt; Rep (CheckpointStoreItem a) x
$cto :: forall a x. Rep (CheckpointStoreItem a) x -&gt; CheckpointStoreItem a
$cfrom :: forall a x. CheckpointStoreItem a -&gt; Rep (CheckpointStoreItem a) x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810983"><span id="local-6989586621680810985"><span class="annot"><span class="annottext">a -&gt; CheckpointStoreItem b -&gt; CheckpointStoreItem a
(a -&gt; b) -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem b
(forall a b.
 (a -&gt; b) -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem b)
-&gt; (forall a b.
    a -&gt; CheckpointStoreItem b -&gt; CheckpointStoreItem a)
-&gt; Functor CheckpointStoreItem
forall a b. a -&gt; CheckpointStoreItem b -&gt; CheckpointStoreItem a
forall a b.
(a -&gt; b) -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; CheckpointStoreItem b -&gt; CheckpointStoreItem a
$c&lt;$ :: forall a b. a -&gt; CheckpointStoreItem b -&gt; CheckpointStoreItem a
fmap :: (a -&gt; b) -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem b
$cfmap :: forall a b.
(a -&gt; b) -&gt; CheckpointStoreItem a -&gt; CheckpointStoreItem b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810948"><span id="local-6989586621680810950"><span id="local-6989586621680810952"><span id="local-6989586621680810954"><span id="local-6989586621680810956"><span id="local-6989586621680810958"><span id="local-6989586621680810960"><span id="local-6989586621680810962"><span id="local-6989586621680810964"><span id="local-6989586621680810966"><span id="local-6989586621680810968"><span id="local-6989586621680810970"><span id="local-6989586621680810972"><span id="local-6989586621680810974"><span id="local-6989586621680810976"><span id="local-6989586621680810978"><span id="local-6989586621680810980"><span class="annot"><span class="annottext">CheckpointStoreItem a -&gt; Bool
(a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m
(a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
(forall m. Monoid m =&gt; CheckpointStoreItem m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a)
-&gt; (forall a. CheckpointStoreItem a -&gt; [a])
-&gt; (forall a. CheckpointStoreItem a -&gt; Bool)
-&gt; (forall a. CheckpointStoreItem a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; CheckpointStoreItem a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; CheckpointStoreItem a -&gt; a)
-&gt; (forall a. Ord a =&gt; CheckpointStoreItem a -&gt; a)
-&gt; (forall a. Num a =&gt; CheckpointStoreItem a -&gt; a)
-&gt; (forall a. Num a =&gt; CheckpointStoreItem a -&gt; a)
-&gt; Foldable CheckpointStoreItem
forall a. Eq a =&gt; a -&gt; CheckpointStoreItem a -&gt; Bool
forall a. Num a =&gt; CheckpointStoreItem a -&gt; a
forall a. Ord a =&gt; CheckpointStoreItem a -&gt; a
forall m. Monoid m =&gt; CheckpointStoreItem m -&gt; m
forall a. CheckpointStoreItem a -&gt; Bool
forall a. CheckpointStoreItem a -&gt; Int
forall a. CheckpointStoreItem a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: CheckpointStoreItem a -&gt; a
$cproduct :: forall a. Num a =&gt; CheckpointStoreItem a -&gt; a
sum :: CheckpointStoreItem a -&gt; a
$csum :: forall a. Num a =&gt; CheckpointStoreItem a -&gt; a
minimum :: CheckpointStoreItem a -&gt; a
$cminimum :: forall a. Ord a =&gt; CheckpointStoreItem a -&gt; a
maximum :: CheckpointStoreItem a -&gt; a
$cmaximum :: forall a. Ord a =&gt; CheckpointStoreItem a -&gt; a
elem :: a -&gt; CheckpointStoreItem a -&gt; Bool
$celem :: forall a. Eq a =&gt; a -&gt; CheckpointStoreItem a -&gt; Bool
length :: CheckpointStoreItem a -&gt; Int
$clength :: forall a. CheckpointStoreItem a -&gt; Int
null :: CheckpointStoreItem a -&gt; Bool
$cnull :: forall a. CheckpointStoreItem a -&gt; Bool
toList :: CheckpointStoreItem a -&gt; [a]
$ctoList :: forall a. CheckpointStoreItem a -&gt; [a]
foldl1 :: (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a
foldr1 :: (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; CheckpointStoreItem a -&gt; a
foldl' :: (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
foldl :: (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
foldr' :: (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
foldr :: (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; CheckpointStoreItem a -&gt; b
foldMap' :: (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m
foldMap :: (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; CheckpointStoreItem a -&gt; m
fold :: CheckpointStoreItem m -&gt; m
$cfold :: forall m. Monoid m =&gt; CheckpointStoreItem m -&gt; m
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810937"><span id="local-6989586621680810939"><span id="local-6989586621680810941"><span id="local-6989586621680810943"><span class="annot"><span class="annottext">Functor CheckpointStoreItem
Foldable CheckpointStoreItem
Functor CheckpointStoreItem
-&gt; Foldable CheckpointStoreItem
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; CheckpointStoreItem a -&gt; f (CheckpointStoreItem b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    CheckpointStoreItem (f a) -&gt; f (CheckpointStoreItem a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; CheckpointStoreItem a -&gt; m (CheckpointStoreItem b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    CheckpointStoreItem (m a) -&gt; m (CheckpointStoreItem a))
-&gt; Traversable CheckpointStoreItem
(a -&gt; f b) -&gt; CheckpointStoreItem a -&gt; f (CheckpointStoreItem b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
CheckpointStoreItem (m a) -&gt; m (CheckpointStoreItem a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
CheckpointStoreItem (f a) -&gt; f (CheckpointStoreItem a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; CheckpointStoreItem a -&gt; m (CheckpointStoreItem b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; CheckpointStoreItem a -&gt; f (CheckpointStoreItem b)
sequence :: CheckpointStoreItem (m a) -&gt; m (CheckpointStoreItem a)
$csequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
CheckpointStoreItem (m a) -&gt; m (CheckpointStoreItem a)
mapM :: (a -&gt; m b) -&gt; CheckpointStoreItem a -&gt; m (CheckpointStoreItem b)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; CheckpointStoreItem a -&gt; m (CheckpointStoreItem b)
sequenceA :: CheckpointStoreItem (f a) -&gt; f (CheckpointStoreItem a)
$csequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
CheckpointStoreItem (f a) -&gt; f (CheckpointStoreItem a)
traverse :: (a -&gt; f b) -&gt; CheckpointStoreItem a -&gt; f (CheckpointStoreItem b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; CheckpointStoreItem a -&gt; f (CheckpointStoreItem b)
$cp2Traversable :: Foldable CheckpointStoreItem
$cp1Traversable :: Functor CheckpointStoreItem
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680810928"><span id="local-6989586621680810930"><span id="local-6989586621680810932"><span id="local-6989586621680810934"><span class="annot"><span class="annottext">[CheckpointStoreItem a] -&gt; Encoding
[CheckpointStoreItem a] -&gt; Value
CheckpointStoreItem a -&gt; Encoding
CheckpointStoreItem a -&gt; Value
(CheckpointStoreItem a -&gt; Value)
-&gt; (CheckpointStoreItem a -&gt; Encoding)
-&gt; ([CheckpointStoreItem a] -&gt; Value)
-&gt; ([CheckpointStoreItem a] -&gt; Encoding)
-&gt; ToJSON (CheckpointStoreItem a)
forall a. ToJSON a =&gt; [CheckpointStoreItem a] -&gt; Encoding
forall a. ToJSON a =&gt; [CheckpointStoreItem a] -&gt; Value
forall a. ToJSON a =&gt; CheckpointStoreItem a -&gt; Encoding
forall a. ToJSON a =&gt; CheckpointStoreItem a -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [CheckpointStoreItem a] -&gt; Encoding
$ctoEncodingList :: forall a. ToJSON a =&gt; [CheckpointStoreItem a] -&gt; Encoding
toJSONList :: [CheckpointStoreItem a] -&gt; Value
$ctoJSONList :: forall a. ToJSON a =&gt; [CheckpointStoreItem a] -&gt; Value
toEncoding :: CheckpointStoreItem a -&gt; Encoding
$ctoEncoding :: forall a. ToJSON a =&gt; CheckpointStoreItem a -&gt; Encoding
toJSON :: CheckpointStoreItem a -&gt; Value
$ctoJSON :: forall a. ToJSON a =&gt; CheckpointStoreItem a -&gt; Value
</span><a href="#local-6989586621680810928"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810924"><span id="local-6989586621680810926"><span class="annot"><span class="annottext">Value -&gt; Parser [CheckpointStoreItem a]
Value -&gt; Parser (CheckpointStoreItem a)
(Value -&gt; Parser (CheckpointStoreItem a))
-&gt; (Value -&gt; Parser [CheckpointStoreItem a])
-&gt; FromJSON (CheckpointStoreItem a)
forall a. FromJSON a =&gt; Value -&gt; Parser [CheckpointStoreItem a]
forall a. FromJSON a =&gt; Value -&gt; Parser (CheckpointStoreItem a)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [CheckpointStoreItem a]
$cparseJSONList :: forall a. FromJSON a =&gt; Value -&gt; Parser [CheckpointStoreItem a]
parseJSON :: Value -&gt; Parser (CheckpointStoreItem a)
$cparseJSON :: forall a. FromJSON a =&gt; Value -&gt; Parser (CheckpointStoreItem a)
</span><a href="#local-6989586621680810924"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span id="local-6989586621680810922"><span id="local-6989586621680810923"></span></span><span class="hs-keyword">data</span><span> </span><span id="CheckpointLogMsg"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-var">CheckpointLogMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-109"></span><span>    </span><span id="LogFoundValueRestoringKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogFoundValueRestoringKey"><span class="hs-identifier hs-var">LogFoundValueRestoringKey</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogDecodingErrorAtKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogDecodingErrorAtKey"><span class="hs-identifier hs-var">LogDecodingErrorAtKey</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogNoValueForKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogNoValueForKey"><span class="hs-identifier hs-var">LogNoValueForKey</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogDoCheckpoint"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogDoCheckpoint"><span class="hs-identifier hs-var">LogDoCheckpoint</span></a></span></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogAllocateKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogAllocateKey"><span class="hs-identifier hs-var">LogAllocateKey</span></a></span></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogRetrieve"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogRetrieve"><span class="hs-identifier hs-var">LogRetrieve</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogStore"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogStore"><span class="hs-identifier hs-var">LogStore</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LogKeyUpdate"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogKeyUpdate"><span class="hs-identifier hs-var">LogKeyUpdate</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680810910"><span id="local-6989586621680810912"><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
(CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool)
-&gt; Eq CheckpointLogMsg
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
$c/= :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
== :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
$c== :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810895"><span id="local-6989586621680810897"><span id="local-6989586621680810899"><span id="local-6989586621680810901"><span id="local-6989586621680810903"><span id="local-6989586621680810905"><span id="local-6989586621680810907"><span class="annot"><span class="annottext">Eq CheckpointLogMsg
Eq CheckpointLogMsg
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Ordering)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg)
-&gt; (CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg)
-&gt; Ord CheckpointLogMsg
CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Ordering
CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg
$cmin :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg
max :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg
$cmax :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; CheckpointLogMsg
&gt;= :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
$c&gt;= :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
&gt; :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
$c&gt; :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
&lt;= :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
$c&lt;= :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
&lt; :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
$c&lt; :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Bool
compare :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Ordering
$ccompare :: CheckpointLogMsg -&gt; CheckpointLogMsg -&gt; Ordering
$cp1Ord :: Eq CheckpointLogMsg
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810889"><span id="local-6989586621680810891"><span id="local-6989586621680810893"><span class="annot"><span class="annottext">Int -&gt; CheckpointLogMsg -&gt; ShowS
[CheckpointLogMsg] -&gt; ShowS
CheckpointLogMsg -&gt; String
(Int -&gt; CheckpointLogMsg -&gt; ShowS)
-&gt; (CheckpointLogMsg -&gt; String)
-&gt; ([CheckpointLogMsg] -&gt; ShowS)
-&gt; Show CheckpointLogMsg
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CheckpointLogMsg] -&gt; ShowS
$cshowList :: [CheckpointLogMsg] -&gt; ShowS
show :: CheckpointLogMsg -&gt; String
$cshow :: CheckpointLogMsg -&gt; String
showsPrec :: Int -&gt; CheckpointLogMsg -&gt; ShowS
$cshowsPrec :: Int -&gt; CheckpointLogMsg -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. CheckpointLogMsg -&gt; Rep CheckpointLogMsg x)
-&gt; (forall x. Rep CheckpointLogMsg x -&gt; CheckpointLogMsg)
-&gt; Generic CheckpointLogMsg
forall x. Rep CheckpointLogMsg x -&gt; CheckpointLogMsg
forall x. CheckpointLogMsg -&gt; Rep CheckpointLogMsg x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep CheckpointLogMsg x -&gt; CheckpointLogMsg
$cfrom :: forall x. CheckpointLogMsg -&gt; Rep CheckpointLogMsg x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680810879"><span id="local-6989586621680810881"><span id="local-6989586621680810883"><span id="local-6989586621680810885"><span class="annot"><span class="annottext">[CheckpointLogMsg] -&gt; Encoding
[CheckpointLogMsg] -&gt; Value
CheckpointLogMsg -&gt; Encoding
CheckpointLogMsg -&gt; Value
(CheckpointLogMsg -&gt; Value)
-&gt; (CheckpointLogMsg -&gt; Encoding)
-&gt; ([CheckpointLogMsg] -&gt; Value)
-&gt; ([CheckpointLogMsg] -&gt; Encoding)
-&gt; ToJSON CheckpointLogMsg
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [CheckpointLogMsg] -&gt; Encoding
$ctoEncodingList :: [CheckpointLogMsg] -&gt; Encoding
toJSONList :: [CheckpointLogMsg] -&gt; Value
$ctoJSONList :: [CheckpointLogMsg] -&gt; Value
toEncoding :: CheckpointLogMsg -&gt; Encoding
$ctoEncoding :: CheckpointLogMsg -&gt; Encoding
toJSON :: CheckpointLogMsg -&gt; Value
$ctoJSON :: CheckpointLogMsg -&gt; Value
</span><a href="#local-6989586621680810879"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680810875"><span id="local-6989586621680810877"><span class="annot"><span class="annottext">Value -&gt; Parser [CheckpointLogMsg]
Value -&gt; Parser CheckpointLogMsg
(Value -&gt; Parser CheckpointLogMsg)
-&gt; (Value -&gt; Parser [CheckpointLogMsg])
-&gt; FromJSON CheckpointLogMsg
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [CheckpointLogMsg]
$cparseJSONList :: Value -&gt; Parser [CheckpointLogMsg]
parseJSON :: Value -&gt; Parser CheckpointLogMsg
$cparseJSON :: Value -&gt; Parser CheckpointLogMsg
</span><a href="#local-6989586621680810875"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680810872"><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-type">CheckpointLogMsg</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621680810871"><span class="annot"><span class="annottext">pretty :: CheckpointLogMsg -&gt; Doc ann
</span><a href="#local-6989586621680810871"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-122"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogFoundValueRestoringKey"><span class="hs-identifier hs-type">LogFoundValueRestoringKey</span></a></span><span> </span><span id="local-6989586621680810870"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810870"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Found a value, restoring previous key&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810870"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogDecodingErrorAtKey"><span class="hs-identifier hs-type">LogDecodingErrorAtKey</span></a></span><span> </span><span id="local-6989586621680810869"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810869"><span class="hs-identifier hs-var">k</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Decoding error at key&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810869"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogNoValueForKey"><span class="hs-identifier hs-type">LogNoValueForKey</span></a></span><span> </span><span id="local-6989586621680810868"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810868"><span class="hs-identifier hs-var">k</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;No value for key&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810868"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;. The action will be once.&quot;</span></span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogDoCheckpoint"><span class="hs-identifier hs-var">LogDoCheckpoint</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;doCheckpoint&quot;</span></span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogAllocateKey"><span class="hs-identifier hs-var">LogAllocateKey</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;allocateKey&quot;</span></span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogRetrieve"><span class="hs-identifier hs-type">LogRetrieve</span></a></span><span> </span><span id="local-6989586621680810867"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810867"><span class="hs-identifier hs-var">k</span></a></span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;retrieve&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810867"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogStore"><span class="hs-identifier hs-type">LogStore</span></a></span><span> </span><span id="local-6989586621680810866"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810866"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621680810865"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810865"><span class="hs-identifier hs-var">k2</span></a></span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Store; key1:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810866"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;; key2:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810865"><span class="hs-identifier hs-var">k2</span></a></span><span>
</span><span id="line-129"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#LogKeyUpdate"><span class="hs-identifier hs-type">LogKeyUpdate</span></a></span><span> </span><span id="local-6989586621680810864"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810864"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621680810863"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810863"><span class="hs-identifier hs-var">k2</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Key update; key then:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810864"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;; key now:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810863"><span class="hs-identifier hs-var">k2</span></a></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">{-| Insert a new value into the checkpoint store. The first 'CheckpointKey' is
    the checkpoint key *before* running the checkpointed action, the second
    'Checkpoint' key is the value *after* running it. When we restore the
    checkpoint from the state (in 'restore') we set the 'CheckpointKey' state
    to the second argument to prevent chaos.
-}</span><span>
</span><span id="line-137"></span><span id="local-6989586621680811279"><span id="local-6989586621680811280"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#insert"><span class="hs-identifier hs-type">insert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811280"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680811279"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680811280"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811279"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-145"></span><span id="insert"><span class="annot"><span class="annottext">insert :: CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#insert"><span class="hs-identifier hs-var hs-var">insert</span></a></span></span><span> </span><span id="local-6989586621680810861"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810861"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680810860"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810860"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span id="local-6989586621680810859"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810859"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680810858"><span class="annot"><span class="annottext">vl :: CheckpointStoreItem Value
</span><a href="#local-6989586621680810858"><span class="hs-identifier hs-var hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointStoreItem :: forall a. a -&gt; CheckpointKey -&gt; CheckpointStoreItem a
</span><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-type">CheckpointStoreItem</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">csValue :: Value
</span><a href="Plutus.Contract.Checkpoint.html#csValue"><span class="hs-identifier hs-var">csValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">JSON.toJSON</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810859"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">csNewKey :: CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#csNewKey"><span class="hs-identifier hs-var">csNewKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810860"><span class="hs-identifier hs-var">k'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(CheckpointStore -&gt; CheckpointStore) -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
(s -&gt; s) -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ASetter
  CheckpointStore
  CheckpointStore
  (Map CheckpointKey (CheckpointStoreItem Value))
  (Map CheckpointKey (CheckpointStoreItem Value))
-&gt; (Map CheckpointKey (CheckpointStoreItem Value)
    -&gt; Map CheckpointKey (CheckpointStoreItem Value))
-&gt; CheckpointStore
-&gt; CheckpointStore
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  CheckpointStore
  CheckpointStore
  (Map CheckpointKey (CheckpointStoreItem Value))
  (Map CheckpointKey (CheckpointStoreItem Value))
Iso
  CheckpointStore
  CheckpointStore
  (Map CheckpointKey (CheckpointStoreItem Value))
  (Map CheckpointKey (CheckpointStoreItem Value))
</span><a href="Plutus.Contract.Checkpoint.html#_CheckpointStore"><span class="hs-identifier hs-var">_CheckpointStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointKey
-&gt; CheckpointStoreItem Value
-&gt; Map CheckpointKey (CheckpointStoreItem Value)
-&gt; Map CheckpointKey (CheckpointStoreItem Value)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810861"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStoreItem Value
</span><a href="#local-6989586621680810858"><span class="hs-identifier hs-var">vl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">{-| @restore k@ checks for an entry for @k@ in the checkpoint store,
    and parses the result if there is such an entry. It returns

    * @Right Nothing@ if no entry was found
    * @Left err@ if an entry was found but failed to parse with the
      'FromJSON' instance
    * @Right (Just a)@ if an entry was found and parsed succesfully.

-}</span><span>
</span><span id="line-158"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#restore"><span class="hs-identifier hs-type">restore</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680811277"><span class="annot"><a href="#local-6989586621680811277"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680811276"><span class="annot"><a href="#local-6989586621680811276"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811277"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680811276"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680811276"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-type">CheckpointLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680811276"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811276"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier hs-type">CheckpointError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811277"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span id="restore"><span class="annot"><span class="annottext">restore :: CheckpointKey -&gt; Eff effs (Either CheckpointError (Maybe a))
</span><a href="Plutus.Contract.Checkpoint.html#restore"><span class="hs-identifier hs-var hs-var">restore</span></a></span></span><span> </span><span id="local-6989586621680810853"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810853"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621680810852"><span class="annot"><span class="annottext">Maybe (CheckpointStoreItem Value)
</span><a href="#local-6989586621680810852"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(CheckpointStore -&gt; Maybe (CheckpointStoreItem Value))
-&gt; Eff effs (Maybe (CheckpointStoreItem Value))
forall s a (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
(s -&gt; a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">gets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting
  (Maybe (CheckpointStoreItem Value))
  CheckpointStore
  (Maybe (CheckpointStoreItem Value))
-&gt; CheckpointStore -&gt; Maybe (CheckpointStoreItem Value)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">(Getting
   (Maybe (CheckpointStoreItem Value))
   CheckpointStore
   (Maybe (CheckpointStoreItem Value))
 -&gt; CheckpointStore -&gt; Maybe (CheckpointStoreItem Value))
-&gt; Getting
     (Maybe (CheckpointStoreItem Value))
     CheckpointStore
     (Maybe (CheckpointStoreItem Value))
-&gt; CheckpointStore
-&gt; Maybe (CheckpointStoreItem Value)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Map CheckpointKey (CheckpointStoreItem Value)
 -&gt; Const
      (Maybe (CheckpointStoreItem Value))
      (Map CheckpointKey (CheckpointStoreItem Value)))
-&gt; CheckpointStore
-&gt; Const (Maybe (CheckpointStoreItem Value)) CheckpointStore
Iso
  CheckpointStore
  CheckpointStore
  (Map CheckpointKey (CheckpointStoreItem Value))
  (Map CheckpointKey (CheckpointStoreItem Value))
</span><a href="Plutus.Contract.Checkpoint.html#_CheckpointStore"><span class="hs-identifier hs-var">_CheckpointStore</span></a></span><span> </span><span class="annot"><span class="annottext">((Map CheckpointKey (CheckpointStoreItem Value)
  -&gt; Const
       (Maybe (CheckpointStoreItem Value))
       (Map CheckpointKey (CheckpointStoreItem Value)))
 -&gt; CheckpointStore
 -&gt; Const (Maybe (CheckpointStoreItem Value)) CheckpointStore)
-&gt; ((Maybe (CheckpointStoreItem Value)
     -&gt; Const
          (Maybe (CheckpointStoreItem Value))
          (Maybe (CheckpointStoreItem Value)))
    -&gt; Map CheckpointKey (CheckpointStoreItem Value)
    -&gt; Const
         (Maybe (CheckpointStoreItem Value))
         (Map CheckpointKey (CheckpointStoreItem Value)))
-&gt; Getting
     (Maybe (CheckpointStoreItem Value))
     CheckpointStore
     (Maybe (CheckpointStoreItem Value))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Index (Map CheckpointKey (CheckpointStoreItem Value))
-&gt; Lens'
     (Map CheckpointKey (CheckpointStoreItem Value))
     (Maybe (IxValue (Map CheckpointKey (CheckpointStoreItem Value))))
forall m. At m =&gt; Index m -&gt; Lens' m (Maybe (IxValue m))
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">Index (Map CheckpointKey (CheckpointStoreItem Value))
CheckpointKey
</span><a href="#local-6989586621680810853"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680810849"><span class="annot"><span class="annottext">Maybe (Either String (CheckpointStoreItem a))
</span><a href="#local-6989586621680810849"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-type">CheckpointStoreItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811277"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CheckpointStoreItem Value
 -&gt; Either String (CheckpointStoreItem a))
-&gt; Maybe (CheckpointStoreItem Value)
-&gt; Maybe (Either String (CheckpointStoreItem a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Value -&gt; Either String a)
-&gt; CheckpointStoreItem Value
-&gt; Either String (CheckpointStoreItem a)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Value -&gt; Parser a) -&gt; Value -&gt; Either String a
forall a b. (a -&gt; Parser b) -&gt; a -&gt; Either String b
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">JSON.parseEither</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser a
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">JSON.parseJSON</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (CheckpointStoreItem Value)
</span><a href="#local-6989586621680810852"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Either String (CheckpointStoreItem a))
</span><a href="#local-6989586621680810849"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><span class="annottext">Maybe (Either String (CheckpointStoreItem a))
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-172"></span><span>            </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogNoValueForKey"><span class="hs-identifier hs-var">LogNoValueForKey</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810853"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>            </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CheckpointError (Maybe a)
 -&gt; Eff effs (Either CheckpointError (Maybe a)))
-&gt; Either CheckpointError (Maybe a)
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Either CheckpointError (Maybe a)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-174"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680810845"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680810845"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-175"></span><span>            </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogDecodingErrorAtKey"><span class="hs-identifier hs-var">LogDecodingErrorAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810853"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>            </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CheckpointError (Maybe a)
 -&gt; Eff effs (Either CheckpointError (Maybe a)))
-&gt; Either CheckpointError (Maybe a)
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointError -&gt; Either CheckpointError (Maybe a)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; CheckpointError
</span><a href="Plutus.Contract.Checkpoint.html#JSONDecodeError"><span class="hs-identifier hs-var">JSONDecodeError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; CheckpointError) -&gt; Text -&gt; CheckpointError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680810845"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStoreItem"><span class="hs-identifier hs-type">CheckpointStoreItem</span></a></span><span class="hs-special">{</span><span id="local-6989586621680810843"><span class="annot"><span class="annottext">a
csValue :: a
csValue :: forall a. CheckpointStoreItem a -&gt; a
</span><a href="#local-6989586621680810843"><span class="hs-identifier hs-var hs-var">csValue</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680810842"><span class="annot"><span class="annottext">CheckpointKey
csNewKey :: CheckpointKey
csNewKey :: forall a. CheckpointStoreItem a -&gt; CheckpointKey
</span><a href="#local-6989586621680810842"><span class="hs-identifier hs-var hs-var">csNewKey</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>            </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointLogMsg -&gt; Eff effs ())
-&gt; CheckpointLogMsg -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogFoundValueRestoringKey"><span class="hs-identifier hs-var">LogFoundValueRestoringKey</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810842"><span class="hs-identifier hs-var">csNewKey</span></a></span><span>
</span><span id="line-179"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680810841"><span class="annot"><span class="annottext">nk :: CheckpointKey
</span><a href="#local-6989586621680810841"><span class="hs-identifier hs-var hs-var">nk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey
forall a. Enum a =&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810842"><span class="hs-identifier hs-var">csNewKey</span></a></span><span>
</span><span id="line-180"></span><span>            </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810841"><span class="hs-identifier hs-var">nk</span></a></span><span>
</span><span id="line-181"></span><span>            </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a -&gt; Either CheckpointError (Maybe a)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810843"><span class="hs-identifier hs-var">csValue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-keyword">data</span><span> </span><span id="Checkpoint"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-var">Checkpoint</span></a></span></span><span> </span><span id="local-6989586621680810839"><span class="annot"><a href="#local-6989586621680810839"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span id="DoCheckpoint"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#DoCheckpoint"><span class="hs-identifier hs-var">DoCheckpoint</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>    </span><span id="AllocateKey"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AllocateKey"><span class="hs-identifier hs-var">AllocateKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621680810836"><span id="Store"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Store"><span class="hs-identifier hs-var">Store</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810836"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680810836"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621680810834"><span id="Retrieve"><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Retrieve"><span class="hs-identifier hs-var">Retrieve</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810834"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier hs-type">CheckpointError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810834"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#doCheckpoint"><span class="hs-identifier hs-type">doCheckpoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680811265"><span class="annot"><a href="#local-6989586621680811265"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811265"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811265"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span id="doCheckpoint"><span class="annot"><span class="annottext">doCheckpoint :: Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#doCheckpoint"><span class="hs-identifier hs-var hs-var">doCheckpoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkpoint () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Checkpoint ()
</span><a href="Plutus.Contract.Checkpoint.html#DoCheckpoint"><span class="hs-identifier hs-var">DoCheckpoint</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#allocateKey"><span class="hs-identifier hs-type">allocateKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680811264"><span class="annot"><a href="#local-6989586621680811264"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811264"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811264"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-193"></span><span id="allocateKey"><span class="annot"><span class="annottext">allocateKey :: Eff effs CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#allocateKey"><span class="hs-identifier hs-var hs-var">allocateKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkpoint CheckpointKey -&gt; Eff effs CheckpointKey
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Checkpoint CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#AllocateKey"><span class="hs-identifier hs-var">AllocateKey</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#store"><span class="hs-identifier hs-type">store</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680811252"><span class="annot"><a href="#local-6989586621680811252"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680811253"><span class="annot"><a href="#local-6989586621680811253"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811253"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811252"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680811252"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811253"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span id="store"><span class="annot"><span class="annottext">store :: CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#store"><span class="hs-identifier hs-var hs-var">store</span></a></span></span><span> </span><span id="local-6989586621680810828"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810828"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621680810827"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810827"><span class="hs-identifier hs-var">k2</span></a></span></span><span> </span><span id="local-6989586621680810826"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810826"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkpoint () -&gt; Eff effs ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Checkpoint ()
forall a.
ToJSON a =&gt;
CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Checkpoint ()
</span><a href="Plutus.Contract.Checkpoint.html#Store"><span class="hs-identifier hs-var">Store</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810828"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810827"><span class="hs-identifier hs-var">k2</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810826"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#retrieve"><span class="hs-identifier hs-type">retrieve</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680811262"><span class="annot"><a href="#local-6989586621680811262"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680811263"><span class="annot"><a href="#local-6989586621680811263"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811263"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811262"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811263"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier hs-type">CheckpointError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811262"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span id="retrieve"><span class="annot"><span class="annottext">retrieve :: CheckpointKey -&gt; Eff effs (Either CheckpointError (Maybe a))
</span><a href="Plutus.Contract.Checkpoint.html#retrieve"><span class="hs-identifier hs-var hs-var">retrieve</span></a></span></span><span> </span><span id="local-6989586621680810824"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810824"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Checkpoint (Either CheckpointError (Maybe a))
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointKey -&gt; Checkpoint (Either CheckpointError (Maybe a))
forall a.
FromJSON a =&gt;
CheckpointKey -&gt; Checkpoint (Either CheckpointError (Maybe a))
</span><a href="Plutus.Contract.Checkpoint.html#Retrieve"><span class="hs-identifier hs-var">Retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810824"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | Handle the 'Checkpoint' effect in terms of 'CheckpointStore' and</span><span>
</span><span id="line-202"></span><span class="hs-comment">--   'CheckpointKey' states.</span><span>
</span><span id="line-203"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#handleCheckpoint"><span class="hs-identifier hs-type">handleCheckpoint</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680810823"><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-type">CheckpointLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-211"></span><span id="handleCheckpoint"><span class="annot"><span class="annottext">handleCheckpoint :: Eff (Checkpoint : effs) ~&gt; Eff effs
</span><a href="Plutus.Contract.Checkpoint.html#handleCheckpoint"><span class="hs-identifier hs-var hs-var">handleCheckpoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Checkpoint ~&gt; Eff effs) -&gt; Eff (Checkpoint : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">((Checkpoint ~&gt; Eff effs) -&gt; Eff (Checkpoint : effs) ~&gt; Eff effs)
-&gt; (Checkpoint ~&gt; Eff effs) -&gt; Eff (Checkpoint : effs) ~&gt; Eff effs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">Checkpoint x
</span><a href="Plutus.Contract.Checkpoint.html#DoCheckpoint"><span class="hs-identifier hs-var">DoCheckpoint</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogDoCheckpoint"><span class="hs-identifier hs-var">LogDoCheckpoint</span></a></span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><span class="annottext">(CheckpointKey -&gt; CheckpointKey) -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
(s -&gt; s) -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey
forall a. Enum a =&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">succ</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><span class="annottext">Checkpoint x
</span><a href="Plutus.Contract.Checkpoint.html#AllocateKey"><span class="hs-identifier hs-var">AllocateKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogAllocateKey"><span class="hs-identifier hs-var">LogAllocateKey</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State CheckpointKey) effs =&gt;
Eff effs CheckpointKey
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span id="local-6989586621680810821"><span class="annot"><a href="#local-6989586621680810821"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680810820"><span class="annot"><a href="#local-6989586621680810820"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span id="local-6989586621680810819"><span class="annot"><a href="#local-6989586621680810819"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointLogMsg -&gt; Eff effs ())
-&gt; CheckpointLogMsg -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogStore"><span class="hs-identifier hs-var">LogStore</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810821"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810820"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
(ToJSON a, Member (State CheckpointStore) effs) =&gt;
CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#insert"><span class="hs-identifier hs-var">insert</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810821"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810820"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810819"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Retrieve"><span class="hs-identifier hs-type">Retrieve</span></a></span><span> </span><span id="local-6989586621680810818"><span class="annot"><a href="#local-6989586621680810818"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-222"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointLogMsg -&gt; Eff effs ())
-&gt; CheckpointLogMsg -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogRetrieve"><span class="hs-identifier hs-var">LogRetrieve</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810818"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span id="local-6989586621680810817"><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
</span><a href="#local-6989586621680810817"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Eff effs (Either CheckpointError (Maybe a))
forall a (effs :: [* -&gt; *]).
(FromJSON a, Member (State CheckpointStore) effs,
 Member (State CheckpointKey) effs,
 Member (LogMsg CheckpointLogMsg) effs) =&gt;
CheckpointKey -&gt; Eff effs (Either CheckpointError (Maybe a))
</span><a href="Plutus.Contract.Checkpoint.html#restore"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680810823"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810818"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-224"></span><span>        </span><span id="local-6989586621680810816"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810816"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (State CheckpointKey) effs =&gt;
Eff effs CheckpointKey
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><span class="annottext">CheckpointLogMsg -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointLogMsg -&gt; Eff effs ())
-&gt; CheckpointLogMsg -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; CheckpointLogMsg
</span><a href="Plutus.Contract.Checkpoint.html#LogKeyUpdate"><span class="hs-identifier hs-var">LogKeyUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810818"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810816"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff effs (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
</span><a href="#local-6989586621680810817"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">{-| Create a checkpoint for an action.
    @handleCheckpoint (jsonCheckpoint action)@ will

    * Obtain a 'CheckpointKey' that identifies the position of the current
      checkpoint in the program
    * Run @action@, convert its result to JSON and store it in the checkpoint
      store if there is no value at the key
    * Retrieve the result as a JSON value from the store, parse it, and return
      it *instead* of running @action@ if there is a value at the key.

-}</span><span>
</span><span id="line-239"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#jsonCheckpoint"><span class="hs-identifier hs-type">jsonCheckpoint</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680810815"><span class="annot"><a href="#local-6989586621680810815"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span id="local-6989586621680810814"><span class="annot"><a href="#local-6989586621680810814"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680810813"><span class="annot"><a href="#local-6989586621680810813"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810813"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810815"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680810813"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810814"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810814"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier hs-type">AsCheckpointError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810815"><span class="hs-identifier hs-type">err</span></a></span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810813"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810814"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- ^ The @action@ that is checkpointed</span><span>
</span><span id="line-248"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810813"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680810814"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-249"></span><span id="jsonCheckpoint"><span class="annot"><span class="annottext">jsonCheckpoint :: Eff effs a -&gt; Eff effs a
</span><a href="Plutus.Contract.Checkpoint.html#jsonCheckpoint"><span class="hs-identifier hs-var hs-var">jsonCheckpoint</span></a></span></span><span> </span><span id="local-6989586621680810812"><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621680810812"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(() -&gt; Eff effs (Either a ())) -&gt; () -&gt; Eff effs a
forall err a b (effs :: [* -&gt; *]).
(Member Checkpoint effs, Member (Error err) effs, ToJSON a,
 FromJSON a, ToJSON b, FromJSON b, AsCheckpointError err) =&gt;
(a -&gt; Eff effs (Either b a)) -&gt; a -&gt; Eff effs b
</span><a href="Plutus.Contract.Checkpoint.html#jsonCheckpointLoop"><span class="hs-identifier hs-var">jsonCheckpointLoop</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680810815"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680810814"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a ()
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a ()) -&gt; Eff effs a -&gt; Eff effs (Either a ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs a
</span><a href="#local-6989586621680810812"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">{-

Create a checkpoint for an action that is run repeatedly.

-}</span><span>
</span><span id="line-256"></span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#jsonCheckpointLoop"><span class="hs-identifier hs-type">jsonCheckpointLoop</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680811272"><span class="annot"><a href="#local-6989586621680811272"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span id="local-6989586621680811270"><span class="annot"><a href="#local-6989586621680811270"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680811269"><span class="annot"><a href="#local-6989586621680811269"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621680811273"><span class="annot"><a href="#local-6989586621680811273"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811273"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811272"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680811273"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811270"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811270"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811269"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811269"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier hs-type">AsCheckpointError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811272"><span class="hs-identifier hs-type">err</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680811270"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811273"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811269"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811270"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The action that is repeated until it returns a 'Left'. Only the accumulated result of the action will be stored.</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680811270"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- ^ Initial value</span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811273"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680811269"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-269"></span><span id="jsonCheckpointLoop"><span class="annot"><span class="annottext">jsonCheckpointLoop :: (a -&gt; Eff effs (Either b a)) -&gt; a -&gt; Eff effs b
</span><a href="Plutus.Contract.Checkpoint.html#jsonCheckpointLoop"><span class="hs-identifier hs-var hs-var">jsonCheckpointLoop</span></a></span></span><span> </span><span id="local-6989586621680810811"><span class="annot"><span class="annottext">a -&gt; Eff effs (Either b a)
</span><a href="#local-6989586621680810811"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621680810810"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810810"><span class="hs-identifier hs-var">initial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><span class="annottext">Eff effs ()
forall (effs :: [* -&gt; *]). Member Checkpoint effs =&gt; Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#doCheckpoint"><span class="hs-identifier hs-var">doCheckpoint</span></a></span><span>
</span><span id="line-271"></span><span>    </span><span id="local-6989586621680810809"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810809"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs CheckpointKey
forall (effs :: [* -&gt; *]).
Member Checkpoint effs =&gt;
Eff effs CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#allocateKey"><span class="hs-identifier hs-var">allocateKey</span></a></span><span>
</span><span id="line-272"></span><span>    </span><span id="local-6989586621680810808"><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810808"><span class="hs-identifier hs-var">current</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-273"></span><span>                </span><span id="local-6989586621680810807"><span class="annot"><span class="annottext">Either CheckpointError (Maybe (Either b a))
</span><a href="#local-6989586621680810807"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CheckpointKey
-&gt; Eff effs (Either CheckpointError (Maybe (Either b a)))
forall a (effs :: [* -&gt; *]).
(Member Checkpoint effs, FromJSON a) =&gt;
CheckpointKey -&gt; Eff effs (Either CheckpointError (Maybe a))
</span><a href="Plutus.Contract.Checkpoint.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810809"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-274"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe (Either b a))
</span><a href="#local-6989586621680810807"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-275"></span><span>                    </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680810806"><span class="annot"><span class="annottext">CheckpointError
</span><a href="#local-6989586621680810806"><span class="hs-identifier hs-var">err</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-276"></span><span>                        </span><span class="annot"><span class="annottext">err -&gt; Eff effs (Either b a)
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680811272"><span class="hs-identifier hs-type">err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AReview err CheckpointError -&gt; CheckpointError -&gt; err
forall b (m :: * -&gt; *) t. MonadReader b m =&gt; AReview t b -&gt; m t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">review</span></a></span><span> </span><span class="annot"><span class="annottext">AReview err CheckpointError
forall r. AsCheckpointError r =&gt; Prism' r CheckpointError
</span><a href="Plutus.Contract.Checkpoint.html#_CheckpointError"><span class="hs-identifier hs-var">_CheckpointError</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointError
</span><a href="#local-6989586621680810806"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>                    </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680810804"><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810804"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-278"></span><span>                        </span><span class="annot"><span class="annottext">Either b a -&gt; Eff effs (Either b a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810804"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-279"></span><span>                    </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Either b a)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-280"></span><span>                        </span><span class="annot"><span class="annottext">Either b a -&gt; Eff effs (Either b a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either b a
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810810"><span class="hs-identifier hs-var">initial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680810803"><span class="annot"><span class="annottext">go :: Either b a -&gt; Eff effs b
</span><a href="#local-6989586621680810803"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680810802"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680810802"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Eff effs b
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680810802"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><a href="#local-6989586621680810803"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680810801"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810801"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-283"></span><span>                </span><span id="local-6989586621680810800"><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810800"><span class="hs-identifier hs-var">actionResult</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">a -&gt; Eff effs (Either b a)
</span><a href="#local-6989586621680810811"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680810801"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-284"></span><span>                </span><span id="local-6989586621680810799"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810799"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff effs CheckpointKey
forall (effs :: [* -&gt; *]).
Member Checkpoint effs =&gt;
Eff effs CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#allocateKey"><span class="hs-identifier hs-var">allocateKey</span></a></span><span>
</span><span id="line-285"></span><span>                </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; Either b a -&gt; Eff effs ()
forall a (effs :: [* -&gt; *]).
(Member Checkpoint effs, ToJSON a) =&gt;
CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#store"><span class="hs-identifier hs-var">store</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810809"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680810799"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810800"><span class="hs-identifier hs-var">actionResult</span></a></span><span>
</span><span id="line-286"></span><span>                </span><span class="annot"><span class="annottext">Eff effs ()
forall (effs :: [* -&gt; *]). Member Checkpoint effs =&gt; Eff effs ()
</span><a href="Plutus.Contract.Checkpoint.html#doCheckpoint"><span class="hs-identifier hs-var">doCheckpoint</span></a></span><span>
</span><span id="line-287"></span><span>                </span><span class="annot"><span class="annottext">Either b a -&gt; Eff effs b
</span><a href="#local-6989586621680810803"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810800"><span class="hs-identifier hs-var">actionResult</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><span class="annottext">Either b a -&gt; Eff effs b
</span><a href="#local-6989586621680810803"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Either b a
</span><a href="#local-6989586621680810808"><span class="hs-identifier hs-var">current</span></a></span><span>
</span><span id="line-289"></span></pre></body></html>
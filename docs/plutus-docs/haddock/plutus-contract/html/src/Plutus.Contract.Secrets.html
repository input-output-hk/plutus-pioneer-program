<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications  #-}</span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Contract.Secrets</span><span class="hs-special">(</span><span>
</span><span id="line-4"></span><span>  </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier">Secret</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier">SecretArgument</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#mkSecret"><span class="hs-identifier">mkSecret</span></a></span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#secretArg"><span class="hs-identifier">secretArg</span></a></span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#extractSecret"><span class="hs-identifier">extractSecret</span></a></span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#escape_sha2_256"><span class="hs-identifier">escape_sha2_256</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#unsafe_escape_secret"><span class="hs-identifier">unsafe_escape_secret</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson.Encoding.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">string</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.String</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx.Prelude</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Haskell</span></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-comment">-- | A secret value. A value of type `Secret a` can't leak onto</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- the blockchain in plain-text unless you use an unsafe function.</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- However, a value of type `Secret a` can end up on the blockchain</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- via one of the escape hatches like `escape_sha2_256`.</span><span>
</span><span id="line-24"></span><span class="hs-keyword">newtype</span><span> </span><span id="Secret"><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-var">Secret</span></a></span></span><span> </span><span id="local-6989586621680813390"><span class="annot"><a href="#local-6989586621680813390"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MkSecret"><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680813390"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-comment">{- Note [Secret abstraction]
   A value of type `Secret a` is guaranteed not to leak (without a compiler warning)
   because of type abstraction. Intuitively, the `PlutusTx.Extensions.Secrets` module
   does not export the `MkSecret` constructor so as long as the client code that
   imports `PlutusTx.Extensions.Secrets` does not use some unholy `unsafePerformIO` to
   break the Haskell type system the code is guaranteed not to depend on the actual
   value of a secret without:
     1. Using a safe function like `escape_sha2_256` or
     2. Using an unsafe function like `unsafe_escape_secret` (which has a compiler warning
        attached to it).

   This intuition can be made formally precise (see Algehed and Bernardy 2019).

   As noted above, `unsafe_escape_secret` breaks the abstraction barrier and we need to export
   it for two reasons:
     1. To make the library backwards-compatible. If you have some new hash function you should
        be able to define `escape_my_magic_hash` without having to implement it in this module.
     2. For tests it is sometimes necessary to use `unsafe_escape_secret` to inspect the value
        of a secret.

   See `Plutus.Contracts.SealedBidAuction` or `Plutus.Contract.GameStateMachineWithSecretTypes`
   for examples.
 -}</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-comment">-- | Secret argments are provided in the endpoint argument types.</span><span>
</span><span id="line-51"></span><span class="hs-comment">--</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- This type guarantees that a `SecretArgument a` that is seen by</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- the endpoint code is a `Secret a` in a way that can not be</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- bypassed by safe code.</span><span>
</span><span id="line-55"></span><span class="hs-keyword">data</span><span> </span><span id="SecretArgument"><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier hs-var">SecretArgument</span></a></span></span><span> </span><span id="local-6989586621680813466"><span class="annot"><a href="#local-6989586621680813466"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UserSide"><span class="annot"><a href="Plutus.Contract.Secrets.html#UserSide"><span class="hs-identifier hs-var">UserSide</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680813466"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-56"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span id="EndpointSide"><span class="annot"><a href="Plutus.Contract.Secrets.html#EndpointSide"><span class="hs-identifier hs-var">EndpointSide</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813466"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>                      </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680813381"><span id="local-6989586621680813383"><span id="local-6989586621680813385"><span class="annot"><span class="annottext">Int -&gt; SecretArgument a -&gt; ShowS
[SecretArgument a] -&gt; ShowS
SecretArgument a -&gt; String
(Int -&gt; SecretArgument a -&gt; ShowS)
-&gt; (SecretArgument a -&gt; String)
-&gt; ([SecretArgument a] -&gt; ShowS)
-&gt; Show (SecretArgument a)
forall a. Show a =&gt; Int -&gt; SecretArgument a -&gt; ShowS
forall a. Show a =&gt; [SecretArgument a] -&gt; ShowS
forall a. Show a =&gt; SecretArgument a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SecretArgument a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [SecretArgument a] -&gt; ShowS
show :: SecretArgument a -&gt; String
$cshow :: forall a. Show a =&gt; SecretArgument a -&gt; String
showsPrec :: Int -&gt; SecretArgument a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; SecretArgument a -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Haskell.Show</span></a></span></span></span></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">{- Note [Secret arguments]
   When we write endpoint code we would like to specify the argument type
   for an endpoint with code that looks something like this:
   ```
   data MyEndpointArgs = MyEndpointArgs { publicArg :: Int , secretArg :: Secret Int }

   type UserSchema = Endpoint &quot;myendpoint&quot; MyEndpointArgs
                     .\/ ...
   ```
   Which would mean that any endpoint code for `myendpoint` would be guaranteed not to
   leak the `secretArg` in plaintext to the blockchain (or elsewhere for that matter).

   However, the type `MyEndpointArgs` needs to be an instance of the class `ToJSON`
   for this to work out with the `endpoint` function. Consequently, we would need to
   provide a function `toJSON :: Secret a -&gt; Value` that would have to break abstraction
   for the `Secret` type (see [Secret abstraction]) which would be bad.

   The `SecretArgument a` type fixes this by having two constructors `UserSide :: a -&gt; SecretArgument a`
   and `EndpointSide :: Secret a -&gt; SecretArgument a` that ensures that as secrets are submitted
   to endpoint code by the user they are &quot;public&quot;, while when the secret reaches the endpoint code it
   has been obscured by a `Secret` wrapper that gives us the guarantee that the secret doesn't leak.

   See `Plutus.Contracts.SealedBidAuction` or `Plutus.Contract.GameStateMachineWithSecretTypes` for examples.
 -}</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span id="local-6989586621680813379"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680813373"><span id="local-6989586621680813375"><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813379"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier hs-type">SecretArgument</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813379"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>  </span><span id="local-6989586621680813371"><span class="annot"><span class="annottext">toJSON :: SecretArgument a -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#UserSide"><span class="hs-identifier hs-type">UserSide</span></a></span><span> </span><span id="local-6989586621680813369"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813369"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">toJSON</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813369"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">toJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#EndpointSide"><span class="hs-identifier hs-type">EndpointSide</span></a></span><span> </span><span class="annot"><span class="annottext">Secret a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">Aeson.String</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;EndpointSide *****&quot;</span></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621680813367"><span class="annot"><span class="annottext">toEncoding :: SecretArgument a -&gt; Encoding
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEncoding</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#UserSide"><span class="hs-identifier hs-type">UserSide</span></a></span><span> </span><span id="local-6989586621680813365"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813365"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Encoding
forall a. ToJSON a =&gt; a -&gt; Encoding
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">toEncoding</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813365"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">toEncoding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#EndpointSide"><span class="hs-identifier hs-type">EndpointSide</span></a></span><span> </span><span class="annot"><span class="annottext">Secret a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Encoding
forall a. String -&gt; Encoding' a
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;EndpointSide *****&quot;</span></span></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span id="local-6989586621680813364"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680813361"><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813364"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier hs-type">SecretArgument</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813364"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-92"></span><span>  </span><span id="local-6989586621680813359"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (SecretArgument a)
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; SecretArgument a) -&gt; Parser a -&gt; Parser (SecretArgument a)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Secret a -&gt; SecretArgument a
forall a. Secret a -&gt; SecretArgument a
</span><a href="Plutus.Contract.Secrets.html#EndpointSide"><span class="hs-identifier hs-var">EndpointSide</span></a></span><span> </span><span class="annot"><span class="annottext">(Secret a -&gt; SecretArgument a)
-&gt; (a -&gt; Secret a) -&gt; a -&gt; SecretArgument a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">Haskell..</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Secret a
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#mkSecret"><span class="hs-identifier hs-var">mkSecret</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser a -&gt; Parser (SecretArgument a))
-&gt; (Value -&gt; Parser a) -&gt; Value -&gt; Parser (SecretArgument a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">Haskell..</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser a
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var">parseJSON</span></a></span></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621680813355"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680813350"><span id="local-6989586621680813353"><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Haskell.Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813355"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span id="local-6989586621680813349"><span class="annot"><span class="annottext">show :: Secret a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*****&quot;</span></span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680813345"><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Haskell.Functor</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>  </span><span id="local-6989586621680813343"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Secret a -&gt; Secret b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621680813342"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813342"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813341"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813341"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Secret b
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813342"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813341"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">PlutusTx.Functor</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-101"></span><span>  </span><span id="local-6989586621680813338"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Secret a -&gt; Secret b
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621680813336"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813336"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813335"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813335"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Secret b
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813336"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813335"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680813326"><span id="local-6989586621680813328"><span id="local-6989586621680813330"><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Haskell.Applicative</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>  </span><span id="local-6989586621680813324"><span class="annot"><span class="annottext">pure :: a -&gt; Secret a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Secret a
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#mkSecret"><span class="hs-identifier hs-var">mkSecret</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813323"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813323"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680813322"><span class="annot"><span class="annottext">&lt;*&gt; :: Secret (a -&gt; b) -&gt; Secret a -&gt; Secret b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813321"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813321"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Secret b
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813323"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813321"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">PlutusTx.Applicative</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621680813316"><span class="annot"><span class="annottext">pure :: a -&gt; Secret a
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Secret a
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813314"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813314"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680813313"><span class="annot"><span class="annottext">&lt;*&gt; :: Secret (a -&gt; b) -&gt; Secret a -&gt; Secret b
</span><a href="../../../../plutus-tx/html/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813311"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813311"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Secret b
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680813314"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813311"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680813305"><span id="local-6989586621680813307"><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813303"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813303"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680813302"><span class="annot"><span class="annottext">&gt;&gt;= :: Secret a -&gt; (a -&gt; Secret b) -&gt; Secret b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></a></span></span><span> </span><span id="local-6989586621680813301"><span class="annot"><span class="annottext">a -&gt; Secret b
</span><a href="#local-6989586621680813301"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Secret b
</span><a href="#local-6989586621680813301"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813303"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span id="local-6989586621680813300"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813300"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813300"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621680813297"><span class="annot"><span class="annottext">fromString :: String -&gt; Secret s
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; Secret s
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span> </span><span class="annot"><span class="annottext">(s -&gt; Secret s) -&gt; (String -&gt; s) -&gt; String -&gt; Secret s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../plutus-tx/html/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; s
forall a. IsString a =&gt; String -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span id="local-6989586621680813295"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813295"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier hs-type">SecretArgument</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813295"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>  </span><span id="local-6989586621680813293"><span class="annot"><span class="annottext">fromString :: String -&gt; SecretArgument s
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">s -&gt; SecretArgument s
forall a. a -&gt; SecretArgument a
</span><a href="Plutus.Contract.Secrets.html#UserSide"><span class="hs-identifier hs-var">UserSide</span></a></span><span> </span><span class="annot"><span class="annottext">(s -&gt; SecretArgument s)
-&gt; (String -&gt; s) -&gt; String -&gt; SecretArgument s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../plutus-tx/html/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; s
forall a. IsString a =&gt; String -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Turn a public value into a secret value</span><span>
</span><span id="line-121"></span><span id="local-6989586621680813462"><span class="annot"><a href="Plutus.Contract.Secrets.html#mkSecret"><span class="hs-identifier hs-type">mkSecret</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680813462"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813462"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-122"></span><span id="mkSecret"><span class="annot"><span class="annottext">mkSecret :: a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#mkSecret"><span class="hs-identifier hs-var hs-var">mkSecret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Secret a
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-var">MkSecret</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- | Construct a secret argument</span><span>
</span><span id="line-125"></span><span id="local-6989586621680813292"><span class="annot"><a href="Plutus.Contract.Secrets.html#secretArg"><span class="hs-identifier hs-type">secretArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680813292"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier hs-type">SecretArgument</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813292"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-126"></span><span id="secretArg"><span class="annot"><span class="annottext">secretArg :: a -&gt; SecretArgument a
</span><a href="Plutus.Contract.Secrets.html#secretArg"><span class="hs-identifier hs-var hs-var">secretArg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; SecretArgument a
forall a. a -&gt; SecretArgument a
</span><a href="Plutus.Contract.Secrets.html#UserSide"><span class="hs-identifier hs-var">UserSide</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="hs-comment">-- | Extract a secret value from a secret argument</span><span>
</span><span id="line-129"></span><span id="local-6989586621680813291"><span class="annot"><a href="Plutus.Contract.Secrets.html#extractSecret"><span class="hs-identifier hs-type">extractSecret</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#SecretArgument"><span class="hs-identifier hs-type">SecretArgument</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813291"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813291"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-130"></span><span id="extractSecret"><span class="annot"><span class="annottext">extractSecret :: SecretArgument a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#extractSecret"><span class="hs-identifier hs-var hs-var">extractSecret</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#UserSide"><span class="hs-identifier hs-type">UserSide</span></a></span><span> </span><span id="local-6989586621680813290"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813290"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Secret a
forall a. a -&gt; Secret a
</span><a href="Plutus.Contract.Secrets.html#mkSecret"><span class="hs-identifier hs-var">mkSecret</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813290"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Plutus.Contract.Secrets.html#extractSecret"><span class="hs-identifier hs-var">extractSecret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#EndpointSide"><span class="hs-identifier hs-type">EndpointSide</span></a></span><span> </span><span id="local-6989586621680813289"><span class="annot"><span class="annottext">Secret a
</span><a href="#local-6989586621680813289"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Secret a
</span><a href="#local-6989586621680813289"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-- | Take the sha2_256 hash of a secret value. The result of this</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- function can be used on the blockchain.</span><span>
</span><span id="line-135"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#escape_sha2_256"><span class="hs-pragma hs-type">escape_sha2_256</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-136"></span><span class="annot"><a href="Plutus.Contract.Secrets.html#escape_sha2_256"><span class="hs-identifier hs-type">escape_sha2_256</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">BuiltinByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">BuiltinByteString</span></a></span><span>
</span><span id="line-137"></span><span id="escape_sha2_256"><span class="annot"><span class="annottext">escape_sha2_256 :: Secret BuiltinByteString -&gt; BuiltinByteString
</span><a href="Plutus.Contract.Secrets.html#escape_sha2_256"><span class="hs-identifier hs-var hs-var">escape_sha2_256</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; BuiltinByteString
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">sha2_256</span></a></span><span> </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; BuiltinByteString)
-&gt; (Secret BuiltinByteString -&gt; BuiltinByteString)
-&gt; Secret BuiltinByteString
-&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../plutus-tx/html/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Secret BuiltinByteString -&gt; BuiltinByteString
forall a. Secret a -&gt; a
</span><a href="Plutus.Contract.Secrets.html#unsafe_escape_secret"><span class="hs-identifier hs-var">unsafe_escape_secret</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-pragma">{-# WARNING</span><span> </span><span class="hs-pragma">unsafe_escape_secret</span><span> </span><span class="hs-pragma">&quot;[Requires Review] An escape hatch is being created. This should only be used in trusted code.&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-140"></span><span id="local-6989586621680813398"><span class="annot"><a href="Plutus.Contract.Secrets.html#unsafe_escape_secret"><span class="hs-identifier hs-type">unsafe_escape_secret</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Secrets.html#Secret"><span class="hs-identifier hs-type">Secret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680813398"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680813398"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-141"></span><span id="unsafe_escape_secret"><span class="annot"><span class="annottext">unsafe_escape_secret :: Secret a -&gt; a
</span><a href="Plutus.Contract.Secrets.html#unsafe_escape_secret"><span class="hs-identifier hs-var hs-var">unsafe_escape_secret</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Secrets.html#MkSecret"><span class="hs-identifier hs-type">MkSecret</span></a></span><span> </span><span id="local-6989586621680813287"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813287"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680813287"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-142"></span></pre></body></html>
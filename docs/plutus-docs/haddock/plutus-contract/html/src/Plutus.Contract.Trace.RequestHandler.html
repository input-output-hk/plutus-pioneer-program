<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds         #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia       #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts  #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE MonoLocalBinds    #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns    #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes        #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications  #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators     #-}</span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Contract.Trace.RequestHandler</span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier">RequestHandler</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier">RequestHandlerLogMsg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler"><span class="hs-identifier">tryHandler</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler%27"><span class="hs-identifier">tryHandler'</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#wrapHandler"><span class="hs-identifier">wrapHandler</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#extract"><span class="hs-identifier">extract</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#maybeToHandler"><span class="hs-identifier">maybeToHandler</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#generalise"><span class="hs-identifier">generalise</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- * handlers for common requests</span></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleAdjustUnbalancedTx"><span class="hs-identifier">handleAdjustUnbalancedTx</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleOwnAddresses"><span class="hs-identifier">handleOwnAddresses</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleSlotNotifications"><span class="hs-identifier">handleSlotNotifications</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentNodeClientSlot"><span class="hs-identifier">handleCurrentNodeClientSlot</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentChainIndexSlot"><span class="hs-identifier">handleCurrentChainIndexSlot</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleTimeNotifications"><span class="hs-identifier">handleTimeNotifications</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentTime"><span class="hs-identifier">handleCurrentTime</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentNodeClientTimeRange"><span class="hs-identifier">handleCurrentNodeClientTimeRange</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleTimeToSlotConversions"><span class="hs-identifier">handleTimeToSlotConversions</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleUnbalancedTransactions"><span class="hs-identifier">handleUnbalancedTransactions</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handlePendingTransactions"><span class="hs-identifier">handlePendingTransactions</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleChainIndexQueries"><span class="hs-identifier">handleChainIndexQueries</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleOwnInstanceIdQueries"><span class="hs-identifier">handleOwnInstanceIdQueries</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleYieldedUnbalancedTx"><span class="hs-identifier">handleYieldedUnbalancedTx</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleGetParams"><span class="hs-identifier">handleGetParams</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Alternative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">empty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;|&gt;)</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Arrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Arrow</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Kleisli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Kleisli</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Category</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Category</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Prism'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/wjz55miww0csfph9nxy2109hrj7ylva5-profunctors-lib-profunctors-5.6-haddock-doc/share/doc/profunctors/html/src"><span class="hs-identifier">Profunctor</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">preview</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">foldM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">guard</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">join</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Eff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Member</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Eff</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.NonDet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">NonDet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.NonDet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonDet</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Reader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">ask</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Alt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Alt</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Ap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Ap</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">forM</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html"><span class="hs-identifier">Plutus.Contract.Resumable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier">Request</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier">Request</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#itID"><span class="hs-identifier">itID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#rqID"><span class="hs-identifier">rqID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#rqRequest"><span class="hs-identifier">rqRequest</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>                                  </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier">Response</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier">Response</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#rspItID"><span class="hs-identifier">rspItID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#rspResponse"><span class="hs-identifier">rspResponse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#rspRqID"><span class="hs-identifier">rspRqID</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Cardano.Node.Emulator.Params</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Params</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Cardano.Node.Emulator.TimeSlot</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TimeSlot</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMessage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMsg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogObserve</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">logDebug</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">logWarn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">surroundDebug</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">NonEmpty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CardanoAddress</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">POSIXTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">POSIXTimeRange</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Slot</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">SlotRange</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier">Ledger.Constraints.OffChain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier">UnbalancedTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier">adjustUnbalancedTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">CardanoTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Tx.CardanoAPI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">ToCardanoError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">Plutus.ChainIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">ChainIndexQueryEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">Plutus.ChainIndex.Effects</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ChainIndexEff</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">Plutus.ChainIndex.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">Tip</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html"><span class="hs-identifier">Plutus.Contract.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Effects.html#ChainIndexQuery"><span class="hs-identifier">ChainIndexQuery</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#ChainIndexResponse"><span class="hs-identifier">ChainIndexResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Wallet.html"><span class="hs-identifier">Plutus.Contract.Wallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="Wallet.html"><span class="hs-identifier">Wallet</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.API.html"><span class="hs-identifier">Wallet.API</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.Error.html#WalletAPIError"><span class="hs-identifier">WalletAPIError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Effects.html"><span class="hs-identifier">Wallet.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier">NodeClientEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Effects.html#WalletEffect"><span class="hs-identifier">WalletEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier">getClientParams</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Effects.html#getClientSlot"><span class="hs-identifier">getClientSlot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Effects.html"><span class="hs-identifier">Wallet.Effects</span></a></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html"><span class="hs-identifier">Wallet.Emulator.LogMessages</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier">RequestHandlerLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#AdjustingUnbalancedTx"><span class="hs-identifier">AdjustingUnbalancedTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#HandleTxFailed"><span class="hs-identifier">HandleTxFailed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#SlotNoticationTargetVsCurrent"><span class="hs-identifier">SlotNoticationTargetVsCurrent</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Types.html"><span class="hs-identifier">Wallet.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Types.html#ContractInstanceId"><span class="hs-identifier">ContractInstanceId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- | Request handlers that can choose whether to handle an effect (using</span><span>
</span><span id="line-73"></span><span class="hs-comment">--   'Alternative'). This is useful if 'req' is a sum type.</span><span>
</span><span id="line-74"></span><span class="hs-keyword">newtype</span><span> </span><span id="RequestHandler"><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span></span><span> </span><span id="local-6989586621680827068"><span class="annot"><a href="#local-6989586621680827068"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680827069"><span class="annot"><a href="#local-6989586621680827069"><span class="hs-identifier hs-type">req</span></a></span></span><span> </span><span id="local-6989586621680827067"><span class="annot"><a href="#local-6989586621680827067"><span class="hs-identifier hs-type">resp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RequestHandler"><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unRequestHandler"><span class="annot"><span class="annottext">RequestHandler effs req resp -&gt; req -&gt; Eff (NonDet : effs) resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#unRequestHandler"><span class="hs-identifier hs-var hs-var">unRequestHandler</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680827069"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680827068"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680827067"><span class="hs-identifier hs-type">resp</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680826883"><span id="local-6989586621680826885"><span class="annot"><span class="annottext">a -&gt; RequestHandler effs req b -&gt; RequestHandler effs req a
(a -&gt; b) -&gt; RequestHandler effs req a -&gt; RequestHandler effs req b
(forall a b.
 (a -&gt; b) -&gt; RequestHandler effs req a -&gt; RequestHandler effs req b)
-&gt; (forall a b.
    a -&gt; RequestHandler effs req b -&gt; RequestHandler effs req a)
-&gt; Functor (RequestHandler effs req)
forall (effs :: [* -&gt; *]) req a b.
a -&gt; RequestHandler effs req b -&gt; RequestHandler effs req a
forall (effs :: [* -&gt; *]) req a b.
(a -&gt; b) -&gt; RequestHandler effs req a -&gt; RequestHandler effs req b
forall a b.
a -&gt; RequestHandler effs req b -&gt; RequestHandler effs req a
forall a b.
(a -&gt; b) -&gt; RequestHandler effs req a -&gt; RequestHandler effs req b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; RequestHandler effs req b -&gt; RequestHandler effs req a
$c&lt;$ :: forall (effs :: [* -&gt; *]) req a b.
a -&gt; RequestHandler effs req b -&gt; RequestHandler effs req a
fmap :: (a -&gt; b) -&gt; RequestHandler effs req a -&gt; RequestHandler effs req b
$cfmap :: forall (effs :: [* -&gt; *]) req a b.
(a -&gt; b) -&gt; RequestHandler effs req a -&gt; RequestHandler effs req b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680826872"><span id="local-6989586621680826874"><span id="local-6989586621680826876"><span id="local-6989586621680826878"><span id="local-6989586621680826880"><span class="annot"><span class="annottext">q b c -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
RequestHandler effs b c -&gt; q a b -&gt; RequestHandler effs a c
(a -&gt; b)
-&gt; (c -&gt; d) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a d
(a -&gt; b) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a c
(b -&gt; c) -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
(forall a b c d.
 (a -&gt; b)
 -&gt; (c -&gt; d) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a d)
-&gt; (forall a b c.
    (a -&gt; b) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a c)
-&gt; (forall b c a.
    (b -&gt; c) -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c)
-&gt; (forall a b c (q :: * -&gt; * -&gt; *).
    Coercible c b =&gt;
    q b c -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c)
-&gt; (forall a b c (q :: * -&gt; * -&gt; *).
    Coercible b a =&gt;
    RequestHandler effs b c -&gt; q a b -&gt; RequestHandler effs a c)
-&gt; Profunctor (RequestHandler effs)
forall (effs :: [* -&gt; *]) a b c.
(a -&gt; b) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a c
forall (effs :: [* -&gt; *]) b c a.
(b -&gt; c) -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
forall (effs :: [* -&gt; *]) a b c d.
(a -&gt; b)
-&gt; (c -&gt; d) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a d
forall (effs :: [* -&gt; *]) a b c (q :: * -&gt; * -&gt; *).
Coercible b a =&gt;
RequestHandler effs b c -&gt; q a b -&gt; RequestHandler effs a c
forall (effs :: [* -&gt; *]) a b c (q :: * -&gt; * -&gt; *).
Coercible c b =&gt;
q b c -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
forall a b c.
(a -&gt; b) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a c
forall b c a.
(b -&gt; c) -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
forall a b c d.
(a -&gt; b)
-&gt; (c -&gt; d) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a d
forall a b c (q :: * -&gt; * -&gt; *).
Coercible b a =&gt;
RequestHandler effs b c -&gt; q a b -&gt; RequestHandler effs a c
forall a b c (q :: * -&gt; * -&gt; *).
Coercible c b =&gt;
q b c -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
forall (p :: * -&gt; * -&gt; *).
(forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d)
-&gt; (forall a b c. (a -&gt; b) -&gt; p b c -&gt; p a c)
-&gt; (forall b c a. (b -&gt; c) -&gt; p a b -&gt; p a c)
-&gt; (forall a b c (q :: * -&gt; * -&gt; *).
    Coercible c b =&gt;
    q b c -&gt; p a b -&gt; p a c)
-&gt; (forall a b c (q :: * -&gt; * -&gt; *).
    Coercible b a =&gt;
    p b c -&gt; q a b -&gt; p a c)
-&gt; Profunctor p
.# :: RequestHandler effs b c -&gt; q a b -&gt; RequestHandler effs a c
$c.# :: forall (effs :: [* -&gt; *]) a b c (q :: * -&gt; * -&gt; *).
Coercible b a =&gt;
RequestHandler effs b c -&gt; q a b -&gt; RequestHandler effs a c
#. :: q b c -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
$c#. :: forall (effs :: [* -&gt; *]) a b c (q :: * -&gt; * -&gt; *).
Coercible c b =&gt;
q b c -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
rmap :: (b -&gt; c) -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
$crmap :: forall (effs :: [* -&gt; *]) b c a.
(b -&gt; c) -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
lmap :: (a -&gt; b) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a c
$clmap :: forall (effs :: [* -&gt; *]) a b c.
(a -&gt; b) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a c
dimap :: (a -&gt; b)
-&gt; (c -&gt; d) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a d
$cdimap :: forall (effs :: [* -&gt; *]) a b c d.
(a -&gt; b)
-&gt; (c -&gt; d) -&gt; RequestHandler effs b c -&gt; RequestHandler effs a d
</span><a href="../file:///nix/store/wjz55miww0csfph9nxy2109hrj7ylva5-profunctors-lib-profunctors-5.6-haddock-doc/share/doc/profunctors/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Profunctor</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680826867"><span id="local-6989586621680826869"><span class="annot"><span class="annottext">RequestHandler effs a a
RequestHandler effs b c
-&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
(forall a. RequestHandler effs a a)
-&gt; (forall b c a.
    RequestHandler effs b c
    -&gt; RequestHandler effs a b -&gt; RequestHandler effs a c)
-&gt; Category (RequestHandler effs)
forall (effs :: [* -&gt; *]) a. RequestHandler effs a a
forall (effs :: [* -&gt; *]) b c a.
RequestHandler effs b c
-&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
forall a. RequestHandler effs a a
forall b c a.
RequestHandler effs b c
-&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
forall k (cat :: k -&gt; k -&gt; *).
(forall (a :: k). cat a a)
-&gt; (forall (b :: k) (c :: k) (a :: k).
    cat b c -&gt; cat a b -&gt; cat a c)
-&gt; Category cat
. :: RequestHandler effs b c
-&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
$c. :: forall (effs :: [* -&gt; *]) b c a.
RequestHandler effs b c
-&gt; RequestHandler effs a b -&gt; RequestHandler effs a c
id :: RequestHandler effs a a
$cid :: forall (effs :: [* -&gt; *]) a. RequestHandler effs a a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Category</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680826855"><span id="local-6989586621680826857"><span id="local-6989586621680826859"><span id="local-6989586621680826861"><span id="local-6989586621680826863"><span class="annot"><span class="annottext">Category (RequestHandler effs)
Category (RequestHandler effs)
-&gt; (forall b c. (b -&gt; c) -&gt; RequestHandler effs b c)
-&gt; (forall b c d.
    RequestHandler effs b c -&gt; RequestHandler effs (b, d) (c, d))
-&gt; (forall b c d.
    RequestHandler effs b c -&gt; RequestHandler effs (d, b) (d, c))
-&gt; (forall b c b' c'.
    RequestHandler effs b c
    -&gt; RequestHandler effs b' c'
    -&gt; RequestHandler effs (b, b') (c, c'))
-&gt; (forall b c c'.
    RequestHandler effs b c
    -&gt; RequestHandler effs b c' -&gt; RequestHandler effs b (c, c'))
-&gt; Arrow (RequestHandler effs)
RequestHandler effs b c -&gt; RequestHandler effs (b, d) (c, d)
RequestHandler effs b c -&gt; RequestHandler effs (d, b) (d, c)
RequestHandler effs b c
-&gt; RequestHandler effs b' c' -&gt; RequestHandler effs (b, b') (c, c')
RequestHandler effs b c
-&gt; RequestHandler effs b c' -&gt; RequestHandler effs b (c, c')
(b -&gt; c) -&gt; RequestHandler effs b c
forall (effs :: [* -&gt; *]). Category (RequestHandler effs)
forall (effs :: [* -&gt; *]) b c. (b -&gt; c) -&gt; RequestHandler effs b c
forall (effs :: [* -&gt; *]) b c d.
RequestHandler effs b c -&gt; RequestHandler effs (b, d) (c, d)
forall (effs :: [* -&gt; *]) b c d.
RequestHandler effs b c -&gt; RequestHandler effs (d, b) (d, c)
forall (effs :: [* -&gt; *]) b c c'.
RequestHandler effs b c
-&gt; RequestHandler effs b c' -&gt; RequestHandler effs b (c, c')
forall (effs :: [* -&gt; *]) b c b' c'.
RequestHandler effs b c
-&gt; RequestHandler effs b' c' -&gt; RequestHandler effs (b, b') (c, c')
forall b c. (b -&gt; c) -&gt; RequestHandler effs b c
forall b c d.
RequestHandler effs b c -&gt; RequestHandler effs (b, d) (c, d)
forall b c d.
RequestHandler effs b c -&gt; RequestHandler effs (d, b) (d, c)
forall b c c'.
RequestHandler effs b c
-&gt; RequestHandler effs b c' -&gt; RequestHandler effs b (c, c')
forall b c b' c'.
RequestHandler effs b c
-&gt; RequestHandler effs b' c' -&gt; RequestHandler effs (b, b') (c, c')
forall (a :: * -&gt; * -&gt; *).
Category a
-&gt; (forall b c. (b -&gt; c) -&gt; a b c)
-&gt; (forall b c d. a b c -&gt; a (b, d) (c, d))
-&gt; (forall b c d. a b c -&gt; a (d, b) (d, c))
-&gt; (forall b c b' c'. a b c -&gt; a b' c' -&gt; a (b, b') (c, c'))
-&gt; (forall b c c'. a b c -&gt; a b c' -&gt; a b (c, c'))
-&gt; Arrow a
&amp;&amp;&amp; :: RequestHandler effs b c
-&gt; RequestHandler effs b c' -&gt; RequestHandler effs b (c, c')
$c&amp;&amp;&amp; :: forall (effs :: [* -&gt; *]) b c c'.
RequestHandler effs b c
-&gt; RequestHandler effs b c' -&gt; RequestHandler effs b (c, c')
*** :: RequestHandler effs b c
-&gt; RequestHandler effs b' c' -&gt; RequestHandler effs (b, b') (c, c')
$c*** :: forall (effs :: [* -&gt; *]) b c b' c'.
RequestHandler effs b c
-&gt; RequestHandler effs b' c' -&gt; RequestHandler effs (b, b') (c, c')
second :: RequestHandler effs b c -&gt; RequestHandler effs (d, b) (d, c)
$csecond :: forall (effs :: [* -&gt; *]) b c d.
RequestHandler effs b c -&gt; RequestHandler effs (d, b) (d, c)
first :: RequestHandler effs b c -&gt; RequestHandler effs (b, d) (c, d)
$cfirst :: forall (effs :: [* -&gt; *]) b c d.
RequestHandler effs b c -&gt; RequestHandler effs (b, d) (c, d)
arr :: (b -&gt; c) -&gt; RequestHandler effs b c
$carr :: forall (effs :: [* -&gt; *]) b c. (b -&gt; c) -&gt; RequestHandler effs b c
$cp1Arrow :: forall (effs :: [* -&gt; *]). Category (RequestHandler effs)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Arrow</span></a></span></span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Kleisli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680827068"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680826848"><span id="local-6989586621680826850"><span id="local-6989586621680826852"><span class="annot"><span class="annottext">b -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
NonEmpty (RequestHandler effs req resp)
-&gt; RequestHandler effs req resp
RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
(RequestHandler effs req resp
 -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp)
-&gt; (NonEmpty (RequestHandler effs req resp)
    -&gt; RequestHandler effs req resp)
-&gt; (forall b.
    Integral b =&gt;
    b -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp)
-&gt; Semigroup (RequestHandler effs req resp)
forall b.
Integral b =&gt;
b -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall req (effs :: [* -&gt; *]) resp.
NonEmpty (RequestHandler effs req resp)
-&gt; RequestHandler effs req resp
forall req (effs :: [* -&gt; *]) resp.
RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
forall req (effs :: [* -&gt; *]) resp b.
Integral b =&gt;
b -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
stimes :: b -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
$cstimes :: forall req (effs :: [* -&gt; *]) resp b.
Integral b =&gt;
b -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
sconcat :: NonEmpty (RequestHandler effs req resp)
-&gt; RequestHandler effs req resp
$csconcat :: forall req (effs :: [* -&gt; *]) resp.
NonEmpty (RequestHandler effs req resp)
-&gt; RequestHandler effs req resp
&lt;&gt; :: RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
$c&lt;&gt; :: forall req (effs :: [* -&gt; *]) resp.
RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680826840"><span id="local-6989586621680826842"><span id="local-6989586621680826844"><span class="annot"><span class="annottext">Semigroup (RequestHandler effs req resp)
RequestHandler effs req resp
Semigroup (RequestHandler effs req resp)
-&gt; RequestHandler effs req resp
-&gt; (RequestHandler effs req resp
    -&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp)
-&gt; ([RequestHandler effs req resp] -&gt; RequestHandler effs req resp)
-&gt; Monoid (RequestHandler effs req resp)
[RequestHandler effs req resp] -&gt; RequestHandler effs req resp
RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall req (effs :: [* -&gt; *]) resp.
Semigroup (RequestHandler effs req resp)
forall req (effs :: [* -&gt; *]) resp. RequestHandler effs req resp
forall req (effs :: [* -&gt; *]) resp.
[RequestHandler effs req resp] -&gt; RequestHandler effs req resp
forall req (effs :: [* -&gt; *]) resp.
RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
mconcat :: [RequestHandler effs req resp] -&gt; RequestHandler effs req resp
$cmconcat :: forall req (effs :: [* -&gt; *]) resp.
[RequestHandler effs req resp] -&gt; RequestHandler effs req resp
mappend :: RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
$cmappend :: forall req (effs :: [* -&gt; *]) resp.
RequestHandler effs req resp
-&gt; RequestHandler effs req resp -&gt; RequestHandler effs req resp
mempty :: RequestHandler effs req resp
$cmempty :: forall req (effs :: [* -&gt; *]) resp. RequestHandler effs req resp
$cp1Monoid :: forall req (effs :: [* -&gt; *]) resp.
Semigroup (RequestHandler effs req resp)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Ap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680827069"><span class="hs-identifier hs-type">req</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680827068"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680827067"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- Try the handler on the requests until it succeeds for the first time, then stop.</span><span>
</span><span id="line-80"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler"><span class="hs-identifier hs-type">tryHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826838"><span class="annot"><a href="#local-6989586621680826838"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826837"><span class="annot"><a href="#local-6989586621680826837"><span class="hs-identifier hs-type">req</span></a></span></span><span> </span><span id="local-6989586621680826836"><span class="annot"><a href="#local-6989586621680826836"><span class="hs-identifier hs-type">resp</span></a></span></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826838"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826837"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826836"><span class="hs-identifier hs-type">resp</span></a></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680826837"><span class="hs-identifier hs-type">req</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826838"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826836"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span id="tryHandler"><span class="annot"><span class="annottext">tryHandler :: RequestHandler effs req resp -&gt; [req] -&gt; Eff effs (Maybe resp)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler"><span class="hs-identifier hs-var hs-var">tryHandler</span></a></span></span><span> </span><span id="local-6989586621680826835"><span class="annot"><span class="annottext">RequestHandler effs req resp
</span><a href="#local-6989586621680826835"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequestHandler effs req (Maybe resp)
-&gt; [req] -&gt; Eff effs (Maybe resp)
forall (f :: * -&gt; *) (effs :: [* -&gt; *]) req resp.
(Alternative f, Monad f) =&gt;
RequestHandler effs req (f resp) -&gt; [req] -&gt; Eff effs (f resp)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler%27"><span class="hs-identifier hs-var">tryHandler'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">resp -&gt; Maybe resp
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(resp -&gt; Maybe resp)
-&gt; RequestHandler effs req resp
-&gt; RequestHandler effs req (Maybe resp)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RequestHandler effs req resp
</span><a href="#local-6989586621680826835"><span class="hs-identifier hs-var">handler</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- Try the handler on the requests, using the 'Alternative' instance of @f@</span><span>
</span><span id="line-88"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler%27"><span class="hs-identifier hs-type">tryHandler'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680827119"><span class="annot"><a href="#local-6989586621680827119"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621680827117"><span class="annot"><a href="#local-6989586621680827117"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680827116"><span class="annot"><a href="#local-6989586621680827116"><span class="hs-identifier hs-type">req</span></a></span></span><span> </span><span id="local-6989586621680827115"><span class="annot"><a href="#local-6989586621680827115"><span class="hs-identifier hs-type">resp</span></a></span></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alternative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827119"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827119"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827117"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827116"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680827119"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827115"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680827116"><span class="hs-identifier hs-type">req</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827117"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680827119"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680827115"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span id="tryHandler%27"><span class="annot"><span class="annottext">tryHandler' :: RequestHandler effs req (f resp) -&gt; [req] -&gt; Eff effs (f resp)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#tryHandler%27"><span class="hs-identifier hs-var hs-var">tryHandler'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span id="local-6989586621680826833"><span class="annot"><span class="annottext">req -&gt; Eff (NonDet : effs) (f resp)
</span><a href="#local-6989586621680826833"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="annottext">(f resp -&gt; req -&gt; Eff effs (f resp))
-&gt; f resp -&gt; [req] -&gt; Eff effs (f resp)
forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680826832"><span class="annot"><span class="annottext">f resp
</span><a href="#local-6989586621680826832"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680826831"><span class="annot"><span class="annottext">req
</span><a href="#local-6989586621680826831"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(f (f resp) -&gt; f resp)
-&gt; Eff effs (f (f resp)) -&gt; Eff effs (f resp)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">f resp
</span><a href="#local-6989586621680826832"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">f resp -&gt; f resp -&gt; f resp
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(f resp -&gt; f resp)
-&gt; (f (f resp) -&gt; f resp) -&gt; f (f resp) -&gt; f resp
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">f (f resp) -&gt; f resp
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">join</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Eff effs (f (f resp)) -&gt; Eff effs (f resp))
-&gt; Eff effs (f (f resp)) -&gt; Eff effs (f resp)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Alternative f =&gt;
Eff (NonDet : effs) a -&gt; Eff effs (f a)
forall (f :: * -&gt; *) (effs :: [* -&gt; *]) a.
Alternative f =&gt;
Eff (NonDet : effs) a -&gt; Eff effs (f a)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">NonDet.makeChoiceA</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680827119"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) (f resp) -&gt; Eff effs (f (f resp)))
-&gt; Eff (NonDet : effs) (f resp) -&gt; Eff effs (f (f resp))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">req -&gt; Eff (NonDet : effs) (f resp)
</span><a href="#local-6989586621680826833"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">req
</span><a href="#local-6989586621680826831"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f resp
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span id="local-6989586621680826826"><span id="local-6989586621680826827"><span id="local-6989586621680826828"><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#extract"><span class="hs-identifier hs-type">extract</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Alternative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826828"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-type">Prism'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826827"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826826"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680826827"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680826828"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826826"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-98"></span><span id="extract"><span class="annot"><span class="annottext">extract :: Prism' a b -&gt; a -&gt; f b
</span><a href="Plutus.Contract.Trace.RequestHandler.html#extract"><span class="hs-identifier hs-var hs-var">extract</span></a></span></span><span> </span><span id="local-6989586621680826825"><span class="annot"><span class="annottext">Prism' a b
</span><a href="#local-6989586621680826825"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b -&gt; (b -&gt; f b) -&gt; Maybe b -&gt; f b
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">f b
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; f b
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe b -&gt; f b) -&gt; (a -&gt; Maybe b) -&gt; a -&gt; f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First b) a b -&gt; a -&gt; Maybe b
forall s (m :: * -&gt; *) a.
MonadReader s m =&gt;
Getting (First a) s a -&gt; m (Maybe a)
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First b) a b
Prism' a b
</span><a href="#local-6989586621680826825"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | Generalise a request handler</span><span>
</span><span id="line-101"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#generalise"><span class="hs-identifier hs-type">generalise</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826823"><span class="annot"><a href="#local-6989586621680826823"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826822"><span class="annot"><a href="#local-6989586621680826822"><span class="hs-identifier hs-type">req</span></a></span></span><span> </span><span id="local-6989586621680826821"><span class="annot"><a href="#local-6989586621680826821"><span class="hs-identifier hs-type">req'</span></a></span></span><span> </span><span id="local-6989586621680826820"><span class="annot"><a href="#local-6989586621680826820"><span class="hs-identifier hs-type">resp</span></a></span></span><span> </span><span id="local-6989586621680826819"><span class="annot"><a href="#local-6989586621680826819"><span class="hs-identifier hs-type">resp'</span></a></span></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680826821"><span class="hs-identifier hs-type">req'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826822"><span class="hs-identifier hs-type">req</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680826820"><span class="hs-identifier hs-type">resp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680826819"><span class="hs-identifier hs-type">resp'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826823"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826822"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826820"><span class="hs-identifier hs-type">resp</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826823"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826821"><span class="hs-identifier hs-type">req'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826819"><span class="hs-identifier hs-type">resp'</span></a></span><span>
</span><span id="line-107"></span><span id="generalise"><span class="annot"><span class="annottext">generalise :: (req' -&gt; Maybe req)
-&gt; (resp -&gt; resp')
-&gt; RequestHandler effs req resp
-&gt; RequestHandler effs req' resp'
</span><a href="Plutus.Contract.Trace.RequestHandler.html#generalise"><span class="hs-identifier hs-var hs-var">generalise</span></a></span></span><span> </span><span id="local-6989586621680826818"><span class="annot"><span class="annottext">req' -&gt; Maybe req
</span><a href="#local-6989586621680826818"><span class="hs-identifier hs-var">rq</span></a></span></span><span> </span><span id="local-6989586621680826817"><span class="annot"><span class="annottext">resp -&gt; resp'
</span><a href="#local-6989586621680826817"><span class="hs-identifier hs-var">rsp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span id="local-6989586621680826816"><span class="annot"><span class="annottext">req -&gt; Eff (NonDet : effs) resp
</span><a href="#local-6989586621680826816"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(req' -&gt; Eff (NonDet : effs) resp')
-&gt; RequestHandler effs req' resp'
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((req' -&gt; Eff (NonDet : effs) resp')
 -&gt; RequestHandler effs req' resp')
-&gt; (req' -&gt; Eff (NonDet : effs) resp')
-&gt; RequestHandler effs req' resp'
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826815"><span class="annot"><span class="annottext">req'
</span><a href="#local-6989586621680826815"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">req' -&gt; Maybe req
</span><a href="#local-6989586621680826818"><span class="hs-identifier hs-var">rq</span></a></span><span> </span><span class="annot"><span class="annottext">req'
</span><a href="#local-6989586621680826815"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-109"></span><span>        </span><span class="annot"><span class="annottext">Maybe req
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) resp'
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-110"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680826814"><span class="annot"><span class="annottext">req
</span><a href="#local-6989586621680826814"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">resp -&gt; resp'
</span><a href="#local-6989586621680826817"><span class="hs-identifier hs-var">rsp</span></a></span><span> </span><span class="annot"><span class="annottext">(resp -&gt; resp')
-&gt; Eff (NonDet : effs) resp -&gt; Eff (NonDet : effs) resp'
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">req -&gt; Eff (NonDet : effs) resp
</span><a href="#local-6989586621680826816"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">req
</span><a href="#local-6989586621680826814"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span id="local-6989586621680826811"><span id="local-6989586621680826812"><span id="local-6989586621680826813"><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#wrapHandler"><span class="hs-identifier hs-type">wrapHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826813"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826812"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826811"><span class="hs-identifier hs-type">resp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826813"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826812"><span class="hs-identifier hs-type">req</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826811"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-113"></span><span id="wrapHandler"><span class="annot"><span class="annottext">wrapHandler :: RequestHandler effs req resp
-&gt; RequestHandler effs (Request req) (Response resp)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#wrapHandler"><span class="hs-identifier hs-var hs-var">wrapHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span id="local-6989586621680826810"><span class="annot"><span class="annottext">req -&gt; Eff (NonDet : effs) resp
</span><a href="#local-6989586621680826810"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Request req -&gt; Eff (NonDet : effs) (Response resp))
-&gt; RequestHandler effs (Request req) (Response resp)
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((Request req -&gt; Eff (NonDet : effs) (Response resp))
 -&gt; RequestHandler effs (Request req) (Response resp))
-&gt; (Request req -&gt; Eff (NonDet : effs) (Response resp))
-&gt; RequestHandler effs (Request req) (Response resp)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span class="hs-special">{</span><span id="local-6989586621680826809"><span class="annot"><span class="annottext">RequestID
rqID :: RequestID
rqID :: forall o. Request o -&gt; RequestID
</span><a href="#local-6989586621680826809"><span class="hs-identifier hs-var hs-var">rqID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680826808"><span class="annot"><span class="annottext">IterationID
itID :: IterationID
itID :: forall o. Request o -&gt; IterationID
</span><a href="#local-6989586621680826808"><span class="hs-identifier hs-var hs-var">itID</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680826807"><span class="annot"><span class="annottext">req
rqRequest :: req
rqRequest :: forall o. Request o -&gt; o
</span><a href="#local-6989586621680826807"><span class="hs-identifier hs-var hs-var">rqRequest</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-114"></span><span>    </span><span id="local-6989586621680826806"><span class="annot"><span class="annottext">resp
</span><a href="#local-6989586621680826806"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">req -&gt; Eff (NonDet : effs) resp
</span><a href="#local-6989586621680826810"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">req
</span><a href="#local-6989586621680826807"><span class="hs-identifier hs-var">rqRequest</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">Response resp -&gt; Eff (NonDet : effs) (Response resp)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Response resp -&gt; Eff (NonDet : effs) (Response resp))
-&gt; Response resp -&gt; Eff (NonDet : effs) (Response resp)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Response :: forall i. RequestID -&gt; IterationID -&gt; i -&gt; Response i
</span><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">rspRqID :: RequestID
</span><a href="Plutus.Contract.Resumable.html#rspRqID"><span class="hs-identifier hs-var">rspRqID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680826809"><span class="hs-identifier hs-var">rqID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rspResponse :: resp
</span><a href="Plutus.Contract.Resumable.html#rspResponse"><span class="hs-identifier hs-var">rspResponse</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">resp
</span><a href="#local-6989586621680826806"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rspItID :: IterationID
</span><a href="Plutus.Contract.Resumable.html#rspItID"><span class="hs-identifier hs-var">rspItID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680826808"><span class="hs-identifier hs-var">itID</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span id="local-6989586621680826803"><span id="local-6989586621680826804"><span id="local-6989586621680826805"><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#maybeToHandler"><span class="hs-identifier hs-type">maybeToHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680826805"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826804"><span class="hs-identifier hs-type">resp</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826803"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826805"><span class="hs-identifier hs-type">req</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826804"><span class="hs-identifier hs-type">resp</span></a></span></span></span></span><span>
</span><span id="line-118"></span><span id="maybeToHandler"><span class="annot"><span class="annottext">maybeToHandler :: (req -&gt; Maybe resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#maybeToHandler"><span class="hs-identifier hs-var hs-var">maybeToHandler</span></a></span></span><span> </span><span id="local-6989586621680826802"><span class="annot"><span class="annottext">req -&gt; Maybe resp
</span><a href="#local-6989586621680826802"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp)
-&gt; (req -&gt; Eff (NonDet : effs) resp)
-&gt; RequestHandler effs req resp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) resp
-&gt; (resp -&gt; Eff (NonDet : effs) resp)
-&gt; Maybe resp
-&gt; Eff (NonDet : effs) resp
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) resp
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">empty</span></a></span><span> </span><span class="annot"><span class="annottext">resp -&gt; Eff (NonDet : effs) resp
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe resp -&gt; Eff (NonDet : effs) resp)
-&gt; (req -&gt; Maybe resp) -&gt; req -&gt; Eff (NonDet : effs) resp
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">req -&gt; Maybe resp
</span><a href="#local-6989586621680826802"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- handlers for common requests</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleOwnAddresses"><span class="hs-identifier hs-type">handleOwnAddresses</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826801"><span class="annot"><a href="#local-6989586621680826801"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680826800"><span class="annot"><a href="#local-6989586621680826800"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#WalletEffect"><span class="hs-identifier hs-type">WalletEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826800"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826800"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826800"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826801"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span id="handleOwnAddresses"><span class="annot"><span class="annottext">handleOwnAddresses :: RequestHandler effs a (NonEmpty CardanoAddress)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleOwnAddresses"><span class="hs-identifier hs-var hs-var">handleOwnAddresses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="annottext">(a -&gt; Eff (NonDet : effs) (NonEmpty CardanoAddress))
-&gt; RequestHandler effs a (NonEmpty CardanoAddress)
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Eff (NonDet : effs) (NonEmpty CardanoAddress))
 -&gt; RequestHandler effs a (NonEmpty CardanoAddress))
-&gt; (a -&gt; Eff (NonDet : effs) (NonEmpty CardanoAddress))
-&gt; RequestHandler effs a (NonEmpty CardanoAddress)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-130"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) (NonEmpty CardanoAddress)
-&gt; Eff (NonDet : effs) (NonEmpty CardanoAddress)
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleOwnAddresses&quot;</span></span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) (NonEmpty CardanoAddress)
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
Eff effs (NonEmpty CardanoAddress)
</span><a href="Wallet.Effects.html#ownAddresses"><span class="hs-identifier hs-var">Wallet.Effects.ownAddresses</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleSlotNotifications"><span class="hs-identifier hs-type">handleSlotNotifications</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826798"><span class="annot"><a href="#local-6989586621680826798"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826798"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826798"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier hs-type">RequestHandlerLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826798"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826798"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Slot</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Slot</span></a></span><span>
</span><span id="line-139"></span><span id="handleSlotNotifications"><span class="annot"><span class="annottext">handleSlotNotifications :: RequestHandler effs Slot Slot
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleSlotNotifications"><span class="hs-identifier hs-var hs-var">handleSlotNotifications</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><span class="annottext">(Slot -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs Slot Slot
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((Slot -&gt; Eff (NonDet : effs) Slot)
 -&gt; RequestHandler effs Slot Slot)
-&gt; (Slot -&gt; Eff (NonDet : effs) Slot)
-&gt; RequestHandler effs Slot Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826797"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826797"><span class="hs-identifier hs-var">targetSlot_</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleSlotNotifications&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot)
-&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-142"></span><span>            </span><span id="local-6989586621680826796"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826796"><span class="hs-identifier hs-var">currentSlot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Slot
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Slot
</span><a href="Wallet.Effects.html#getClientSlot"><span class="hs-identifier hs-var">getClientSlot</span></a></span><span>
</span><span id="line-143"></span><span>            </span><span class="annot"><span class="annottext">RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ())
-&gt; RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; RequestHandlerLogMsg
</span><a href="Wallet.Emulator.LogMessages.html#SlotNoticationTargetVsCurrent"><span class="hs-identifier hs-var">SlotNoticationTargetVsCurrent</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826797"><span class="hs-identifier hs-var">targetSlot_</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826796"><span class="hs-identifier hs-var">currentSlot</span></a></span><span>
</span><span id="line-144"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; Eff (NonDet : effs) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826796"><span class="hs-identifier hs-var">currentSlot</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826797"><span class="hs-identifier hs-var">targetSlot_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>            </span><span class="annot"><span class="annottext">Slot -&gt; Eff (NonDet : effs) Slot
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826796"><span class="hs-identifier hs-var">currentSlot</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleTimeNotifications"><span class="hs-identifier hs-type">handleTimeNotifications</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826795"><span class="annot"><a href="#local-6989586621680826795"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826795"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826795"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier hs-type">RequestHandlerLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826795"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826795"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTime</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTime</span></a></span><span>
</span><span id="line-154"></span><span id="handleTimeNotifications"><span class="annot"><span class="annottext">handleTimeNotifications :: RequestHandler effs POSIXTime POSIXTime
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleTimeNotifications"><span class="hs-identifier hs-var hs-var">handleTimeNotifications</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">(POSIXTime -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; RequestHandler effs POSIXTime POSIXTime
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((POSIXTime -&gt; Eff (NonDet : effs) POSIXTime)
 -&gt; RequestHandler effs POSIXTime POSIXTime)
-&gt; (POSIXTime -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; RequestHandler effs POSIXTime POSIXTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826794"><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621680826794"><span class="hs-identifier hs-var">targetTime_</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-156"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) POSIXTime -&gt; Eff (NonDet : effs) POSIXTime
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleTimeNotifications&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) POSIXTime -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; Eff (NonDet : effs) POSIXTime -&gt; Eff (NonDet : effs) POSIXTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-157"></span><span>            </span><span id="local-6989586621680826793"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826793"><span class="hs-identifier hs-var">currentSlot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Slot
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Slot
</span><a href="Wallet.Effects.html#getClientSlot"><span class="hs-identifier hs-var">getClientSlot</span></a></span><span>
</span><span id="line-158"></span><span>            </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680826791"><span class="annot"><span class="annottext">SlotConfig
pSlotConfig :: Params -&gt; SlotConfig
pSlotConfig :: SlotConfig
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var hs-var">pSlotConfig</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Params
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Params
</span><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier hs-var">getClientParams</span></a></span><span>
</span><span id="line-159"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680826789"><span class="annot"><span class="annottext">targetSlot_ :: Slot
</span><a href="#local-6989586621680826789"><span class="hs-identifier hs-var hs-var">targetSlot_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; POSIXTime -&gt; Slot
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var">TimeSlot.posixTimeToEnclosingSlot</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680826791"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621680826794"><span class="hs-identifier hs-var">targetTime_</span></a></span><span>
</span><span id="line-160"></span><span>            </span><span class="annot"><span class="annottext">RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ())
-&gt; RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; RequestHandlerLogMsg
</span><a href="Wallet.Emulator.LogMessages.html#SlotNoticationTargetVsCurrent"><span class="hs-identifier hs-var">SlotNoticationTargetVsCurrent</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826789"><span class="hs-identifier hs-var">targetSlot_</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826793"><span class="hs-identifier hs-var">currentSlot</span></a></span><span>
</span><span id="line-161"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; Eff (NonDet : effs) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">guard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826793"><span class="hs-identifier hs-var">currentSlot</span></a></span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Slot -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826789"><span class="hs-identifier hs-var">targetSlot_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>            </span><span class="annot"><span class="annottext">POSIXTime -&gt; Eff (NonDet : effs) POSIXTime
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTime -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; POSIXTime -&gt; Eff (NonDet : effs) POSIXTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var">TimeSlot.slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680826791"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826793"><span class="hs-identifier hs-var">currentSlot</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentNodeClientSlot"><span class="hs-identifier hs-type">handleCurrentNodeClientSlot</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826786"><span class="annot"><a href="#local-6989586621680826786"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826785"><span class="annot"><a href="#local-6989586621680826785"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826786"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826786"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826786"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826785"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Slot</span></a></span><span>
</span><span id="line-170"></span><span id="handleCurrentNodeClientSlot"><span class="annot"><span class="annottext">handleCurrentNodeClientSlot :: RequestHandler effs a Slot
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentNodeClientSlot"><span class="hs-identifier hs-var hs-var">handleCurrentNodeClientSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">(a -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs a Slot
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs a Slot)
-&gt; (a -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs a Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-172"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleCurrentNodeClientSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot)
-&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-173"></span><span>            </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Slot
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Slot
</span><a href="Wallet.Effects.html#getClientSlot"><span class="hs-identifier hs-var">getClientSlot</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentChainIndexSlot"><span class="hs-identifier hs-type">handleCurrentChainIndexSlot</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826784"><span class="annot"><a href="#local-6989586621680826784"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826783"><span class="annot"><a href="#local-6989586621680826783"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826784"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-type">ChainIndexQueryEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826784"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826784"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826783"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">Slot</span></a></span><span>
</span><span id="line-181"></span><span id="handleCurrentChainIndexSlot"><span class="annot"><span class="annottext">handleCurrentChainIndexSlot :: RequestHandler effs a Slot
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentChainIndexSlot"><span class="hs-identifier hs-var hs-var">handleCurrentChainIndexSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><span class="annottext">(a -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs a Slot
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs a Slot)
-&gt; (a -&gt; Eff (NonDet : effs) Slot) -&gt; RequestHandler effs a Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-183"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleCurrentChainIndexSlot&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot)
-&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-184"></span><span>            </span><span id="local-6989586621680826782"><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621680826782"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Tip
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
Eff effs Tip
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.getTip</span></a></span><span>
</span><span id="line-185"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Tip
</span><a href="#local-6989586621680826782"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-186"></span><span>                </span><span class="annot"><span class="annottext">Tip
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">TipAtGenesis</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Eff (NonDet : effs) Slot
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; Eff (NonDet : effs) Slot)
-&gt; Slot -&gt; Eff (NonDet : effs) Slot
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Slot
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Slot</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-187"></span><span>                </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-type">Tip</span></a></span><span> </span><span id="local-6989586621680826777"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826777"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BlockNumber
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Slot -&gt; Eff (NonDet : effs) Slot
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826777"><span class="hs-identifier hs-var">slot</span></a></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentTime"><span class="hs-identifier hs-type">handleCurrentTime</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826776"><span class="annot"><a href="#local-6989586621680826776"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826775"><span class="annot"><a href="#local-6989586621680826775"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826776"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826776"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826776"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826775"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTime</span></a></span><span>
</span><span id="line-195"></span><span id="handleCurrentTime"><span class="annot"><span class="annottext">handleCurrentTime :: RequestHandler effs a POSIXTime
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentTime"><span class="hs-identifier hs-var hs-var">handleCurrentTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="annottext">(a -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; RequestHandler effs a POSIXTime
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Eff (NonDet : effs) POSIXTime)
 -&gt; RequestHandler effs a POSIXTime)
-&gt; (a -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; RequestHandler effs a POSIXTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-197"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) POSIXTime -&gt; Eff (NonDet : effs) POSIXTime
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleCurrentTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) POSIXTime -&gt; Eff (NonDet : effs) POSIXTime)
-&gt; Eff (NonDet : effs) POSIXTime -&gt; Eff (NonDet : effs) POSIXTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-198"></span><span>            </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680826774"><span class="annot"><span class="annottext">SlotConfig
pSlotConfig :: SlotConfig
pSlotConfig :: Params -&gt; SlotConfig
</span><a href="#local-6989586621680826774"><span class="hs-identifier hs-var hs-var">pSlotConfig</span></a></span></span><span> </span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Params
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Params
</span><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier hs-var">getClientParams</span></a></span><span>
</span><span id="line-199"></span><span>            </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var">TimeSlot.slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680826774"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">(Slot -&gt; POSIXTime)
-&gt; Eff (NonDet : effs) Slot -&gt; Eff (NonDet : effs) POSIXTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Slot
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Slot
</span><a href="Wallet.Effects.html#getClientSlot"><span class="hs-identifier hs-var">getClientSlot</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentNodeClientTimeRange"><span class="hs-identifier hs-type">handleCurrentNodeClientTimeRange</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826773"><span class="annot"><a href="#local-6989586621680826773"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826772"><span class="annot"><a href="#local-6989586621680826772"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826773"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826773"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826773"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826772"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span id="handleCurrentNodeClientTimeRange"><span class="annot"><span class="annottext">handleCurrentNodeClientTimeRange :: RequestHandler effs a (POSIXTime, POSIXTime)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleCurrentNodeClientTimeRange"><span class="hs-identifier hs-var hs-var">handleCurrentNodeClientTimeRange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>    </span><span class="annot"><span class="annottext">(a -&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime))
-&gt; RequestHandler effs a (POSIXTime, POSIXTime)
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime))
 -&gt; RequestHandler effs a (POSIXTime, POSIXTime))
-&gt; (a -&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime))
-&gt; RequestHandler effs a (POSIXTime, POSIXTime)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime)
-&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime)
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleCurrentNodeClientTimeRange&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) (POSIXTime, POSIXTime)
 -&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime))
-&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime)
-&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-210"></span><span>            </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680826771"><span class="annot"><span class="annottext">SlotConfig
pSlotConfig :: SlotConfig
pSlotConfig :: Params -&gt; SlotConfig
</span><a href="#local-6989586621680826771"><span class="hs-identifier hs-var hs-var">pSlotConfig</span></a></span></span><span> </span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Params
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Params
</span><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier hs-var">getClientParams</span></a></span><span>
</span><span id="line-211"></span><span>            </span><span id="local-6989586621680826770"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826770"><span class="hs-identifier hs-var">nodeClientSlot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Slot
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Slot
</span><a href="Wallet.Effects.html#getClientSlot"><span class="hs-identifier hs-var">getClientSlot</span></a></span><span>
</span><span id="line-212"></span><span>            </span><span class="annot"><span class="annottext">(POSIXTime, POSIXTime)
-&gt; Eff (NonDet : effs) (POSIXTime, POSIXTime)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var">TimeSlot.slotToBeginPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680826771"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826770"><span class="hs-identifier hs-var">nodeClientSlot</span></a></span><span>
</span><span id="line-213"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; Slot -&gt; POSIXTime
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var">TimeSlot.slotToEndPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680826771"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680826770"><span class="hs-identifier hs-var">nodeClientSlot</span></a></span><span>
</span><span id="line-214"></span><span>                 </span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleTimeToSlotConversions"><span class="hs-identifier hs-type">handleTimeToSlotConversions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826768"><span class="annot"><a href="#local-6989586621680826768"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826768"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-219"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826768"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826768"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">POSIXTimeRange</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">SlotRange</span></a></span><span>
</span><span id="line-222"></span><span id="handleTimeToSlotConversions"><span class="annot"><span class="annottext">handleTimeToSlotConversions :: RequestHandler effs POSIXTimeRange SlotRange
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleTimeToSlotConversions"><span class="hs-identifier hs-var hs-var">handleTimeToSlotConversions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><span class="annottext">(POSIXTimeRange -&gt; Eff (NonDet : effs) SlotRange)
-&gt; RequestHandler effs POSIXTimeRange SlotRange
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((POSIXTimeRange -&gt; Eff (NonDet : effs) SlotRange)
 -&gt; RequestHandler effs POSIXTimeRange SlotRange)
-&gt; (POSIXTimeRange -&gt; Eff (NonDet : effs) SlotRange)
-&gt; RequestHandler effs POSIXTimeRange SlotRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826767"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621680826767"><span class="hs-identifier hs-var">poxisTimeRange</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-224"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) SlotRange -&gt; Eff (NonDet : effs) SlotRange
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleTimeToSlotConversions&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) SlotRange -&gt; Eff (NonDet : effs) SlotRange)
-&gt; Eff (NonDet : effs) SlotRange -&gt; Eff (NonDet : effs) SlotRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-225"></span><span>            </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680826766"><span class="annot"><span class="annottext">SlotConfig
pSlotConfig :: SlotConfig
pSlotConfig :: Params -&gt; SlotConfig
</span><a href="#local-6989586621680826766"><span class="hs-identifier hs-var hs-var">pSlotConfig</span></a></span></span><span> </span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Params
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Params
</span><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier hs-var">getClientParams</span></a></span><span>
</span><span id="line-226"></span><span>            </span><span class="annot"><span class="annottext">SlotRange -&gt; Eff (NonDet : effs) SlotRange
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(SlotRange -&gt; Eff (NonDet : effs) SlotRange)
-&gt; SlotRange -&gt; Eff (NonDet : effs) SlotRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig -&gt; POSIXTimeRange -&gt; SlotRange
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var">TimeSlot.posixTimeRangeToContainedSlotRange</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680826766"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621680826767"><span class="hs-identifier hs-var">poxisTimeRange</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleUnbalancedTransactions"><span class="hs-identifier hs-type">handleUnbalancedTransactions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826764"><span class="annot"><a href="#local-6989586621680826764"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#WalletEffect"><span class="hs-identifier hs-type">WalletEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826764"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826764"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier hs-type">RequestHandlerLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826764"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826764"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier hs-type">UnbalancedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.Error.html#WalletAPIError"><span class="hs-identifier hs-type">WalletAPIError</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span id="handleUnbalancedTransactions"><span class="annot"><span class="annottext">handleUnbalancedTransactions :: RequestHandler effs UnbalancedTx (Either WalletAPIError CardanoTx)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleUnbalancedTransactions"><span class="hs-identifier hs-var hs-var">handleUnbalancedTransactions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><span class="annottext">(UnbalancedTx
 -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; RequestHandler
     effs UnbalancedTx (Either WalletAPIError CardanoTx)
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((UnbalancedTx
  -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
 -&gt; RequestHandler
      effs UnbalancedTx (Either WalletAPIError CardanoTx))
-&gt; (UnbalancedTx
    -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; RequestHandler
     effs UnbalancedTx (Either WalletAPIError CardanoTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826763"><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826763"><span class="hs-identifier hs-var">unbalancedTx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-237"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleUnbalancedTransactions&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
 -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>        </span><span class="annot"><span class="annottext">UnbalancedTx
-&gt; Eff
     (Error WalletAPIError : NonDet : effs)
     (Either WalletAPIError CardanoTx)
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
UnbalancedTx -&gt; Eff effs (Either WalletAPIError CardanoTx)
</span><a href="Wallet.Effects.html#balanceTx"><span class="hs-identifier hs-var">Wallet.balanceTx</span></a></span><span> </span><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826763"><span class="hs-identifier hs-var">unbalancedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Error WalletAPIError : NonDet : effs)
  (Either WalletAPIError CardanoTx)
-&gt; (WalletAPIError
    -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-operator hs-var">`Eff.handleError`</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680826760"><span class="annot"><span class="annottext">WalletAPIError
</span><a href="#local-6989586621680826760"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logWarn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletAPIError -&gt; RequestHandlerLogMsg
</span><a href="Wallet.Emulator.LogMessages.html#HandleTxFailed"><span class="hs-identifier hs-var">HandleTxFailed</span></a></span><span> </span><span class="annot"><span class="annottext">WalletAPIError
</span><a href="#local-6989586621680826760"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) ()
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Either WalletAPIError CardanoTx
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletAPIError -&gt; Either WalletAPIError CardanoTx
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">WalletAPIError
</span><a href="#local-6989586621680826760"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handlePendingTransactions"><span class="hs-identifier hs-type">handlePendingTransactions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826759"><span class="annot"><a href="#local-6989586621680826759"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#WalletEffect"><span class="hs-identifier hs-type">WalletEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826759"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826759"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier hs-type">RequestHandlerLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826759"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826759"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.Error.html#WalletAPIError"><span class="hs-identifier hs-type">WalletAPIError</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">CardanoTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span id="handlePendingTransactions"><span class="annot"><span class="annottext">handlePendingTransactions :: RequestHandler effs CardanoTx (Either WalletAPIError CardanoTx)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handlePendingTransactions"><span class="hs-identifier hs-var hs-var">handlePendingTransactions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">(CardanoTx
 -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; RequestHandler effs CardanoTx (Either WalletAPIError CardanoTx)
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((CardanoTx
  -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
 -&gt; RequestHandler effs CardanoTx (Either WalletAPIError CardanoTx))
-&gt; (CardanoTx
    -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; RequestHandler effs CardanoTx (Either WalletAPIError CardanoTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826758"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621680826758"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-249"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handlePendingTransactions&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
 -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-250"></span><span>        </span><span class="annot"><span class="annottext">Eff
  (Error WalletAPIError : NonDet : effs)
  (Either WalletAPIError CardanoTx)
-&gt; (WalletAPIError
    -&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx))
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">Eff.handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoTx -&gt; Either WalletAPIError CardanoTx
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(CardanoTx -&gt; Either WalletAPIError CardanoTx)
-&gt; Eff (Error WalletAPIError : NonDet : effs) CardanoTx
-&gt; Eff
     (Error WalletAPIError : NonDet : effs)
     (Either WalletAPIError CardanoTx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx -&gt; Eff (Error WalletAPIError : NonDet : effs) CardanoTx
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
CardanoTx -&gt; Eff effs CardanoTx
</span><a href="Wallet.API.html#signTxAndSubmit"><span class="hs-identifier hs-var">Wallet.signTxAndSubmit</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621680826758"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>                        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680826756"><span class="annot"><span class="annottext">WalletAPIError
</span><a href="#local-6989586621680826756"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logWarn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletAPIError -&gt; RequestHandlerLogMsg
</span><a href="Wallet.Emulator.LogMessages.html#HandleTxFailed"><span class="hs-identifier hs-var">HandleTxFailed</span></a></span><span> </span><span class="annot"><span class="annottext">WalletAPIError
</span><a href="#local-6989586621680826756"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) ()
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Either WalletAPIError CardanoTx
-&gt; Eff (NonDet : effs) (Either WalletAPIError CardanoTx)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletAPIError -&gt; Either WalletAPIError CardanoTx
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">WalletAPIError
</span><a href="#local-6989586621680826756"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleChainIndexQueries"><span class="hs-identifier hs-type">handleChainIndexQueries</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826755"><span class="annot"><a href="#local-6989586621680826755"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826755"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-type">ChainIndexQueryEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826755"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826755"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#ChainIndexQuery"><span class="hs-identifier hs-type">ChainIndexQuery</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#ChainIndexResponse"><span class="hs-identifier hs-type">ChainIndexResponse</span></a></span><span>
</span><span id="line-259"></span><span id="handleChainIndexQueries"><span class="annot"><span class="annottext">handleChainIndexQueries :: RequestHandler effs ChainIndexQuery ChainIndexResponse
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleChainIndexQueries"><span class="hs-identifier hs-var hs-var">handleChainIndexQueries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ChainIndexQuery -&gt; Eff (NonDet : effs) ChainIndexResponse)
-&gt; RequestHandler effs ChainIndexQuery ChainIndexResponse
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((ChainIndexQuery -&gt; Eff (NonDet : effs) ChainIndexResponse)
 -&gt; RequestHandler effs ChainIndexQuery ChainIndexResponse)
-&gt; (ChainIndexQuery -&gt; Eff (NonDet : effs) ChainIndexResponse)
-&gt; RequestHandler effs ChainIndexQuery ChainIndexResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826754"><span class="annot"><span class="annottext">ChainIndexQuery
</span><a href="#local-6989586621680826754"><span class="hs-identifier hs-var">chainIndexQuery</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) ChainIndexResponse
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleChainIndexQueries&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) ChainIndexResponse
 -&gt; Eff (NonDet : effs) ChainIndexResponse)
-&gt; Eff (NonDet : effs) ChainIndexResponse
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-261"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ChainIndexQuery
</span><a href="#local-6989586621680826754"><span class="hs-identifier hs-var">chainIndexQuery</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#DatumFromHash"><span class="hs-identifier hs-type">DatumFromHash</span></a></span><span> </span><span id="local-6989586621680826752"><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621680826752"><span class="hs-identifier hs-var">h</span></a></span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Datum -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#DatumHashResponse"><span class="hs-identifier hs-var">DatumHashResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Datum -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe Datum)
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Eff (NonDet : effs) (Maybe Datum)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
DatumHash -&gt; Eff effs (Maybe Datum)
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.datumFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">DatumHash
</span><a href="#local-6989586621680826752"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-263"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#ValidatorFromHash"><span class="hs-identifier hs-type">ValidatorFromHash</span></a></span><span> </span><span id="local-6989586621680826748"><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621680826748"><span class="hs-identifier hs-var">h</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned Validator) -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#ValidatorHashResponse"><span class="hs-identifier hs-var">ValidatorHashResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Versioned Validator) -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe (Versioned Validator))
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatorHash -&gt; Eff (NonDet : effs) (Maybe (Versioned Validator))
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
ValidatorHash -&gt; Eff effs (Maybe (Versioned Validator))
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.validatorFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatorHash
</span><a href="#local-6989586621680826748"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#MintingPolicyFromHash"><span class="hs-identifier hs-type">MintingPolicyFromHash</span></a></span><span> </span><span id="local-6989586621680826744"><span class="annot"><span class="annottext">MintingPolicyHash
</span><a href="#local-6989586621680826744"><span class="hs-identifier hs-var">h</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned MintingPolicy) -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#MintingPolicyHashResponse"><span class="hs-identifier hs-var">MintingPolicyHashResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Versioned MintingPolicy) -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe (Versioned MintingPolicy))
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">MintingPolicyHash
-&gt; Eff (NonDet : effs) (Maybe (Versioned MintingPolicy))
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
MintingPolicyHash -&gt; Eff effs (Maybe (Versioned MintingPolicy))
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.mintingPolicyFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">MintingPolicyHash
</span><a href="#local-6989586621680826744"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-265"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#StakeValidatorFromHash"><span class="hs-identifier hs-type">StakeValidatorFromHash</span></a></span><span> </span><span id="local-6989586621680826740"><span class="annot"><span class="annottext">StakeValidatorHash
</span><a href="#local-6989586621680826740"><span class="hs-identifier hs-var">h</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Versioned StakeValidator) -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#StakeValidatorHashResponse"><span class="hs-identifier hs-var">StakeValidatorHashResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Versioned StakeValidator) -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe (Versioned StakeValidator))
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">StakeValidatorHash
-&gt; Eff (NonDet : effs) (Maybe (Versioned StakeValidator))
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
StakeValidatorHash -&gt; Eff effs (Maybe (Versioned StakeValidator))
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.stakeValidatorFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">StakeValidatorHash
</span><a href="#local-6989586621680826740"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#RedeemerFromHash"><span class="hs-identifier hs-type">RedeemerFromHash</span></a></span><span> </span><span id="local-6989586621680826736"><span class="annot"><span class="annottext">RedeemerHash
</span><a href="#local-6989586621680826736"><span class="hs-identifier hs-var">h</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Redeemer -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#RedeemerHashResponse"><span class="hs-identifier hs-var">RedeemerHashResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Redeemer -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe Redeemer)
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RedeemerHash -&gt; Eff (NonDet : effs) (Maybe Redeemer)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
RedeemerHash -&gt; Eff effs (Maybe Redeemer)
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.redeemerFromHash</span></a></span><span> </span><span class="annot"><span class="annottext">RedeemerHash
</span><a href="#local-6989586621680826736"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#TxOutFromRef"><span class="hs-identifier hs-type">TxOutFromRef</span></a></span><span> </span><span id="local-6989586621680826732"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621680826732"><span class="hs-identifier hs-var">txOutRef</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#TxOutRefResponse"><span class="hs-identifier hs-var">TxOutRefResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe DecoratedTxOut -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe DecoratedTxOut)
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Eff (NonDet : effs) (Maybe DecoratedTxOut)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut)
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.txOutFromRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621680826732"><span class="hs-identifier hs-var">txOutRef</span></a></span><span>
</span><span id="line-268"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#TxFromTxId"><span class="hs-identifier hs-type">TxFromTxId</span></a></span><span> </span><span id="local-6989586621680826728"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680826728"><span class="hs-identifier hs-var">txid</span></a></span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ChainIndexTx -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#TxIdResponse"><span class="hs-identifier hs-var">TxIdResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ChainIndexTx -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe ChainIndexTx)
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Eff (NonDet : effs) (Maybe ChainIndexTx)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxId -&gt; Eff effs (Maybe ChainIndexTx)
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.txFromTxId</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621680826728"><span class="hs-identifier hs-var">txid</span></a></span><span>
</span><span id="line-269"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#UnspentTxOutFromRef"><span class="hs-identifier hs-type">UnspentTxOutFromRef</span></a></span><span> </span><span id="local-6989586621680826724"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621680826724"><span class="hs-identifier hs-var">ref</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe DecoratedTxOut -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#UnspentTxOutResponse"><span class="hs-identifier hs-var">UnspentTxOutResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe DecoratedTxOut -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (Maybe DecoratedTxOut)
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Eff (NonDet : effs) (Maybe DecoratedTxOut)
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxOutRef -&gt; Eff effs (Maybe DecoratedTxOut)
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.unspentTxOutFromRef</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621680826724"><span class="hs-identifier hs-var">ref</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#UtxoSetMembership"><span class="hs-identifier hs-type">UtxoSetMembership</span></a></span><span> </span><span id="local-6989586621680826720"><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621680826720"><span class="hs-identifier hs-var">txOutRef</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IsUtxoResponse -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#UtxoSetMembershipResponse"><span class="hs-identifier hs-var">UtxoSetMembershipResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(IsUtxoResponse -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) IsUtxoResponse
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; Eff (NonDet : effs) IsUtxoResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
TxOutRef -&gt; Eff effs IsUtxoResponse
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.utxoSetMembership</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef
</span><a href="#local-6989586621680826720"><span class="hs-identifier hs-var">txOutRef</span></a></span><span>
</span><span id="line-271"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#UtxoSetAtAddress"><span class="hs-identifier hs-type">UtxoSetAtAddress</span></a></span><span> </span><span id="local-6989586621680826716"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826716"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621680826715"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826715"><span class="hs-identifier hs-var">c</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UtxosResponse -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#UtxoSetAtResponse"><span class="hs-identifier hs-var">UtxoSetAtResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(UtxosResponse -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) UtxosResponse
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Credential -&gt; Eff (NonDet : effs) UtxosResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef -&gt; Credential -&gt; Eff effs UtxosResponse
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.utxoSetAtAddress</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826716"><span class="hs-identifier hs-var">pq</span></a></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826715"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-272"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#UnspentTxOutSetAtAddress"><span class="hs-identifier hs-type">UnspentTxOutSetAtAddress</span></a></span><span> </span><span id="local-6989586621680826711"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826711"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621680826710"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826710"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryResponse [(TxOutRef, DecoratedTxOut)] -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#UnspentTxOutsAtResponse"><span class="hs-identifier hs-var">UnspentTxOutsAtResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryResponse [(TxOutRef, DecoratedTxOut)] -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (QueryResponse [(TxOutRef, DecoratedTxOut)])
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Credential
-&gt; Eff (NonDet : effs) (QueryResponse [(TxOutRef, DecoratedTxOut)])
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef
-&gt; Credential
-&gt; Eff effs (QueryResponse [(TxOutRef, DecoratedTxOut)])
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.unspentTxOutSetAtAddress</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826711"><span class="hs-identifier hs-var">pq</span></a></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826710"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#DatumsAtAddress"><span class="hs-identifier hs-type">DatumsAtAddress</span></a></span><span> </span><span id="local-6989586621680826706"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826706"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621680826705"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826705"><span class="hs-identifier hs-var">c</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryResponse [Datum] -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#DatumsAtResponse"><span class="hs-identifier hs-var">DatumsAtResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryResponse [Datum] -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) (QueryResponse [Datum])
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Credential -&gt; Eff (NonDet : effs) (QueryResponse [Datum])
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef
-&gt; Credential -&gt; Eff effs (QueryResponse [Datum])
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.datumsAtAddress</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826706"><span class="hs-identifier hs-var">pq</span></a></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826705"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-274"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#UtxoSetWithCurrency"><span class="hs-identifier hs-type">UtxoSetWithCurrency</span></a></span><span> </span><span id="local-6989586621680826701"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826701"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621680826700"><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621680826700"><span class="hs-identifier hs-var">ac</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UtxosResponse -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#UtxoSetWithCurrencyResponse"><span class="hs-identifier hs-var">UtxoSetWithCurrencyResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(UtxosResponse -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) UtxosResponse
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; AssetClass -&gt; Eff (NonDet : effs) UtxosResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef -&gt; AssetClass -&gt; Eff effs UtxosResponse
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.utxoSetWithCurrency</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826701"><span class="hs-identifier hs-var">pq</span></a></span><span> </span><span class="annot"><span class="annottext">AssetClass
</span><a href="#local-6989586621680826700"><span class="hs-identifier hs-var">ac</span></a></span><span>
</span><span id="line-275"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#TxoSetAtAddress"><span class="hs-identifier hs-type">TxoSetAtAddress</span></a></span><span> </span><span id="local-6989586621680826696"><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826696"><span class="hs-identifier hs-var">pq</span></a></span></span><span> </span><span id="local-6989586621680826695"><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826695"><span class="hs-identifier hs-var">c</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxosResponse -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#TxoSetAtResponse"><span class="hs-identifier hs-var">TxoSetAtResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(TxosResponse -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) TxosResponse
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
-&gt; Credential -&gt; Eff (NonDet : effs) TxosResponse
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
PageQuery TxOutRef -&gt; Credential -&gt; Eff effs TxosResponse
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.txoSetAtAddress</span></a></span><span> </span><span class="annot"><span class="annottext">PageQuery TxOutRef
</span><a href="#local-6989586621680826696"><span class="hs-identifier hs-var">pq</span></a></span><span> </span><span class="annot"><span class="annottext">Credential
</span><a href="#local-6989586621680826695"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-276"></span><span>        </span><span class="annot"><a href="Plutus.Contract.Effects.html#TxsFromTxIds"><span class="hs-identifier hs-type">TxsFromTxIds</span></a></span><span> </span><span id="local-6989586621680826691"><span class="annot"><span class="annottext">[TxId]
</span><a href="#local-6989586621680826691"><span class="hs-identifier hs-var">txids</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[ChainIndexTx] -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#TxIdsResponse"><span class="hs-identifier hs-var">TxIdsResponse</span></a></span><span> </span><span class="annot"><span class="annottext">([ChainIndexTx] -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) [ChainIndexTx]
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[TxId] -&gt; Eff (NonDet : effs) [ChainIndexTx]
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
[TxId] -&gt; Eff effs [ChainIndexTx]
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.txsFromTxIds</span></a></span><span> </span><span class="annot"><span class="annottext">[TxId]
</span><a href="#local-6989586621680826691"><span class="hs-identifier hs-var">txids</span></a></span><span>
</span><span id="line-277"></span><span>        </span><span class="annot"><span class="annottext">ChainIndexQuery
</span><a href="Plutus.Contract.Effects.html#GetTip"><span class="hs-identifier hs-var">GetTip</span></a></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Tip -&gt; ChainIndexResponse
</span><a href="Plutus.Contract.Effects.html#GetTipResponse"><span class="hs-identifier hs-var">GetTipResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Tip -&gt; ChainIndexResponse)
-&gt; Eff (NonDet : effs) Tip
-&gt; Eff (NonDet : effs) ChainIndexResponse
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Tip
forall (effs :: [* -&gt; *]).
Member ChainIndexQueryEffect effs =&gt;
Eff effs Tip
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndexEff.getTip</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleOwnInstanceIdQueries"><span class="hs-identifier hs-type">handleOwnInstanceIdQueries</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826686"><span class="annot"><a href="#local-6989586621680826686"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680826685"><span class="annot"><a href="#local-6989586621680826685"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826686"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Wallet.Types.html#ContractInstanceId"><span class="hs-identifier hs-type">ContractInstanceId</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826686"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826686"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826685"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Wallet.Types.html#ContractInstanceId"><span class="hs-identifier hs-type">ContractInstanceId</span></a></span><span>
</span><span id="line-285"></span><span id="handleOwnInstanceIdQueries"><span class="annot"><span class="annottext">handleOwnInstanceIdQueries :: RequestHandler effs a ContractInstanceId
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleOwnInstanceIdQueries"><span class="hs-identifier hs-var hs-var">handleOwnInstanceIdQueries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Eff (NonDet : effs) ContractInstanceId)
-&gt; RequestHandler effs a ContractInstanceId
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Eff (NonDet : effs) ContractInstanceId)
 -&gt; RequestHandler effs a ContractInstanceId)
-&gt; (a -&gt; Eff (NonDet : effs) ContractInstanceId)
-&gt; RequestHandler effs a ContractInstanceId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-286"></span><span>    </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) ContractInstanceId
-&gt; Eff (NonDet : effs) ContractInstanceId
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleOwnInstanceIdQueries&quot;</span></span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) ContractInstanceId
forall r (effs :: [* -&gt; *]). Member (Reader r) effs =&gt; Eff effs r
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleYieldedUnbalancedTx"><span class="hs-identifier hs-type">handleYieldedUnbalancedTx</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826684"><span class="annot"><a href="#local-6989586621680826684"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#WalletEffect"><span class="hs-identifier hs-type">WalletEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826684"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826684"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826684"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier hs-type">UnbalancedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span id="handleYieldedUnbalancedTx"><span class="annot"><span class="annottext">handleYieldedUnbalancedTx :: RequestHandler effs UnbalancedTx ()
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleYieldedUnbalancedTx"><span class="hs-identifier hs-var hs-var">handleYieldedUnbalancedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><span class="annottext">(UnbalancedTx -&gt; Eff (NonDet : effs) ())
-&gt; RequestHandler effs UnbalancedTx ()
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((UnbalancedTx -&gt; Eff (NonDet : effs) ())
 -&gt; RequestHandler effs UnbalancedTx ())
-&gt; (UnbalancedTx -&gt; Eff (NonDet : effs) ())
-&gt; RequestHandler effs UnbalancedTx ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826683"><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826683"><span class="hs-identifier hs-var">utx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-296"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Eff (NonDet : effs) () -&gt; Eff (NonDet : effs) ()
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleYieldedUnbalancedTx&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) () -&gt; Eff (NonDet : effs) ())
-&gt; Eff (NonDet : effs) () -&gt; Eff (NonDet : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-297"></span><span>            </span><span class="annot"><span class="annottext">UnbalancedTx -&gt; Eff (NonDet : effs) ()
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
UnbalancedTx -&gt; Eff effs ()
</span><a href="Wallet.Effects.html#yieldUnbalancedTx"><span class="hs-identifier hs-var">Wallet.yieldUnbalancedTx</span></a></span><span> </span><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826683"><span class="hs-identifier hs-var">utx</span></a></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleAdjustUnbalancedTx"><span class="hs-identifier hs-type">handleAdjustUnbalancedTx</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826681"><span class="annot"><a href="#local-6989586621680826681"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826681"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.LogMessages.html#RequestHandlerLogMsg"><span class="hs-identifier hs-type">RequestHandlerLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826681"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826681"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826681"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier hs-type">UnbalancedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-type">ToCardanoError</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier hs-type">UnbalancedTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span id="handleAdjustUnbalancedTx"><span class="annot"><span class="annottext">handleAdjustUnbalancedTx :: RequestHandler
  effs UnbalancedTx (Either ToCardanoError UnbalancedTx)
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleAdjustUnbalancedTx"><span class="hs-identifier hs-var hs-var">handleAdjustUnbalancedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-307"></span><span>    </span><span class="annot"><span class="annottext">(UnbalancedTx
 -&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx))
-&gt; RequestHandler
     effs UnbalancedTx (Either ToCardanoError UnbalancedTx)
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((UnbalancedTx
  -&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx))
 -&gt; RequestHandler
      effs UnbalancedTx (Either ToCardanoError UnbalancedTx))
-&gt; (UnbalancedTx
    -&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx))
-&gt; RequestHandler
     effs UnbalancedTx (Either ToCardanoError UnbalancedTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680826680"><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826680"><span class="hs-identifier hs-var">utx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-308"></span><span>        </span><span class="annot"><span class="annottext">Text
-&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
-&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleAdjustUnbalancedTx&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
 -&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx))
-&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
-&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-309"></span><span>            </span><span id="local-6989586621680826679"><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680826679"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Params
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Params
</span><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier hs-var">getClientParams</span></a></span><span>
</span><span id="line-310"></span><span>            </span><span class="annot"><span class="annottext">Either ToCardanoError ([Ada], UnbalancedTx)
-&gt; (([Ada], UnbalancedTx) -&gt; Eff (NonDet : effs) UnbalancedTx)
-&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PParams
-&gt; UnbalancedTx -&gt; Either ToCardanoError ([Ada], UnbalancedTx)
</span><a href="../../../../plutus-ledger-constraints/html/src"><span class="hs-identifier hs-var">adjustUnbalancedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Params -&gt; PParams
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var hs-var">emulatorPParams</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680826679"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826680"><span class="hs-identifier hs-var">utx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((([Ada], UnbalancedTx) -&gt; Eff (NonDet : effs) UnbalancedTx)
 -&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx))
-&gt; (([Ada], UnbalancedTx) -&gt; Eff (NonDet : effs) UnbalancedTx)
-&gt; Eff (NonDet : effs) (Either ToCardanoError UnbalancedTx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680826677"><span class="annot"><span class="annottext">[Ada]
</span><a href="#local-6989586621680826677"><span class="hs-identifier hs-var">missingAdaCosts</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680826676"><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826676"><span class="hs-identifier hs-var">adjusted</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-311"></span><span>                </span><span class="annot"><span class="annottext">RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logDebug</span></a></span><span> </span><span class="annot"><span class="annottext">(RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ())
-&gt; RequestHandlerLogMsg -&gt; Eff (NonDet : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Ada] -&gt; RequestHandlerLogMsg
</span><a href="Wallet.Emulator.LogMessages.html#AdjustingUnbalancedTx"><span class="hs-identifier hs-var">AdjustingUnbalancedTx</span></a></span><span> </span><span class="annot"><span class="annottext">[Ada]
</span><a href="#local-6989586621680826677"><span class="hs-identifier hs-var">missingAdaCosts</span></a></span><span>
</span><span id="line-312"></span><span>                </span><span class="annot"><span class="annottext">UnbalancedTx -&gt; Eff (NonDet : effs) UnbalancedTx
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">UnbalancedTx
</span><a href="#local-6989586621680826676"><span class="hs-identifier hs-var">adjusted</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#handleGetParams"><span class="hs-identifier hs-type">handleGetParams</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680826675"><span class="annot"><a href="#local-6989586621680826675"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogObserve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680826675"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Effects.html#NodeClientEffect"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826675"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-type">RequestHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680826675"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span>
</span><span id="line-320"></span><span id="handleGetParams"><span class="annot"><span class="annottext">handleGetParams :: RequestHandler effs () Params
</span><a href="Plutus.Contract.Trace.RequestHandler.html#handleGetParams"><span class="hs-identifier hs-var hs-var">handleGetParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><span class="annottext">(() -&gt; Eff (NonDet : effs) Params) -&gt; RequestHandler effs () Params
forall (effs :: [* -&gt; *]) req resp.
(req -&gt; Eff (NonDet : effs) resp) -&gt; RequestHandler effs req resp
</span><a href="Plutus.Contract.Trace.RequestHandler.html#RequestHandler"><span class="hs-identifier hs-var">RequestHandler</span></a></span><span> </span><span class="annot"><span class="annottext">((() -&gt; Eff (NonDet : effs) Params)
 -&gt; RequestHandler effs () Params)
-&gt; (() -&gt; Eff (NonDet : effs) Params)
-&gt; RequestHandler effs () Params
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-322"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; Eff (NonDet : effs) Params -&gt; Eff (NonDet : effs) Params
forall v (effs :: [* -&gt; *]) a.
Member (LogObserve (LogMessage v)) effs =&gt;
v -&gt; Eff effs a -&gt; Eff effs a
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">surroundDebug</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;handleGetParams&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff (NonDet : effs) Params -&gt; Eff (NonDet : effs) Params)
-&gt; Eff (NonDet : effs) Params -&gt; Eff (NonDet : effs) Params
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-323"></span><span>            </span><span class="annot"><span class="annottext">Eff (NonDet : effs) Params
forall (effs :: [* -&gt; *]).
Member NodeClientEffect effs =&gt;
Eff effs Params
</span><a href="Wallet.Effects.html#getClientParams"><span class="hs-identifier hs-var">getClientParams</span></a></span><span>
</span><span id="line-324"></span></pre></body></html>
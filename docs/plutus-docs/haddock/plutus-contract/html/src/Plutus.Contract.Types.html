<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes    #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds        #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds              #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass         #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies     #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts       #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances      #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE GADTs                  #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures         #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase             #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns         #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings      #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables    #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell        #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TupleSections          #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications       #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators          #-}</span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Contract.Types</span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier">ContractEffs</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#handleContractEffs"><span class="hs-identifier">handleContractEffs</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier">Contract</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#IsContract"><span class="hs-identifier">IsContract</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Select</span></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier">Promise</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#promiseBind"><span class="hs-identifier">promiseBind</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#promiseMap"><span class="hs-identifier">promiseMap</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#select"><span class="hs-identifier">select</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#selectEither"><span class="hs-identifier">selectEither</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#selectList"><span class="hs-identifier">selectList</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#never"><span class="hs-identifier">never</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Error handling</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Error.html#ContractError"><span class="hs-identifier">Plutus.Contract.Error.ContractError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Error.html#AsContractError"><span class="hs-identifier">Plutus.Contract.Error.AsContractError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Error.html#MatchingError"><span class="hs-identifier">Plutus.Contract.Error.MatchingError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#mapError"><span class="hs-identifier">mapError</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier">throwError</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#runError"><span class="hs-identifier">runError</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#handleError"><span class="hs-identifier">handleError</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Checkpoints</span></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier">AsCheckpointError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier">CheckpointError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#checkpoint"><span class="hs-identifier">checkpoint</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#checkpointLoop"><span class="hs-identifier">checkpointLoop</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Run and update</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#runResumable"><span class="hs-identifier">runResumable</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#insertAndUpdate"><span class="hs-identifier">insertAndUpdate</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#runWithRecord"><span class="hs-identifier">runWithRecord</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="hs-comment">-- * State</span></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier">ResumableResult</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#responses"><span class="hs-identifier">responses</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#requests"><span class="hs-identifier">requests</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#finalState"><span class="hs-identifier">finalState</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#logs"><span class="hs-identifier">logs</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#lastState"><span class="hs-identifier">lastState</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#checkpointStore"><span class="hs-identifier">checkpointStore</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#observableState"><span class="hs-identifier">observableState</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#shrinkResumableResult"><span class="hs-identifier">shrinkResumableResult</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Run with continuations</span></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier">SuspendedContract</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#resumableResult"><span class="hs-identifier">resumableResult</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#continuations"><span class="hs-identifier">continuations</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#checkpointKey"><span class="hs-identifier">checkpointKey</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#suspend"><span class="hs-identifier">suspend</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#runStep"><span class="hs-identifier">runStep</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#lastLogs"><span class="hs-identifier">lastLogs</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Iso'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">iso</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">makeLenses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">over</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">to</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">unto</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">view</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&amp;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator">(.~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator">(^.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier">Control.Monad.Except</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier">MonadError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier">catchError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier">throwError</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Eff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Member</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">interpret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">reinterpret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">run</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">send</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">subsume</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator">(~&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Error</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">E</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMessage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMsg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">handleLogIgnore</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">handleLogWriter</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Modify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">raiseEnd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">raiseUnder</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">writeIntoState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">State</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">get</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">put</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">runState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Writer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Writer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Writer</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromRight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/nw4fdvinqycf4cyjxfnndyyc8ydsbcr3-semigroupoids-lib-semigroupoids-5.3.4-haddock-doc/share/doc/semigroupoids/html/src"><span class="hs-identifier">Data.Functor.Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/nw4fdvinqycf4cyjxfnndyyc8ydsbcr3-semigroupoids-lib-semigroupoids-5.3.4-haddock-doc/share/doc/semigroupoids/html/src"><span class="hs-identifier">Apply</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/nw4fdvinqycf4cyjxfnndyyc8ydsbcr3-semigroupoids-lib-semigroupoids-5.3.4-haddock-doc/share/doc/semigroupoids/html/src"><span class="hs-identifier">liftF2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/y8j109nxdvhy2z0y4dgw6myddcwdryyr-data-interval-lib-data-interval-2.1.1-haddock-doc/share/doc/data-interval/html/src"><span class="hs-identifier">Data.IntervalSet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IS</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/g8vgm61qs4g5v6yyv8hvi8bm9dvsf9sa-row-types-lib-row-types-1.0.1.2-haddock-doc/share/doc/row-types/html/src"><span class="hs-identifier">Data.Row</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/g8vgm61qs4g5v6yyv8hvi8bm9dvsf9sa-row-types-lib-row-types-1.0.1.2-haddock-doc/share/doc/row-types/html/src"><span class="hs-identifier">Row</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Sequence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Seq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html"><span class="hs-identifier">Plutus.Contract.Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier">AsCheckpointError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#_CheckpointError"><span class="hs-identifier">_CheckpointError</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>                                   </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier">Checkpoint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AllocateKey"><span class="hs-identifier">AllocateKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#DoCheckpoint"><span class="hs-identifier">DoCheckpoint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Retrieve"><span class="hs-identifier">Retrieve</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Store"><span class="hs-identifier">Store</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>                                   </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointError"><span class="hs-identifier">CheckpointError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#JSONDecodeError"><span class="hs-identifier">JSONDecodeError</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier">CheckpointKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier">CheckpointLogMsg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier">CheckpointStore</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>                                   </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#completedIntervals"><span class="hs-identifier">completedIntervals</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#handleCheckpoint"><span class="hs-identifier">handleCheckpoint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#jsonCheckpoint"><span class="hs-identifier">jsonCheckpoint</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#jsonCheckpointLoop"><span class="hs-identifier">jsonCheckpointLoop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html"><span class="hs-identifier">Plutus.Contract.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier">PABReq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier">PABResp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Error.html"><span class="hs-identifier">Plutus.Contract.Error</span></a></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html"><span class="hs-identifier">Plutus.Contract.Resumable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier">IterationID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier">MultiRequestContStatus</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#AContinuation"><span class="hs-identifier">AContinuation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#AResult"><span class="hs-identifier">AResult</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>                                  </span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier">MultiRequestContinuation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier">MultiRequestContinuation</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ndcCont"><span class="hs-identifier">ndcCont</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#ndcRequests"><span class="hs-identifier">ndcRequests</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier">RequestID</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>                                  </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier">Requests</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier">Response</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier">Responses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier">Resumable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#_Responses"><span class="hs-identifier">_Responses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#handleResumable"><span class="hs-identifier">handleResumable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#insertResponse"><span class="hs-identifier">insertResponse</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>                                  </span><span class="annot"><a href="Plutus.Contract.Resumable.html#suspendNonDet"><span class="hs-identifier">suspendNonDet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html"><span class="hs-identifier">Plutus.Contract.Resumable</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Resumable</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx.Applicative</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx</span></a></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx.Functor</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier">PlutusTx</span></a></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Haskell</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | Effects that are available to contracts.</span><span>
</span><span id="line-107"></span><span class="hs-keyword">type</span><span> </span><span id="ContractEffs"><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-var">ContractEffs</span></a></span></span><span> </span><span id="local-6989586621680823515"><span class="annot"><a href="#local-6989586621680823515"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823514"><span class="annot"><a href="#local-6989586621680823514"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">'</span><span class="hs-special">[</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823514"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Writer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823515"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Resumable"><span class="hs-identifier hs-type">Resumable</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-keyword">type</span><span> </span><span id="ContractEnv"><span class="annot"><a href="Plutus.Contract.Types.html#ContractEnv"><span class="hs-identifier hs-var">ContractEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-keyword">newtype</span><span> </span><span id="AccumState"><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-var">AccumState</span></a></span></span><span> </span><span id="local-6989586621680824280"><span class="annot"><a href="#local-6989586621680824280"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AccumState"><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-var">AccumState</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unAccumState"><span class="annot"><span class="annottext">AccumState w -&gt; w
</span><a href="Plutus.Contract.Types.html#unAccumState"><span class="hs-identifier hs-var hs-var">unAccumState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680824280"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823508"><span id="local-6989586621680823510"><span class="annot"><span class="annottext">AccumState w -&gt; AccumState w -&gt; Bool
(AccumState w -&gt; AccumState w -&gt; Bool)
-&gt; (AccumState w -&gt; AccumState w -&gt; Bool) -&gt; Eq (AccumState w)
forall w. Eq w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: AccumState w -&gt; AccumState w -&gt; Bool
$c/= :: forall w. Eq w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
== :: AccumState w -&gt; AccumState w -&gt; Bool
$c== :: forall w. Eq w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823492"><span id="local-6989586621680823494"><span id="local-6989586621680823496"><span id="local-6989586621680823498"><span id="local-6989586621680823500"><span id="local-6989586621680823502"><span id="local-6989586621680823504"><span class="annot"><span class="annottext">Eq (AccumState w)
Eq (AccumState w)
-&gt; (AccumState w -&gt; AccumState w -&gt; Ordering)
-&gt; (AccumState w -&gt; AccumState w -&gt; Bool)
-&gt; (AccumState w -&gt; AccumState w -&gt; Bool)
-&gt; (AccumState w -&gt; AccumState w -&gt; Bool)
-&gt; (AccumState w -&gt; AccumState w -&gt; Bool)
-&gt; (AccumState w -&gt; AccumState w -&gt; AccumState w)
-&gt; (AccumState w -&gt; AccumState w -&gt; AccumState w)
-&gt; Ord (AccumState w)
AccumState w -&gt; AccumState w -&gt; Bool
AccumState w -&gt; AccumState w -&gt; Ordering
AccumState w -&gt; AccumState w -&gt; AccumState w
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall w. Ord w =&gt; Eq (AccumState w)
forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Ordering
forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; AccumState w
min :: AccumState w -&gt; AccumState w -&gt; AccumState w
$cmin :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; AccumState w
max :: AccumState w -&gt; AccumState w -&gt; AccumState w
$cmax :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; AccumState w
&gt;= :: AccumState w -&gt; AccumState w -&gt; Bool
$c&gt;= :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
&gt; :: AccumState w -&gt; AccumState w -&gt; Bool
$c&gt; :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
&lt;= :: AccumState w -&gt; AccumState w -&gt; Bool
$c&lt;= :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
&lt; :: AccumState w -&gt; AccumState w -&gt; Bool
$c&lt; :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Bool
compare :: AccumState w -&gt; AccumState w -&gt; Ordering
$ccompare :: forall w. Ord w =&gt; AccumState w -&gt; AccumState w -&gt; Ordering
$cp1Ord :: forall w. Ord w =&gt; Eq (AccumState w)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823485"><span id="local-6989586621680823487"><span id="local-6989586621680823489"><span class="annot"><span class="annottext">Int -&gt; AccumState w -&gt; ShowS
[AccumState w] -&gt; ShowS
AccumState w -&gt; String
(Int -&gt; AccumState w -&gt; ShowS)
-&gt; (AccumState w -&gt; String)
-&gt; ([AccumState w] -&gt; ShowS)
-&gt; Show (AccumState w)
forall w. Show w =&gt; Int -&gt; AccumState w -&gt; ShowS
forall w. Show w =&gt; [AccumState w] -&gt; ShowS
forall w. Show w =&gt; AccumState w -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [AccumState w] -&gt; ShowS
$cshowList :: forall w. Show w =&gt; [AccumState w] -&gt; ShowS
show :: AccumState w -&gt; String
$cshow :: forall w. Show w =&gt; AccumState w -&gt; String
showsPrec :: Int -&gt; AccumState w -&gt; ShowS
$cshowsPrec :: forall w. Show w =&gt; Int -&gt; AccumState w -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823478"><span id="local-6989586621680823480"><span id="local-6989586621680823482"><span class="annot"><span class="annottext">b -&gt; AccumState w -&gt; AccumState w
NonEmpty (AccumState w) -&gt; AccumState w
AccumState w -&gt; AccumState w -&gt; AccumState w
(AccumState w -&gt; AccumState w -&gt; AccumState w)
-&gt; (NonEmpty (AccumState w) -&gt; AccumState w)
-&gt; (forall b. Integral b =&gt; b -&gt; AccumState w -&gt; AccumState w)
-&gt; Semigroup (AccumState w)
forall b. Integral b =&gt; b -&gt; AccumState w -&gt; AccumState w
forall w. Semigroup w =&gt; NonEmpty (AccumState w) -&gt; AccumState w
forall w.
Semigroup w =&gt;
AccumState w -&gt; AccumState w -&gt; AccumState w
forall w b.
(Semigroup w, Integral b) =&gt;
b -&gt; AccumState w -&gt; AccumState w
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; AccumState w -&gt; AccumState w
$cstimes :: forall w b.
(Semigroup w, Integral b) =&gt;
b -&gt; AccumState w -&gt; AccumState w
sconcat :: NonEmpty (AccumState w) -&gt; AccumState w
$csconcat :: forall w. Semigroup w =&gt; NonEmpty (AccumState w) -&gt; AccumState w
&lt;&gt; :: AccumState w -&gt; AccumState w -&gt; AccumState w
$c&lt;&gt; :: forall w.
Semigroup w =&gt;
AccumState w -&gt; AccumState w -&gt; AccumState w
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823470"><span id="local-6989586621680823472"><span id="local-6989586621680823474"><span class="annot"><span class="annottext">Semigroup (AccumState w)
AccumState w
Semigroup (AccumState w)
-&gt; AccumState w
-&gt; (AccumState w -&gt; AccumState w -&gt; AccumState w)
-&gt; ([AccumState w] -&gt; AccumState w)
-&gt; Monoid (AccumState w)
[AccumState w] -&gt; AccumState w
AccumState w -&gt; AccumState w -&gt; AccumState w
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall w. Monoid w =&gt; Semigroup (AccumState w)
forall w. Monoid w =&gt; AccumState w
forall w. Monoid w =&gt; [AccumState w] -&gt; AccumState w
forall w. Monoid w =&gt; AccumState w -&gt; AccumState w -&gt; AccumState w
mconcat :: [AccumState w] -&gt; AccumState w
$cmconcat :: forall w. Monoid w =&gt; [AccumState w] -&gt; AccumState w
mappend :: AccumState w -&gt; AccumState w -&gt; AccumState w
$cmappend :: forall w. Monoid w =&gt; AccumState w -&gt; AccumState w -&gt; AccumState w
mempty :: AccumState w
$cmempty :: forall w. Monoid w =&gt; AccumState w
$cp1Monoid :: forall w. Monoid w =&gt; Semigroup (AccumState w)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823461"><span id="local-6989586621680823463"><span id="local-6989586621680823465"><span id="local-6989586621680823467"><span class="annot"><span class="annottext">[AccumState w] -&gt; Encoding
[AccumState w] -&gt; Value
AccumState w -&gt; Encoding
AccumState w -&gt; Value
(AccumState w -&gt; Value)
-&gt; (AccumState w -&gt; Encoding)
-&gt; ([AccumState w] -&gt; Value)
-&gt; ([AccumState w] -&gt; Encoding)
-&gt; ToJSON (AccumState w)
forall w. ToJSON w =&gt; [AccumState w] -&gt; Encoding
forall w. ToJSON w =&gt; [AccumState w] -&gt; Value
forall w. ToJSON w =&gt; AccumState w -&gt; Encoding
forall w. ToJSON w =&gt; AccumState w -&gt; Value
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [AccumState w] -&gt; Encoding
$ctoEncodingList :: forall w. ToJSON w =&gt; [AccumState w] -&gt; Encoding
toJSONList :: [AccumState w] -&gt; Value
$ctoJSONList :: forall w. ToJSON w =&gt; [AccumState w] -&gt; Value
toEncoding :: AccumState w -&gt; Encoding
$ctoEncoding :: forall w. ToJSON w =&gt; AccumState w -&gt; Encoding
toJSON :: AccumState w -&gt; Value
$ctoJSON :: forall w. ToJSON w =&gt; AccumState w -&gt; Value
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Aeson.ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823456"><span id="local-6989586621680823458"><span class="annot"><span class="annottext">Value -&gt; Parser [AccumState w]
Value -&gt; Parser (AccumState w)
(Value -&gt; Parser (AccumState w))
-&gt; (Value -&gt; Parser [AccumState w]) -&gt; FromJSON (AccumState w)
forall w. FromJSON w =&gt; Value -&gt; Parser [AccumState w]
forall w. FromJSON w =&gt; Value -&gt; Parser (AccumState w)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [AccumState w]
$cparseJSONList :: forall w. FromJSON w =&gt; Value -&gt; Parser [AccumState w]
parseJSON :: Value -&gt; Parser (AccumState w)
$cparseJSON :: forall w. FromJSON w =&gt; Value -&gt; Parser (AccumState w)
</span><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Aeson.FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="annot"><a href="Plutus.Contract.Types.html#_AccumState"><span class="hs-identifier hs-type">_AccumState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680824236"><span class="annot"><a href="#local-6989586621680824236"><span class="hs-identifier hs-type">w</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-type">Iso'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824236"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824236"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-122"></span><span id="_AccumState"><span class="annot"><span class="annottext">_AccumState :: p w (f w) -&gt; p (AccumState w) (f (AccumState w))
</span><a href="Plutus.Contract.Types.html#_AccumState"><span class="hs-identifier hs-var hs-var">_AccumState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AccumState w -&gt; w)
-&gt; (w -&gt; AccumState w) -&gt; Iso (AccumState w) (AccumState w) w w
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="annot"><span class="annottext">AccumState w -&gt; w
forall w. AccumState w -&gt; w
</span><a href="Plutus.Contract.Types.html#unAccumState"><span class="hs-identifier hs-var hs-var">unAccumState</span></a></span><span> </span><span class="annot"><span class="annottext">w -&gt; AccumState w
forall w. w -&gt; AccumState w
</span><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-var">AccumState</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="annot"><a href="Plutus.Contract.Types.html#handleContractEffs"><span class="hs-identifier hs-type">handleContractEffs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823610"><span class="annot"><a href="#local-6989586621680823610"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823612"><span class="annot"><a href="#local-6989586621680823612"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823611"><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680823609"><span class="annot"><a href="#local-6989586621680823609"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823612"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823610"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-type">CheckpointLogMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823610"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823610"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823612"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823609"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-type">MultiRequestContStatus</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823609"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span id="handleContractEffs"><span class="annot"><span class="annottext">handleContractEffs :: Eff (ContractEffs w e) a
-&gt; Eff effs (Maybe (MultiRequestContStatus PABResp PABReq effs a))
</span><a href="Plutus.Contract.Types.html#handleContractEffs"><span class="hs-identifier hs-var hs-var">handleContractEffs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><span class="annottext">Eff (Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus PABResp PABReq effs a))
forall i o a (effs :: [* -&gt; *]).
Eff (Yield o i : ResumableEffs i o effs a) a
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="Plutus.Contract.Resumable.html#suspendNonDet"><span class="hs-identifier hs-var">suspendNonDet</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823609"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823611"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="annottext">(Eff (Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a) a
 -&gt; Eff effs (Maybe (MultiRequestContStatus PABResp PABReq effs a)))
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a) a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff effs (Maybe (MultiRequestContStatus PABResp PABReq effs a))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
(Member (Yield PABReq PABResp) effs, Member NonDet effs) =&gt;
Eff (Resumable PABResp PABReq : effs) ~&gt; Eff effs
forall i o (effs :: [* -&gt; *]).
(Member (Yield o i) effs, Member NonDet effs) =&gt;
Eff (Resumable i o : effs) ~&gt; Eff effs
</span><a href="Plutus.Contract.Resumable.html#handleResumable"><span class="hs-identifier hs-var">handleResumable</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="annot"><span class="annottext">(Eff
   (Resumable PABResp PABReq
      : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
   a
 -&gt; Eff
      (Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a) a)
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (Resumable PABResp PABReq
            : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
         a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff
     (Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Checkpoint
     : Resumable PABResp PABReq : Yield PABReq PABResp
     : ResumableEffs PABResp PABReq effs a)
  a
-&gt; Eff
     (Resumable PABResp PABReq
        : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
     a
forall (effs :: [* -&gt; *]).
(Member (State CheckpointStore) effs,
 Member (State CheckpointKey) effs,
 Member (LogMsg CheckpointLogMsg) effs) =&gt;
Eff (Checkpoint : effs) ~&gt; Eff effs
</span><a href="Plutus.Contract.Checkpoint.html#handleCheckpoint"><span class="hs-identifier hs-var">handleCheckpoint</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="annottext">(Eff
   (Checkpoint
      : Resumable PABResp PABReq : Yield PABReq PABResp
      : ResumableEffs PABResp PABReq effs a)
   a
 -&gt; Eff
      (Resumable PABResp PABReq
         : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
      a)
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (Checkpoint
            : Resumable PABResp PABReq : Yield PABReq PABResp
            : ResumableEffs PABResp PABReq effs a)
         a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff
     (Resumable PABResp PABReq
        : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Checkpoint
     : Resumable PABResp PABReq : Yield PABReq PABResp
     : ResumableEffs PABResp PABReq effs a)
  a
-&gt; Eff
     (Checkpoint
        : Resumable PABResp PABReq : Yield PABReq PABResp
        : ResumableEffs PABResp PABReq effs a)
     a
forall (effs :: [* -&gt; *]).
(Member (State RequestID) effs, Member (State IterationID) effs) =&gt;
Eff (Checkpoint : effs) ~&gt; Eff (Checkpoint : effs)
</span><a href="Plutus.Contract.Types.html#addEnvToCheckpoint"><span class="hs-identifier hs-var">addEnvToCheckpoint</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><span class="annottext">(Eff
   (Checkpoint
      : Resumable PABResp PABReq : Yield PABReq PABResp
      : ResumableEffs PABResp PABReq effs a)
   a
 -&gt; Eff
      (Checkpoint
         : Resumable PABResp PABReq : Yield PABReq PABResp
         : ResumableEffs PABResp PABReq effs a)
      a)
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (Checkpoint
            : Resumable PABResp PABReq : Yield PABReq PABResp
            : ResumableEffs PABResp PABReq effs a)
         a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff
     (Checkpoint
        : Resumable PABResp PABReq : Yield PABReq PABResp
        : ResumableEffs PABResp PABReq effs a)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Writer w
 ~&gt; Eff
      (Checkpoint
         : Resumable PABResp PABReq : Yield PABReq PABResp
         : ResumableEffs PABResp PABReq effs a))
-&gt; Eff
     (Writer w
        : Checkpoint : Resumable PABResp PABReq : Yield PABReq PABResp
        : ResumableEffs PABResp PABReq effs a)
   ~&gt; Eff
        (Checkpoint
           : Resumable PABResp PABReq : Yield PABReq PABResp
           : ResumableEffs PABResp PABReq effs a)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Writer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823610"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Setter' (AccumState w) w
-&gt; Writer w
   ~&gt; Eff
        (Checkpoint
           : Resumable PABResp PABReq : Yield PABReq PABResp
           : ResumableEffs PABResp PABReq effs a)
forall s1 s2 (effs :: [* -&gt; *]).
(Monoid s1, Member (State s2) effs) =&gt;
Setter' s2 s1 -&gt; Writer s1 ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">writeIntoState</span></a></span><span> </span><span class="annot"><span class="annottext">forall w. Iso' (AccumState w) w
Setter' (AccumState w) w
</span><a href="Plutus.Contract.Types.html#_AccumState"><span class="hs-identifier hs-var">_AccumState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><span class="annottext">(Eff
   (Writer w
      : Checkpoint : Resumable PABResp PABReq : Yield PABReq PABResp
      : ResumableEffs PABResp PABReq effs a)
   a
 -&gt; Eff
      (Checkpoint
         : Resumable PABResp PABReq : Yield PABReq PABResp
         : ResumableEffs PABResp PABReq effs a)
      a)
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (Writer w
            : Checkpoint : Resumable PABResp PABReq : Yield PABReq PABResp
            : ResumableEffs PABResp PABReq effs a)
         a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff
     (Checkpoint
        : Resumable PABResp PABReq : Yield PABReq PABResp
        : ResumableEffs PABResp PABReq effs a)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (LogMsg Value) effs =&gt;
Eff (LogMsg Value : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
Member eff effs =&gt;
Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">subsume</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><span class="annottext">(Eff
   (LogMsg Value
      : Writer w : Checkpoint : Resumable PABResp PABReq
      : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
   a
 -&gt; Eff
      (Writer w
         : Checkpoint : Resumable PABResp PABReq : Yield PABReq PABResp
         : ResumableEffs PABResp PABReq effs a)
      a)
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (LogMsg Value
            : Writer w : Checkpoint : Resumable PABResp PABReq
            : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
         a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff
     (Writer w
        : Checkpoint : Resumable PABResp PABReq : Yield PABReq PABResp
        : ResumableEffs PABResp PABReq effs a)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Error e) effs =&gt;
Eff (Error e : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
Member eff effs =&gt;
Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">subsume</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823612"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><span class="annottext">(Eff
   (Error e
      : LogMsg Value : Writer w : Checkpoint : Resumable PABResp PABReq
      : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
   a
 -&gt; Eff
      (LogMsg Value
         : Writer w : Checkpoint : Resumable PABResp PABReq
         : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
      a)
-&gt; (Eff (ContractEffs w e) a
    -&gt; Eff
         (Error e
            : LogMsg Value : Writer w : Checkpoint : Resumable PABResp PABReq
            : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
         a)
-&gt; Eff (ContractEffs w e) a
-&gt; Eff
     (LogMsg Value
        : Writer w : Checkpoint : Resumable PABResp PABReq
        : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
-&gt; Eff
     (Error e
        : LogMsg Value : Writer w : Checkpoint : Resumable PABResp PABReq
        : Yield PABReq PABResp : ResumableEffs PABResp PABReq effs a)
     a
forall (effs :: [* -&gt; *]) (as :: [* -&gt; *]).
CanWeakenEnd as effs =&gt;
Eff as ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">raiseEnd</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="annot"><a href="Plutus.Contract.Types.html#getContractEnv"><span class="hs-identifier hs-type">getContractEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680824197"><span class="annot"><a href="#local-6989586621680824197"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824197"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824197"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824197"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEnv"><span class="hs-identifier hs-type">ContractEnv</span></a></span><span>
</span><span id="line-152"></span><span id="getContractEnv"><span class="annot"><span class="annottext">getContractEnv :: Eff effs ContractEnv
</span><a href="Plutus.Contract.Types.html#getContractEnv"><span class="hs-identifier hs-var hs-var">getContractEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IterationID -&gt; RequestID -&gt; ContractEnv)
-&gt; Eff effs IterationID -&gt; Eff effs (RequestID -&gt; ContractEnv)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs IterationID
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs (RequestID -&gt; ContractEnv)
-&gt; Eff effs RequestID -&gt; Eff effs ContractEnv
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs RequestID
forall s (effs :: [* -&gt; *]). Member (State s) effs =&gt; Eff effs s
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="annot"><a href="Plutus.Contract.Types.html#putContractEnv"><span class="hs-identifier hs-type">putContractEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680824192"><span class="annot"><a href="#local-6989586621680824192"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824192"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824192"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEnv"><span class="hs-identifier hs-type">ContractEnv</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824192"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span id="putContractEnv"><span class="annot"><span class="annottext">putContractEnv :: ContractEnv -&gt; Eff effs ()
</span><a href="Plutus.Contract.Types.html#putContractEnv"><span class="hs-identifier hs-var hs-var">putContractEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823448"><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680823448"><span class="hs-identifier hs-var">it</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823447"><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680823447"><span class="hs-identifier hs-var">req</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IterationID -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">IterationID
</span><a href="#local-6989586621680823448"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="annot"><span class="annottext">Eff effs () -&gt; Eff effs () -&gt; Eff effs ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RequestID -&gt; Eff effs ()
forall s (effs :: [* -&gt; *]).
Member (State s) effs =&gt;
s -&gt; Eff effs ()
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">RequestID
</span><a href="#local-6989586621680823447"><span class="hs-identifier hs-var">req</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="annot"><a href="Plutus.Contract.Types.html#addEnvToCheckpoint"><span class="hs-identifier hs-type">addEnvToCheckpoint</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680824246"><span class="annot"><a href="#local-6989586621680824246"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#RequestID"><span class="hs-identifier hs-type">RequestID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824246"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#IterationID"><span class="hs-identifier hs-type">IterationID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824246"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680824246"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680824246"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span id="addEnvToCheckpoint"><span class="annot"><span class="annottext">addEnvToCheckpoint :: Eff (Checkpoint : effs) ~&gt; Eff (Checkpoint : effs)
</span><a href="Plutus.Contract.Types.html#addEnvToCheckpoint"><span class="hs-identifier hs-var hs-var">addEnvToCheckpoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Checkpoint ~&gt; Eff (Checkpoint : effs))
-&gt; Eff (Checkpoint : effs) ~&gt; Eff (Checkpoint : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Checkpoint"><span class="hs-identifier hs-type">Checkpoint</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680824246"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><span class="annottext">((Checkpoint ~&gt; Eff (Checkpoint : effs))
 -&gt; Eff (Checkpoint : effs) ~&gt; Eff (Checkpoint : effs))
-&gt; (Checkpoint ~&gt; Eff (Checkpoint : effs))
-&gt; Eff (Checkpoint : effs) ~&gt; Eff (Checkpoint : effs)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="annottext">Checkpoint x
</span><a href="Plutus.Contract.Checkpoint.html#DoCheckpoint"><span class="hs-identifier hs-var">DoCheckpoint</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Checkpoint () -&gt; Eff (Checkpoint : effs) ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Checkpoint ()
</span><a href="Plutus.Contract.Checkpoint.html#DoCheckpoint"><span class="hs-identifier hs-var">DoCheckpoint</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="annottext">Checkpoint x
</span><a href="Plutus.Contract.Checkpoint.html#AllocateKey"><span class="hs-identifier hs-var">AllocateKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Checkpoint CheckpointKey -&gt; Eff (Checkpoint : effs) CheckpointKey
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Checkpoint CheckpointKey
</span><a href="Plutus.Contract.Checkpoint.html#AllocateKey"><span class="hs-identifier hs-var">AllocateKey</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Store"><span class="hs-identifier hs-type">Store</span></a></span><span> </span><span id="local-6989586621680823446"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823446"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680823445"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823445"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span id="local-6989586621680823444"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823444"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-174"></span><span>    </span><span id="local-6989586621680823443"><span class="annot"><span class="annottext">ContractEnv
</span><a href="#local-6989586621680823443"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff (Checkpoint : effs) ContractEnv
forall (effs :: [* -&gt; *]).
(Member (State RequestID) effs, Member (State IterationID) effs) =&gt;
Eff effs ContractEnv
</span><a href="Plutus.Contract.Types.html#getContractEnv"><span class="hs-identifier hs-var">getContractEnv</span></a></span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><span class="annottext">Checkpoint () -&gt; Eff (Checkpoint : effs) ()
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(Checkpoint () -&gt; Eff (Checkpoint : effs) ())
-&gt; Checkpoint () -&gt; Eff (Checkpoint : effs) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; CheckpointKey -&gt; (ContractEnv, a) -&gt; Checkpoint ()
forall a.
ToJSON a =&gt;
CheckpointKey -&gt; CheckpointKey -&gt; a -&gt; Checkpoint ()
</span><a href="Plutus.Contract.Checkpoint.html#Store"><span class="hs-identifier hs-var">Store</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823446"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823445"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ContractEnv
</span><a href="#local-6989586621680823443"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823444"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#Retrieve"><span class="hs-identifier hs-type">Retrieve</span></a></span><span> </span><span id="local-6989586621680823442"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823442"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-177"></span><span>    </span><span id="local-6989586621680823441"><span class="annot"><span class="annottext">Either CheckpointError (Maybe (ContractEnv, a))
</span><a href="#local-6989586621680823441"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Checkpoint (Either CheckpointError (Maybe (ContractEnv, a)))
-&gt; Eff
     (Checkpoint : effs)
     (Either CheckpointError (Maybe (ContractEnv, a)))
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]) a.
Member eff effs =&gt;
eff a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">(Checkpoint (Either CheckpointError (Maybe (ContractEnv, a)))
 -&gt; Eff
      (Checkpoint : effs)
      (Either CheckpointError (Maybe (ContractEnv, a))))
-&gt; Checkpoint (Either CheckpointError (Maybe (ContractEnv, a)))
-&gt; Eff
     (Checkpoint : effs)
     (Either CheckpointError (Maybe (ContractEnv, a)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
-&gt; Checkpoint (Either CheckpointError (Maybe (ContractEnv, a)))
forall a.
FromJSON a =&gt;
CheckpointKey -&gt; Checkpoint (Either CheckpointError (Maybe a))
</span><a href="Plutus.Contract.Checkpoint.html#Retrieve"><span class="hs-identifier hs-var">Retrieve</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEnv"><span class="hs-identifier hs-type">ContractEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823442"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe (ContractEnv, a))
</span><a href="#local-6989586621680823441"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823440"><span class="annot"><span class="annottext">ContractEnv
</span><a href="#local-6989586621680823440"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823439"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823439"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-180"></span><span>        </span><span class="annot"><span class="annottext">ContractEnv -&gt; Eff (Checkpoint : effs) ()
forall (effs :: [* -&gt; *]).
(Member (State RequestID) effs, Member (State IterationID) effs) =&gt;
ContractEnv -&gt; Eff effs ()
</span><a href="Plutus.Contract.Types.html#putContractEnv"><span class="hs-identifier hs-var">putContractEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ContractEnv
</span><a href="#local-6989586621680823440"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-181"></span><span>        </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff (Checkpoint : effs) (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a -&gt; Either CheckpointError (Maybe a)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823439"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680823438"><span class="annot"><span class="annottext">CheckpointError
</span><a href="#local-6989586621680823438"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-183"></span><span>        </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff (Checkpoint : effs) (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointError -&gt; Either CheckpointError (Maybe a)
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointError
</span><a href="#local-6989586621680823438"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (ContractEnv, a)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><span class="annottext">Either CheckpointError (Maybe a)
-&gt; Eff (Checkpoint : effs) (Either CheckpointError (Maybe a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a -&gt; Either CheckpointError (Maybe a)
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | @Contract w s e a@ is a contract with schema 's', producing a value of</span><span>
</span><span id="line-188"></span><span class="hs-comment">--  type 'a' or an error 'e'. See note [Contract Schema].</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-keyword">newtype</span><span> </span><span id="Contract"><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span></span><span> </span><span id="local-6989586621680824130"><span class="annot"><a href="#local-6989586621680824130"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680824127"><span class="annot"><a href="#local-6989586621680824127"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/g8vgm61qs4g5v6yyv8hvi8bm9dvsf9sa-row-types-lib-row-types-1.0.1.2-haddock-doc/share/doc/row-types/html/src"><span class="hs-identifier hs-type">Row</span></a></span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680824129"><span class="annot"><a href="#local-6989586621680824129"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680824128"><span class="annot"><a href="#local-6989586621680824128"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Contract"><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unContract"><span class="annot"><span class="annottext">Contract w s e a -&gt; Eff (ContractEffs w e) a
</span><a href="Plutus.Contract.Types.html#unContract"><span class="hs-identifier hs-var hs-var">unContract</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824130"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824129"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680824128"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823432"><span id="local-6989586621680823434"><span class="annot"><span class="annottext">a -&gt; Contract w s e b -&gt; Contract w s e a
(a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
(forall a b. (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b)
-&gt; (forall a b. a -&gt; Contract w s e b -&gt; Contract w s e a)
-&gt; Functor (Contract w s e)
forall a b. a -&gt; Contract w s e b -&gt; Contract w s e a
forall a b. (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
forall w (s :: Row *) e a b.
a -&gt; Contract w s e b -&gt; Contract w s e a
forall w (s :: Row *) e a b.
(a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Contract w s e b -&gt; Contract w s e a
$c&lt;$ :: forall w (s :: Row *) e a b.
a -&gt; Contract w s e b -&gt; Contract w s e a
fmap :: (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
$cfmap :: forall w (s :: Row *) e a b.
(a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823420"><span id="local-6989586621680823422"><span id="local-6989586621680823424"><span id="local-6989586621680823426"><span id="local-6989586621680823428"><span class="annot"><span class="annottext">Functor (Contract w s e)
a -&gt; Contract w s e a
Functor (Contract w s e)
-&gt; (forall a. a -&gt; Contract w s e a)
-&gt; (forall a b.
    Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c)
    -&gt; Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e c)
-&gt; (forall a b.
    Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b)
-&gt; (forall a b.
    Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e a)
-&gt; Applicative (Contract w s e)
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e a
Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
(a -&gt; b -&gt; c)
-&gt; Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e c
forall a. a -&gt; Contract w s e a
forall a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e a
forall a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
forall a b.
Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
forall a b c.
(a -&gt; b -&gt; c)
-&gt; Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e c
forall w (s :: Row *) e. Functor (Contract w s e)
forall w (s :: Row *) e a. a -&gt; Contract w s e a
forall w (s :: Row *) e a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e a
forall w (s :: Row *) e a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
forall w (s :: Row *) e a b.
Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
forall w (s :: Row *) e a b c.
(a -&gt; b -&gt; c)
-&gt; Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
&lt;* :: Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e a
$c&lt;* :: forall w (s :: Row *) e a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e a
*&gt; :: Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
$c*&gt; :: forall w (s :: Row *) e a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
liftA2 :: (a -&gt; b -&gt; c)
-&gt; Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e c
$cliftA2 :: forall w (s :: Row *) e a b c.
(a -&gt; b -&gt; c)
-&gt; Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e c
&lt;*&gt; :: Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
$c&lt;*&gt; :: forall w (s :: Row *) e a b.
Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
pure :: a -&gt; Contract w s e a
$cpure :: forall w (s :: Row *) e a. a -&gt; Contract w s e a
$cp1Applicative :: forall w (s :: Row *) e. Functor (Contract w s e)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823412"><span id="local-6989586621680823414"><span id="local-6989586621680823416"><span class="annot"><span class="annottext">Applicative (Contract w s e)
a -&gt; Contract w s e a
Applicative (Contract w s e)
-&gt; (forall a b.
    Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b)
-&gt; (forall a b.
    Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b)
-&gt; (forall a. a -&gt; Contract w s e a)
-&gt; Monad (Contract w s e)
Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
forall a. a -&gt; Contract w s e a
forall a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
forall a b.
Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b
forall w (s :: Row *) e. Applicative (Contract w s e)
forall w (s :: Row *) e a. a -&gt; Contract w s e a
forall w (s :: Row *) e a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
forall w (s :: Row *) e a b.
Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
return :: a -&gt; Contract w s e a
$creturn :: forall w (s :: Row *) e a. a -&gt; Contract w s e a
&gt;&gt; :: Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
$c&gt;&gt; :: forall w (s :: Row *) e a b.
Contract w s e a -&gt; Contract w s e b -&gt; Contract w s e b
&gt;&gt;= :: Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b
$c&gt;&gt;= :: forall w (s :: Row *) e a b.
Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b
$cp1Monad :: forall w (s :: Row *) e. Applicative (Contract w s e)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span id="local-6989586621680823408"><span id="local-6989586621680823409"><span id="local-6989586621680823410"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823410"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823409"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823408"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823410"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621680823403"><span class="annot"><span class="annottext">throwError :: e -&gt; Contract w s e a
</span><a href="#local-6989586621680823403"><span class="hs-identifier hs-var hs-var hs-var hs-var">throwError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Contract w s e a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) a -&gt; Contract w s e a)
-&gt; (e -&gt; Eff (ContractEffs w e) a) -&gt; e -&gt; Contract w s e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; Eff (ContractEffs w e) a
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">E.throwError</span></a></span><span>
</span><span id="line-195"></span><span>    </span><span id="local-6989586621680823401"><span class="annot"><span class="annottext">catchError :: Contract w s e a -&gt; (e -&gt; Contract w s e a) -&gt; Contract w s e a
</span><a href="#local-6989586621680823401"><span class="hs-identifier hs-var hs-var hs-var hs-var">catchError</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823400"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823400"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680823399"><span class="annot"><span class="annottext">e -&gt; Contract w s e a
</span><a href="#local-6989586621680823399"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Contract w s e a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) a -&gt; Contract w s e a)
-&gt; Eff (ContractEffs w e) a -&gt; Contract w s e a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
-&gt; (e -&gt; Eff (ContractEffs w e) a) -&gt; Eff (ContractEffs w e) a
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
Eff effs a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">E.catchError</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823400"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">((e -&gt; Eff (ContractEffs w e) a) -&gt; Eff (ContractEffs w e) a)
-&gt; (e -&gt; Eff (ContractEffs w e) a) -&gt; Eff (ContractEffs w e) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e a -&gt; Eff (ContractEffs w e) a
forall w (s :: Row *) e a.
Contract w s e a -&gt; Eff (ContractEffs w e) a
</span><a href="Plutus.Contract.Types.html#unContract"><span class="hs-identifier hs-var hs-var">unContract</span></a></span><span> </span><span class="annot"><span class="annottext">(Contract w s e a -&gt; Eff (ContractEffs w e) a)
-&gt; (e -&gt; Contract w s e a) -&gt; e -&gt; Eff (ContractEffs w e) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; Contract w s e a
</span><a href="#local-6989586621680823399"><span class="hs-identifier hs-var">handler</span></a></span></span></span></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span id="local-6989586621680823395"><span id="local-6989586621680823396"><span id="local-6989586621680823397"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">PlutusTx.Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823397"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823396"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823395"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621680823392"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Haskell.fmap</span></a></span></span></span></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span id="local-6989586621680823388"><span id="local-6989586621680823389"><span id="local-6989586621680823390"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">PlutusTx.Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823390"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823389"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823388"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-204"></span><span>  </span><span id="local-6989586621680823383"><span class="annot"><span class="annottext">&lt;*&gt; :: Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
</span><a href="../../../../plutus-tx/html/src"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w s e (a -&gt; b) -&gt; Contract w s e a -&gt; Contract w s e b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(Haskell.&lt;*&gt;)</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span id="local-6989586621680823381"><span class="annot"><span class="annottext">pure :: a -&gt; Contract w s e a
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Contract w s e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Haskell.pure</span></a></span></span></span></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span id="local-6989586621680823378"><span id="local-6989586621680823379"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680823373"><span id="local-6989586621680823375"><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823379"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823378"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621680823371"><span class="annot"><span class="annottext">bimap :: (a -&gt; b) -&gt; (c -&gt; d) -&gt; Contract w s a c -&gt; Contract w s b d
</span><a href="#local-6989586621680823371"><span class="hs-identifier hs-var hs-var hs-var hs-var">bimap</span></a></span></span><span> </span><span id="local-6989586621680823370"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680823370"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680823369"><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621680823369"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Contract w s a d -&gt; Contract w s b d
forall w (s :: Row *) a b c.
(a -&gt; b) -&gt; Contract w s a c -&gt; Contract w s b c
</span><a href="Plutus.Contract.Types.html#mapError"><span class="hs-identifier hs-var">mapError</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621680823370"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(Contract w s a d -&gt; Contract w s b d)
-&gt; (Contract w s a c -&gt; Contract w s a d)
-&gt; Contract w s a c
-&gt; Contract w s b d
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(c -&gt; d) -&gt; Contract w s a c -&gt; Contract w s a d
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621680823369"><span class="hs-identifier hs-var">r</span></a></span></span></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span id="local-6989586621680823365"><span id="local-6989586621680823366"><span id="local-6989586621680823367"><span id="local-6989586621680823368"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680823360"><span id="local-6989586621680823362"><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823368"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823367"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823366"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823365"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823368"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>  </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823359"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823359"><span class="hs-identifier hs-var">ma</span></a></span></span><span> </span><span id="local-6989586621680823358"><span class="annot"><span class="annottext">&lt;&gt; :: Contract w s e a -&gt; Contract w s e a -&gt; Contract w s e a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823357"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823357"><span class="hs-identifier hs-var">ma'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Contract w s e a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) a -&gt; Contract w s e a)
-&gt; Eff (ContractEffs w e) a -&gt; Contract w s e a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; Eff (ContractEffs w e) a -&gt; Eff (ContractEffs w e) (a -&gt; a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823359"><span class="hs-identifier hs-var">ma</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) (a -&gt; a)
-&gt; Eff (ContractEffs w e) a -&gt; Eff (ContractEffs w e) a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823357"><span class="hs-identifier hs-var">ma'</span></a></span></span></span></span></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-- | A wrapper indicating that this contract starts with a waiting action. For use with @select@.</span><span>
</span><span id="line-214"></span><span class="hs-keyword">newtype</span><span> </span><span id="Promise"><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span></span><span> </span><span id="local-6989586621680824018"><span class="annot"><a href="#local-6989586621680824018"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680824017"><span class="annot"><a href="#local-6989586621680824017"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/g8vgm61qs4g5v6yyv8hvi8bm9dvsf9sa-row-types-lib-row-types-1.0.1.2-haddock-doc/share/doc/row-types/html/src"><span class="hs-identifier hs-type">Row</span></a></span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680824016"><span class="annot"><a href="#local-6989586621680824016"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680824015"><span class="annot"><a href="#local-6989586621680824015"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Promise"><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="awaitPromise"><span class="annot"><span class="annottext">Promise w s e a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#awaitPromise"><span class="hs-identifier hs-var hs-var">awaitPromise</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824018"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824017"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824016"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680824015"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823351"><span id="local-6989586621680823353"><span class="annot"><span class="annottext">a -&gt; Promise w s e b -&gt; Promise w s e a
(a -&gt; b) -&gt; Promise w s e a -&gt; Promise w s e b
(forall a b. (a -&gt; b) -&gt; Promise w s e a -&gt; Promise w s e b)
-&gt; (forall a b. a -&gt; Promise w s e b -&gt; Promise w s e a)
-&gt; Functor (Promise w s e)
forall a b. a -&gt; Promise w s e b -&gt; Promise w s e a
forall a b. (a -&gt; b) -&gt; Promise w s e a -&gt; Promise w s e b
forall w (s :: Row *) e a b.
a -&gt; Promise w s e b -&gt; Promise w s e a
forall w (s :: Row *) e a b.
(a -&gt; b) -&gt; Promise w s e a -&gt; Promise w s e b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Promise w s e b -&gt; Promise w s e a
$c&lt;$ :: forall w (s :: Row *) e a b.
a -&gt; Promise w s e b -&gt; Promise w s e a
fmap :: (a -&gt; b) -&gt; Promise w s e a -&gt; Promise w s e b
$cfmap :: forall w (s :: Row *) e a b.
(a -&gt; b) -&gt; Promise w s e a -&gt; Promise w s e b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823345"><span id="local-6989586621680823347"><span id="local-6989586621680823349"><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (c -&gt; d) -&gt; Promise w s a c -&gt; Promise w s b d
(a -&gt; b) -&gt; Promise w s a c -&gt; Promise w s b c
(b -&gt; c) -&gt; Promise w s a b -&gt; Promise w s a c
(forall a b c d.
 (a -&gt; b) -&gt; (c -&gt; d) -&gt; Promise w s a c -&gt; Promise w s b d)
-&gt; (forall a b c. (a -&gt; b) -&gt; Promise w s a c -&gt; Promise w s b c)
-&gt; (forall b c a. (b -&gt; c) -&gt; Promise w s a b -&gt; Promise w s a c)
-&gt; Bifunctor (Promise w s)
forall a b c. (a -&gt; b) -&gt; Promise w s a c -&gt; Promise w s b c
forall b c a. (b -&gt; c) -&gt; Promise w s a b -&gt; Promise w s a c
forall a b c d.
(a -&gt; b) -&gt; (c -&gt; d) -&gt; Promise w s a c -&gt; Promise w s b d
forall w (s :: Row *) a b c.
(a -&gt; b) -&gt; Promise w s a c -&gt; Promise w s b c
forall w (s :: Row *) b c a.
(b -&gt; c) -&gt; Promise w s a b -&gt; Promise w s a c
forall w (s :: Row *) a b c d.
(a -&gt; b) -&gt; (c -&gt; d) -&gt; Promise w s a c -&gt; Promise w s b d
forall (p :: * -&gt; * -&gt; *).
(forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d)
-&gt; (forall a b c. (a -&gt; b) -&gt; p a c -&gt; p b c)
-&gt; (forall b c a. (b -&gt; c) -&gt; p a b -&gt; p a c)
-&gt; Bifunctor p
second :: (b -&gt; c) -&gt; Promise w s a b -&gt; Promise w s a c
$csecond :: forall w (s :: Row *) b c a.
(b -&gt; c) -&gt; Promise w s a b -&gt; Promise w s a c
first :: (a -&gt; b) -&gt; Promise w s a c -&gt; Promise w s b c
$cfirst :: forall w (s :: Row *) a b c.
(a -&gt; b) -&gt; Promise w s a c -&gt; Promise w s b c
bimap :: (a -&gt; b) -&gt; (c -&gt; d) -&gt; Promise w s a c -&gt; Promise w s b d
$cbimap :: forall w (s :: Row *) a b c d.
(a -&gt; b) -&gt; (c -&gt; d) -&gt; Promise w s a c -&gt; Promise w s b d
</span><a href="#local-6989586621680823345"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Bifunctor</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823339"><span id="local-6989586621680823341"><span id="local-6989586621680823343"><span class="annot"><span class="annottext">b -&gt; Promise w s e a -&gt; Promise w s e a
NonEmpty (Promise w s e a) -&gt; Promise w s e a
Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
(Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a)
-&gt; (NonEmpty (Promise w s e a) -&gt; Promise w s e a)
-&gt; (forall b.
    Integral b =&gt;
    b -&gt; Promise w s e a -&gt; Promise w s e a)
-&gt; Semigroup (Promise w s e a)
forall b. Integral b =&gt; b -&gt; Promise w s e a -&gt; Promise w s e a
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall w (s :: Row *) e a.
Semigroup a =&gt;
NonEmpty (Promise w s e a) -&gt; Promise w s e a
forall w (s :: Row *) e a.
Semigroup a =&gt;
Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
forall w (s :: Row *) e a b.
(Semigroup a, Integral b) =&gt;
b -&gt; Promise w s e a -&gt; Promise w s e a
stimes :: b -&gt; Promise w s e a -&gt; Promise w s e a
$cstimes :: forall w (s :: Row *) e a b.
(Semigroup a, Integral b) =&gt;
b -&gt; Promise w s e a -&gt; Promise w s e a
sconcat :: NonEmpty (Promise w s e a) -&gt; Promise w s e a
$csconcat :: forall w (s :: Row *) e a.
Semigroup a =&gt;
NonEmpty (Promise w s e a) -&gt; Promise w s e a
&lt;&gt; :: Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
$c&lt;&gt; :: forall w (s :: Row *) e a.
Semigroup a =&gt;
Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span id="local-6989586621680823336"><span id="local-6989586621680823337"><span id="local-6989586621680823338"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680823329"><span id="local-6989586621680823331"><span id="local-6989586621680823333"><span class="annot"><a href="../file:///nix/store/nw4fdvinqycf4cyjxfnndyyc8ydsbcr3-semigroupoids-lib-semigroupoids-5.3.4-haddock-doc/share/doc/semigroupoids/html/src"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823338"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823337"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823336"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>  </span><span id="local-6989586621680823326"><span class="annot"><span class="annottext">liftF2 :: (a -&gt; b -&gt; c)
-&gt; Promise w s e a -&gt; Promise w s e b -&gt; Promise w s e c
</span><a href="#local-6989586621680823326"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftF2</span></a></span></span><span> </span><span id="local-6989586621680823325"><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621680823325"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span id="local-6989586621680823324"><span class="annot"><span class="annottext">Contract w s e a
</span><a href="#local-6989586621680823324"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span id="local-6989586621680823323"><span class="annot"><span class="annottext">Contract w s e b
</span><a href="#local-6989586621680823323"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w s e c -&gt; Promise w s e c
forall w (s :: Row *) e a. Contract w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621680823325"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c) -&gt; Contract w s e a -&gt; Contract w s e (b -&gt; c)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e a
</span><a href="#local-6989586621680823324"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e (b -&gt; c) -&gt; Contract w s e b -&gt; Contract w s e c
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e b
</span><a href="#local-6989586621680823323"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | A `Promise` that is never fulfilled. This is the identity of `select`.</span><span>
</span><span id="line-221"></span><span id="local-6989586621680823319"><span id="local-6989586621680823320"><span id="local-6989586621680823321"><span id="local-6989586621680823322"><span class="annot"><a href="Plutus.Contract.Types.html#never"><span class="hs-identifier hs-type">never</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823322"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823321"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823320"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823319"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-222"></span><span id="never"><span class="annot"><span class="annottext">never :: Promise w s e a
</span><a href="Plutus.Contract.Types.html#never"><span class="hs-identifier hs-var hs-var">never</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w s e a -&gt; Promise w s e a
forall w (s :: Row *) e a. Contract w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Contract w s e a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) a -&gt; Contract w s e a)
-&gt; Eff (ContractEffs w e) a -&gt; Contract w s e a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Member (Resumable PABResp PABReq) effs =&gt;
Eff effs a
forall i o (effs :: [* -&gt; *]) a.
Member (Resumable i o) effs =&gt;
Eff effs a
</span><a href="Plutus.Contract.Resumable.html#never"><span class="hs-identifier hs-var">Resumable.never</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Run more `Contract` code after the `Promise`.</span><span>
</span><span id="line-225"></span><span id="local-6989586621680823313"><span id="local-6989586621680823314"><span id="local-6989586621680823315"><span id="local-6989586621680823316"><span id="local-6989586621680823317"><span class="annot"><a href="Plutus.Contract.Types.html#promiseBind"><span class="hs-identifier hs-type">promiseBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823317"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823316"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823315"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680823314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823317"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823316"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823315"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823313"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823317"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823316"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823315"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823313"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-226"></span><span id="promiseBind"><span class="annot"><span class="annottext">promiseBind :: Promise w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Promise w s e b
</span><a href="Plutus.Contract.Types.html#promiseBind"><span class="hs-identifier hs-var hs-var">promiseBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span id="local-6989586621680823312"><span class="annot"><span class="annottext">Contract w s e a
</span><a href="#local-6989586621680823312"><span class="hs-identifier hs-var">ma</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680823311"><span class="annot"><span class="annottext">a -&gt; Contract w s e b
</span><a href="#local-6989586621680823311"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w s e b -&gt; Promise w s e b
forall w (s :: Row *) e a. Contract w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Contract w s e a
</span><a href="#local-6989586621680823312"><span class="hs-identifier hs-var">ma</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e a -&gt; (a -&gt; Contract w s e b) -&gt; Contract w s e b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Contract w s e b
</span><a href="#local-6989586621680823311"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-- | Lift a mapping function for `Contract` to a mapping function for `Promise`.</span><span>
</span><span id="line-229"></span><span id="local-6989586621680823303"><span id="local-6989586621680823304"><span id="local-6989586621680823305"><span id="local-6989586621680823306"><span id="local-6989586621680823307"><span id="local-6989586621680823308"><span id="local-6989586621680823309"><span id="local-6989586621680823310"><span class="annot"><a href="Plutus.Contract.Types.html#promiseMap"><span class="hs-identifier hs-type">promiseMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823310"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823309"><span class="hs-identifier hs-type">s1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823308"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823307"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823306"><span class="hs-identifier hs-type">w2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823305"><span class="hs-identifier hs-type">s2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823304"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823303"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823310"><span class="hs-identifier hs-type">w1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823309"><span class="hs-identifier hs-type">s1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823308"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823307"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823306"><span class="hs-identifier hs-type">w2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823305"><span class="hs-identifier hs-type">s2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823304"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823303"><span class="hs-identifier hs-type">a2</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-230"></span><span id="promiseMap"><span class="annot"><span class="annottext">promiseMap :: (Contract w1 s1 e1 a1 -&gt; Contract w2 s2 e2 a2)
-&gt; Promise w1 s1 e1 a1 -&gt; Promise w2 s2 e2 a2
</span><a href="Plutus.Contract.Types.html#promiseMap"><span class="hs-identifier hs-var hs-var">promiseMap</span></a></span></span><span> </span><span id="local-6989586621680823302"><span class="annot"><span class="annottext">Contract w1 s1 e1 a1 -&gt; Contract w2 s2 e2 a2
</span><a href="#local-6989586621680823302"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span id="local-6989586621680823301"><span class="annot"><span class="annottext">Contract w1 s1 e1 a1
</span><a href="#local-6989586621680823301"><span class="hs-identifier hs-var">ma</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w2 s2 e2 a2 -&gt; Promise w2 s2 e2 a2
forall w (s :: Row *) e a. Contract w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Contract w1 s1 e1 a1 -&gt; Contract w2 s2 e2 a2
</span><a href="#local-6989586621680823302"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w1 s1 e1 a1
</span><a href="#local-6989586621680823301"><span class="hs-identifier hs-var">ma</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | Class of types that can be trivially converted to a `Contract`.</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- For use with functions where it is convenient to accept both `Contract` and `Promise` types.</span><span>
</span><span id="line-234"></span><span class="hs-keyword">class</span><span> </span><span id="IsContract"><span class="annot"><a href="Plutus.Contract.Types.html#IsContract"><span class="hs-identifier hs-var">IsContract</span></a></span></span><span> </span><span id="local-6989586621680823988"><span class="annot"><a href="#local-6989586621680823988"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621680823990"><span id="local-6989586621680823991"><span id="local-6989586621680823992"><span id="local-6989586621680823993"><span id="toContract"><span class="annot"><a href="Plutus.Contract.Types.html#toContract"><span class="hs-identifier hs-type">toContract</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680823988"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823993"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823992"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823991"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823990"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823993"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823992"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823991"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823990"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#IsContract"><span class="hs-identifier hs-type">IsContract</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621680823297"><span class="annot"><span class="annottext">toContract :: Contract w s e a -&gt; Contract w s e a
</span><a href="#local-6989586621680823297"><span class="hs-identifier hs-var hs-var hs-var hs-var">toContract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w s e a -&gt; Contract w s e a
forall a. a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#IsContract"><span class="hs-identifier hs-type">IsContract</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>  </span><span id="local-6989586621680823294"><span class="annot"><span class="annottext">toContract :: Promise w s e a -&gt; Contract w s e a
</span><a href="#local-6989586621680823294"><span class="hs-identifier hs-var hs-var hs-var hs-var">toContract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Promise w s e a -&gt; Contract w s e a
forall w (s :: Row *) e a. Promise w s e a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#awaitPromise"><span class="hs-identifier hs-var hs-var">awaitPromise</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">-- | @select@ returns the contract that makes progress first, discarding the</span><span>
</span><span id="line-244"></span><span class="hs-comment">--   other one.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- However, note that if multiples promises are chained together like</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- @P1 `select` P2 `select` P3@ and all three can make progress at the same</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- moment, then @select@ will prioritize the promises starting from the right</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- (first @P3@ then @P2@ then @P1@).</span><span>
</span><span id="line-250"></span><span class="annot"><a href="Plutus.Contract.Types.html#select"><span class="hs-identifier hs-type">select</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823965"><span class="annot"><a href="#local-6989586621680823965"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823964"><span class="annot"><a href="#local-6989586621680823964"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823963"><span class="annot"><a href="#local-6989586621680823963"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823962"><span class="annot"><a href="#local-6989586621680823962"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823965"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823964"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823963"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823962"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823965"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823964"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823963"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823962"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823965"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823964"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823963"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823962"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-251"></span><span id="select"><span class="annot"><span class="annottext">select :: Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#select"><span class="hs-identifier hs-var hs-var">select</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823293"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823293"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823292"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823292"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Contract w s e a -&gt; Promise w s e a
forall w (s :: Row *) e a. Contract w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-var">Promise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Contract w s e a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
-&gt; Eff (ContractEffs w e) a -&gt; Eff (ContractEffs w e) a
forall i o (effs :: [* -&gt; *]) a.
Member (Resumable i o) effs =&gt;
Eff effs a -&gt; Eff effs a -&gt; Eff effs a
</span><a href="Plutus.Contract.Resumable.html#select"><span class="hs-identifier hs-var">Resumable.select</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823965"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823963"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823293"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823292"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="hs-comment">-- | A variant of @select@ for contracts with different return types.</span><span>
</span><span id="line-254"></span><span class="annot"><a href="Plutus.Contract.Types.html#selectEither"><span class="hs-identifier hs-type">selectEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823290"><span class="annot"><a href="#local-6989586621680823290"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823289"><span class="annot"><a href="#local-6989586621680823289"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823288"><span class="annot"><a href="#local-6989586621680823288"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823287"><span class="annot"><a href="#local-6989586621680823287"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680823286"><span class="annot"><a href="#local-6989586621680823286"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823290"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823289"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823288"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823287"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823290"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823289"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823288"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823286"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823290"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823289"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823288"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823287"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823286"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span id="selectEither"><span class="annot"><span class="annottext">selectEither :: Promise w s e a -&gt; Promise w s e b -&gt; Promise w s e (Either a b)
</span><a href="Plutus.Contract.Types.html#selectEither"><span class="hs-identifier hs-var hs-var">selectEither</span></a></span></span><span> </span><span id="local-6989586621680823285"><span class="annot"><span class="annottext">Promise w s e a
</span><a href="#local-6989586621680823285"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680823284"><span class="annot"><span class="annottext">Promise w s e b
</span><a href="#local-6989586621680823284"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; Promise w s e a -&gt; Promise w s e (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Promise w s e a
</span><a href="#local-6989586621680823285"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Promise w s e (Either a b)
-&gt; Promise w s e (Either a b) -&gt; Promise w s e (Either a b)
forall w (s :: Row *) e a.
Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#select"><span class="hs-operator hs-var">`select`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; Promise w s e b -&gt; Promise w s e (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Promise w s e b
</span><a href="#local-6989586621680823284"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-comment">-- | 'selectList' returns the contract that makes progress first, discarding the</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- other ones.</span><span>
</span><span id="line-259"></span><span class="hs-comment">--</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- However, if multiple contracts can make progress, 'selectList' prioritizes</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- the ones appearing first in the input list. Therefore, the order of the</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- list of promises is important.</span><span>
</span><span id="line-263"></span><span id="local-6989586621680823280"><span id="local-6989586621680823281"><span id="local-6989586621680823282"><span id="local-6989586621680823283"><span class="annot"><a href="Plutus.Contract.Types.html#selectList"><span class="hs-identifier hs-type">selectList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.Contract.Types.html#Promise"><span class="hs-identifier hs-type">Promise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823283"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823282"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823281"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823280"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823283"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823282"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823281"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823280"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-264"></span><span id="selectList"><span class="annot"><span class="annottext">selectList :: [Promise w s e a] -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#selectList"><span class="hs-identifier hs-var hs-var">selectList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Promise w s e a -&gt; Contract w s e a
forall w (s :: Row *) e a. Promise w s e a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#awaitPromise"><span class="hs-identifier hs-var hs-var">awaitPromise</span></a></span><span> </span><span class="annot"><span class="annottext">(Promise w s e a -&gt; Contract w s e a)
-&gt; ([Promise w s e a] -&gt; Promise w s e a)
-&gt; [Promise w s e a]
-&gt; Contract w s e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a)
-&gt; [Promise w s e a] -&gt; Promise w s e a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldr1</span></a></span><span> </span><span class="annot"><span class="annottext">Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
forall w (s :: Row *) e a.
Promise w s e a -&gt; Promise w s e a -&gt; Promise w s e a
</span><a href="Plutus.Contract.Types.html#select"><span class="hs-identifier hs-var">select</span></a></span><span> </span><span class="annot"><span class="annottext">([Promise w s e a] -&gt; Promise w s e a)
-&gt; ([Promise w s e a] -&gt; [Promise w s e a])
-&gt; [Promise w s e a]
-&gt; Promise w s e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Promise w s e a] -&gt; [Promise w s e a]
forall a. [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">reverse</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Write the current state of the contract to a checkpoint.</span><span>
</span><span id="line-267"></span><span class="annot"><a href="Plutus.Contract.Types.html#checkpoint"><span class="hs-identifier hs-type">checkpoint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823277"><span class="annot"><a href="#local-6989586621680823277"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823276"><span class="annot"><a href="#local-6989586621680823276"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823275"><span class="annot"><a href="#local-6989586621680823275"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823274"><span class="annot"><a href="#local-6989586621680823274"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier hs-type">AsCheckpointError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823275"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Aeson.FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823274"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Aeson.ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823274"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823277"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823276"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823275"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823274"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823277"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823276"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823275"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823274"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-268"></span><span id="checkpoint"><span class="annot"><span class="annottext">checkpoint :: Contract w s e a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#checkpoint"><span class="hs-identifier hs-var hs-var">checkpoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Contract w s e a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) a -&gt; Contract w s e a)
-&gt; (Contract w s e a -&gt; Eff (ContractEffs w e) a)
-&gt; Contract w s e a
-&gt; Contract w s e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a (effs :: [* -&gt; *]).
(Member Checkpoint effs, Member (Error e) effs, ToJSON a,
 FromJSON a, AsCheckpointError e) =&gt;
Eff effs a -&gt; Eff effs a
forall err a (effs :: [* -&gt; *]).
(Member Checkpoint effs, Member (Error err) effs, ToJSON a,
 FromJSON a, AsCheckpointError err) =&gt;
Eff effs a -&gt; Eff effs a
</span><a href="Plutus.Contract.Checkpoint.html#jsonCheckpoint"><span class="hs-identifier hs-var">jsonCheckpoint</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823275"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) a -&gt; Eff (ContractEffs w e) a)
-&gt; (Contract w s e a -&gt; Eff (ContractEffs w e) a)
-&gt; Contract w s e a
-&gt; Eff (ContractEffs w e) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e a -&gt; Eff (ContractEffs w e) a
forall w (s :: Row *) e a.
Contract w s e a -&gt; Eff (ContractEffs w e) a
</span><a href="Plutus.Contract.Types.html#unContract"><span class="hs-identifier hs-var hs-var">unContract</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="annot"><a href="Plutus.Contract.Types.html#checkpointLoop"><span class="hs-identifier hs-type">checkpointLoop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823273"><span class="annot"><a href="#local-6989586621680823273"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823272"><span class="annot"><a href="#local-6989586621680823272"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823271"><span class="annot"><a href="#local-6989586621680823271"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823270"><span class="annot"><a href="#local-6989586621680823270"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680823269"><span class="annot"><a href="#local-6989586621680823269"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#AsCheckpointError"><span class="hs-identifier hs-type">AsCheckpointError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823271"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Aeson.FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823270"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Aeson.ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823270"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Aeson.ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823269"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Aeson.FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823269"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680823270"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823273"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823272"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823271"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823269"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823270"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680823270"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823273"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823272"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823271"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823269"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-271"></span><span id="checkpointLoop"><span class="annot"><span class="annottext">checkpointLoop :: (a -&gt; Contract w s e (Either b a)) -&gt; a -&gt; Contract w s e b
</span><a href="Plutus.Contract.Types.html#checkpointLoop"><span class="hs-identifier hs-var hs-var">checkpointLoop</span></a></span></span><span> </span><span id="local-6989586621680823268"><span class="annot"><span class="annottext">a -&gt; Contract w s e (Either b a)
</span><a href="#local-6989586621680823268"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680823267"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823267"><span class="hs-identifier hs-var">initial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) b -&gt; Contract w s e b
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (ContractEffs w e) b -&gt; Contract w s e b)
-&gt; Eff (ContractEffs w e) b -&gt; Contract w s e b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Eff (ContractEffs w e) (Either b a))
-&gt; a -&gt; Eff (ContractEffs w e) b
forall err a b (effs :: [* -&gt; *]).
(Member Checkpoint effs, Member (Error err) effs, ToJSON a,
 FromJSON a, ToJSON b, FromJSON b, AsCheckpointError err) =&gt;
(a -&gt; Eff effs (Either b a)) -&gt; a -&gt; Eff effs b
</span><a href="Plutus.Contract.Checkpoint.html#jsonCheckpointLoop"><span class="hs-identifier hs-var">jsonCheckpointLoop</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823271"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Contract w s e (Either b a)
 -&gt; Eff (ContractEffs w e) (Either b a))
-&gt; (a -&gt; Contract w s e (Either b a))
-&gt; a
-&gt; Eff (ContractEffs w e) (Either b a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e (Either b a) -&gt; Eff (ContractEffs w e) (Either b a)
forall w (s :: Row *) e a.
Contract w s e a -&gt; Eff (ContractEffs w e) a
</span><a href="Plutus.Contract.Types.html#unContract"><span class="hs-identifier hs-var hs-var">unContract</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Contract w s e (Either b a)
</span><a href="#local-6989586621680823268"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823267"><span class="hs-identifier hs-var">initial</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- | Transform any exceptions thrown by the 'Contract' using the given function.</span><span>
</span><span id="line-274"></span><span class="annot"><a href="Plutus.Contract.Types.html#mapError"><span class="hs-identifier hs-type">mapError</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823266"><span class="annot"><a href="#local-6989586621680823266"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823265"><span class="annot"><a href="#local-6989586621680823265"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823264"><span class="annot"><a href="#local-6989586621680823264"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823263"><span class="annot"><a href="#local-6989586621680823263"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621680823262"><span class="annot"><a href="#local-6989586621680823262"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680823264"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680823263"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823266"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823265"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823264"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823262"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823266"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823265"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823263"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823262"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-279"></span><span id="mapError"><span class="annot"><span class="annottext">mapError :: (e -&gt; e') -&gt; Contract w s e a -&gt; Contract w s e' a
</span><a href="Plutus.Contract.Types.html#mapError"><span class="hs-identifier hs-var hs-var">mapError</span></a></span></span><span> </span><span id="local-6989586621680823261"><span class="annot"><span class="annottext">e -&gt; e'
</span><a href="#local-6989586621680823261"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; Contract w s e' a) -&gt; Contract w s e a -&gt; Contract w s e' a
forall w (s :: Row *) e e' a.
(e -&gt; Contract w s e' a) -&gt; Contract w s e a -&gt; Contract w s e' a
</span><a href="Plutus.Contract.Types.html#handleError"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e' -&gt; Contract w s e' a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><a href="../file:///nix/store/50z9mfcyab831xv3ljzrgw24b0c22y3g-mtl-lib-mtl-2.2.2-haddock-doc/share/doc/mtl/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(e' -&gt; Contract w s e' a) -&gt; (e -&gt; e') -&gt; e -&gt; Contract w s e' a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e'
</span><a href="#local-6989586621680823261"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-comment">-- | Turn a contract with error type 'e' and return type 'a' into one with</span><span>
</span><span id="line-282"></span><span class="hs-comment">--   any error type (ie. throwing no errors) that returns 'Either e a'</span><span>
</span><span id="line-283"></span><span class="annot"><a href="Plutus.Contract.Types.html#runError"><span class="hs-identifier hs-type">runError</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823260"><span class="annot"><a href="#local-6989586621680823260"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823259"><span class="annot"><a href="#local-6989586621680823259"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823258"><span class="annot"><a href="#local-6989586621680823258"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823257"><span class="annot"><a href="#local-6989586621680823257"><span class="hs-identifier hs-type">e0</span></a></span></span><span> </span><span id="local-6989586621680823256"><span class="annot"><a href="#local-6989586621680823256"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823260"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823259"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823258"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823256"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823260"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823259"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823257"><span class="hs-identifier hs-type">e0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823258"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823256"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span id="runError"><span class="annot"><span class="annottext">runError :: Contract w s e a -&gt; Contract w s e0 (Either e a)
</span><a href="Plutus.Contract.Types.html#runError"><span class="hs-identifier hs-var hs-var">runError</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823255"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823255"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e0) (Either e a)
-&gt; Contract w s e0 (Either e a)
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (Error e : ContractEffs w e0) a
-&gt; Eff (ContractEffs w e0) (Either e a)
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; Eff effs (Either e a)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">E.runError</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (Error e : ContractEffs w e0) a
 -&gt; Eff (ContractEffs w e0) (Either e a))
-&gt; Eff (Error e : ContractEffs w e0) a
-&gt; Eff (ContractEffs w e0) (Either e a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Eff (Error e : ContractEffs w e0) a
forall (effs :: [* -&gt; *]) (a :: * -&gt; *) (b :: * -&gt; *).
Eff (a : effs) ~&gt; Eff (a : b : effs)
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">raiseUnder</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823255"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">-- | Handle errors, potentially throwing new errors.</span><span>
</span><span id="line-290"></span><span class="annot"><a href="Plutus.Contract.Types.html#handleError"><span class="hs-identifier hs-type">handleError</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823931"><span class="annot"><a href="#local-6989586621680823931"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823930"><span class="annot"><a href="#local-6989586621680823930"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680823932"><span class="annot"><a href="#local-6989586621680823932"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823929"><span class="annot"><a href="#local-6989586621680823929"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621680823928"><span class="annot"><a href="#local-6989586621680823928"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680823932"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823931"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823930"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823929"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823928"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823931"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823930"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823932"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823928"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823931"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823930"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823929"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823928"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-295"></span><span id="handleError"><span class="annot"><span class="annottext">handleError :: (e -&gt; Contract w s e' a) -&gt; Contract w s e a -&gt; Contract w s e' a
</span><a href="Plutus.Contract.Types.html#handleError"><span class="hs-identifier hs-var hs-var">handleError</span></a></span></span><span> </span><span id="local-6989586621680823253"><span class="annot"><span class="annottext">e -&gt; Contract w s e' a
</span><a href="#local-6989586621680823253"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-type">Contract</span></a></span><span> </span><span id="local-6989586621680823252"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823252"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e') a -&gt; Contract w s e' a
forall w (s :: Row *) e a.
Eff (ContractEffs w e) a -&gt; Contract w s e a
</span><a href="Plutus.Contract.Types.html#Contract"><span class="hs-identifier hs-var">Contract</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e') a
</span><a href="#local-6989586621680823251"><span class="hs-identifier hs-var">c'</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-296"></span><span>  </span><span id="local-6989586621680823251"><span class="annot"><span class="annottext">c' :: Eff (ContractEffs w e') a
</span><a href="#local-6989586621680823251"><span class="hs-identifier hs-var hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff (Error e : ContractEffs w e') a
-&gt; (e -&gt; Eff (ContractEffs w e') a) -&gt; Eff (ContractEffs w e') a
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">E.handleError</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823932"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a -&gt; Eff (Error e : ContractEffs w e') a
forall (effs :: [* -&gt; *]) (a :: * -&gt; *) (b :: * -&gt; *).
Eff (a : effs) ~&gt; Eff (a : b : effs)
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">raiseUnder</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823252"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Contract w s e' a -&gt; Eff (ContractEffs w e') a)
-&gt; (e -&gt; Contract w s e' a) -&gt; e -&gt; Eff (ContractEffs w e') a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Contract w s e' a -&gt; Eff (ContractEffs w e') a
forall w (s :: Row *) e a.
Contract w s e a -&gt; Eff (ContractEffs w e) a
</span><a href="Plutus.Contract.Types.html#unContract"><span class="hs-identifier hs-var hs-var">unContract</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; Contract w s e' a
</span><a href="#local-6989586621680823253"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-keyword">type</span><span> </span><span id="SuspendedContractEffects"><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContractEffects"><span class="hs-identifier hs-var">SuspendedContractEffects</span></a></span></span><span> </span><span id="local-6989586621680823249"><span class="annot"><a href="#local-6989586621680823249"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823248"><span class="annot"><a href="#local-6989586621680823248"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823248"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-type">CheckpointLogMsg</span></a></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823249"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Writer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-comment">-- | The result of running a 'Resumable'</span><span>
</span><span id="line-309"></span><span id="local-6989586621680823246"><span id="local-6989586621680823247"></span></span><span class="hs-keyword">data</span><span> </span><span id="ResumableResult"><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-var">ResumableResult</span></a></span></span><span> </span><span id="local-6989586621680823775"><span class="annot"><a href="#local-6989586621680823775"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823774"><span class="annot"><a href="#local-6989586621680823774"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823773"><span class="annot"><a href="#local-6989586621680823773"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680823772"><span class="annot"><a href="#local-6989586621680823772"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680823771"><span class="annot"><a href="#local-6989586621680823771"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-310"></span><span>    </span><span id="ResumableResult"><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-var">ResumableResult</span></a></span></span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="_responses"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; Responses (CheckpointKey, i)
</span><a href="Plutus.Contract.Types.html#_responses"><span class="hs-identifier hs-var hs-var">_responses</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680823773"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- The record with the resumable's execution history</span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_requests"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; Requests o
</span><a href="Plutus.Contract.Types.html#_requests"><span class="hs-identifier hs-var hs-var">_requests</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Requests"><span class="hs-identifier hs-type">Requests</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823772"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-comment">-- Handlers that the 'Resumable' has registered</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_finalState"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; Either e (Maybe a)
</span><a href="Plutus.Contract.Types.html#_finalState"><span class="hs-identifier hs-var hs-var">_finalState</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823774"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823771"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Error or final state of the 'Resumable' (if it has finished)</span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_logs"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; Seq (LogMessage Value)
</span><a href="Plutus.Contract.Types.html#_logs"><span class="hs-identifier hs-var hs-var">_logs</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- All log messages that have been produced by this instance.</span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_lastLogs"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; Seq (LogMessage Value)
</span><a href="Plutus.Contract.Types.html#_lastLogs"><span class="hs-identifier hs-var hs-var">_lastLogs</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Log messages produced in the last step</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_checkpointStore"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; CheckpointStore
</span><a href="Plutus.Contract.Types.html#_checkpointStore"><span class="hs-identifier hs-var hs-var">_checkpointStore</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_observableState"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; w
</span><a href="Plutus.Contract.Types.html#_observableState"><span class="hs-identifier hs-var hs-var">_observableState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680823775"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-comment">-- ^ Accumulated, observable state of the contract</span><span>
</span><span id="line-318"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="_lastState"><span class="annot"><span class="annottext">ResumableResult w e i o a -&gt; w
</span><a href="Plutus.Contract.Types.html#_lastState"><span class="hs-identifier hs-var hs-var">_lastState</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680823775"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-comment">-- ^ Last accumulated state</span><span>
</span><span id="line-319"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-320"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 ResumableResult w e i o a -&gt; Rep (ResumableResult w e i o a) x)
-&gt; (forall x.
    Rep (ResumableResult w e i o a) x -&gt; ResumableResult w e i o a)
-&gt; Generic (ResumableResult w e i o a)
forall x.
Rep (ResumableResult w e i o a) x -&gt; ResumableResult w e i o a
forall x.
ResumableResult w e i o a -&gt; Rep (ResumableResult w e i o a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall w e i o a x.
Rep (ResumableResult w e i o a) x -&gt; ResumableResult w e i o a
forall w e i o a x.
ResumableResult w e i o a -&gt; Rep (ResumableResult w e i o a) x
$cto :: forall w e i o a x.
Rep (ResumableResult w e i o a) x -&gt; ResumableResult w e i o a
$cfrom :: forall w e i o a x.
ResumableResult w e i o a -&gt; Rep (ResumableResult w e i o a) x
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823228"><span id="local-6989586621680823230"><span id="local-6989586621680823232"><span class="annot"><span class="annottext">Int -&gt; ResumableResult w e i o a -&gt; ShowS
[ResumableResult w e i o a] -&gt; ShowS
ResumableResult w e i o a -&gt; String
(Int -&gt; ResumableResult w e i o a -&gt; ShowS)
-&gt; (ResumableResult w e i o a -&gt; String)
-&gt; ([ResumableResult w e i o a] -&gt; ShowS)
-&gt; Show (ResumableResult w e i o a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall w e i o a.
(Show i, Show o, Show e, Show a, Show w) =&gt;
Int -&gt; ResumableResult w e i o a -&gt; ShowS
forall w e i o a.
(Show i, Show o, Show e, Show a, Show w) =&gt;
[ResumableResult w e i o a] -&gt; ShowS
forall w e i o a.
(Show i, Show o, Show e, Show a, Show w) =&gt;
ResumableResult w e i o a -&gt; String
showList :: [ResumableResult w e i o a] -&gt; ShowS
$cshowList :: forall w e i o a.
(Show i, Show o, Show e, Show a, Show w) =&gt;
[ResumableResult w e i o a] -&gt; ShowS
show :: ResumableResult w e i o a -&gt; String
$cshow :: forall w e i o a.
(Show i, Show o, Show e, Show a, Show w) =&gt;
ResumableResult w e i o a -&gt; String
showsPrec :: Int -&gt; ResumableResult w e i o a -&gt; ShowS
$cshowsPrec :: forall w e i o a.
(Show i, Show o, Show e, Show a, Show w) =&gt;
Int -&gt; ResumableResult w e i o a -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823220"><span id="local-6989586621680823222"><span id="local-6989586621680823224"><span id="local-6989586621680823226"><span class="annot"><span class="annottext">[ResumableResult w e i o a] -&gt; Encoding
[ResumableResult w e i o a] -&gt; Value
ResumableResult w e i o a -&gt; Encoding
ResumableResult w e i o a -&gt; Value
(ResumableResult w e i o a -&gt; Value)
-&gt; (ResumableResult w e i o a -&gt; Encoding)
-&gt; ([ResumableResult w e i o a] -&gt; Value)
-&gt; ([ResumableResult w e i o a] -&gt; Encoding)
-&gt; ToJSON (ResumableResult w e i o a)
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
[ResumableResult w e i o a] -&gt; Encoding
forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
[ResumableResult w e i o a] -&gt; Value
forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
ResumableResult w e i o a -&gt; Encoding
forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
ResumableResult w e i o a -&gt; Value
toEncodingList :: [ResumableResult w e i o a] -&gt; Encoding
$ctoEncodingList :: forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
[ResumableResult w e i o a] -&gt; Encoding
toJSONList :: [ResumableResult w e i o a] -&gt; Value
$ctoJSONList :: forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
[ResumableResult w e i o a] -&gt; Value
toEncoding :: ResumableResult w e i o a -&gt; Encoding
$ctoEncoding :: forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
ResumableResult w e i o a -&gt; Encoding
toJSON :: ResumableResult w e i o a -&gt; Value
$ctoJSON :: forall w e i o a.
(ToJSON w, ToJSON a, ToJSON e, ToJSON o, ToJSON i) =&gt;
ResumableResult w e i o a -&gt; Value
</span><a href="#local-6989586621680823220"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Aeson.ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823216"><span id="local-6989586621680823218"><span class="annot"><span class="annottext">Value -&gt; Parser [ResumableResult w e i o a]
Value -&gt; Parser (ResumableResult w e i o a)
(Value -&gt; Parser (ResumableResult w e i o a))
-&gt; (Value -&gt; Parser [ResumableResult w e i o a])
-&gt; FromJSON (ResumableResult w e i o a)
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
forall w e i o a.
(FromJSON i, FromJSON o, FromJSON e, FromJSON a, FromJSON w) =&gt;
Value -&gt; Parser [ResumableResult w e i o a]
forall w e i o a.
(FromJSON i, FromJSON o, FromJSON e, FromJSON a, FromJSON w) =&gt;
Value -&gt; Parser (ResumableResult w e i o a)
parseJSONList :: Value -&gt; Parser [ResumableResult w e i o a]
$cparseJSONList :: forall w e i o a.
(FromJSON i, FromJSON o, FromJSON e, FromJSON a, FromJSON w) =&gt;
Value -&gt; Parser [ResumableResult w e i o a]
parseJSON :: Value -&gt; Parser (ResumableResult w e i o a)
$cparseJSON :: forall w e i o a.
(FromJSON i, FromJSON o, FromJSON e, FromJSON a, FromJSON w) =&gt;
Value -&gt; Parser (ResumableResult w e i o a)
</span><a href="#local-6989586621680823216"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Aeson.FromJSON</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span id="local-6989586621680823213"><span id="local-6989586621680823214"><span id="local-6989586621680823215"><span id="lastLogs"><span id="observableState"><span id="checkpointStore"><span id="lastState"><span id="logs"><span id="finalState"><span id="requests"><span id="responses"><span id="local-6989586621680823745"><span id="local-6989586621680823771"><span id="local-6989586621680823772"><span id="local-6989586621680823773"><span id="local-6989586621680823774"><span id="local-6989586621680823775"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ResumableResult</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="hs-comment">-- | Shrink the 'ResumableResult' by deleting everything that's not needed to restore the</span><span>
</span><span id="line-326"></span><span class="hs-comment">--   state of the contract instance.</span><span>
</span><span id="line-327"></span><span id="local-6989586621680823208"><span id="local-6989586621680823209"><span id="local-6989586621680823210"><span id="local-6989586621680823211"><span id="local-6989586621680823212"><span class="annot"><a href="Plutus.Contract.Types.html#shrinkResumableResult"><span class="hs-identifier hs-type">shrinkResumableResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823212"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823211"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823210"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823209"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823208"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823212"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823211"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823210"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823209"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823208"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-328"></span><span id="shrinkResumableResult"><span class="annot"><span class="annottext">shrinkResumableResult :: ResumableResult w e i o a -&gt; ResumableResult w e i o a
</span><a href="Plutus.Contract.Types.html#shrinkResumableResult"><span class="hs-identifier hs-var hs-var">shrinkResumableResult</span></a></span></span><span> </span><span id="local-6989586621680823207"><span class="annot"><span class="annottext">ResumableResult w e i o a
</span><a href="#local-6989586621680823207"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680823206"><span class="annot"><span class="annottext">comp :: IntervalSet (Interval CheckpointKey)
</span><a href="#local-6989586621680823206"><span class="hs-identifier hs-var hs-var">comp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResumableResult w e i o a
</span><a href="#local-6989586621680823207"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">ResumableResult w e i o a
-&gt; Getting
     (IntervalSet (Interval CheckpointKey))
     (ResumableResult w e i o a)
     (IntervalSet (Interval CheckpointKey))
-&gt; IntervalSet (Interval CheckpointKey)
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointStore
 -&gt; Const (IntervalSet (Interval CheckpointKey)) CheckpointStore)
-&gt; ResumableResult w e i o a
-&gt; Const
     (IntervalSet (Interval CheckpointKey)) (ResumableResult w e i o a)
forall w e i o a. Lens' (ResumableResult w e i o a) CheckpointStore
</span><a href="Plutus.Contract.Types.html#checkpointStore"><span class="hs-identifier hs-var">checkpointStore</span></a></span><span> </span><span class="annot"><span class="annottext">((CheckpointStore
  -&gt; Const (IntervalSet (Interval CheckpointKey)) CheckpointStore)
 -&gt; ResumableResult w e i o a
 -&gt; Const
      (IntervalSet (Interval CheckpointKey)) (ResumableResult w e i o a))
-&gt; ((IntervalSet (Interval CheckpointKey)
     -&gt; Const
          (IntervalSet (Interval CheckpointKey))
          (IntervalSet (Interval CheckpointKey)))
    -&gt; CheckpointStore
    -&gt; Const (IntervalSet (Interval CheckpointKey)) CheckpointStore)
-&gt; Getting
     (IntervalSet (Interval CheckpointKey))
     (ResumableResult w e i o a)
     (IntervalSet (Interval CheckpointKey))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointStore -&gt; IntervalSet (Interval CheckpointKey))
-&gt; (IntervalSet (Interval CheckpointKey)
    -&gt; Const
         (IntervalSet (Interval CheckpointKey))
         (IntervalSet (Interval CheckpointKey)))
-&gt; CheckpointStore
-&gt; Const (IntervalSet (Interval CheckpointKey)) CheckpointStore
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s a.
(Profunctor p, Contravariant f) =&gt;
(s -&gt; a) -&gt; Optic' p f s a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore -&gt; IntervalSet (Interval CheckpointKey)
</span><a href="Plutus.Contract.Checkpoint.html#completedIntervals"><span class="hs-identifier hs-var">completedIntervals</span></a></span><span>
</span><span id="line-330"></span><span>      </span><span class="annot"><a href="#local-6989586621680823205"><span class="hs-identifier hs-type">isCovered</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-331"></span><span>      </span><span id="local-6989586621680823205"><span class="annot"><span class="annottext">isCovered :: CheckpointKey -&gt; Bool
</span><a href="#local-6989586621680823205"><span class="hs-identifier hs-var hs-var">isCovered</span></a></span></span><span> </span><span id="local-6989586621680823204"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823204"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalSet (Interval CheckpointKey) -&gt; Bool
forall k. IntervalSet k -&gt; Bool
</span><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier hs-var">IS.null</span></a></span><span> </span><span class="annot"><span class="annottext">(IntervalSet (Interval CheckpointKey) -&gt; Bool)
-&gt; IntervalSet (Interval CheckpointKey) -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalSet (Interval CheckpointKey)
-&gt; CheckpointKey -&gt; IntervalSet (Interval CheckpointKey)
forall k e. Interval k e =&gt; IntervalSet k -&gt; e -&gt; IntervalSet k
</span><a href="../file:///nix/store/34p11gp0w03zsz07k8lfl4sjqrn63kjp-IntervalMap-lib-IntervalMap-0.6.1.2-haddock-doc/share/doc/IntervalMap/html/src"><span class="hs-identifier hs-var">IS.containing</span></a></span><span> </span><span class="annot"><span class="annottext">IntervalSet (Interval CheckpointKey)
</span><a href="#local-6989586621680823206"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823204"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ResumableResult w e i o a
</span><a href="#local-6989586621680823207"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">ResumableResult w e i o a
-&gt; (ResumableResult w e i o a -&gt; ResumableResult w e i o a)
-&gt; ResumableResult w e i o a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Seq (LogMessage Value) -&gt; Identity (Seq (LogMessage Value)))
-&gt; ResumableResult w e i o a
-&gt; Identity (ResumableResult w e i o a)
forall w e i o a.
Lens' (ResumableResult w e i o a) (Seq (LogMessage Value))
</span><a href="Plutus.Contract.Types.html#logs"><span class="hs-identifier hs-var">logs</span></a></span><span> </span><span class="annot"><span class="annottext">((Seq (LogMessage Value) -&gt; Identity (Seq (LogMessage Value)))
 -&gt; ResumableResult w e i o a
 -&gt; Identity (ResumableResult w e i o a))
-&gt; Seq (LogMessage Value)
-&gt; ResumableResult w e i o a
-&gt; ResumableResult w e i o a
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-333"></span><span>        </span><span class="annot"><span class="annottext">ResumableResult w e i o a
-&gt; (ResumableResult w e i o a -&gt; ResumableResult w e i o a)
-&gt; ResumableResult w e i o a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  (ResumableResult w e i o a)
  (ResumableResult w e i o a)
  (Map ContractEnv (CheckpointKey, i))
  (Map ContractEnv (CheckpointKey, i))
-&gt; (Map ContractEnv (CheckpointKey, i)
    -&gt; Map ContractEnv (CheckpointKey, i))
-&gt; ResumableResult w e i o a
-&gt; ResumableResult w e i o a
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Responses (CheckpointKey, i)
 -&gt; Identity (Responses (CheckpointKey, i)))
-&gt; ResumableResult w e i o a
-&gt; Identity (ResumableResult w e i o a)
forall w e i o a i.
Lens
  (ResumableResult w e i o a)
  (ResumableResult w e i o a)
  (Responses (CheckpointKey, i))
  (Responses (CheckpointKey, i))
</span><a href="Plutus.Contract.Types.html#responses"><span class="hs-identifier hs-var">responses</span></a></span><span> </span><span class="annot"><span class="annottext">((Responses (CheckpointKey, i)
  -&gt; Identity (Responses (CheckpointKey, i)))
 -&gt; ResumableResult w e i o a
 -&gt; Identity (ResumableResult w e i o a))
-&gt; ((Map ContractEnv (CheckpointKey, i)
     -&gt; Identity (Map ContractEnv (CheckpointKey, i)))
    -&gt; Responses (CheckpointKey, i)
    -&gt; Identity (Responses (CheckpointKey, i)))
-&gt; ASetter
     (ResumableResult w e i o a)
     (ResumableResult w e i o a)
     (Map ContractEnv (CheckpointKey, i))
     (Map ContractEnv (CheckpointKey, i))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Map ContractEnv (CheckpointKey, i)
 -&gt; Identity (Map ContractEnv (CheckpointKey, i)))
-&gt; Responses (CheckpointKey, i)
-&gt; Identity (Responses (CheckpointKey, i))
forall i. Iso' (Responses i) (Map ContractEnv i)
</span><a href="Plutus.Contract.Resumable.html#_Responses"><span class="hs-identifier hs-var">_Responses</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((CheckpointKey, i) -&gt; Bool)
-&gt; Map ContractEnv (CheckpointKey, i)
-&gt; Map ContractEnv (CheckpointKey, i)
forall a k. (a -&gt; Bool) -&gt; Map k a -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; ((CheckpointKey, i) -&gt; Bool) -&gt; (CheckpointKey, i) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey -&gt; Bool
</span><a href="#local-6989586621680823205"><span class="hs-identifier hs-var">isCovered</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointKey -&gt; Bool)
-&gt; ((CheckpointKey, i) -&gt; CheckpointKey)
-&gt; (CheckpointKey, i)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointKey, i) -&gt; CheckpointKey
forall a b. (a, b) -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-keyword">data</span><span> </span><span id="SuspendedContract"><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-var">SuspendedContract</span></a></span></span><span> </span><span id="local-6989586621680823683"><span class="annot"><a href="#local-6989586621680823683"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823682"><span class="annot"><a href="#local-6989586621680823682"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823681"><span class="annot"><a href="#local-6989586621680823681"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621680823680"><span class="annot"><a href="#local-6989586621680823680"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span id="local-6989586621680823679"><span class="annot"><a href="#local-6989586621680823679"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-336"></span><span>  </span><span id="SuspendedContract"><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-var">SuspendedContract</span></a></span></span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_resumableResult"><span class="annot"><span class="annottext">SuspendedContract w e i o a -&gt; ResumableResult w e i o a
</span><a href="Plutus.Contract.Types.html#_resumableResult"><span class="hs-identifier hs-var hs-var">_resumableResult</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823683"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823682"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823681"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823680"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823679"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_continuations"><span class="annot"><span class="annottext">SuspendedContract w e i o a
-&gt; Maybe
     (MultiRequestContStatus i o (SuspendedContractEffects w e) a)
</span><a href="Plutus.Contract.Types.html#_continuations"><span class="hs-identifier hs-var hs-var">_continuations</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-type">MultiRequestContStatus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823681"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823680"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContractEffects"><span class="hs-identifier hs-type">SuspendedContractEffects</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823683"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823682"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_checkpointKey"><span class="annot"><span class="annottext">SuspendedContract w e i o a -&gt; CheckpointKey
</span><a href="Plutus.Contract.Types.html#_checkpointKey"><span class="hs-identifier hs-var hs-var">_checkpointKey</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span id="checkpointKey"><span id="continuations"><span id="resumableResult"><span id="local-6989586621680823679"><span id="local-6989586621680823680"><span id="local-6989586621680823681"><span id="local-6989586621680823682"><span id="local-6989586621680823683"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">SuspendedContract</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span id="local-6989586621680823673"><span id="local-6989586621680823674"><span id="local-6989586621680823675"><span class="annot"><a href="Plutus.Contract.Types.html#runResumable"><span class="hs-identifier hs-type">runResumable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-345"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823675"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823675"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823674"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823673"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823675"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823674"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823673"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-350"></span><span id="runResumable"><span class="annot"><span class="annottext">runResumable :: [Response PABResp]
-&gt; CheckpointStore
-&gt; Eff (ContractEffs w e) a
-&gt; ResumableResult w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#runResumable"><span class="hs-identifier hs-var hs-var">runResumable</span></a></span></span><span> </span><span id="local-6989586621680823195"><span class="annot"><span class="annottext">[Response PABResp]
</span><a href="#local-6989586621680823195"><span class="hs-identifier hs-var">events</span></a></span></span><span> </span><span id="local-6989586621680823194"><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823194"><span class="hs-identifier hs-var">store</span></a></span></span><span> </span><span id="local-6989586621680823193"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823193"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680823192"><span class="annot"><span class="annottext">initial :: SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823192"><span class="hs-identifier hs-var hs-var">initial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointStore
-&gt; Eff (ContractEffs w e) a
-&gt; SuspendedContract w e PABResp PABReq a
forall w e a.
Monoid w =&gt;
CheckpointStore
-&gt; Eff (ContractEffs w e) a
-&gt; SuspendedContract w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#suspend"><span class="hs-identifier hs-var">suspend</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823194"><span class="hs-identifier hs-var">store</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823193"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-352"></span><span>      </span><span id="local-6989586621680823191"><span class="annot"><span class="annottext">runStep' :: SuspendedContract w e PABResp PABReq a
-&gt; Response PABResp -&gt; SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823191"><span class="hs-identifier hs-var hs-var">runStep'</span></a></span></span><span> </span><span id="local-6989586621680823190"><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823190"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621680823189"><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823189"><span class="hs-identifier hs-var">rsp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
-&gt; Maybe (SuspendedContract w e PABResp PABReq a)
-&gt; SuspendedContract w e PABResp PABReq a
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823190"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
-&gt; Response PABResp
-&gt; Maybe (SuspendedContract w e PABResp PABReq a)
forall w e a.
Monoid w =&gt;
SuspendedContract w e PABResp PABReq a
-&gt; Response PABResp
-&gt; Maybe (SuspendedContract w e PABResp PABReq a)
</span><a href="Plutus.Contract.Types.html#runStep"><span class="hs-identifier hs-var">runStep</span></a></span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823190"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823189"><span class="hs-identifier hs-var">rsp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>      </span><span id="local-6989586621680823188"><span class="annot"><span class="annottext">result :: ResumableResult w e PABResp PABReq a
</span><a href="#local-6989586621680823188"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SuspendedContract w e PABResp PABReq a
 -&gt; Response PABResp -&gt; SuspendedContract w e PABResp PABReq a)
-&gt; SuspendedContract w e PABResp PABReq a
-&gt; [Response PABResp]
-&gt; SuspendedContract w e PABResp PABReq a
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
-&gt; Response PABResp -&gt; SuspendedContract w e PABResp PABReq a
forall w e a.
Monoid w =&gt;
SuspendedContract w e PABResp PABReq a
-&gt; Response PABResp -&gt; SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823191"><span class="hs-identifier hs-var">runStep'</span></a></span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
</span><a href="#local-6989586621680823192"><span class="hs-identifier hs-var">initial</span></a></span><span> </span><span class="annot"><span class="annottext">[Response PABResp]
</span><a href="#local-6989586621680823195"><span class="hs-identifier hs-var">events</span></a></span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
-&gt; (SuspendedContract w e PABResp PABReq a
    -&gt; ResumableResult w e PABResp PABReq a)
-&gt; ResumableResult w e PABResp PABReq a
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (ResumableResult w e PABResp PABReq a)
  (SuspendedContract w e PABResp PABReq a)
  (ResumableResult w e PABResp PABReq a)
-&gt; SuspendedContract w e PABResp PABReq a
-&gt; ResumableResult w e PABResp PABReq a
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (ResumableResult w e PABResp PABReq a)
  (SuspendedContract w e PABResp PABReq a)
  (ResumableResult w e PABResp PABReq a)
forall w e i o a.
Lens' (SuspendedContract w e i o a) (ResumableResult w e i o a)
</span><a href="Plutus.Contract.Types.html#resumableResult"><span class="hs-identifier hs-var">resumableResult</span></a></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ResumableResult w e PABResp PABReq a
</span><a href="#local-6989586621680823188"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><a href="Plutus.Contract.Types.html#runWithRecord"><span class="hs-identifier hs-type">runWithRecord</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823601"><span class="annot"><a href="#local-6989586621680823601"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823600"><span class="annot"><a href="#local-6989586621680823600"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823599"><span class="annot"><a href="#local-6989586621680823599"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-358"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823601"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823601"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823600"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823599"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823601"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823600"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823599"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-363"></span><span id="runWithRecord"><span class="annot"><span class="annottext">runWithRecord :: Eff (ContractEffs w e) a
-&gt; CheckpointStore
-&gt; Responses PABResp
-&gt; ResumableResult w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#runWithRecord"><span class="hs-identifier hs-var hs-var">runWithRecord</span></a></span></span><span> </span><span id="local-6989586621680823187"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823187"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621680823186"><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823186"><span class="hs-identifier hs-var">store</span></a></span></span><span> </span><span id="local-6989586621680823185"><span class="annot"><span class="annottext">Responses PABResp
</span><a href="#local-6989586621680823185"><span class="hs-identifier hs-var">events</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-364"></span><span>  </span><span class="annot"><span class="annottext">[Response PABResp]
-&gt; CheckpointStore
-&gt; Eff (ContractEffs w e) a
-&gt; ResumableResult w e PABResp PABReq a
forall w e a.
Monoid w =&gt;
[Response PABResp]
-&gt; CheckpointStore
-&gt; Eff (ContractEffs w e) a
-&gt; ResumableResult w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#runResumable"><span class="hs-identifier hs-var">runResumable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Responses PABResp -&gt; [Response PABResp]
forall i. Responses i -&gt; [Response i]
</span><a href="Plutus.Contract.Resumable.html#responses"><span class="hs-identifier hs-var">Resumable.responses</span></a></span><span> </span><span class="annot"><span class="annottext">Responses PABResp
</span><a href="#local-6989586621680823185"><span class="hs-identifier hs-var">events</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823186"><span class="hs-identifier hs-var">store</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823187"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="annot"><a href="Plutus.Contract.Types.html#mkResult"><span class="hs-identifier hs-type">mkResult</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823618"><span class="annot"><a href="#local-6989586621680823618"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823617"><span class="annot"><a href="#local-6989586621680823617"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823616"><span class="annot"><a href="#local-6989586621680823616"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823618"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680823618"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Old logs</span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823617"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContStatus"><span class="hs-identifier hs-type">MultiRequestContStatus</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContractEffects"><span class="hs-identifier hs-type">SuspendedContractEffects</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823618"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823617"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823616"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-372"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-373"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-374"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823618"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-375"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>     </span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-type">SuspendedContract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823618"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823617"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823616"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-378"></span><span id="mkResult"><span class="annot"><span class="annottext">mkResult :: w
-&gt; Seq (LogMessage Value)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#mkResult"><span class="hs-identifier hs-var hs-var">mkResult</span></a></span></span><span> </span><span id="local-6989586621680823182"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823182"><span class="hs-identifier hs-var">oldW</span></a></span></span><span> </span><span id="local-6989586621680823181"><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823181"><span class="hs-identifier hs-var">oldLogs</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680823180"><span class="annot"><span class="annottext">Either
  e
  (Maybe
     (MultiRequestContStatus
        PABResp PABReq (SuspendedContractEffects w e) a))
</span><a href="#local-6989586621680823180"><span class="hs-identifier hs-var">initialRes</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823179"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823179"><span class="hs-identifier hs-var">cpKey</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823178"><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823178"><span class="hs-identifier hs-var">cpStore</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span id="local-6989586621680823177"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823177"><span class="hs-identifier hs-var">newW</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823176"><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823176"><span class="hs-identifier hs-var">newLogs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-379"></span><span>  </span><span class="annot"><span class="annottext">SuspendedContract :: forall w e i o a.
ResumableResult w e i o a
-&gt; Maybe
     (MultiRequestContStatus i o (SuspendedContractEffects w e) a)
-&gt; CheckpointKey
-&gt; SuspendedContract w e i o a
</span><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-type">SuspendedContract</span></a></span><span>
</span><span id="line-380"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_resumableResult :: ResumableResult w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#_resumableResult"><span class="hs-identifier hs-var">_resumableResult</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-381"></span><span>          </span><span class="annot"><span class="annottext">ResumableResult :: forall w e i o a.
Responses (CheckpointKey, i)
-&gt; Requests o
-&gt; Either e (Maybe a)
-&gt; Seq (LogMessage Value)
-&gt; Seq (LogMessage Value)
-&gt; CheckpointStore
-&gt; w
-&gt; w
-&gt; ResumableResult w e i o a
</span><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span>
</span><span id="line-382"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_responses :: Responses (CheckpointKey, PABResp)
</span><a href="Plutus.Contract.Types.html#_responses"><span class="hs-identifier hs-var">_responses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Responses (CheckpointKey, PABResp)
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-383"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_requests :: Requests PABReq
</span><a href="Plutus.Contract.Types.html#_requests"><span class="hs-identifier hs-var">_requests</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-384"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680823175"><span class="annot"><span class="annottext">getRequests :: MultiRequestContStatus i o effs a -&gt; Maybe (Requests o)
</span><a href="#local-6989586621680823175"><span class="hs-identifier hs-var hs-var">getRequests</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#AContinuation"><span class="hs-identifier hs-type">AContinuation</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier hs-type">MultiRequestContinuation</span></a></span><span class="hs-special">{</span><span id="local-6989586621680823174"><span class="annot"><span class="annottext">Requests o
ndcRequests :: Requests o
ndcRequests :: forall i o (effs :: [* -&gt; *]) a.
MultiRequestContinuation i o effs a -&gt; Requests o
</span><a href="#local-6989586621680823174"><span class="hs-identifier hs-var hs-var">ndcRequests</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Requests o -&gt; Maybe (Requests o)
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Requests o
</span><a href="#local-6989586621680823174"><span class="hs-identifier hs-var">ndcRequests</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">MultiRequestContStatus i o effs a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Requests o)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-385"></span><span>                </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(e -&gt; Requests PABReq)
-&gt; (Maybe
      (MultiRequestContStatus
         PABResp PABReq (SuspendedContractEffects w e) a)
    -&gt; Requests PABReq)
-&gt; Either
     e
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
-&gt; Requests PABReq
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; Requests PABReq
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Requests PABReq -&gt; Maybe (Requests PABReq) -&gt; Requests PABReq
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Requests PABReq
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Requests PABReq) -&gt; Requests PABReq)
-&gt; (Maybe
      (MultiRequestContStatus
         PABResp PABReq (SuspendedContractEffects w e) a)
    -&gt; Maybe (Requests PABReq))
-&gt; Maybe
     (MultiRequestContStatus
        PABResp PABReq (SuspendedContractEffects w e) a)
-&gt; Requests PABReq
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe
  (MultiRequestContStatus
     PABResp PABReq (SuspendedContractEffects w e) a)
-&gt; (MultiRequestContStatus
      PABResp PABReq (SuspendedContractEffects w e) a
    -&gt; Maybe (Requests PABReq))
-&gt; Maybe (Requests PABReq)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">MultiRequestContStatus
  PABResp PABReq (SuspendedContractEffects w e) a
-&gt; Maybe (Requests PABReq)
forall i o (effs :: [* -&gt; *]) a.
MultiRequestContStatus i o effs a -&gt; Maybe (Requests o)
</span><a href="#local-6989586621680823175"><span class="hs-identifier hs-var">getRequests</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either
  e
  (Maybe
     (MultiRequestContStatus
        PABResp PABReq (SuspendedContractEffects w e) a))
</span><a href="#local-6989586621680823180"><span class="hs-identifier hs-var">initialRes</span></a></span><span>
</span><span id="line-386"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_finalState :: Either e (Maybe a)
</span><a href="Plutus.Contract.Types.html#_finalState"><span class="hs-identifier hs-var">_finalState</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-387"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680823172"><span class="annot"><span class="annottext">getResult :: MultiRequestContStatus i o effs a -&gt; Maybe a
</span><a href="#local-6989586621680823172"><span class="hs-identifier hs-var hs-var">getResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#AResult"><span class="hs-identifier hs-type">AResult</span></a></span><span> </span><span id="local-6989586621680823171"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823171"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823171"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">MultiRequestContStatus i o effs a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-388"></span><span>                </span><span class="annot"><span class="annottext">(Maybe
   (MultiRequestContStatus
      PABResp PABReq (SuspendedContractEffects w e) a)
 -&gt; Maybe a)
-&gt; Either
     e
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
-&gt; Either e (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe
  (MultiRequestContStatus
     PABResp PABReq (SuspendedContractEffects w e) a)
-&gt; (MultiRequestContStatus
      PABResp PABReq (SuspendedContractEffects w e) a
    -&gt; Maybe a)
-&gt; Maybe a
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">MultiRequestContStatus
  PABResp PABReq (SuspendedContractEffects w e) a
-&gt; Maybe a
forall i o (effs :: [* -&gt; *]) a.
MultiRequestContStatus i o effs a -&gt; Maybe a
</span><a href="#local-6989586621680823172"><span class="hs-identifier hs-var">getResult</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either
  e
  (Maybe
     (MultiRequestContStatus
        PABResp PABReq (SuspendedContractEffects w e) a))
</span><a href="#local-6989586621680823180"><span class="hs-identifier hs-var">initialRes</span></a></span><span>
</span><span id="line-389"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_logs :: Seq (LogMessage Value)
</span><a href="Plutus.Contract.Types.html#_logs"><span class="hs-identifier hs-var">_logs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823181"><span class="hs-identifier hs-var">oldLogs</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
-&gt; Seq (LogMessage Value) -&gt; Seq (LogMessage Value)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823176"><span class="hs-identifier hs-var">newLogs</span></a></span><span>
</span><span id="line-390"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_lastLogs :: Seq (LogMessage Value)
</span><a href="Plutus.Contract.Types.html#_lastLogs"><span class="hs-identifier hs-var">_lastLogs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823176"><span class="hs-identifier hs-var">newLogs</span></a></span><span>
</span><span id="line-391"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_checkpointStore :: CheckpointStore
</span><a href="Plutus.Contract.Types.html#_checkpointStore"><span class="hs-identifier hs-var">_checkpointStore</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823178"><span class="hs-identifier hs-var">cpStore</span></a></span><span>
</span><span id="line-392"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_observableState :: w
</span><a href="Plutus.Contract.Types.html#_observableState"><span class="hs-identifier hs-var">_observableState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823182"><span class="hs-identifier hs-var">oldW</span></a></span><span> </span><span class="annot"><span class="annottext">w -&gt; w -&gt; w
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823177"><span class="hs-identifier hs-var">newW</span></a></span><span>
</span><span id="line-393"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_lastState :: w
</span><a href="Plutus.Contract.Types.html#_lastState"><span class="hs-identifier hs-var">_lastState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823177"><span class="hs-identifier hs-var">newW</span></a></span><span>
</span><span id="line-394"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-395"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_continuations :: Maybe
  (MultiRequestContStatus
     PABResp PABReq (SuspendedContractEffects w e) a)
</span><a href="Plutus.Contract.Types.html#_continuations"><span class="hs-identifier hs-var">_continuations</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe
  (MultiRequestContStatus
     PABResp PABReq (SuspendedContractEffects w e) a)
-&gt; Either
     e
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
-&gt; Maybe
     (MultiRequestContStatus
        PABResp PABReq (SuspendedContractEffects w e) a)
forall b a. b -&gt; Either a b -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromRight</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (MultiRequestContStatus
     PABResp PABReq (SuspendedContractEffects w e) a)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Either
  e
  (Maybe
     (MultiRequestContStatus
        PABResp PABReq (SuspendedContractEffects w e) a))
</span><a href="#local-6989586621680823180"><span class="hs-identifier hs-var">initialRes</span></a></span><span>
</span><span id="line-396"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_checkpointKey :: CheckpointKey
</span><a href="Plutus.Contract.Types.html#_checkpointKey"><span class="hs-identifier hs-var">_checkpointKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823179"><span class="hs-identifier hs-var">cpKey</span></a></span><span>
</span><span id="line-397"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="annot"><a href="Plutus.Contract.Types.html#runSuspContractEffects"><span class="hs-identifier hs-type">runSuspContractEffects</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823615"><span class="annot"><a href="#local-6989586621680823615"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823614"><span class="annot"><a href="#local-6989586621680823614"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823613"><span class="annot"><a href="#local-6989586621680823613"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823615"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContractEffects"><span class="hs-identifier hs-type">SuspendedContractEffects</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823615"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823614"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823613"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823614"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823613"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823615"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span id="runSuspContractEffects"><span class="annot"><span class="annottext">runSuspContractEffects :: CheckpointKey
-&gt; CheckpointStore
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; (Either e a, CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
</span><a href="Plutus.Contract.Types.html#runSuspContractEffects"><span class="hs-identifier hs-var hs-var">runSuspContractEffects</span></a></span></span><span> </span><span id="local-6989586621680823169"><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823169"><span class="hs-identifier hs-var">cpKey</span></a></span></span><span> </span><span id="local-6989586621680823168"><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823168"><span class="hs-identifier hs-var">cpStore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-407"></span><span>  </span><span class="annot"><span class="annottext">((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
 Seq (LogMessage Value))
-&gt; (Either e a, CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
forall a b c d e. ((((a, b), c), d), e) -&gt; (a, b, c, d, e)
</span><a href="#local-6989586621680823167"><span class="hs-identifier hs-var">flatten</span></a></span><span>
</span><span id="line-408"></span><span>    </span><span class="annot"><span class="annottext">(((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
  Seq (LogMessage Value))
 -&gt; (Either e a, CheckpointKey, CheckpointStore, AccumState w,
     Seq (LogMessage Value)))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
        Seq (LogMessage Value)))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; (Either e a, CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  '[]
  ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
   Seq (LogMessage Value))
-&gt; ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
    Seq (LogMessage Value))
forall a. Eff '[] a -&gt; a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">run</span></a></span><span>
</span><span id="line-409"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[]
   ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
    Seq (LogMessage Value))
 -&gt; ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
     Seq (LogMessage Value)))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[]
         ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
          Seq (LogMessage Value)))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
    Seq (LogMessage Value))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Monoid (Seq (LogMessage Value)) =&gt;
Eff (Writer (Seq (LogMessage Value)) : effs) a
-&gt; Eff effs (a, Seq (LogMessage Value))
forall w (effs :: [* -&gt; *]) a.
Monoid w =&gt;
Eff (Writer w : effs) a -&gt; Eff effs (a, w)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">W.runWriter</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[Writer (Seq (LogMessage Value))]
   (((Either e a, CheckpointKey), CheckpointStore), AccumState w)
 -&gt; Eff
      '[]
      ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
       Seq (LogMessage Value)))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[Writer (Seq (LogMessage Value))]
         (((Either e a, CheckpointKey), CheckpointStore), AccumState w))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; Eff
     '[]
     ((((Either e a, CheckpointKey), CheckpointStore), AccumState w),
      Seq (LogMessage Value))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg Value ~&gt; Eff '[Writer (Seq (LogMessage Value))])
-&gt; Eff '[LogMsg Value, Writer (Seq (LogMessage Value))]
   ~&gt; Eff '[Writer (Seq (LogMessage Value))]
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Writer (Seq (LogMessage Value))) effs =&gt;
AReview (Seq (LogMessage Value)) (LogMessage Value)
-&gt; LogMsg Value ~&gt; Eff effs
forall a w (effs :: [* -&gt; *]).
Member (Writer w) effs =&gt;
AReview w (LogMessage a) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">handleLogWriter</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(AReview (Seq (LogMessage Value)) (LogMessage Value)
 -&gt; LogMsg Value ~&gt; Eff '[Writer (Seq (LogMessage Value))])
-&gt; AReview (Seq (LogMessage Value)) (LogMessage Value)
-&gt; LogMsg Value ~&gt; Eff '[Writer (Seq (LogMessage Value))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMessage Value -&gt; Seq (LogMessage Value))
-&gt; AReview (Seq (LogMessage Value)) (LogMessage Value)
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) b t s a.
(Profunctor p, Bifunctor p, Functor f) =&gt;
(b -&gt; t) -&gt; Optic p f s t a b
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">unto</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage Value -&gt; Seq (LogMessage Value)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[LogMsg Value, Writer (Seq (LogMessage Value))]
   (((Either e a, CheckpointKey), CheckpointStore), AccumState w)
 -&gt; Eff
      '[Writer (Seq (LogMessage Value))]
      (((Either e a, CheckpointKey), CheckpointStore), AccumState w))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[LogMsg Value, Writer (Seq (LogMessage Value))]
         (((Either e a, CheckpointKey), CheckpointStore), AccumState w))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; Eff
     '[Writer (Seq (LogMessage Value))]
     (((Either e a, CheckpointKey), CheckpointStore), AccumState w)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AccumState w
-&gt; Eff
     '[State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     ((Either e a, CheckpointKey), CheckpointStore)
-&gt; Eff
     '[LogMsg Value, Writer (Seq (LogMessage Value))]
     (((Either e a, CheckpointKey), CheckpointStore), AccumState w)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#AccumState"><span class="hs-identifier hs-type">AccumState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823615"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AccumState w
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[State (AccumState w), LogMsg Value,
     Writer (Seq (LogMessage Value))]
   ((Either e a, CheckpointKey), CheckpointStore)
 -&gt; Eff
      '[LogMsg Value, Writer (Seq (LogMessage Value))]
      (((Either e a, CheckpointKey), CheckpointStore), AccumState w))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[State (AccumState w), LogMsg Value,
           Writer (Seq (LogMessage Value))]
         ((Either e a, CheckpointKey), CheckpointStore))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; Eff
     '[LogMsg Value, Writer (Seq (LogMessage Value))]
     (((Either e a, CheckpointKey), CheckpointStore), AccumState w)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Eff (LogMsg CheckpointLogMsg : effs) ~&gt; Eff effs
forall a (effs :: [* -&gt; *]). Eff (LogMsg a : effs) ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">handleLogIgnore</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointLogMsg"><span class="hs-identifier hs-type">CheckpointLogMsg</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
     Writer (Seq (LogMessage Value))]
   ((Either e a, CheckpointKey), CheckpointStore)
 -&gt; Eff
      '[State (AccumState w), LogMsg Value,
        Writer (Seq (LogMessage Value))]
      ((Either e a, CheckpointKey), CheckpointStore))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
           Writer (Seq (LogMessage Value))]
         ((Either e a, CheckpointKey), CheckpointStore))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; Eff
     '[State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     ((Either e a, CheckpointKey), CheckpointStore)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore
-&gt; Eff
     '[State CheckpointStore, LogMsg CheckpointLogMsg,
       State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     (Either e a, CheckpointKey)
-&gt; Eff
     '[LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     ((Either e a, CheckpointKey), CheckpointStore)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823168"><span class="hs-identifier hs-var">cpStore</span></a></span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[State CheckpointStore, LogMsg CheckpointLogMsg,
     State (AccumState w), LogMsg Value,
     Writer (Seq (LogMessage Value))]
   (Either e a, CheckpointKey)
 -&gt; Eff
      '[LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
        Writer (Seq (LogMessage Value))]
      ((Either e a, CheckpointKey), CheckpointStore))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[State CheckpointStore, LogMsg CheckpointLogMsg,
           State (AccumState w), LogMsg Value,
           Writer (Seq (LogMessage Value))]
         (Either e a, CheckpointKey))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; Eff
     '[LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     ((Either e a, CheckpointKey), CheckpointStore)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
-&gt; Eff
     '[State CheckpointKey, State CheckpointStore,
       LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     (Either e a)
-&gt; Eff
     '[State CheckpointStore, LogMsg CheckpointLogMsg,
       State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     (Either e a, CheckpointKey)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs (a, s)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823169"><span class="hs-identifier hs-var">cpKey</span></a></span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[State CheckpointKey, State CheckpointStore,
     LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
     Writer (Seq (LogMessage Value))]
   (Either e a)
 -&gt; Eff
      '[State CheckpointStore, LogMsg CheckpointLogMsg,
        State (AccumState w), LogMsg Value,
        Writer (Seq (LogMessage Value))]
      (Either e a, CheckpointKey))
-&gt; (Eff (SuspendedContractEffects w e) a
    -&gt; Eff
         '[State CheckpointKey, State CheckpointStore,
           LogMsg CheckpointLogMsg, State (AccumState w), LogMsg Value,
           Writer (Seq (LogMessage Value))]
         (Either e a))
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; Eff
     '[State CheckpointStore, LogMsg CheckpointLogMsg,
       State (AccumState w), LogMsg Value,
       Writer (Seq (LogMessage Value))]
     (Either e a, CheckpointKey)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; Eff effs (Either e a)
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; Eff effs (Either e a)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">E.runError</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823614"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-416"></span><span>      </span><span id="local-6989586621680823167"><span class="annot"><span class="annottext">flatten :: ((((a, b), c), d), e) -&gt; (a, b, c, d, e)
</span><a href="#local-6989586621680823167"><span class="hs-identifier hs-var hs-var">flatten</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680823165"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823165"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823164"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680823164"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823163"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680823163"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823162"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680823162"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823161"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680823161"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680823165"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680823164"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621680823163"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621680823162"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680823161"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- | Run an action of @ContractEffs@ until it requests input for the first</span><span>
</span><span id="line-419"></span><span class="hs-comment">--   time, returning the 'SuspendedContract'</span><span>
</span><span id="line-420"></span><span class="annot"><a href="Plutus.Contract.Types.html#suspend"><span class="hs-identifier hs-type">suspend</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-421"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823699"><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823698"><span class="annot"><a href="#local-6989586621680823698"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823697"><span class="annot"><a href="#local-6989586621680823697"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-423"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823698"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823697"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- ^ The contract</span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-type">SuspendedContract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823698"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823697"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-426"></span><span id="suspend"><span class="annot"><span class="annottext">suspend :: CheckpointStore
-&gt; Eff (ContractEffs w e) a
-&gt; SuspendedContract w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#suspend"><span class="hs-identifier hs-var hs-var">suspend</span></a></span></span><span> </span><span id="local-6989586621680823160"><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823160"><span class="hs-identifier hs-var">store</span></a></span></span><span> </span><span id="local-6989586621680823159"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823159"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680823158"><span class="annot"><span class="annottext">initialKey :: CheckpointKey
</span><a href="#local-6989586621680823158"><span class="hs-identifier hs-var hs-var">initialKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CheckpointKey
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><span class="annottext">w
-&gt; Seq (LogMessage Value)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
forall w e a.
Monoid w =&gt;
w
-&gt; Seq (LogMessage Value)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#mkResult"><span class="hs-identifier hs-var">mkResult</span></a></span><span> </span><span class="annot"><span class="annottext">w
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><span class="annottext">((Either
    e
    (Maybe
       (MultiRequestContStatus
          PABResp PABReq (SuspendedContractEffects w e) a)),
  CheckpointKey, CheckpointStore, AccumState w,
  Seq (LogMessage Value))
 -&gt; SuspendedContract w e PABResp PABReq a)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
-&gt; CheckpointStore
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
forall w e a.
Monoid w =&gt;
CheckpointKey
-&gt; CheckpointStore
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; (Either e a, CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
</span><a href="Plutus.Contract.Types.html#runSuspContractEffects"><span class="hs-identifier hs-var">runSuspContractEffects</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823698"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-430"></span><span>      </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823158"><span class="hs-identifier hs-var">initialKey</span></a></span><span>
</span><span id="line-431"></span><span>      </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823160"><span class="hs-identifier hs-var">store</span></a></span><span>
</span><span id="line-432"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
forall w e (effs :: [* -&gt; *]) a.
(Member (Error e) effs, Member (State CheckpointStore) effs,
 Member (State CheckpointKey) effs,
 Member (State (AccumState w)) effs,
 Member (LogMsg CheckpointLogMsg) effs, Member (LogMsg Value) effs,
 Monoid w) =&gt;
Eff (ContractEffs w e) a
-&gt; Eff effs (Maybe (MultiRequestContStatus PABResp PABReq effs a))
</span><a href="Plutus.Contract.Types.html#handleContractEffs"><span class="hs-identifier hs-var">handleContractEffs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680823698"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContractEffects"><span class="hs-identifier hs-type">SuspendedContractEffects</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823699"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823698"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823159"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="hs-comment">-- | Feed a 'Response' to a 'SuspendedContract'.</span><span>
</span><span id="line-435"></span><span class="annot"><a href="Plutus.Contract.Types.html#runStep"><span class="hs-identifier hs-type">runStep</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-436"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823692"><span class="annot"><a href="#local-6989586621680823692"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823691"><span class="annot"><a href="#local-6989586621680823691"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823690"><span class="annot"><a href="#local-6989586621680823690"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823692"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-type">SuspendedContract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823692"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823691"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823690"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-type">SuspendedContract</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823692"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823691"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823690"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span id="runStep"><span class="annot"><span class="annottext">runStep :: SuspendedContract w e PABResp PABReq a
-&gt; Response PABResp
-&gt; Maybe (SuspendedContract w e PABResp PABReq a)
</span><a href="Plutus.Contract.Types.html#runStep"><span class="hs-identifier hs-var hs-var">runStep</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#SuspendedContract"><span class="hs-identifier hs-type">SuspendedContract</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">_continuations :: forall w e i o a.
SuspendedContract w e i o a
-&gt; Maybe
     (MultiRequestContStatus i o (SuspendedContractEffects w e) a)
</span><a href="Plutus.Contract.Types.html#_continuations"><span class="hs-identifier hs-var">_continuations</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Resumable.html#AContinuation"><span class="hs-identifier hs-type">AContinuation</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#MultiRequestContinuation"><span class="hs-identifier hs-type">MultiRequestContinuation</span></a></span><span class="hs-special">{</span><span id="local-6989586621680823157"><span class="annot"><span class="annottext">Response PABResp
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
ndcCont :: Response PABResp
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
ndcCont :: forall i o (effs :: [* -&gt; *]) a.
MultiRequestContinuation i o effs a
-&gt; Response i
-&gt; Eff effs (Maybe (MultiRequestContStatus i o effs a))
</span><a href="#local-6989586621680823157"><span class="hs-identifier hs-var hs-var">ndcCont</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823156"><span class="annot"><span class="annottext">CheckpointKey
_checkpointKey :: CheckpointKey
_checkpointKey :: forall w e i o a. SuspendedContract w e i o a -&gt; CheckpointKey
</span><a href="#local-6989586621680823156"><span class="hs-identifier hs-var hs-var">_checkpointKey</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_resumableResult :: forall w e i o a.
SuspendedContract w e i o a -&gt; ResumableResult w e i o a
</span><a href="Plutus.Contract.Types.html#_resumableResult"><span class="hs-identifier hs-var">_resumableResult</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span class="hs-special">{</span><span id="local-6989586621680823155"><span class="annot"><span class="annottext">Responses (CheckpointKey, PABResp)
_responses :: Responses (CheckpointKey, PABResp)
_responses :: forall w e i o a.
ResumableResult w e i o a -&gt; Responses (CheckpointKey, i)
</span><a href="#local-6989586621680823155"><span class="hs-identifier hs-var hs-var">_responses</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680823154"><span class="annot"><span class="annottext">CheckpointStore
_checkpointStore :: CheckpointStore
_checkpointStore :: forall w e i o a. ResumableResult w e i o a -&gt; CheckpointStore
</span><a href="#local-6989586621680823154"><span class="hs-identifier hs-var hs-var">_checkpointStore</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_observableState :: forall w e i o a. ResumableResult w e i o a -&gt; w
</span><a href="Plutus.Contract.Types.html#_observableState"><span class="hs-identifier hs-var">_observableState</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621680823153"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823153"><span class="hs-identifier hs-var">oldW</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_logs :: forall w e i o a.
ResumableResult w e i o a -&gt; Seq (LogMessage Value)
</span><a href="Plutus.Contract.Types.html#_logs"><span class="hs-identifier hs-var">_logs</span></a></span><span class="hs-glyph">=</span><span id="local-6989586621680823152"><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823152"><span class="hs-identifier hs-var">oldLogs</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span id="local-6989586621680823151"><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823151"><span class="hs-identifier hs-var">event</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
-&gt; Maybe (SuspendedContract w e PABResp PABReq a)
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span>
</span><span id="line-443"></span><span>    </span><span class="annot"><span class="annottext">(SuspendedContract w e PABResp PABReq a
 -&gt; Maybe (SuspendedContract w e PABResp PABReq a))
-&gt; SuspendedContract w e PABResp PABReq a
-&gt; Maybe (SuspendedContract w e PABResp PABReq a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ASetter
  (SuspendedContract w e PABResp PABReq a)
  (SuspendedContract w e PABResp PABReq a)
  (Responses (CheckpointKey, PABResp))
  (Responses (CheckpointKey, PABResp))
-&gt; Responses (CheckpointKey, PABResp)
-&gt; SuspendedContract w e PABResp PABReq a
-&gt; SuspendedContract w e PABResp PABReq a
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ResumableResult w e PABResp PABReq a
 -&gt; Identity (ResumableResult w e PABResp PABReq a))
-&gt; SuspendedContract w e PABResp PABReq a
-&gt; Identity (SuspendedContract w e PABResp PABReq a)
forall w e i o a.
Lens' (SuspendedContract w e i o a) (ResumableResult w e i o a)
</span><a href="Plutus.Contract.Types.html#resumableResult"><span class="hs-identifier hs-var">resumableResult</span></a></span><span> </span><span class="annot"><span class="annottext">((ResumableResult w e PABResp PABReq a
  -&gt; Identity (ResumableResult w e PABResp PABReq a))
 -&gt; SuspendedContract w e PABResp PABReq a
 -&gt; Identity (SuspendedContract w e PABResp PABReq a))
-&gt; ((Responses (CheckpointKey, PABResp)
     -&gt; Identity (Responses (CheckpointKey, PABResp)))
    -&gt; ResumableResult w e PABResp PABReq a
    -&gt; Identity (ResumableResult w e PABResp PABReq a))
-&gt; ASetter
     (SuspendedContract w e PABResp PABReq a)
     (SuspendedContract w e PABResp PABReq a)
     (Responses (CheckpointKey, PABResp))
     (Responses (CheckpointKey, PABResp))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Responses (CheckpointKey, PABResp)
 -&gt; Identity (Responses (CheckpointKey, PABResp)))
-&gt; ResumableResult w e PABResp PABReq a
-&gt; Identity (ResumableResult w e PABResp PABReq a)
forall w e i o a i.
Lens
  (ResumableResult w e i o a)
  (ResumableResult w e i o a)
  (Responses (CheckpointKey, i))
  (Responses (CheckpointKey, i))
</span><a href="Plutus.Contract.Types.html#responses"><span class="hs-identifier hs-var">responses</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Response (CheckpointKey, PABResp)
-&gt; Responses (CheckpointKey, PABResp)
-&gt; Responses (CheckpointKey, PABResp)
forall i. Response i -&gt; Responses i -&gt; Responses i
</span><a href="Plutus.Contract.Resumable.html#insertResponse"><span class="hs-identifier hs-var">insertResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PABResp -&gt; (CheckpointKey, PABResp))
-&gt; Response PABResp -&gt; Response (CheckpointKey, PABResp)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823156"><span class="hs-identifier hs-var">_checkpointKey</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823151"><span class="hs-identifier hs-var">event</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Responses (CheckpointKey, PABResp)
</span><a href="#local-6989586621680823155"><span class="hs-identifier hs-var">_responses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>    </span><span class="annot"><span class="annottext">(SuspendedContract w e PABResp PABReq a
 -&gt; SuspendedContract w e PABResp PABReq a)
-&gt; SuspendedContract w e PABResp PABReq a
-&gt; SuspendedContract w e PABResp PABReq a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">w
-&gt; Seq (LogMessage Value)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
forall w e a.
Monoid w =&gt;
w
-&gt; Seq (LogMessage Value)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#mkResult"><span class="hs-identifier hs-var">mkResult</span></a></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621680823153"><span class="hs-identifier hs-var">oldW</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (LogMessage Value)
</span><a href="#local-6989586621680823152"><span class="hs-identifier hs-var">oldLogs</span></a></span><span>
</span><span id="line-445"></span><span>    </span><span class="annot"><span class="annottext">((Either
    e
    (Maybe
       (MultiRequestContStatus
          PABResp PABReq (SuspendedContractEffects w e) a)),
  CheckpointKey, CheckpointStore, AccumState w,
  Seq (LogMessage Value))
 -&gt; SuspendedContract w e PABResp PABReq a)
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
-&gt; SuspendedContract w e PABResp PABReq a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointKey
-&gt; CheckpointStore
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
forall w e a.
Monoid w =&gt;
CheckpointKey
-&gt; CheckpointStore
-&gt; Eff (SuspendedContractEffects w e) a
-&gt; (Either e a, CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
</span><a href="Plutus.Contract.Types.html#runSuspContractEffects"><span class="hs-identifier hs-var">runSuspContractEffects</span></a></span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><span class="annottext">CheckpointKey
</span><a href="#local-6989586621680823156"><span class="hs-identifier hs-var">_checkpointKey</span></a></span><span>
</span><span id="line-447"></span><span>        </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823154"><span class="hs-identifier hs-var">_checkpointStore</span></a></span><span>
</span><span id="line-448"></span><span>        </span><span class="annot"><span class="annottext">(Eff
   (SuspendedContractEffects w e)
   (Maybe
      (MultiRequestContStatus
         PABResp PABReq (SuspendedContractEffects w e) a))
 -&gt; (Either
       e
       (Maybe
          (MultiRequestContStatus
             PABResp PABReq (SuspendedContractEffects w e) a)),
     CheckpointKey, CheckpointStore, AccumState w,
     Seq (LogMessage Value)))
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
-&gt; (Either
      e
      (Maybe
         (MultiRequestContStatus
            PABResp PABReq (SuspendedContractEffects w e) a)),
    CheckpointKey, CheckpointStore, AccumState w,
    Seq (LogMessage Value))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Response PABResp
-&gt; Eff
     (SuspendedContractEffects w e)
     (Maybe
        (MultiRequestContStatus
           PABResp PABReq (SuspendedContractEffects w e) a))
</span><a href="#local-6989586621680823157"><span class="hs-identifier hs-var">ndcCont</span></a></span><span> </span><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823151"><span class="hs-identifier hs-var">event</span></a></span><span>
</span><span id="line-449"></span><span class="annot"><a href="Plutus.Contract.Types.html#runStep"><span class="hs-identifier hs-var">runStep</span></a></span><span> </span><span class="annot"><span class="annottext">SuspendedContract w e PABResp PABReq a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Response PABResp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SuspendedContract w e PABResp PABReq a)
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="annot"><a href="Plutus.Contract.Types.html#insertAndUpdate"><span class="hs-identifier hs-type">insertAndUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680823150"><span class="annot"><a href="#local-6989586621680823150"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621680823149"><span class="annot"><a href="#local-6989586621680823149"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680823148"><span class="annot"><a href="#local-6989586621680823148"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-453"></span><span>  </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823150"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-454"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Types.html#ContractEffs"><span class="hs-identifier hs-type">ContractEffs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823150"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823149"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680823148"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointStore"><span class="hs-identifier hs-type">CheckpointStore</span></a></span><span> </span><span class="hs-comment">-- ^ Checkpoint store</span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Responses"><span class="hs-identifier hs-type">Responses</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Contract.Checkpoint.html#CheckpointKey"><span class="hs-identifier hs-type">CheckpointKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- ^ Previous responses</span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Resumable.html#Response"><span class="hs-identifier hs-type">Response</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Contract.Types.html#ResumableResult"><span class="hs-identifier hs-type">ResumableResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823150"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823149"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABResp"><span class="hs-identifier hs-type">PABResp</span></a></span><span> </span><span class="annot"><a href="Plutus.Contract.Effects.html#PABReq"><span class="hs-identifier hs-type">PABReq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680823148"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-459"></span><span id="insertAndUpdate"><span class="annot"><span class="annottext">insertAndUpdate :: Eff (ContractEffs w e) a
-&gt; CheckpointStore
-&gt; Responses (CheckpointKey, PABResp)
-&gt; Response PABResp
-&gt; ResumableResult w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#insertAndUpdate"><span class="hs-identifier hs-var hs-var">insertAndUpdate</span></a></span></span><span> </span><span id="local-6989586621680823147"><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823147"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621680823146"><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823146"><span class="hs-identifier hs-var">store</span></a></span></span><span> </span><span id="local-6989586621680823145"><span class="annot"><span class="annottext">Responses (CheckpointKey, PABResp)
</span><a href="#local-6989586621680823145"><span class="hs-identifier hs-var">record</span></a></span></span><span> </span><span id="local-6989586621680823144"><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823144"><span class="hs-identifier hs-var">newResponse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-460"></span><span>  </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
-&gt; CheckpointStore
-&gt; Responses PABResp
-&gt; ResumableResult w e PABResp PABReq a
forall w e a.
Monoid w =&gt;
Eff (ContractEffs w e) a
-&gt; CheckpointStore
-&gt; Responses PABResp
-&gt; ResumableResult w e PABResp PABReq a
</span><a href="Plutus.Contract.Types.html#runWithRecord"><span class="hs-identifier hs-var">runWithRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (ContractEffs w e) a
</span><a href="#local-6989586621680823147"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">CheckpointStore
</span><a href="#local-6989586621680823146"><span class="hs-identifier hs-var">store</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Response PABResp -&gt; Responses PABResp -&gt; Responses PABResp
forall i. Response i -&gt; Responses i -&gt; Responses i
</span><a href="Plutus.Contract.Resumable.html#insertResponse"><span class="hs-identifier hs-var">insertResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Response PABResp
</span><a href="#local-6989586621680823144"><span class="hs-identifier hs-var">newResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Responses PABResp -&gt; Responses PABResp)
-&gt; Responses PABResp -&gt; Responses PABResp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((CheckpointKey, PABResp) -&gt; PABResp)
-&gt; Responses (CheckpointKey, PABResp) -&gt; Responses PABResp
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">(CheckpointKey, PABResp) -&gt; PABResp
forall a b. (a, b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">Responses (CheckpointKey, PABResp)
</span><a href="#local-6989586621680823145"><span class="hs-identifier hs-var">record</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-461"></span></pre></body></html>
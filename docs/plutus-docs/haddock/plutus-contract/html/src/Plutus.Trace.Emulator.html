<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts    #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs               #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes          #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell     #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications    #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies        #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators       #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-name-shadowing #-}</span><span>
</span><span id="line-14"></span><span class="hs-comment">{-

An emulator trace is a contract trace that can be run in the Plutus emulator.

-}</span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Trace.Emulator</span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#Emulator"><span class="hs-identifier">Emulator</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier">EmulatorTrace</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorEffects"><span class="hs-identifier">EmulatorEffects</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#BaseEmulatorEffects"><span class="hs-identifier">BaseEmulatorEffects</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorErr"><span class="hs-identifier">Wallet.Emulator.Stream.EmulatorErr</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractHandle"><span class="hs-identifier">Plutus.Trace.Emulator.Types.ContractHandle</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceTag"><span class="hs-identifier">ContractInstanceTag</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractConstraints"><span class="hs-identifier">ContractConstraints</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Constructing Traces</span></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Assert.html#assert"><span class="hs-identifier">Assert.assert</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#activateContract"><span class="hs-identifier">RunContract.activateContract</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#activateContractWallet"><span class="hs-identifier">RunContract.activateContractWallet</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#walletInstanceTag"><span class="hs-identifier">RunContract.walletInstanceTag</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#callEndpoint"><span class="hs-identifier">RunContract.callEndpoint</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#getContractState"><span class="hs-identifier">RunContract.getContractState</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#observableState"><span class="hs-identifier">RunContract.observableState</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#activeEndpoints"><span class="hs-identifier">RunContract.activeEndpoints</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html#liftWallet"><span class="hs-identifier">EmulatedWalletAPI.liftWallet</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html#payToWallet"><span class="hs-identifier">EmulatedWalletAPI.payToWallet</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#nextSlot"><span class="hs-identifier">Waiting.nextSlot</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#waitUntilSlot"><span class="hs-identifier">Waiting.waitUntilSlot</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#waitUntilTime"><span class="hs-identifier">Waiting.waitUntilTime</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#waitNSlots"><span class="hs-identifier">Waiting.waitNSlots</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#waitNMilliSeconds"><span class="hs-identifier">Waiting.waitNMilliSeconds</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#freezeContractInstance"><span class="hs-identifier">EmulatorControl.freezeContractInstance</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#thawContractInstance"><span class="hs-identifier">EmulatorControl.thawContractInstance</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Inspecting the chain state</span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#setSigningProcess"><span class="hs-identifier">EmulatorControl.setSigningProcess</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#chainState"><span class="hs-identifier">EmulatorControl.chainState</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#getSlotConfig"><span class="hs-identifier">EmulatorControl.getSlotConfig</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">ChainState.chainNewestFirst</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">ChainState.txPool</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">ChainState.index</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">ChainState.chainCurrentSlot</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Inspecting the agent states</span></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#agentState"><span class="hs-identifier">EmulatorControl.agentState</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html#ownPaymentPrivateKey"><span class="hs-identifier">Wallet.ownPaymentPrivateKey</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html#nodeClient"><span class="hs-identifier">Wallet.nodeClient</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html#signingProcess"><span class="hs-identifier">Wallet.signingProcess</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Throwing errors</span></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">throwError</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorRuntimeError"><span class="hs-identifier">EmulatorRuntimeError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Running traces</span></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier">EmulatorConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#initialChainState"><span class="hs-identifier">initialChainState</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#params"><span class="hs-identifier">params</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorStream"><span class="hs-identifier">runEmulatorStream</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier">TraceConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#traceConfigShowEventExample"><span class="hs-identifier">traceConfigShowEventExample</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTrace"><span class="hs-identifier">runEmulatorTrace</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#evalEmulatorTrace"><span class="hs-identifier">evalEmulatorTrace</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier">PrintEffect</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceEff"><span class="hs-identifier">runEmulatorTraceEff</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO"><span class="hs-identifier">runEmulatorTraceIO</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO%27"><span class="hs-identifier">runEmulatorTraceIO'</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Interpreter</span></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#interpretEmulatorTrace"><span class="hs-identifier">interpretEmulatorTrace</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Cardano.Node.Emulator.Chain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">ChainControlEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Cardano.Node.Emulator.Chain</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ChainState</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Cardano.Node.Emulator.Params</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Params</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/x2wlc4pzn9czb22sf65hrxm8lv8917aj-foldl-lib-foldl-1.4.13-haddock-doc/share/doc/foldl/html/src"><span class="hs-identifier">Control.Foldl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/x2wlc4pzn9czb22sf65hrxm8lv8917aj-foldl-lib-foldl-1.4.13-haddock-doc/share/doc/foldl/html/src"><span class="hs-identifier">generalize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/x2wlc4pzn9czb22sf65hrxm8lv8917aj-foldl-lib-foldl-1.4.13-haddock-doc/share/doc/foldl/html/src"><span class="hs-identifier">list</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator">(:&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">forM_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">void</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Eff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Member</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">interpret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">interpretM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">raise</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">reinterpret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">run</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">runM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">subsume</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Coroutine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Yield</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Error</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">handleError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">throwError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Info</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMessage</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMsg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">mapLog</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Modify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">raiseEnd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Reader</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">State</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">evalState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.TH</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">makeEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/snd5q6v3qrq7cdxpn9nlwg98vvy50j53-data-default-lib-data-default-0.7.1.1-haddock-doc/share/doc/data-default/html/src"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.CardanoWallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CW</span></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Slot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">getSlot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Assert.html"><span class="hs-identifier">Plutus.Trace.Effects.Assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Effects.Assert.html#Assert"><span class="hs-identifier">Assert</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Assert.html#handleAssert"><span class="hs-identifier">handleAssert</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Assert.html"><span class="hs-identifier">Plutus.Trace.Effects.Assert</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Assert</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.ContractInstanceId.html"><span class="hs-identifier">Plutus.Trace.Effects.ContractInstanceId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Effects.ContractInstanceId.html#ContractInstanceIdEff"><span class="hs-identifier">ContractInstanceIdEff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.ContractInstanceId.html#handleDeterministicIds"><span class="hs-identifier">handleDeterministicIds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html"><span class="hs-identifier">Plutus.Trace.Effects.EmulatedWalletAPI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html#EmulatedWalletAPI"><span class="hs-identifier">EmulatedWalletAPI</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html#handleEmulatedWalletAPI"><span class="hs-identifier">handleEmulatedWalletAPI</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html"><span class="hs-identifier">Plutus.Trace.Effects.EmulatedWalletAPI</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">EmulatedWalletAPI</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html"><span class="hs-identifier">Plutus.Trace.Effects.EmulatorControl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#EmulatorControl"><span class="hs-identifier">EmulatorControl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#handleEmulatorControl"><span class="hs-identifier">handleEmulatorControl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html"><span class="hs-identifier">Plutus.Trace.Effects.EmulatorControl</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">EmulatorControl</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html"><span class="hs-identifier">Plutus.Trace.Effects.RunContract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#RunContract"><span class="hs-identifier">RunContract</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#StartContract"><span class="hs-identifier">StartContract</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#handleRunContract"><span class="hs-identifier">handleRunContract</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#handleStartContract"><span class="hs-identifier">handleStartContract</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html"><span class="hs-identifier">Plutus.Trace.Effects.RunContract</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RunContract</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html"><span class="hs-identifier">Plutus.Trace.Effects.Waiting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#Waiting"><span class="hs-identifier">Waiting</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#handleWaiting"><span class="hs-identifier">handleWaiting</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html"><span class="hs-identifier">Plutus.Trace.Effects.Waiting</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Waiting</span></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.System.html"><span class="hs-identifier">Plutus.Trace.Emulator.System</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.System.html#launchSystemThreads"><span class="hs-identifier">launchSystemThreads</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html"><span class="hs-identifier">Plutus.Trace.Emulator.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractConstraints"><span class="hs-identifier">ContractConstraints</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier">ContractInstanceLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier">ContractInstanceLog</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-113"></span><span>                                    </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceMsg"><span class="hs-identifier">ContractInstanceMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractLog"><span class="hs-identifier">ContractLog</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#CurrentRequests"><span class="hs-identifier">CurrentRequests</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#HandledRequest"><span class="hs-identifier">HandledRequest</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#NoRequestsHandled"><span class="hs-identifier">NoRequestsHandled</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#StoppedWithError"><span class="hs-identifier">StoppedWithError</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>                                    </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceTag"><span class="hs-identifier">ContractInstanceTag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#Emulator"><span class="hs-identifier">Emulator</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorMessage"><span class="hs-identifier">EmulatorMessage</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>                                    </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorRuntimeError"><span class="hs-identifier">EmulatorRuntimeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatedWalletError"><span class="hs-identifier">EmulatedWalletError</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorThreads"><span class="hs-identifier">EmulatorThreads</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>                                    </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#UserThreadMsg"><span class="hs-identifier">UserThreadMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#UserLog"><span class="hs-identifier">UserLog</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html"><span class="hs-identifier">Plutus.Trace.Emulator.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Trace.Scheduler.html"><span class="hs-identifier">Plutus.Trace.Scheduler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Scheduler.html#EmSystemCall"><span class="hs-identifier">EmSystemCall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Scheduler.html#ThreadId"><span class="hs-identifier">ThreadId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Scheduler.html#exit"><span class="hs-identifier">exit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Scheduler.html#runThreads"><span class="hs-identifier">runThreads</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V1.Ledger.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Value</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">flattenValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">defaultLayoutOptions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">layoutPretty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">pretty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter.Render.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">renderString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter.Render.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">renderStrict</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-identifier">Streaming</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-identifier">Stream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-identifier">Streaming.Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-identifier">Of</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-operator">(:&gt;)</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Handle</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">hPutStrLn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">stdout</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html"><span class="hs-identifier">Wallet.Emulator.MultiAgent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent"><span class="hs-identifier">EmulatorEvent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>                                   </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent%27"><span class="hs-identifier">EmulatorEvent'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#InstanceEvent"><span class="hs-identifier">InstanceEvent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#SchedulerEvent"><span class="hs-identifier">SchedulerEvent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#UserThreadEvent"><span class="hs-identifier">UserThreadEvent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#WalletEvent"><span class="hs-identifier">WalletEvent</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>                                   </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorState"><span class="hs-identifier">EmulatorState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#_chainState"><span class="hs-identifier">_chainState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#_walletStates"><span class="hs-identifier">_walletStates</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorTimeEvent"><span class="hs-identifier">EmulatorTimeEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorTimeEvent"><span class="hs-identifier">EmulatorTimeEvent</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>                                   </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#MultiAgentControlEffect"><span class="hs-identifier">MultiAgentControlEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#MultiAgentEffect"><span class="hs-identifier">MultiAgentEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#schedulerEvent"><span class="hs-identifier">schedulerEvent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html"><span class="hs-identifier">Wallet.Emulator.Stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier">EmulatorConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.Stream.html#_initialChainState"><span class="hs-identifier">_initialChainState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#_params"><span class="hs-identifier">_params</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorErr"><span class="hs-identifier">EmulatorErr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#filterLogLevel"><span class="hs-identifier">filterLogLevel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#foldStreamM"><span class="hs-identifier">foldStreamM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>                               </span><span class="annot"><a href="Wallet.Emulator.Stream.html#initialChainState"><span class="hs-identifier">initialChainState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#params"><span class="hs-identifier">params</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#runTraceStream"><span class="hs-identifier">runTraceStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html"><span class="hs-identifier">Wallet.Emulator.Stream</span></a></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html"><span class="hs-identifier">Wallet.Emulator.Wallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.Wallet.html#Entity"><span class="hs-identifier">Entity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html#balances"><span class="hs-identifier">balances</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html"><span class="hs-identifier">Wallet.Emulator.Wallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="Wallet.html"><span class="hs-identifier">Wallet</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | A very simple effect for interpreting the output printing done by the</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- trace printing functions:</span><span>
</span><span id="line-138"></span><span class="hs-comment">--</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- * 'runEmulatorTraceEff'</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- * 'runEmulatorTraceIO'</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- * 'runEmulatorTraceIOWithConfig'</span><span>
</span><span id="line-142"></span><span class="hs-keyword">data</span><span> </span><span id="PrintEffect"><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier hs-var">PrintEffect</span></a></span></span><span> </span><span id="local-6989586621680832697"><span class="annot"><a href="#local-6989586621680832697"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>  </span><span id="PrintLn"><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintLn"><span class="hs-identifier hs-var">PrintLn</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier hs-type">PrintEffect</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span id="printLn"><span id="local-6989586621680832825"><span class="hs-identifier">makeEffect</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">PrintEffect</span></span></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-keyword">type</span><span> </span><span id="EmulatorEffects"><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorEffects"><span class="hs-identifier hs-var">EmulatorEffects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#StartContract"><span class="hs-identifier hs-type">StartContract</span></a></span><span>
</span><span id="line-148"></span><span>                    </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#BaseEmulatorEffects"><span class="hs-identifier hs-type">BaseEmulatorEffects</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-keyword">type</span><span> </span><span id="BaseEmulatorEffects"><span class="annot"><a href="Plutus.Trace.Emulator.html#BaseEmulatorEffects"><span class="hs-identifier hs-var">BaseEmulatorEffects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-151"></span><span>             </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.RunContract.html#RunContract"><span class="hs-identifier hs-type">RunContract</span></a></span><span>
</span><span id="line-152"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Assert.html#Assert"><span class="hs-identifier hs-type">Assert</span></a></span><span>
</span><span id="line-153"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.Waiting.html#Waiting"><span class="hs-identifier hs-type">Waiting</span></a></span><span>
</span><span id="line-154"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatorControl.html#EmulatorControl"><span class="hs-identifier hs-type">EmulatorControl</span></a></span><span>
</span><span id="line-155"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html#EmulatedWalletAPI"><span class="hs-identifier hs-type">EmulatedWalletAPI</span></a></span><span>
</span><span id="line-156"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-157"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorRuntimeError"><span class="hs-identifier hs-type">EmulatorRuntimeError</span></a></span><span>
</span><span id="line-158"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-keyword">type</span><span> </span><span id="EmulatorTrace"><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-var">EmulatorTrace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorEffects"><span class="hs-identifier hs-type">EmulatorEffects</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#handleEmulatorTrace"><span class="hs-identifier hs-type">handleEmulatorTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680832886"><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680832885"><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#MultiAgentEffect"><span class="hs-identifier hs-type">MultiAgentEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#MultiAgentControlEffect"><span class="hs-identifier hs-type">MultiAgentControlEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorThreads"><span class="hs-identifier hs-type">EmulatorThreads</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorState"><span class="hs-identifier hs-type">EmulatorState</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorRuntimeError"><span class="hs-identifier hs-type">EmulatorRuntimeError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent%27"><span class="hs-identifier hs-type">EmulatorEvent'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Effects.ContractInstanceId.html#ContractInstanceIdEff"><span class="hs-identifier hs-type">ContractInstanceIdEff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Scheduler.html#ThreadId"><span class="hs-identifier hs-type">ThreadId</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Yield</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Scheduler.html#EmSystemCall"><span class="hs-identifier hs-type">EmSystemCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorMessage"><span class="hs-identifier hs-type">EmulatorMessage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorMessage"><span class="hs-identifier hs-type">EmulatorMessage</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span id="handleEmulatorTrace"><span class="annot"><span class="annottext">handleEmulatorTrace :: Params
-&gt; EmulatorTrace a
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     ()
</span><a href="Plutus.Trace.Emulator.html#handleEmulatorTrace"><span class="hs-identifier hs-var hs-var">handleEmulatorTrace</span></a></span></span><span> </span><span id="local-6989586621680832693"><span class="annot"><span class="annottext">params :: Params
</span><a href="#local-6989586621680832693"><span class="hs-identifier hs-var">params</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span class="hs-special">{</span><span id="local-6989586621680832691"><span class="annot"><span class="annottext">NetworkId
pNetworkId :: Params -&gt; NetworkId
pNetworkId :: NetworkId
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var hs-var">pNetworkId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832689"><span class="annot"><span class="annottext">SlotConfig
pSlotConfig :: Params -&gt; SlotConfig
pSlotConfig :: SlotConfig
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var hs-var">pSlotConfig</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680832687"><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832687"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-176"></span><span>    </span><span id="local-6989586621680832686"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680832686"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Error EmulatorRuntimeError) effs =&gt;
Eff (Error EmulatorRuntimeError : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
Member eff effs =&gt;
Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">subsume</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorRuntimeError"><span class="hs-identifier hs-type">EmulatorRuntimeError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Error EmulatorRuntimeError
      : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (Error EmulatorRuntimeError
            : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg String
 ~&gt; Eff
      (Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (Error EmulatorRuntimeError
           : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; EmulatorEvent')
-&gt; LogMsg String
   ~&gt; Eff
        (Error EmulatorRuntimeError
           : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UserThreadMsg -&gt; EmulatorEvent'
</span><a href="Wallet.Emulator.MultiAgent.html#UserThreadEvent"><span class="hs-identifier hs-var">UserThreadEvent</span></a></span><span> </span><span class="annot"><span class="annottext">(UserThreadMsg -&gt; EmulatorEvent')
-&gt; (String -&gt; UserThreadMsg) -&gt; String -&gt; EmulatorEvent'
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; UserThreadMsg
</span><a href="Plutus.Trace.Emulator.Types.html#UserLog"><span class="hs-identifier hs-var">UserLog</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (LogMsg String
            : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Error WalletAPIError
      : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; (WalletAPIError
     -&gt; Eff
          (LogMsg String
             : Error EmulatorRuntimeError : Reader ThreadId
             : Yield
                 (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
             : effs)
          a)
 -&gt; Eff
      (LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (WalletAPIError
    -&gt; Eff
         (LogMsg String
            : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (Error WalletAPIError
        : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Error WalletAPIError
     : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
     : Yield
         (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
     : effs)
  a
-&gt; (WalletAPIError
    -&gt; Eff
         (LogMsg String
            : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EmulatorRuntimeError
-&gt; Eff
     (LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(EmulatorRuntimeError
 -&gt; Eff
      (LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (WalletAPIError -&gt; EmulatorRuntimeError)
-&gt; WalletAPIError
-&gt; Eff
     (LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">WalletAPIError -&gt; EmulatorRuntimeError
</span><a href="Plutus.Trace.Emulator.Types.html#EmulatedWalletError"><span class="hs-identifier hs-var">EmulatedWalletError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Error WalletAPIError
      : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (Error WalletAPIError
            : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(EmulatedWalletAPI
 ~&gt; Eff
      (Error WalletAPIError
         : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (EmulatedWalletAPI
        : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (Error WalletAPIError
           : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member MultiAgentEffect effs =&gt;
EmulatedWalletAPI ~&gt; Eff effs
EmulatedWalletAPI
~&gt; Eff
     (Error WalletAPIError
        : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
</span><a href="Plutus.Trace.Effects.EmulatedWalletAPI.html#handleEmulatedWalletAPI"><span class="hs-identifier hs-var">handleEmulatedWalletAPI</span></a></span><span>
</span><span id="line-180"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (EmulatedWalletAPI
      : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (Error WalletAPIError
         : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (EmulatedWalletAPI
            : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (Error WalletAPIError
        : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(EmulatorControl
 ~&gt; Eff
      (EmulatedWalletAPI
         : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (EmulatedWalletAPI
           : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Params
-&gt; EmulatorControl
   ~&gt; Eff
        (EmulatedWalletAPI
           : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (effs :: [* -&gt; *]) (effs2 :: [* -&gt; *]) a.
(Member (State EmulatorThreads) effs,
 Member (State EmulatorState) effs,
 Member (Error EmulatorRuntimeError) effs,
 Member MultiAgentControlEffect effs,
 Member
   (Yield
      (EmSystemCall effs2 EmulatorMessage a) (Maybe EmulatorMessage))
   effs) =&gt;
Params -&gt; EmulatorControl ~&gt; Eff effs
</span><a href="Plutus.Trace.Effects.EmulatorControl.html#handleEmulatorControl"><span class="hs-identifier hs-var">handleEmulatorControl</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680832693"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (EmulatorControl
      : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
      : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (EmulatedWalletAPI
         : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (EmulatorControl
            : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
            : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (EmulatedWalletAPI
        : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Waiting
 ~&gt; Eff
      (EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (Waiting
        : EmulatorControl : EmulatedWalletAPI : LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (EmulatorControl
           : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
           : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotConfig
-&gt; Waiting
   ~&gt; Eff
        (EmulatorControl
           : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
           : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (effs :: [* -&gt; *]) (effs2 :: [* -&gt; *]) a.
Member
  (Yield
     (EmSystemCall effs2 EmulatorMessage a) (Maybe EmulatorMessage))
  effs =&gt;
SlotConfig -&gt; Waiting ~&gt; Eff effs
</span><a href="Plutus.Trace.Effects.Waiting.html#handleWaiting"><span class="hs-identifier hs-var">handleWaiting</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="annottext">SlotConfig
</span><a href="#local-6989586621680832689"><span class="hs-identifier hs-var">pSlotConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Waiting
      : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (Waiting
            : EmulatorControl : EmulatedWalletAPI : LogMsg String
            : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Assert
 ~&gt; Eff
      (Waiting
         : EmulatorControl : EmulatedWalletAPI : LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (Assert
        : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (Waiting
           : EmulatorControl : EmulatedWalletAPI : LogMsg String
           : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Member
   (Yield
      (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage))
   (Waiting
      : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs),
 Member
   (Error EmulatorRuntimeError)
   (Waiting
      : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs),
 Member
   (State EmulatorState)
   (Waiting
      : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)) =&gt;
Assert
~&gt; Eff
     (Waiting
        : EmulatorControl : EmulatedWalletAPI : LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
forall (effs :: [* -&gt; *]) (effs2 :: [* -&gt; *]) a.
(Member
   (Yield
      (EmSystemCall effs2 EmulatorMessage a) (Maybe EmulatorMessage))
   effs,
 Member (Error EmulatorRuntimeError) effs,
 Member (State EmulatorState) effs) =&gt;
Assert ~&gt; Eff effs
</span><a href="Plutus.Trace.Effects.Assert.html#handleAssert"><span class="hs-identifier hs-var">handleAssert</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Assert
      : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (Waiting
         : EmulatorControl : EmulatedWalletAPI : LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (Assert
            : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
            : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (Waiting
        : EmulatorControl : EmulatedWalletAPI : LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(RunContract
 ~&gt; Eff
      (Assert
         : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (RunContract
        : Assert : Waiting : EmulatorControl : EmulatedWalletAPI
        : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (Assert
           : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
           : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Member (State EmulatorThreads) effs,
 Member (Error EmulatorRuntimeError) effs,
 Member
   (Error EmulatorRuntimeError)
   (Assert
      : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs),
 Member
   (LogMsg EmulatorEvent')
   (Assert
      : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs),
 Member
   (State EmulatorThreads)
   (Assert
      : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs),
 Member
   (Reader ThreadId)
   (Assert
      : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs),
 Member
   (Yield
      (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage))
   (Assert
      : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
      : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)) =&gt;
RunContract
~&gt; Eff
     (Assert
        : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
forall (effs :: [* -&gt; *]) (effs2 :: [* -&gt; *]) a.
(Member (State EmulatorThreads) effs2,
 Member (Error EmulatorRuntimeError) effs2,
 Member (Error EmulatorRuntimeError) effs,
 Member (LogMsg EmulatorEvent') effs,
 Member (State EmulatorThreads) effs, Member (Reader ThreadId) effs,
 Member
   (Yield
      (EmSystemCall effs2 EmulatorMessage a) (Maybe EmulatorMessage))
   effs) =&gt;
RunContract ~&gt; Eff effs
</span><a href="Plutus.Trace.Effects.RunContract.html#handleRunContract"><span class="hs-identifier hs-var">handleRunContract</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (RunContract
      : Assert : Waiting : EmulatorControl : EmulatedWalletAPI
      : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (Assert
         : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
         : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; (Eff
      (StartContract
         : RunContract : Assert : Waiting : EmulatorControl
         : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
         : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a
    -&gt; Eff
         (RunContract
            : Assert : Waiting : EmulatorControl : EmulatedWalletAPI
            : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
            : Yield
                (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
            : effs)
         a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (Assert
        : Waiting : EmulatorControl : EmulatedWalletAPI : LogMsg String
        : Error EmulatorRuntimeError : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(StartContract
 ~&gt; Eff
      (RunContract
         : Assert : Waiting : EmulatorControl : EmulatedWalletAPI
         : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs))
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
   ~&gt; Eff
        (RunContract
           : Assert : Waiting : EmulatorControl : EmulatedWalletAPI
           : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NetworkId
-&gt; StartContract
   ~&gt; Eff
        (RunContract
           : Assert : Waiting : EmulatorControl : EmulatedWalletAPI
           : LogMsg String : Error EmulatorRuntimeError : Reader ThreadId
           : Yield
               (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
           : effs)
forall (effs :: [* -&gt; *]) (effs2 :: [* -&gt; *]) a.
(Member (State EmulatorThreads) effs2,
 Member (Error EmulatorRuntimeError) effs2,
 Member MultiAgentEffect effs2,
 Member (LogMsg EmulatorEvent') effs2,
 Member ContractInstanceIdEff effs,
 Member
   (Yield
      (EmSystemCall effs2 EmulatorMessage a) (Maybe EmulatorMessage))
   effs) =&gt;
NetworkId -&gt; StartContract ~&gt; Eff effs
</span><a href="Plutus.Trace.Effects.RunContract.html#handleStartContract"><span class="hs-identifier hs-var">handleStartContract</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832885"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621680832691"><span class="hs-identifier hs-var">pNetworkId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (StartContract
      : RunContract : Assert : Waiting : EmulatorControl
      : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
      : Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   a
 -&gt; Eff
      (Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      a)
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorTrace a
-&gt; Eff
     (StartContract
        : RunContract : Assert : Waiting : EmulatorControl
        : EmulatedWalletAPI : LogMsg String : Error EmulatorRuntimeError
        : Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     a
forall (effs :: [* -&gt; *]) (as :: [* -&gt; *]).
CanWeakenEnd as effs =&gt;
Eff as ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">raiseEnd</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832687"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-186"></span><span>    </span><span class="annot"><span class="annottext">Eff
  (Reader ThreadId
     : Yield
         (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
     : effs)
  (Maybe EmulatorMessage)
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Reader ThreadId
      : Yield
          (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
      : effs)
   (Maybe EmulatorMessage)
 -&gt; Eff
      (Reader ThreadId
         : Yield
             (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
         : effs)
      ())
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     (Maybe EmulatorMessage)
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     (Maybe EmulatorMessage)
forall (effs :: [* -&gt; *]) systemEvent (effs2 :: [* -&gt; *]) a.
Member
  (Yield (EmSystemCall effs systemEvent a) (Maybe systemEvent))
  effs2 =&gt;
a -&gt; Eff effs2 (Maybe systemEvent)
</span><a href="Plutus.Trace.Scheduler.html#exit"><span class="hs-identifier hs-var">exit</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621680832886"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorMessage"><span class="hs-identifier hs-type">EmulatorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680832686"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-- | Run a 'Trace Emulator', streaming the log messages as they arrive</span><span>
</span><span id="line-189"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorStream"><span class="hs-identifier hs-type">runEmulatorStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680832833"><span class="annot"><a href="#local-6989586621680832833"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680832834"><span class="annot"><a href="#local-6989586621680832834"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-190"></span><span>    </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832834"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-identifier hs-type">Stream</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-identifier hs-type">Of</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent"><span class="hs-identifier hs-type">EmulatorEvent</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832833"><span class="hs-identifier hs-type">effs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorErr"><span class="hs-identifier hs-type">EmulatorErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832834"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorState"><span class="hs-identifier hs-type">EmulatorState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span id="runEmulatorStream"><span class="annot"><span class="annottext">runEmulatorStream :: EmulatorConfig
-&gt; EmulatorTrace a
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff effs)
     (Either EmulatorErr a, EmulatorState)
</span><a href="Plutus.Trace.Emulator.html#runEmulatorStream"><span class="hs-identifier hs-var hs-var">runEmulatorStream</span></a></span></span><span> </span><span id="local-6989586621680832683"><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832683"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
-&gt; Eff
     '[State EmulatorState, LogMsg EmulatorEvent', MultiAgentEffect,
       MultiAgentControlEffect, ChainEffect, ChainControlEffect,
       Error EmulatorRuntimeError]
     (Maybe a)
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff effs)
     (Either EmulatorErr a, EmulatorState)
forall (effs :: [* -&gt; *]) a.
EmulatorConfig
-&gt; Eff
     '[State EmulatorState, LogMsg EmulatorEvent', MultiAgentEffect,
       MultiAgentControlEffect, ChainEffect, ChainControlEffect,
       Error EmulatorRuntimeError]
     (Maybe a)
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff effs)
     (Either EmulatorErr a, EmulatorState)
</span><a href="Wallet.Emulator.Stream.html#runTraceStream"><span class="hs-identifier hs-var">runTraceStream</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832683"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   '[State EmulatorState, LogMsg EmulatorEvent', MultiAgentEffect,
     MultiAgentControlEffect, ChainEffect, ChainControlEffect,
     Error EmulatorRuntimeError]
   (Maybe a)
 -&gt; Stream
      (Of (LogMessage EmulatorEvent))
      (Eff effs)
      (Either EmulatorErr a, EmulatorState))
-&gt; (EmulatorTrace a
    -&gt; Eff
         '[State EmulatorState, LogMsg EmulatorEvent', MultiAgentEffect,
           MultiAgentControlEffect, ChainEffect, ChainControlEffect,
           Error EmulatorRuntimeError]
         (Maybe a))
-&gt; EmulatorTrace a
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff effs)
     (Either EmulatorErr a, EmulatorState)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
-&gt; EmulatorTrace a
-&gt; Eff
     '[State EmulatorState, LogMsg EmulatorEvent', MultiAgentEffect,
       MultiAgentControlEffect, ChainEffect, ChainControlEffect,
       Error EmulatorRuntimeError]
     (Maybe a)
forall (effs :: [* -&gt; *]) a.
(Member MultiAgentEffect effs, Member MultiAgentControlEffect effs,
 Member (Error EmulatorRuntimeError) effs,
 Member ChainControlEffect effs,
 Member (LogMsg EmulatorEvent') effs,
 Member (State EmulatorState) effs) =&gt;
EmulatorConfig -&gt; EmulatorTrace a -&gt; Eff effs (Maybe a)
</span><a href="Plutus.Trace.Emulator.html#interpretEmulatorTrace"><span class="hs-identifier hs-var">interpretEmulatorTrace</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832683"><span class="hs-identifier hs-var">conf</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- | Interpret a 'Trace Emulator' action in the multi agent and emulated</span><span>
</span><span id="line-196"></span><span class="hs-comment">--   blockchain effects.</span><span>
</span><span id="line-197"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#interpretEmulatorTrace"><span class="hs-identifier hs-type">interpretEmulatorTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680832945"><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span></span><span> </span><span id="local-6989586621680832944"><span class="annot"><a href="#local-6989586621680832944"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#MultiAgentEffect"><span class="hs-identifier hs-type">MultiAgentEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#MultiAgentControlEffect"><span class="hs-identifier hs-type">MultiAgentControlEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorRuntimeError"><span class="hs-identifier hs-type">EmulatorRuntimeError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">ChainControlEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent%27"><span class="hs-identifier hs-type">EmulatorEvent'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorState"><span class="hs-identifier hs-type">EmulatorState</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832944"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832945"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832944"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span id="interpretEmulatorTrace"><span class="annot"><span class="annottext">interpretEmulatorTrace :: EmulatorConfig -&gt; EmulatorTrace a -&gt; Eff effs (Maybe a)
</span><a href="Plutus.Trace.Emulator.html#interpretEmulatorTrace"><span class="hs-identifier hs-var hs-var">interpretEmulatorTrace</span></a></span></span><span> </span><span id="local-6989586621680832682"><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832682"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621680832681"><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832681"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-comment">-- add a wait action to the beginning to ensure that the</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-comment">-- initial transaction gets validated before the wallets</span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-comment">-- try to spend their funds</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680832680"><span class="annot"><span class="annottext">action' :: EmulatorTrace a
</span><a href="#local-6989586621680832680"><span class="hs-identifier hs-var hs-var">action'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-213"></span><span>          </span><span class="annot"><span class="annottext">Eff EmulatorEffects Slot -&gt; Eff EmulatorEffects ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">Eff EmulatorEffects Slot
forall (effs :: [* -&gt; *]). Member Waiting effs =&gt; Eff effs Slot
</span><a href="Plutus.Trace.Effects.Waiting.html#nextSlot"><span class="hs-identifier hs-var">Waiting.nextSlot</span></a></span><span>
</span><span id="line-214"></span><span>          </span><span id="local-6989586621680832679"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680832679"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832681"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-215"></span><span>          </span><span class="annot"><span class="annottext">Eff EmulatorEffects Slot -&gt; Eff EmulatorEffects ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">Eff EmulatorEffects Slot
forall (effs :: [* -&gt; *]). Member Waiting effs =&gt; Eff effs Slot
</span><a href="Plutus.Trace.Effects.Waiting.html#nextSlot"><span class="hs-identifier hs-var">Waiting.nextSlot</span></a></span><span>
</span><span id="line-216"></span><span>          </span><span class="annot"><span class="annottext">a -&gt; EmulatorTrace a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680832679"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span id="local-6989586621680832678"><span class="annot"><span class="annottext">wallets :: [Wallet]
</span><a href="#local-6989586621680832678"><span class="hs-identifier hs-var hs-var">wallets</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Wallet] -&gt; Maybe [Wallet] -&gt; [Wallet]
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MockWallet -&gt; Wallet
</span><a href="Wallet.Emulator.Wallet.html#toMockWallet"><span class="hs-identifier hs-var">Wallet.toMockWallet</span></a></span><span> </span><span class="annot"><span class="annottext">(MockWallet -&gt; Wallet) -&gt; [MockWallet] -&gt; [Wallet]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[MockWallet]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">CW.knownMockWallets</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (First [Wallet]) EmulatorConfig [Wallet]
-&gt; EmulatorConfig -&gt; Maybe [Wallet]
forall s (m :: * -&gt; *) a.
MonadReader s m =&gt;
Getting (First a) s a -&gt; m (Maybe a)
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(InitialChainState -&gt; Const (First [Wallet]) InitialChainState)
-&gt; EmulatorConfig -&gt; Const (First [Wallet]) EmulatorConfig
Lens' EmulatorConfig InitialChainState
</span><a href="Wallet.Emulator.Stream.html#initialChainState"><span class="hs-identifier hs-var">initialChainState</span></a></span><span> </span><span class="annot"><span class="annottext">((InitialChainState -&gt; Const (First [Wallet]) InitialChainState)
 -&gt; EmulatorConfig -&gt; Const (First [Wallet]) EmulatorConfig)
-&gt; (([Wallet] -&gt; Const (First [Wallet]) [Wallet])
    -&gt; InitialChainState -&gt; Const (First [Wallet]) InitialChainState)
-&gt; Getting (First [Wallet]) EmulatorConfig [Wallet]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Wallet Value -&gt; Const (First [Wallet]) (Map Wallet Value))
-&gt; InitialChainState -&gt; Const (First [Wallet]) InitialChainState
forall a c b. Prism (Either a c) (Either b c) a b
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">_Left</span></a></span><span> </span><span class="annot"><span class="annottext">((Map Wallet Value -&gt; Const (First [Wallet]) (Map Wallet Value))
 -&gt; InitialChainState -&gt; Const (First [Wallet]) InitialChainState)
-&gt; (([Wallet] -&gt; Const (First [Wallet]) [Wallet])
    -&gt; Map Wallet Value -&gt; Const (First [Wallet]) (Map Wallet Value))
-&gt; ([Wallet] -&gt; Const (First [Wallet]) [Wallet])
-&gt; InitialChainState
-&gt; Const (First [Wallet]) InitialChainState
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Wallet Value -&gt; [Wallet])
-&gt; ([Wallet] -&gt; Const (First [Wallet]) [Wallet])
-&gt; Map Wallet Value
-&gt; Const (First [Wallet]) (Map Wallet Value)
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s a.
(Profunctor p, Contravariant f) =&gt;
(s -&gt; a) -&gt; Optic' p f s a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">Map Wallet Value -&gt; [Wallet]
forall k a. Map k a -&gt; [k]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.keys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832682"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><span class="annottext">EmulatorThreads
-&gt; Eff (State EmulatorThreads : effs) (Maybe a)
-&gt; Eff effs (Maybe a)
forall s (effs :: [* -&gt; *]) a.
s -&gt; Eff (State s : effs) a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">evalState</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#EmulatorThreads"><span class="hs-identifier hs-type">EmulatorThreads</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorThreads
forall a. Monoid a =&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-220"></span><span>        </span><span class="annot"><span class="annottext">(Eff (State EmulatorThreads : effs) (Maybe a)
 -&gt; Eff effs (Maybe a))
-&gt; Eff (State EmulatorThreads : effs) (Maybe a)
-&gt; Eff effs (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (ContractInstanceIdEff : State EmulatorThreads : effs) (Maybe a)
-&gt; Eff (State EmulatorThreads : effs) (Maybe a)
forall (effs :: [* -&gt; *]).
Eff (ContractInstanceIdEff : effs) ~&gt; Eff effs
</span><a href="Plutus.Trace.Effects.ContractInstanceId.html#handleDeterministicIds"><span class="hs-identifier hs-var">handleDeterministicIds</span></a></span><span>
</span><span id="line-221"></span><span>        </span><span class="annot"><span class="annottext">(Eff
   (ContractInstanceIdEff : State EmulatorThreads : effs) (Maybe a)
 -&gt; Eff (State EmulatorThreads : effs) (Maybe a))
-&gt; Eff
     (ContractInstanceIdEff : State EmulatorThreads : effs) (Maybe a)
-&gt; Eff (State EmulatorThreads : effs) (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg SchedulerLog
 ~&gt; Eff (ContractInstanceIdEff : State EmulatorThreads : effs))
-&gt; Eff
     (LogMsg SchedulerLog
        : ContractInstanceIdEff : State EmulatorThreads : effs)
   ~&gt; Eff (ContractInstanceIdEff : State EmulatorThreads : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SchedulerLog -&gt; EmulatorEvent')
-&gt; LogMsg SchedulerLog
   ~&gt; Eff (ContractInstanceIdEff : State EmulatorThreads : effs)
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AReview EmulatorEvent' SchedulerLog
-&gt; SchedulerLog -&gt; EmulatorEvent'
forall b (m :: * -&gt; *) t. MonadReader b m =&gt; AReview t b -&gt; m t
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">review</span></a></span><span> </span><span class="annot"><span class="annottext">AReview EmulatorEvent' SchedulerLog
Prism' EmulatorEvent' SchedulerLog
</span><a href="Wallet.Emulator.MultiAgent.html#schedulerEvent"><span class="hs-identifier hs-var">schedulerEvent</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>        </span><span class="annot"><span class="annottext">(Eff
   (LogMsg SchedulerLog
      : ContractInstanceIdEff : State EmulatorThreads : effs)
   (Maybe a)
 -&gt; Eff
      (ContractInstanceIdEff : State EmulatorThreads : effs) (Maybe a))
-&gt; Eff
     (LogMsg SchedulerLog
        : ContractInstanceIdEff : State EmulatorThreads : effs)
     (Maybe a)
-&gt; Eff
     (ContractInstanceIdEff : State EmulatorThreads : effs) (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Reader ThreadId
     : Yield
         (EmSystemCall
            (LogMsg SchedulerLog
               : ContractInstanceIdEff : State EmulatorThreads : effs)
            EmulatorMessage
            a)
         (Maybe EmulatorMessage)
     : LogMsg SchedulerLog : ContractInstanceIdEff
     : State EmulatorThreads : effs)
  ()
-&gt; Eff
     (LogMsg SchedulerLog
        : ContractInstanceIdEff : State EmulatorThreads : effs)
     (Maybe a)
forall a (effs :: [* -&gt; *]) systemEvent.
(Eq systemEvent, Member (LogMsg SchedulerLog) effs) =&gt;
Eff
  (Reader ThreadId
     : Yield (EmSystemCall effs systemEvent a) (Maybe systemEvent)
     : effs)
  ()
-&gt; Eff effs (Maybe a)
</span><a href="Plutus.Trace.Scheduler.html#runThreads"><span class="hs-identifier hs-var">runThreads</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><span class="annottext">(Eff
   (Reader ThreadId
      : Yield
          (EmSystemCall
             (LogMsg SchedulerLog
                : ContractInstanceIdEff : State EmulatorThreads : effs)
             EmulatorMessage
             a)
          (Maybe EmulatorMessage)
      : LogMsg SchedulerLog : ContractInstanceIdEff
      : State EmulatorThreads : effs)
   ()
 -&gt; Eff
      (LogMsg SchedulerLog
         : ContractInstanceIdEff : State EmulatorThreads : effs)
      (Maybe a))
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall
               (LogMsg SchedulerLog
                  : ContractInstanceIdEff : State EmulatorThreads : effs)
               EmulatorMessage
               a)
            (Maybe EmulatorMessage)
        : LogMsg SchedulerLog : ContractInstanceIdEff
        : State EmulatorThreads : effs)
     ()
-&gt; Eff
     (LogMsg SchedulerLog
        : ContractInstanceIdEff : State EmulatorThreads : effs)
     (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-224"></span><span>            </span><span class="annot"><span class="annottext">Eff
  (Yield
     (EmSystemCall
        (LogMsg SchedulerLog
           : ContractInstanceIdEff : State EmulatorThreads : effs)
        EmulatorMessage
        a)
     (Maybe EmulatorMessage)
     : LogMsg SchedulerLog : ContractInstanceIdEff
     : State EmulatorThreads : effs)
  ()
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall
               (LogMsg SchedulerLog
                  : ContractInstanceIdEff : State EmulatorThreads : effs)
               EmulatorMessage
               a)
            (Maybe EmulatorMessage)
        : LogMsg SchedulerLog : ContractInstanceIdEff
        : State EmulatorThreads : effs)
     ()
forall (effs :: [* -&gt; *]) a (e :: * -&gt; *).
Eff effs a -&gt; Eff (e : effs) a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">raise</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Yield
      (EmSystemCall
         (LogMsg SchedulerLog
            : ContractInstanceIdEff : State EmulatorThreads : effs)
         EmulatorMessage
         a)
      (Maybe EmulatorMessage)
      : LogMsg SchedulerLog : ContractInstanceIdEff
      : State EmulatorThreads : effs)
   ()
 -&gt; Eff
      (Reader ThreadId
         : Yield
             (EmSystemCall
                (LogMsg SchedulerLog
                   : ContractInstanceIdEff : State EmulatorThreads : effs)
                EmulatorMessage
                a)
             (Maybe EmulatorMessage)
         : LogMsg SchedulerLog : ContractInstanceIdEff
         : State EmulatorThreads : effs)
      ())
-&gt; Eff
     (Yield
        (EmSystemCall
           (LogMsg SchedulerLog
              : ContractInstanceIdEff : State EmulatorThreads : effs)
           EmulatorMessage
           a)
        (Maybe EmulatorMessage)
        : LogMsg SchedulerLog : ContractInstanceIdEff
        : State EmulatorThreads : effs)
     ()
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall
               (LogMsg SchedulerLog
                  : ContractInstanceIdEff : State EmulatorThreads : effs)
               EmulatorMessage
               a)
            (Maybe EmulatorMessage)
        : LogMsg SchedulerLog : ContractInstanceIdEff
        : State EmulatorThreads : effs)
     ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Wallet]
-&gt; Eff
     (Yield
        (EmSystemCall
           (LogMsg SchedulerLog
              : ContractInstanceIdEff : State EmulatorThreads : effs)
           EmulatorMessage
           a)
        (Maybe EmulatorMessage)
        : LogMsg SchedulerLog : ContractInstanceIdEff
        : State EmulatorThreads : effs)
     ()
forall (effs :: [* -&gt; *]) a.
(Member ChainControlEffect effs, Member MultiAgentEffect effs,
 Member MultiAgentControlEffect effs) =&gt;
[Wallet]
-&gt; Eff
     (Yield
        (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     ()
</span><a href="Plutus.Trace.Emulator.System.html#launchSystemThreads"><span class="hs-identifier hs-var">launchSystemThreads</span></a></span><span> </span><span class="annot"><span class="annottext">[Wallet]
</span><a href="#local-6989586621680832678"><span class="hs-identifier hs-var">wallets</span></a></span><span>
</span><span id="line-225"></span><span>            </span><span class="annot"><span class="annottext">Params
-&gt; EmulatorTrace a
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall
               (LogMsg SchedulerLog
                  : ContractInstanceIdEff : State EmulatorThreads : effs)
               EmulatorMessage
               a)
            (Maybe EmulatorMessage)
        : LogMsg SchedulerLog : ContractInstanceIdEff
        : State EmulatorThreads : effs)
     ()
forall (effs :: [* -&gt; *]) a.
(Member MultiAgentEffect effs, Member MultiAgentControlEffect effs,
 Member (State EmulatorThreads) effs,
 Member (State EmulatorState) effs,
 Member (Error EmulatorRuntimeError) effs,
 Member (LogMsg EmulatorEvent') effs,
 Member ContractInstanceIdEff effs) =&gt;
Params
-&gt; EmulatorTrace a
-&gt; Eff
     (Reader ThreadId
        : Yield
            (EmSystemCall effs EmulatorMessage a) (Maybe EmulatorMessage)
        : effs)
     ()
</span><a href="Plutus.Trace.Emulator.html#handleEmulatorTrace"><span class="hs-identifier hs-var">handleEmulatorTrace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EmulatorConfig -&gt; Params
</span><a href="Wallet.Emulator.Stream.html#_params"><span class="hs-identifier hs-var hs-var">_params</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832682"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832680"><span class="hs-identifier hs-var">action'</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">-- | Options for how to set up and print the trace.</span><span>
</span><span id="line-228"></span><span class="hs-keyword">data</span><span> </span><span id="TraceConfig"><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-var">TraceConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TraceConfig"><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-var">TraceConfig</span></a></span></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="traceConfigShowEvent"><span class="annot"><span class="annottext">TraceConfig -&gt; LogMessage EmulatorEvent -&gt; Maybe String
</span><a href="Plutus.Trace.Emulator.html#traceConfigShowEvent"><span class="hs-identifier hs-var hs-var">traceConfigShowEvent</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent"><span class="hs-identifier hs-type">EmulatorEvent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-comment">-- ^ Function to decide how to print the particular events.</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="traceConfigOutputHandle"><span class="annot"><span class="annottext">TraceConfig -&gt; Handle
</span><a href="Plutus.Trace.Emulator.html#traceConfigOutputHandle"><span class="hs-identifier hs-var hs-var">traceConfigOutputHandle</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-comment">-- ^ Where to print the outputs to. Default: 'System.IO.stdout'</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="traceConfigMinLogLevel"><span class="annot"><span class="annottext">TraceConfig -&gt; LogLevel
</span><a href="Plutus.Trace.Emulator.html#traceConfigMinLogLevel"><span class="hs-identifier hs-var hs-var">traceConfigMinLogLevel</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogLevel</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621680832663"><span class="annot"><span class="annottext">def :: TraceConfig
</span><a href="#local-6989586621680832663"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceConfig :: (LogMessage EmulatorEvent -&gt; Maybe String)
-&gt; Handle -&gt; LogLevel -&gt; TraceConfig
</span><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span>
</span><span id="line-238"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">traceConfigShowEvent :: LogMessage EmulatorEvent -&gt; Maybe String
</span><a href="Plutus.Trace.Emulator.html#traceConfigShowEvent"><span class="hs-identifier hs-var">traceConfigShowEvent</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span>
</span><span id="line-239"></span><span>                             </span><span class="annot"><span class="annottext">(String -&gt; Maybe String)
-&gt; (LogMessage EmulatorEvent -&gt; String)
-&gt; LogMessage EmulatorEvent
-&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span>
</span><span id="line-240"></span><span>                             </span><span class="annot"><span class="annottext">(Text -&gt; String)
-&gt; (LogMessage EmulatorEvent -&gt; Text)
-&gt; LogMessage EmulatorEvent
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream Any -&gt; Text
forall ann. SimpleDocStream ann -&gt; Text
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">renderStrict</span></a></span><span>
</span><span id="line-241"></span><span>                             </span><span class="annot"><span class="annottext">(SimpleDocStream Any -&gt; Text)
-&gt; (LogMessage EmulatorEvent -&gt; SimpleDocStream Any)
-&gt; LogMessage EmulatorEvent
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions -&gt; Doc Any -&gt; SimpleDocStream Any
forall ann. LayoutOptions -&gt; Doc ann -&gt; SimpleDocStream ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">layoutPretty</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">defaultLayoutOptions</span></a></span><span>
</span><span id="line-242"></span><span>                             </span><span class="annot"><span class="annottext">(Doc Any -&gt; SimpleDocStream Any)
-&gt; (LogMessage EmulatorEvent -&gt; Doc Any)
-&gt; LogMessage EmulatorEvent
-&gt; SimpleDocStream Any
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage EmulatorEvent -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span>
</span><span id="line-243"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">traceConfigOutputHandle :: Handle
</span><a href="Plutus.Trace.Emulator.html#traceConfigOutputHandle"><span class="hs-identifier hs-var">traceConfigOutputHandle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">stdout</span></a></span><span>
</span><span id="line-244"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">traceConfigMinLogLevel :: LogLevel
</span><a href="Plutus.Trace.Emulator.html#traceConfigMinLogLevel"><span class="hs-identifier hs-var">traceConfigMinLogLevel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">Info</span></a></span><span>
</span><span id="line-245"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-comment">-- | Some example of how to configure the 'traceConfigShowEvent'.</span><span>
</span><span id="line-248"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#traceConfigShowEventExample"><span class="hs-identifier hs-type">traceConfigShowEventExample</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent"><span class="hs-identifier hs-type">EmulatorEvent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-249"></span><span id="traceConfigShowEventExample"><span class="annot"><span class="annottext">traceConfigShowEventExample :: LogMessage EmulatorEvent -&gt; Maybe String
</span><a href="Plutus.Trace.Emulator.html#traceConfigShowEventExample"><span class="hs-identifier hs-var hs-var">traceConfigShowEventExample</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span id="local-6989586621680832661"><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621680832661"><span class="hs-identifier hs-var">_minLogLevel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorTimeEvent"><span class="hs-identifier hs-type">EmulatorTimeEvent</span></a></span><span> </span><span id="local-6989586621680832660"><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680832660"><span class="hs-identifier hs-var">slot</span></a></span></span><span> </span><span id="local-6989586621680832659"><span class="annot"><span class="annottext">EmulatorEvent'
</span><a href="#local-6989586621680832659"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680832658"><span class="annot"><span class="annottext">logMsgMaybe :: Maybe String
</span><a href="#local-6989586621680832658"><span class="hs-identifier hs-var hs-var">logMsgMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EmulatorEvent'
</span><a href="#local-6989586621680832659"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-251"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#UserThreadEvent"><span class="hs-identifier hs-type">UserThreadEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#UserLog"><span class="hs-identifier hs-type">UserLog</span></a></span><span> </span><span id="local-6989586621680832657"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832657"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*** USER LOG: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832657"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-253"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#InstanceEvent"><span class="hs-identifier hs-type">InstanceEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier hs-type">ContractInstanceLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractLog"><span class="hs-identifier hs-type">ContractLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">A.String</span></a></span><span> </span><span id="local-6989586621680832655"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680832655"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ContractInstanceId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ContractInstanceTag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-254"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*** CONTRACT LOG: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680832655"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-255"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#InstanceEvent"><span class="hs-identifier hs-type">InstanceEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier hs-type">ContractInstanceLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#StoppedWithError"><span class="hs-identifier hs-type">StoppedWithError</span></a></span><span> </span><span id="local-6989586621680832653"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832653"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="annot"><span class="annottext">ContractInstanceId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ContractInstanceTag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*** CONTRACT STOPPED WITH ERROR: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832653"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-257"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#InstanceEvent"><span class="hs-identifier hs-type">InstanceEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier hs-type">ContractInstanceLog</span></a></span><span> </span><span class="annot"><span class="annottext">ContractInstanceMsg
</span><a href="Plutus.Trace.Emulator.Types.html#NoRequestsHandled"><span class="hs-identifier hs-var">NoRequestsHandled</span></a></span><span>            </span><span class="annot"><span class="annottext">ContractInstanceId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ContractInstanceTag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-258"></span><span>              </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-259"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#InstanceEvent"><span class="hs-identifier hs-type">InstanceEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier hs-type">ContractInstanceLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#HandledRequest"><span class="hs-identifier hs-type">HandledRequest</span></a></span><span> </span><span class="annot"><span class="annottext">Response Value
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="annot"><span class="annottext">ContractInstanceId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ContractInstanceTag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-260"></span><span>              </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-261"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#InstanceEvent"><span class="hs-identifier hs-type">InstanceEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#ContractInstanceLog"><span class="hs-identifier hs-type">ContractInstanceLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.Trace.Emulator.Types.html#CurrentRequests"><span class="hs-identifier hs-type">CurrentRequests</span></a></span><span> </span><span class="annot"><span class="annottext">[Request Value]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>          </span><span class="annot"><span class="annottext">ContractInstanceId
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ContractInstanceTag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>              </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-263"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#SchedulerEvent"><span class="hs-identifier hs-type">SchedulerEvent</span></a></span><span> </span><span class="annot"><span class="annottext">SchedulerLog
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-264"></span><span>              </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-265"></span><span>          </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#WalletEvent"><span class="hs-identifier hs-type">WalletEvent</span></a></span><span> </span><span class="annot"><span class="annottext">Wallet
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">WalletEvent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-266"></span><span>              </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-267"></span><span>          </span><span id="local-6989586621680832652"><span class="annot"><span class="annottext">EmulatorEvent'
</span><a href="#local-6989586621680832652"><span class="hs-identifier hs-var">ev</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-268"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String)
-&gt; (EmulatorEvent' -&gt; String) -&gt; EmulatorEvent' -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleDocStream Any -&gt; String
forall ann. SimpleDocStream ann -&gt; String
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">renderString</span></a></span><span> </span><span class="annot"><span class="annottext">(SimpleDocStream Any -&gt; String)
-&gt; (EmulatorEvent' -&gt; SimpleDocStream Any)
-&gt; EmulatorEvent'
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions -&gt; Doc Any -&gt; SimpleDocStream Any
forall ann. LayoutOptions -&gt; Doc ann -&gt; SimpleDocStream ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">layoutPretty</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutOptions
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">defaultLayoutOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc Any -&gt; SimpleDocStream Any)
-&gt; (EmulatorEvent' -&gt; Doc Any)
-&gt; EmulatorEvent'
-&gt; SimpleDocStream Any
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorEvent' -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">(EmulatorEvent' -&gt; Maybe String) -&gt; EmulatorEvent' -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorEvent'
</span><a href="#local-6989586621680832652"><span class="hs-identifier hs-var">ev</span></a></span><span>
</span><span id="line-269"></span><span>        </span><span id="local-6989586621680832651"><span class="annot"><span class="annottext">paddedSlotNo :: String
</span><a href="#local-6989586621680832651"><span class="hs-identifier hs-var hs-var">paddedSlotNo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer -&gt; String
</span><a href="#local-6989586621680832650"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Slot -&gt; Integer
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var hs-var">getSlot</span></a></span><span> </span><span class="annot"><span class="annottext">Slot
</span><a href="#local-6989586621680832660"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; Maybe String -&gt; Maybe String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680832649"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832649"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Slot &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832651"><span class="hs-identifier hs-var">paddedSlotNo</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832649"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621680832658"><span class="hs-identifier hs-var">logMsgMaybe</span></a></span><span>
</span><span id="line-271"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><a href="#local-6989586621680832650"><span class="hs-identifier hs-type">pad</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621680832650"><span class="annot"><span class="annottext">pad :: Int -&gt; Integer -&gt; String
</span><a href="#local-6989586621680832650"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span id="local-6989586621680832648"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680832648"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680832647"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832647"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680832648"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832647"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'0'</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832647"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (Integer -&gt; String) -&gt; Integer -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span id="local-6989586621680832644"><span class="annot"><a href="Plutus.Trace.Emulator.html#evalEmulatorTrace"><span class="hs-identifier hs-type">evalEmulatorTrace</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832644"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorErr"><span class="hs-identifier hs-type">EmulatorErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832644"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-280"></span><span id="evalEmulatorTrace"><span class="annot"><span class="annottext">evalEmulatorTrace :: TraceConfig
-&gt; EmulatorConfig -&gt; EmulatorTrace a -&gt; Either EmulatorErr a
</span><a href="Plutus.Trace.Emulator.html#evalEmulatorTrace"><span class="hs-identifier hs-var hs-var">evalEmulatorTrace</span></a></span></span><span> </span><span id="local-6989586621680832643"><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832643"><span class="hs-identifier hs-var">tcfg</span></a></span></span><span> </span><span id="local-6989586621680832642"><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832642"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621680832641"><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832641"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TraceConfig
-&gt; EmulatorConfig
-&gt; EmulatorTrace a
-&gt; ([LogMessage EmulatorEvent], Either EmulatorErr a,
    EmulatorState)
forall a.
TraceConfig
-&gt; EmulatorConfig
-&gt; EmulatorTrace a
-&gt; ([LogMessage EmulatorEvent], Either EmulatorErr a,
    EmulatorState)
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTrace"><span class="hs-identifier hs-var">runEmulatorTrace</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832643"><span class="hs-identifier hs-var">tcfg</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832642"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832641"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LogMessage EmulatorEvent]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832640"><span class="annot"><span class="annottext">Either EmulatorErr a
</span><a href="#local-6989586621680832640"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EmulatorState
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either EmulatorErr a
</span><a href="#local-6989586621680832640"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | Run an emulator trace to completion, returning a tuple of the final state</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- of the emulator, the events, and any error, if any.</span><span>
</span><span id="line-285"></span><span id="local-6989586621680832849"><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTrace"><span class="hs-identifier hs-type">runEmulatorTrace</span></a></span><span>
</span><span id="line-286"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832849"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMessage</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorEvent"><span class="hs-identifier hs-type">EmulatorEvent</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorErr"><span class="hs-identifier hs-type">EmulatorErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832849"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Wallet.Emulator.MultiAgent.html#EmulatorState"><span class="hs-identifier hs-type">EmulatorState</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-290"></span><span id="runEmulatorTrace"><span class="annot"><span class="annottext">runEmulatorTrace :: TraceConfig
-&gt; EmulatorConfig
-&gt; EmulatorTrace a
-&gt; ([LogMessage EmulatorEvent], Either EmulatorErr a,
    EmulatorState)
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTrace"><span class="hs-identifier hs-var hs-var">runEmulatorTrace</span></a></span></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680832639"><span class="annot"><span class="annottext">LogLevel
traceConfigMinLogLevel :: LogLevel
traceConfigMinLogLevel :: TraceConfig -&gt; LogLevel
</span><a href="#local-6989586621680832639"><span class="hs-identifier hs-var hs-var">traceConfigMinLogLevel</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span id="local-6989586621680832638"><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832638"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621680832637"><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832637"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680832636"><span class="annot"><span class="annottext">[LogMessage EmulatorEvent]
</span><a href="#local-6989586621680832636"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/2v7aw0qgl2v0lwasqg0zsrzfb9jxmbfn-streaming-lib-streaming-0.2.3.1-haddock-doc/share/doc/streaming/html/src"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680832635"><span class="annot"><span class="annottext">Either EmulatorErr a
</span><a href="#local-6989586621680832635"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832634"><span class="annot"><span class="annottext">EmulatorState
</span><a href="#local-6989586621680832634"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LogMessage EmulatorEvent]
</span><a href="#local-6989586621680832636"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Either EmulatorErr a
</span><a href="#local-6989586621680832635"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">EmulatorState
</span><a href="#local-6989586621680832634"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><span class="annottext">(Of
   [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState)
 -&gt; ([LogMessage EmulatorEvent], Either EmulatorErr a,
     EmulatorState))
-&gt; Of
     [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState)
-&gt; ([LogMessage EmulatorEvent], Either EmulatorErr a,
    EmulatorState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  '[]
  (Of
     [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState))
-&gt; Of
     [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState)
forall a. Eff '[] a -&gt; a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">run</span></a></span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><span class="annottext">(Eff
   '[]
   (Of
      [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState))
 -&gt; Of
      [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState))
-&gt; Eff
     '[]
     (Of
        [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState))
-&gt; Of
     [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FoldM
  (Eff '[]) (LogMessage EmulatorEvent) [LogMessage EmulatorEvent]
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
-&gt; Eff
     '[]
     (Of
        [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState))
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
FoldM m a b -&gt; Stream (Of a) m c -&gt; m (Of b c)
</span><a href="Wallet.Emulator.Stream.html#foldStreamM"><span class="hs-identifier hs-var">foldStreamM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fold (LogMessage EmulatorEvent) [LogMessage EmulatorEvent]
-&gt; FoldM
     (Eff '[]) (LogMessage EmulatorEvent) [LogMessage EmulatorEvent]
forall (m :: * -&gt; *) a b. Monad m =&gt; Fold a b -&gt; FoldM m a b
</span><a href="../file:///nix/store/x2wlc4pzn9czb22sf65hrxm8lv8917aj-foldl-lib-foldl-1.4.13-haddock-doc/share/doc/foldl/html/src"><span class="hs-identifier hs-var">generalize</span></a></span><span> </span><span class="annot"><span class="annottext">Fold (LogMessage EmulatorEvent) [LogMessage EmulatorEvent]
forall a. Fold a [a]
</span><a href="../file:///nix/store/x2wlc4pzn9czb22sf65hrxm8lv8917aj-foldl-lib-foldl-1.4.13-haddock-doc/share/doc/foldl/html/src"><span class="hs-identifier hs-var">list</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><span class="annottext">(Stream
   (Of (LogMessage EmulatorEvent))
   (Eff '[])
   (Either EmulatorErr a, EmulatorState)
 -&gt; Eff
      '[]
      (Of
         [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState)))
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
-&gt; Eff
     '[]
     (Of
        [LogMessage EmulatorEvent] (Either EmulatorErr a, EmulatorState))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
forall (effs :: [* -&gt; *]) a.
LogLevel
-&gt; Stream (Of (LogMessage EmulatorEvent)) (Eff effs) a
-&gt; Stream (Of (LogMessage EmulatorEvent)) (Eff effs) a
</span><a href="Wallet.Emulator.Stream.html#filterLogLevel"><span class="hs-identifier hs-var">filterLogLevel</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="#local-6989586621680832639"><span class="hs-identifier hs-var">traceConfigMinLogLevel</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><span class="annottext">(Stream
   (Of (LogMessage EmulatorEvent))
   (Eff '[])
   (Either EmulatorErr a, EmulatorState)
 -&gt; Stream
      (Of (LogMessage EmulatorEvent))
      (Eff '[])
      (Either EmulatorErr a, EmulatorState))
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
-&gt; EmulatorTrace a
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff '[])
     (Either EmulatorErr a, EmulatorState)
forall (effs :: [* -&gt; *]) a.
EmulatorConfig
-&gt; EmulatorTrace a
-&gt; Stream
     (Of (LogMessage EmulatorEvent))
     (Eff effs)
     (Either EmulatorErr a, EmulatorState)
</span><a href="Plutus.Trace.Emulator.html#runEmulatorStream"><span class="hs-identifier hs-var">runEmulatorStream</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832638"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorTrace a
</span><a href="#local-6989586621680832637"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">-- | Run the emulator trace returning an effect that can be evaluated by</span><span>
</span><span id="line-298"></span><span class="hs-comment">-- interpreting the 'PrintEffect's.</span><span>
</span><span id="line-299"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceEff"><span class="hs-identifier hs-type">runEmulatorTraceEff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680832818"><span class="annot"><a href="#local-6989586621680832818"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier hs-type">PrintEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832818"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832818"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span id="runEmulatorTraceEff"><span class="annot"><span class="annottext">runEmulatorTraceEff :: TraceConfig
-&gt; EmulatorConfig -&gt; Eff EmulatorEffects () -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceEff"><span class="hs-identifier hs-var hs-var">runEmulatorTraceEff</span></a></span></span><span> </span><span id="local-6989586621680832633"><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832633"><span class="hs-identifier hs-var">tcfg</span></a></span></span><span> </span><span id="local-6989586621680832632"><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832632"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621680832631"><span class="annot"><span class="annottext">Eff EmulatorEffects ()
</span><a href="#local-6989586621680832631"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680832630"><span class="annot"><span class="annottext">[LogMessage EmulatorEvent]
</span><a href="#local-6989586621680832630"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832629"><span class="annot"><span class="annottext">Either EmulatorErr ()
</span><a href="#local-6989586621680832629"><span class="hs-identifier hs-var">me</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832628"><span class="annot"><span class="annottext">EmulatorState
</span><a href="#local-6989586621680832628"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceConfig
-&gt; EmulatorConfig
-&gt; Eff EmulatorEffects ()
-&gt; ([LogMessage EmulatorEvent], Either EmulatorErr (),
    EmulatorState)
forall a.
TraceConfig
-&gt; EmulatorConfig
-&gt; EmulatorTrace a
-&gt; ([LogMessage EmulatorEvent], Either EmulatorErr a,
    EmulatorState)
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTrace"><span class="hs-identifier hs-var">runEmulatorTrace</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832633"><span class="hs-identifier hs-var">tcfg</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832632"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Eff EmulatorEffects ()
</span><a href="#local-6989586621680832631"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-306"></span><span>      </span><span id="local-6989586621680832627"><span class="annot"><span class="annottext">balances' :: Map Entity Value
</span><a href="#local-6989586621680832627"><span class="hs-identifier hs-var hs-var">balances'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChainState -&gt; WalletSet -&gt; Map Entity Value
</span><a href="Wallet.Emulator.Wallet.html#balances"><span class="hs-identifier hs-var">balances</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EmulatorState -&gt; ChainState
</span><a href="Wallet.Emulator.MultiAgent.html#_chainState"><span class="hs-identifier hs-var hs-var">_chainState</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorState
</span><a href="#local-6989586621680832628"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EmulatorState -&gt; WalletSet
</span><a href="Wallet.Emulator.MultiAgent.html#_walletStates"><span class="hs-identifier hs-var hs-var">_walletStates</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorState
</span><a href="#local-6989586621680832628"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either EmulatorErr ()
</span><a href="#local-6989586621680832629"><span class="hs-identifier hs-var">me</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-309"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Eff effs ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680832626"><span class="annot"><span class="annottext">EmulatorErr
</span><a href="#local-6989586621680832626"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Eff effs ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
String -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printLn"><span class="hs-identifier hs-var">printLn</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Eff effs ()) -&gt; String -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ERROR: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorErr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorErr
</span><a href="#local-6989586621680832626"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span>      </span><span class="annot"><span class="annottext">[LogMessage EmulatorEvent]
-&gt; (LogMessage EmulatorEvent -&gt; Eff effs ()) -&gt; Eff effs ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">[LogMessage EmulatorEvent]
</span><a href="#local-6989586621680832630"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">((LogMessage EmulatorEvent -&gt; Eff effs ()) -&gt; Eff effs ())
-&gt; (LogMessage EmulatorEvent -&gt; Eff effs ()) -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680832625"><span class="annot"><span class="annottext">LogMessage EmulatorEvent
</span><a href="#local-6989586621680832625"><span class="hs-identifier hs-var">ete</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TraceConfig -&gt; LogMessage EmulatorEvent -&gt; Maybe String
</span><a href="Plutus.Trace.Emulator.html#traceConfigShowEvent"><span class="hs-identifier hs-var hs-var">traceConfigShowEvent</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832633"><span class="hs-identifier hs-var">tcfg</span></a></span><span> </span><span class="annot"><span class="annottext">LogMessage EmulatorEvent
</span><a href="#local-6989586621680832625"><span class="hs-identifier hs-var">ete</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-314"></span><span>          </span><span class="annot"><span class="annottext">Maybe String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Eff effs ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>          </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680832624"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832624"><span class="hs-identifier hs-var">s</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Eff effs ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
String -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printLn"><span class="hs-identifier hs-var">printLn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832624"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; Eff effs ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
String -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printLn"><span class="hs-identifier hs-var">printLn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Final balances&quot;</span></span><span>
</span><span id="line-318"></span><span>      </span><span class="annot"><span class="annottext">Map Entity Value -&gt; Eff effs ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
Map Entity Value -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printBalances"><span class="hs-identifier hs-var">printBalances</span></a></span><span> </span><span class="annot"><span class="annottext">Map Entity Value
</span><a href="#local-6989586621680832627"><span class="hs-identifier hs-var">balances'</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-comment">-- | Runs the trace with 'runEmulatorTrace', with default configuration that</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- prints a selection of events to stdout.</span><span>
</span><span id="line-322"></span><span class="hs-comment">--</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-324"></span><span class="hs-comment">--</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- &gt;&gt;&gt; runEmulatorTraceIO (void $ Trace.waitNSlots 1)</span><span>
</span><span id="line-326"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO"><span class="hs-identifier hs-type">runEmulatorTraceIO</span></a></span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span id="runEmulatorTraceIO"><span class="annot"><span class="annottext">runEmulatorTraceIO :: Eff EmulatorEffects () -&gt; IO ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO"><span class="hs-identifier hs-var hs-var">runEmulatorTraceIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceConfig -&gt; EmulatorConfig -&gt; Eff EmulatorEffects () -&gt; IO ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO%27"><span class="hs-identifier hs-var">runEmulatorTraceIO'</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
forall a. Default a =&gt; a
</span><a href="../file:///nix/store/ibwdmf5kswrsjw9gmzksnspzzk6vivp5-data-default-class-lib-data-default-class-0.1.2.0-haddock-doc/share/doc/data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | Runs the trace with a given configuration for the trace and the config.</span><span>
</span><span id="line-332"></span><span class="hs-comment">--</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- Example of running a trace and saving the output to a file:</span><span>
</span><span id="line-334"></span><span class="hs-comment">--</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- &gt;&gt;&gt; withFile &quot;/tmp/trace-log.txt&quot; WriteMode $ \h -&gt; runEmulatorTraceIO' (def { traceConfigOutputHandle = h }) def (void $ Trace.waitNSlots 1)</span><span>
</span><span id="line-336"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIOWithConfig"><span class="hs-identifier hs-type">runEmulatorTraceIOWithConfig</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span id="runEmulatorTraceIOWithConfig"><span class="annot"><span class="annottext">runEmulatorTraceIOWithConfig :: TraceConfig -&gt; EmulatorConfig -&gt; Eff EmulatorEffects () -&gt; IO ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIOWithConfig"><span class="hs-identifier hs-var hs-var">runEmulatorTraceIOWithConfig</span></a></span></span><span> </span><span id="local-6989586621680832621"><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832621"><span class="hs-identifier hs-var">tcfg</span></a></span></span><span> </span><span id="local-6989586621680832620"><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832620"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621680832619"><span class="annot"><span class="annottext">Eff EmulatorEffects ()
</span><a href="#local-6989586621680832619"><span class="hs-identifier hs-var">trace</span></a></span></span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; Eff '[PrintEffect, IO] () -&gt; IO ()
forall r. Handle -&gt; Eff '[PrintEffect, IO] r -&gt; IO r
</span><a href="Plutus.Trace.Emulator.html#runPrintEffectIO"><span class="hs-identifier hs-var">runPrintEffectIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TraceConfig -&gt; Handle
</span><a href="Plutus.Trace.Emulator.html#traceConfigOutputHandle"><span class="hs-identifier hs-var hs-var">traceConfigOutputHandle</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832621"><span class="hs-identifier hs-var">tcfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Eff '[PrintEffect, IO] () -&gt; IO ())
-&gt; Eff '[PrintEffect, IO] () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
-&gt; EmulatorConfig
-&gt; Eff EmulatorEffects ()
-&gt; Eff '[PrintEffect, IO] ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
TraceConfig
-&gt; EmulatorConfig -&gt; Eff EmulatorEffects () -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceEff"><span class="hs-identifier hs-var">runEmulatorTraceEff</span></a></span><span> </span><span class="annot"><span class="annottext">TraceConfig
</span><a href="#local-6989586621680832621"><span class="hs-identifier hs-var">tcfg</span></a></span><span> </span><span class="annot"><span class="annottext">EmulatorConfig
</span><a href="#local-6989586621680832620"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Eff EmulatorEffects ()
</span><a href="#local-6989586621680832619"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">runEmulatorTraceIO'</span><span> </span><span class="hs-pragma">&quot;Renamed to runEmulatorTraceIOWithConfig&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-345"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO%27"><span class="hs-identifier hs-type">runEmulatorTraceIO'</span></a></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#TraceConfig"><span class="hs-identifier hs-type">TraceConfig</span></a></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Wallet.Emulator.Stream.html#EmulatorConfig"><span class="hs-identifier hs-type">EmulatorConfig</span></a></span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#EmulatorTrace"><span class="hs-identifier hs-type">EmulatorTrace</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span id="runEmulatorTraceIO%27"><span class="annot"><span class="annottext">runEmulatorTraceIO' :: TraceConfig -&gt; EmulatorConfig -&gt; Eff EmulatorEffects () -&gt; IO ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIO%27"><span class="hs-identifier hs-var hs-var">runEmulatorTraceIO'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TraceConfig -&gt; EmulatorConfig -&gt; Eff EmulatorEffects () -&gt; IO ()
</span><a href="Plutus.Trace.Emulator.html#runEmulatorTraceIOWithConfig"><span class="hs-identifier hs-var">runEmulatorTraceIOWithConfig</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span id="local-6989586621680832819"><span class="annot"><a href="Plutus.Trace.Emulator.html#runPrintEffectIO"><span class="hs-identifier hs-type">runPrintEffectIO</span></a></span><span>
</span><span id="line-353"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier hs-type">PrintEffect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621680832819"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832819"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-356"></span><span id="runPrintEffectIO"><span class="annot"><span class="annottext">runPrintEffectIO :: Handle -&gt; Eff '[PrintEffect, IO] r -&gt; IO r
</span><a href="Plutus.Trace.Emulator.html#runPrintEffectIO"><span class="hs-identifier hs-var hs-var">runPrintEffectIO</span></a></span></span><span> </span><span id="local-6989586621680832617"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621680832617"><span class="hs-identifier hs-var">hdl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Eff '[IO] r -&gt; IO r
forall (m :: * -&gt; *) a. Monad m =&gt; Eff '[m] a -&gt; m a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runM</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff '[IO] r -&gt; IO r)
-&gt; (Eff '[PrintEffect, IO] r -&gt; Eff '[IO] r)
-&gt; Eff '[PrintEffect, IO] r
-&gt; IO r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(PrintEffect ~&gt; IO) -&gt; Eff '[PrintEffect, IO] ~&gt; Eff '[IO]
forall (eff :: * -&gt; *) (m :: * -&gt; *) (effs :: [* -&gt; *]).
(Monad m, LastMember m effs) =&gt;
(eff ~&gt; m) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpretM</span></a></span><span> </span><span class="annot"><span class="annottext">PrintEffect ~&gt; IO
</span><a href="#local-6989586621680832616"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-358"></span><span>    </span><span id="local-6989586621680832615"><span class="annot"><a href="#local-6989586621680832616"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier hs-type">PrintEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832615"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832615"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-359"></span><span>    </span><span id="local-6989586621680832616"><span class="annot"><span class="annottext">f :: PrintEffect r -&gt; IO r
</span><a href="#local-6989586621680832616"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-360"></span><span>      </span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintLn"><span class="hs-identifier hs-type">PrintLn</span></a></span><span> </span><span id="local-6989586621680832614"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832614"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">hPutStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621680832617"><span class="hs-identifier hs-var">hdl</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680832614"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="annot"><a href="Plutus.Trace.Emulator.html#printBalances"><span class="hs-identifier hs-type">printBalances</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680832820"><span class="annot"><a href="#local-6989586621680832820"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="Plutus.Trace.Emulator.html#PrintEffect"><span class="hs-identifier hs-type">PrintEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832820"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-363"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><a href="Wallet.Emulator.Wallet.html#Entity"><span class="hs-identifier hs-type">Entity</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span>
</span><span id="line-364"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680832820"><span class="hs-identifier hs-type">effs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span id="printBalances"><span class="annot"><span class="annottext">printBalances :: Map Entity Value -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printBalances"><span class="hs-identifier hs-var hs-var">printBalances</span></a></span></span><span> </span><span id="local-6989586621680832613"><span class="annot"><span class="annottext">Map Entity Value
</span><a href="#local-6989586621680832613"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>    </span><span class="annot"><span class="annottext">[(Entity, Value)]
-&gt; ((Entity, Value) -&gt; Eff effs ()) -&gt; Eff effs ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Entity Value -&gt; [(Entity, Value)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map Entity Value
</span><a href="#local-6989586621680832613"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((Entity, Value) -&gt; Eff effs ()) -&gt; Eff effs ())
-&gt; ((Entity, Value) -&gt; Eff effs ()) -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680832611"><span class="annot"><span class="annottext">Entity
</span><a href="#local-6989586621680832611"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832610"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680832610"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-367"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Eff effs ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
String -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printLn"><span class="hs-identifier hs-var">printLn</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Eff effs ()) -&gt; String -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Entity -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Entity
</span><a href="#local-6989586621680832611"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span>
</span><span id="line-368"></span><span>        </span><span class="annot"><span class="annottext">[(CurrencySymbol, TokenName, Integer)]
-&gt; ((CurrencySymbol, TokenName, Integer) -&gt; Eff effs ())
-&gt; Eff effs ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; [(CurrencySymbol, TokenName, Integer)]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">flattenValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621680832610"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((CurrencySymbol, TokenName, Integer) -&gt; Eff effs ())
 -&gt; Eff effs ())
-&gt; ((CurrencySymbol, TokenName, Integer) -&gt; Eff effs ())
-&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680832609"><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621680832609"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832608"><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621680832608"><span class="hs-identifier hs-var">tn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680832607"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680832607"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-369"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; Eff effs ()
forall (effs :: [* -&gt; *]).
Member PrintEffect effs =&gt;
String -&gt; Eff effs ()
</span><a href="Plutus.Trace.Emulator.html#printLn"><span class="hs-identifier hs-var">printLn</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Eff effs ()) -&gt; String -&gt; Eff effs ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;    {&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="#local-6989586621680832609"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><a href="#local-6989586621680832608"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;}: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680832607"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-370"></span></pre></body></html>
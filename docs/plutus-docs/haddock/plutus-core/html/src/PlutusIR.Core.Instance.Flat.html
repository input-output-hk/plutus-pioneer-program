<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TypeOperators        #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans       #-}</span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusIR.Core.Instance.Flat</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html"><span class="hs-identifier">PlutusIR.Core.Type</span></a></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.html"><span class="hs-identifier">PlutusCore</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Flat.html"><span class="hs-identifier">PlutusCore.Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier">Flat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-comment">{- Note: [Serialization of PIR]
The serialized version of Plutus-IR will be included in  the final
executable for helping debugging and testing and providing better error
reporting. It is not meant to be stored on the chain, which means that
the underlying representation can vary. The `Generic` instances of the
terms can thus be used as backwards compatibility is not required.
-}</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span id="local-6989586621680968736"><span id="local-6989586621680968737"><span id="local-6989586621680968738"><span id="local-6989586621680968739"><span id="local-6989586621680968740"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680968730"><span id="local-6989586621680968732"><span id="local-6989586621680968734"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">PLC.Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968740"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-22"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680968740"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`PLC.Everywhere`</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span>
</span><span id="line-23"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968739"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-24"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968738"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-25"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968737"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-26"></span><span>         </span><span class="hs-comment">-- This was needed only for the Flat instance</span><span>
</span><span id="line-27"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968736"><span class="hs-identifier hs-type">fun</span></a></span><span>
</span><span id="line-28"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968738"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968737"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968740"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968736"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968739"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680968723"><span id="local-6989586621680968725"><span id="local-6989586621680968727"><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Recursivity"><span class="hs-identifier hs-type">Recursivity</span></a></span></span></span></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680968717"><span id="local-6989586621680968719"><span id="local-6989586621680968721"><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Strictness"><span class="hs-identifier hs-type">Strictness</span></a></span></span></span></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span id="local-6989586621680968712"><span id="local-6989586621680968713"><span id="local-6989586621680968714"><span id="local-6989586621680968715"><span id="local-6989586621680968716"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680968706"><span id="local-6989586621680968708"><span id="local-6989586621680968710"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">PLC.Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968716"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-35"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680968716"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`PLC.Everywhere`</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span>
</span><span id="line-36"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968715"><span class="hs-identifier hs-type">fun</span></a></span><span>
</span><span id="line-37"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968714"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-38"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968713"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-39"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968712"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-40"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Binding"><span class="hs-identifier hs-type">Binding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968713"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968712"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968716"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968715"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968714"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span id="local-6989586621680968701"><span id="local-6989586621680968702"><span id="local-6989586621680968703"><span id="local-6989586621680968704"><span id="local-6989586621680968705"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680968695"><span id="local-6989586621680968697"><span id="local-6989586621680968699"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">PLC.Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968705"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-43"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680968705"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`PLC.Everywhere`</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span>
</span><span id="line-44"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968704"><span class="hs-identifier hs-type">fun</span></a></span><span>
</span><span id="line-45"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968703"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-46"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968702"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-47"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968701"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-48"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968702"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968701"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968705"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968704"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968703"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span id="local-6989586621680968690"><span id="local-6989586621680968691"><span id="local-6989586621680968692"><span id="local-6989586621680968693"><span id="local-6989586621680968694"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680968684"><span id="local-6989586621680968686"><span id="local-6989586621680968688"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">PLC.Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968694"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-51"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680968694"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`PLC.Everywhere`</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span>
</span><span id="line-52"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968693"><span class="hs-identifier hs-type">fun</span></a></span><span>
</span><span id="line-53"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968692"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-54"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968691"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-55"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968690"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-56"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/l2763nw25zyli3m7w5pr63kyimdyiaw6-flat-lib-flat-0.4.4.0.0.0.0.2-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968691"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968690"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968694"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968693"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680968692"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-57"></span></pre></body></html>
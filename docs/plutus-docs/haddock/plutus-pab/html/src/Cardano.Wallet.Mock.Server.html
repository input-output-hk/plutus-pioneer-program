<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies    #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs                 #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns        #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications      #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Wallet.Mock.Server</span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Server.html#main"><span class="hs-identifier">main</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.BM.Data.Trace</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Trace</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.ChainIndex.Types.html"><span class="hs-identifier">Cardano.ChainIndex.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.ChainIndex.Types.html#ChainIndexUrl"><span class="hs-identifier">ChainIndexUrl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.ChainIndex.Types.html#ChainIndexUrl"><span class="hs-identifier">ChainIndexUrl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Cardano.Node.Emulator.Params</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier">Params</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html"><span class="hs-identifier">Cardano.Node.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Types.html#ChainSyncHandle"><span class="hs-identifier">ChainSyncHandle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Protocol.Socket.Mock.Client.html"><span class="hs-identifier">Cardano.Protocol.Socket.Mock.Client</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MockClient</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.API.html"><span class="hs-identifier">Cardano.Wallet.Mock.API</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.API.html#API"><span class="hs-identifier">API</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Handlers.html"><span class="hs-identifier">Cardano.Wallet.Mock.Handlers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.Handlers.html#processWalletEffects"><span class="hs-identifier">processWalletEffects</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html"><span class="hs-identifier">Cardano.Wallet.Mock.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#Port"><span class="hs-identifier">Port</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#Port"><span class="hs-identifier">Port</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#WalletInfo"><span class="hs-identifier">WalletInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#wiAddresses"><span class="hs-identifier">wiAddresses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#wiPaymentPubKeyHash"><span class="hs-identifier">wiPaymentPubKeyHash</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>                                  </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#WalletMsg"><span class="hs-identifier">WalletMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#StartingWallet"><span class="hs-identifier">StartingWallet</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#Wallets"><span class="hs-identifier">Wallets</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#createWallet"><span class="hs-identifier">createWallet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#getWalletInfo"><span class="hs-identifier">getWalletInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#multiWallet"><span class="hs-identifier">multiWallet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Types.html"><span class="hs-identifier">Cardano.Wallet.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Types.html#LocalWalletSettings"><span class="hs-identifier">LocalWalletSettings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Types.html#LocalWalletSettings"><span class="hs-identifier">LocalWalletSettings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Types.html#baseUrl"><span class="hs-identifier">baseUrl</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Types.html#WalletUrl"><span class="hs-identifier">WalletUrl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Types.html#WalletUrl"><span class="hs-identifier">WalletUrl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Concurrent.Availability.html"><span class="hs-identifier">Control.Concurrent.Availability</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Availability.html#Availability"><span class="hs-identifier">Availability</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Concurrent.Availability.html#available"><span class="hs-identifier">available</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Concurrent.MVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">newMVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&gt;=&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">throwError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">logInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">liftIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&amp;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.Ada</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ada</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier">Ledger.CardanoWallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CW</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">Network.HTTP.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">defaultManagerSettings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">newManager</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier">Network.Wai.Handler.Warp</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Warp</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Arbitrary.html"><span class="hs-identifier">Plutus.PAB.Arbitrary</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.Monitoring.html"><span class="hs-identifier">Plutus.PAB.Monitoring.Monitoring</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LM</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">Servant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/h6pndxxsxmb9rv9q8mfkryl2vhbq64i9-wai-lib-wai-3.2.3-haddock-doc/share/doc/wai/html/src"><span class="hs-identifier">Application</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier">NoContent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier">NoContent</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">err404</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">hoistServer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">serve</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator">(:&lt;|&gt;)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator">(:&lt;|&gt;)</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier">Servant.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bp0ml9hvqnwczc48023rn371h6pzz2r6-servant-client-core-lib-servant-client-core-0.18.3-haddock-doc/share/doc/servant-client-core/html/src"><span class="hs-identifier">BaseUrl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bp0ml9hvqnwczc48023rn371h6pzz2r6-servant-client-core-lib-servant-client-core-0.18.3-haddock-doc/share/doc/servant-client-core/html/src"><span class="hs-identifier">baseUrlPort</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier">ClientEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier">mkClientEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">balanceTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">submitTxn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">totalFunds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">walletAddSignature</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Emulator.Wallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">WalletId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Emulator.Wallet</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="annot"><a href="Cardano.Wallet.Mock.Server.html#app"><span class="hs-identifier hs-type">app</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#WalletMsg"><span class="hs-identifier hs-type">WalletMsg</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Protocol.Socket.Mock.Client.html#TxSendHandle"><span class="hs-identifier hs-type">MockClient.TxSendHandle</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#ChainSyncHandle"><span class="hs-identifier hs-type">ChainSyncHandle</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MVar</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#Wallets"><span class="hs-identifier hs-type">Wallets</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/h6pndxxsxmb9rv9q8mfkryl2vhbq64i9-wai-lib-wai-3.2.3-haddock-doc/share/doc/wai/html/src"><span class="hs-identifier hs-type">Application</span></a></span><span>
</span><span id="line-54"></span><span id="app"><span class="annot"><span class="annottext">app :: Trace IO WalletMsg
-&gt; TxSendHandle
-&gt; ChainSyncHandle
-&gt; ClientEnv
-&gt; MVar Wallets
-&gt; Params
-&gt; Application
</span><a href="Cardano.Wallet.Mock.Server.html#app"><span class="hs-identifier hs-var hs-var">app</span></a></span></span><span> </span><span id="local-6989586621680390096"><span class="annot"><span class="annottext">Trace IO WalletMsg
</span><a href="#local-6989586621680390096"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span id="local-6989586621680390095"><span class="annot"><span class="annottext">TxSendHandle
</span><a href="#local-6989586621680390095"><span class="hs-identifier hs-var">txSendHandle</span></a></span></span><span> </span><span id="local-6989586621680390094"><span class="annot"><span class="annottext">ChainSyncHandle
</span><a href="#local-6989586621680390094"><span class="hs-identifier hs-var">chainSyncHandle</span></a></span></span><span> </span><span id="local-6989586621680390093"><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680390093"><span class="hs-identifier hs-var">chainIndexEnv</span></a></span></span><span> </span><span id="local-6989586621680390092"><span class="annot"><span class="annottext">MVar Wallets
</span><a href="#local-6989586621680390092"><span class="hs-identifier hs-var">mVarState</span></a></span></span><span> </span><span id="local-6989586621680390091"><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680390091"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="annottext">Proxy (API WalletId) -&gt; Server (API WalletId) -&gt; Application
forall api.
HasServer api '[] =&gt;
Proxy api -&gt; Server api -&gt; Application
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">serve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (API WalletId)
forall k (t :: k). Proxy t
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.API.html#API"><span class="hs-identifier hs-type">API</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">WalletId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Server (API WalletId) -&gt; Application)
-&gt; Server (API WalletId) -&gt; Application
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><span class="annottext">Proxy (API WalletId)
-&gt; (forall x. Eff (WalletEffects IO) x -&gt; Handler x)
-&gt; ServerT (API WalletId) (Eff (WalletEffects IO))
-&gt; Server (API WalletId)
forall api (m :: * -&gt; *) (n :: * -&gt; *).
HasServer api '[] =&gt;
Proxy api
-&gt; (forall x. m x -&gt; n x) -&gt; ServerT api m -&gt; ServerT api n
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">hoistServer</span></a></span><span>
</span><span id="line-57"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (API WalletId)
forall k (t :: k). Proxy t
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Mock.API.html#API"><span class="hs-identifier hs-type">API</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">WalletId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO WalletMsg
-&gt; TxSendHandle
-&gt; ChainSyncHandle
-&gt; ClientEnv
-&gt; MVar Wallets
-&gt; Params
-&gt; Eff (WalletEffects IO) x
-&gt; Handler x
forall (m :: * -&gt; *) a.
(MonadIO m, MonadError ServerError m) =&gt;
Trace IO WalletMsg
-&gt; TxSendHandle
-&gt; ChainSyncHandle
-&gt; ClientEnv
-&gt; MVar Wallets
-&gt; Params
-&gt; Eff (WalletEffects IO) a
-&gt; m a
</span><a href="Cardano.Wallet.Mock.Handlers.html#processWalletEffects"><span class="hs-identifier hs-var">processWalletEffects</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO WalletMsg
</span><a href="#local-6989586621680390096"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">TxSendHandle
</span><a href="#local-6989586621680390095"><span class="hs-identifier hs-var">txSendHandle</span></a></span><span> </span><span class="annot"><span class="annottext">ChainSyncHandle
</span><a href="#local-6989586621680390094"><span class="hs-identifier hs-var">chainSyncHandle</span></a></span><span> </span><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680390093"><span class="hs-identifier hs-var">chainIndexEnv</span></a></span><span> </span><span class="annot"><span class="annottext">MVar Wallets
</span><a href="#local-6989586621680390092"><span class="hs-identifier hs-var">mVarState</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680390091"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ServerT (API WalletId) (Eff (WalletEffects IO))
 -&gt; Server (API WalletId))
-&gt; ServerT (API WalletId) (Eff (WalletEffects IO))
-&gt; Server (API WalletId)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-59"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680390090"><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621680390090"><span class="hs-identifier hs-var">funds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Ada -&gt; Eff (WalletEffects IO) WalletInfo
forall (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
Maybe Ada -&gt; Eff effs WalletInfo
</span><a href="Cardano.Wallet.Mock.Types.html#createWallet"><span class="hs-identifier hs-var">createWallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Ada
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">Ada.lovelaceOf</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Ada) -&gt; Maybe Integer -&gt; Maybe Ada
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621680390090"><span class="hs-identifier hs-var">funds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe Integer -&gt; Eff (WalletEffects IO) WalletInfo)
-&gt; ((WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) NoContent)
    :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
          :&lt;|&gt; ((WalletId
                 -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
                :&lt;|&gt; ((WalletId
                       -&gt; UnbalancedTx
                       -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
                      :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
                            :&lt;|&gt; (WalletId
                                  -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx))))))
-&gt; (Maybe Integer -&gt; Eff (WalletEffects IO) WalletInfo)
   :&lt;|&gt; ((WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) NoContent)
         :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
               :&lt;|&gt; ((WalletId
                      -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
                     :&lt;|&gt; ((WalletId
                            -&gt; UnbalancedTx
                            -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
                           :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
                                 :&lt;|&gt; (WalletId
                                       -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span>
</span><span id="line-60"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680390087"><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390087"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621680390086"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621680390086"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Wallet -&gt; Eff '[WalletEffect] () -&gt; Eff (WalletEffects IO) ()
forall a (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
Wallet -&gt; Eff '[WalletEffect] a -&gt; Eff effs a
</span><a href="Cardano.Wallet.Mock.Types.html#multiWallet"><span class="hs-identifier hs-var">multiWallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; WalletId -&gt; Wallet
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">Wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390087"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoTx -&gt; Eff '[WalletEffect] ()
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
CardanoTx -&gt; Eff effs ()
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">submitTxn</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621680390086"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Eff (WalletEffects IO) ()
-&gt; (() -&gt; Eff (WalletEffects IO) NoContent)
-&gt; Eff (WalletEffects IO) NoContent
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (WalletEffects IO) NoContent
-&gt; () -&gt; Eff (WalletEffects IO) NoContent
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NoContent -&gt; Eff (WalletEffects IO) NoContent
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">NoContent
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-var">NoContent</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) NoContent)
-&gt; ((WalletId -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
    :&lt;|&gt; ((WalletId
           -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
          :&lt;|&gt; ((WalletId
                 -&gt; UnbalancedTx
                 -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
                :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
                      :&lt;|&gt; (WalletId
                            -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx)))))
-&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) NoContent)
   :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
         :&lt;|&gt; ((WalletId
                -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
               :&lt;|&gt; ((WalletId
                      -&gt; UnbalancedTx
                      -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
                     :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
                           :&lt;|&gt; (WalletId
                                 -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx)))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span>
</span><span id="line-61"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletId -&gt; Eff (WalletEffects IO) (Maybe WalletInfo)
forall (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
WalletId -&gt; Eff effs (Maybe WalletInfo)
</span><a href="Cardano.Wallet.Mock.Types.html#getWalletInfo"><span class="hs-identifier hs-var">getWalletInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(WalletId -&gt; Eff (WalletEffects IO) (Maybe WalletInfo))
-&gt; (Maybe WalletInfo -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
-&gt; WalletId
-&gt; Eff (WalletEffects IO) PaymentPubKeyHash
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (WalletEffects IO) PaymentPubKeyHash
-&gt; (WalletInfo -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
-&gt; Maybe WalletInfo
-&gt; Eff (WalletEffects IO) PaymentPubKeyHash
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ServerError -&gt; Eff (WalletEffects IO) PaymentPubKeyHash
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">ServerError
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">err404</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PaymentPubKeyHash -&gt; Eff (WalletEffects IO) PaymentPubKeyHash
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(PaymentPubKeyHash -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
-&gt; (WalletInfo -&gt; PaymentPubKeyHash)
-&gt; WalletInfo
-&gt; Eff (WalletEffects IO) PaymentPubKeyHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">WalletInfo -&gt; PaymentPubKeyHash
</span><a href="Cardano.Wallet.Mock.Types.html#wiPaymentPubKeyHash"><span class="hs-identifier hs-var hs-var">wiPaymentPubKeyHash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(WalletId -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
-&gt; ((WalletId -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
    :&lt;|&gt; ((WalletId
           -&gt; UnbalancedTx
           -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
          :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
                :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx))))
-&gt; (WalletId -&gt; Eff (WalletEffects IO) PaymentPubKeyHash)
   :&lt;|&gt; ((WalletId
          -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
         :&lt;|&gt; ((WalletId
                -&gt; UnbalancedTx
                -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
               :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
                     :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span>
</span><span id="line-62"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletId -&gt; Eff (WalletEffects IO) (Maybe WalletInfo)
forall (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
WalletId -&gt; Eff effs (Maybe WalletInfo)
</span><a href="Cardano.Wallet.Mock.Types.html#getWalletInfo"><span class="hs-identifier hs-var">getWalletInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(WalletId -&gt; Eff (WalletEffects IO) (Maybe WalletInfo))
-&gt; (Maybe WalletInfo
    -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
-&gt; WalletId
-&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress)
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (WalletEffects IO) (NonEmpty CardanoAddress)
-&gt; (WalletInfo -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
-&gt; Maybe WalletInfo
-&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ServerError -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress)
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">ServerError
</span><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier hs-var">err404</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty CardanoAddress
-&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty CardanoAddress
 -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
-&gt; (WalletInfo -&gt; NonEmpty CardanoAddress)
-&gt; WalletInfo
-&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">WalletInfo -&gt; NonEmpty CardanoAddress
</span><a href="Cardano.Wallet.Mock.Types.html#wiAddresses"><span class="hs-identifier hs-var hs-var">wiAddresses</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(WalletId -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
-&gt; ((WalletId
     -&gt; UnbalancedTx
     -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
    :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
          :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx)))
-&gt; (WalletId -&gt; Eff (WalletEffects IO) (NonEmpty CardanoAddress))
   :&lt;|&gt; ((WalletId
          -&gt; UnbalancedTx
          -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
         :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
               :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx)))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span>
</span><span id="line-63"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680390082"><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390082"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Wallet
-&gt; Eff '[WalletEffect] (Either WalletAPIError CardanoTx)
-&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx)
forall a (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
Wallet -&gt; Eff '[WalletEffect] a -&gt; Eff effs a
</span><a href="Cardano.Wallet.Mock.Types.html#multiWallet"><span class="hs-identifier hs-var">multiWallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; WalletId -&gt; Wallet
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">Wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390082"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Eff '[WalletEffect] (Either WalletAPIError CardanoTx)
 -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
-&gt; (UnbalancedTx
    -&gt; Eff '[WalletEffect] (Either WalletAPIError CardanoTx))
-&gt; UnbalancedTx
-&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnbalancedTx
-&gt; Eff '[WalletEffect] (Either WalletAPIError CardanoTx)
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
UnbalancedTx -&gt; Eff effs (Either WalletAPIError CardanoTx)
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">balanceTx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(WalletId
 -&gt; UnbalancedTx
 -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
-&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
    :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx))
-&gt; (WalletId
    -&gt; UnbalancedTx
    -&gt; Eff (WalletEffects IO) (Either WalletAPIError CardanoTx))
   :&lt;|&gt; ((WalletId -&gt; Eff (WalletEffects IO) Value)
         :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span>
</span><span id="line-64"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680390081"><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390081"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Wallet -&gt; Eff '[WalletEffect] Value -&gt; Eff (WalletEffects IO) Value
forall a (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
Wallet -&gt; Eff '[WalletEffect] a -&gt; Eff effs a
</span><a href="Cardano.Wallet.Mock.Types.html#multiWallet"><span class="hs-identifier hs-var">multiWallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; WalletId -&gt; Wallet
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">Wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390081"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Eff '[WalletEffect] Value
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
Eff effs Value
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">totalFunds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(WalletId -&gt; Eff (WalletEffects IO) Value)
-&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx)
-&gt; (WalletId -&gt; Eff (WalletEffects IO) Value)
   :&lt;|&gt; (WalletId -&gt; CardanoTx -&gt; Eff (WalletEffects IO) CardanoTx)
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-operator hs-var">:&lt;|&gt;</span></a></span><span>
</span><span id="line-65"></span><span>            </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680390080"><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390080"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621680390079"><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621680390079"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Wallet
-&gt; Eff '[WalletEffect] CardanoTx
-&gt; Eff (WalletEffects IO) CardanoTx
forall a (effs :: [* -&gt; *]).
Member MultiWalletEffect effs =&gt;
Wallet -&gt; Eff '[WalletEffect] a -&gt; Eff effs a
</span><a href="Cardano.Wallet.Mock.Types.html#multiWallet"><span class="hs-identifier hs-var">multiWallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; WalletId -&gt; Wallet
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">Wallet</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">WalletId
</span><a href="#local-6989586621680390080"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoTx -&gt; Eff '[WalletEffect] CardanoTx
forall (effs :: [* -&gt; *]).
Member WalletEffect effs =&gt;
CardanoTx -&gt; Eff effs CardanoTx
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">walletAddSignature</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoTx
</span><a href="#local-6989586621680390079"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="annot"><a href="Cardano.Wallet.Mock.Server.html#main"><span class="hs-identifier hs-type">main</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Types.html#WalletMsg"><span class="hs-identifier hs-type">WalletMsg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Types.html#LocalWalletSettings"><span class="hs-identifier hs-type">LocalWalletSettings</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-type">Params</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.ChainIndex.Types.html#ChainIndexUrl"><span class="hs-identifier hs-type">ChainIndexUrl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Concurrent.Availability.html#Availability"><span class="hs-identifier hs-type">Availability</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span id="main"><span class="annot"><span class="annottext">main :: Trace IO WalletMsg
-&gt; LocalWalletSettings
-&gt; String
-&gt; Params
-&gt; ChainIndexUrl
-&gt; Availability
-&gt; IO ()
</span><a href="Cardano.Wallet.Mock.Server.html#main"><span class="hs-identifier hs-var hs-var">main</span></a></span></span><span> </span><span id="local-6989586621680390077"><span class="annot"><span class="annottext">Trace IO WalletMsg
</span><a href="#local-6989586621680390077"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Wallet.Types.html#LocalWalletSettings"><span class="hs-identifier hs-type">LocalWalletSettings</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680390076"><span class="annot"><span class="annottext">WalletUrl
baseUrl :: WalletUrl
baseUrl :: LocalWalletSettings -&gt; WalletUrl
</span><a href="#local-6989586621680390076"><span class="hs-identifier hs-var hs-var">baseUrl</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span id="local-6989586621680390075"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680390075"><span class="hs-identifier hs-var">serverSocket</span></a></span></span><span> </span><span id="local-6989586621680390074"><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680390074"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.ChainIndex.Types.html#ChainIndexUrl"><span class="hs-identifier hs-type">ChainIndexUrl</span></a></span><span> </span><span id="local-6989586621680390073"><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621680390073"><span class="hs-identifier hs-var">chainUrl</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680390072"><span class="annot"><span class="annottext">Availability
</span><a href="#local-6989586621680390072"><span class="hs-identifier hs-var">availability</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace IO WalletMsg -&gt; Eff '[LogMsg WalletMsg, IO] ~&gt; IO
forall (m :: * -&gt; *) l.
MonadIO m =&gt;
Trace m l -&gt; Eff '[LogMsg l, m] ~&gt; m
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">LM.runLogEffects</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO WalletMsg
</span><a href="#local-6989586621680390077"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff '[LogMsg WalletMsg, IO] () -&gt; IO ())
-&gt; Eff '[LogMsg WalletMsg, IO] () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-69"></span><span>    </span><span id="local-6989586621680390070"><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680390070"><span class="hs-identifier hs-var">chainIndexEnv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BaseUrl -&gt; ManagerSettings -&gt; Eff '[LogMsg WalletMsg, IO] ClientEnv
forall (m :: * -&gt; *).
MonadIO m =&gt;
BaseUrl -&gt; ManagerSettings -&gt; m ClientEnv
</span><a href="#local-6989586621680390069"><span class="hs-identifier hs-var">buildEnv</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621680390073"><span class="hs-identifier hs-var">chainUrl</span></a></span><span> </span><span class="annot"><span class="annottext">ManagerSettings
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">defaultManagerSettings</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680390068"><span class="annot"><span class="annottext">knownWallets :: Wallets
</span><a href="#local-6989586621680390068"><span class="hs-identifier hs-var hs-var">knownWallets</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(WalletId, WalletState)] -&gt; Wallets
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../file:///nix/store/5giw0zbshrdz1qlvzc0csv9mspljr1ax-containers-lib-containers-0.6.5.1-haddock-doc/share/doc/containers/html/src"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(WalletId, WalletState)] -&gt; Wallets)
-&gt; [(WalletId, WalletState)] -&gt; Wallets
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[WalletId] -&gt; [WalletState] -&gt; [(WalletId, WalletState)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Wallet -&gt; WalletId
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var hs-var">Wallet.getWalletId</span></a></span><span> </span><span class="annot"><span class="annottext">(Wallet -&gt; WalletId) -&gt; [Wallet] -&gt; [WalletId]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Wallet]
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">Wallet.knownWallets</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MockWallet -&gt; WalletState
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">Wallet.fromMockWallet</span></a></span><span> </span><span class="annot"><span class="annottext">(MockWallet -&gt; WalletState) -&gt; [MockWallet] -&gt; [WalletState]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[MockWallet]
</span><a href="../../../../plutus-ledger/html/src"><span class="hs-identifier hs-var">CW.knownMockWallets</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621680390062"><span class="annot"><span class="annottext">MVar Wallets
</span><a href="#local-6989586621680390062"><span class="hs-identifier hs-var">mVarState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (MVar Wallets) -&gt; Eff '[LogMsg WalletMsg, IO] (MVar Wallets)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (MVar Wallets) -&gt; Eff '[LogMsg WalletMsg, IO] (MVar Wallets))
-&gt; IO (MVar Wallets) -&gt; Eff '[LogMsg WalletMsg, IO] (MVar Wallets)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Wallets -&gt; IO (MVar Wallets)
forall a. a -&gt; IO (MVar a)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">newMVar</span></a></span><span> </span><span class="annot"><span class="annottext">Wallets
</span><a href="#local-6989586621680390068"><span class="hs-identifier hs-var">knownWallets</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span id="local-6989586621680390061"><span class="annot"><span class="annottext">TxSendHandle
</span><a href="#local-6989586621680390061"><span class="hs-identifier hs-var">txSendHandle</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO TxSendHandle -&gt; Eff '[LogMsg WalletMsg, IO] TxSendHandle
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO TxSendHandle -&gt; Eff '[LogMsg WalletMsg, IO] TxSendHandle)
-&gt; IO TxSendHandle -&gt; Eff '[LogMsg WalletMsg, IO] TxSendHandle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO TxSendHandle
</span><a href="Cardano.Protocol.Socket.Mock.Client.html#runTxSender"><span class="hs-identifier hs-var">MockClient.runTxSender</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680390075"><span class="hs-identifier hs-var">serverSocket</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span id="local-6989586621680390059"><span class="annot"><span class="annottext">ChainSyncHandle
</span><a href="#local-6989586621680390059"><span class="hs-identifier hs-var">chainSyncHandle</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ChainSyncHandle Block -&gt; ChainSyncHandle
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainSyncHandle Block -&gt; ChainSyncHandle)
-&gt; Eff '[LogMsg WalletMsg, IO] (ChainSyncHandle Block)
-&gt; Eff '[LogMsg WalletMsg, IO] ChainSyncHandle
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (ChainSyncHandle Block)
-&gt; Eff '[LogMsg WalletMsg, IO] (ChainSyncHandle Block)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (ChainSyncHandle Block)
 -&gt; Eff '[LogMsg WalletMsg, IO] (ChainSyncHandle Block))
-&gt; IO (ChainSyncHandle Block)
-&gt; Eff '[LogMsg WalletMsg, IO] (ChainSyncHandle Block)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; SlotConfig -&gt; IO (ChainSyncHandle Block)
</span><a href="Cardano.Protocol.Socket.Mock.Client.html#runChainSync%27"><span class="hs-identifier hs-var">MockClient.runChainSync'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680390075"><span class="hs-identifier hs-var">serverSocket</span></a></span><span> </span><span class="annot"><span class="annottext">(SlotConfig -&gt; IO (ChainSyncHandle Block))
-&gt; SlotConfig -&gt; IO (ChainSyncHandle Block)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Params -&gt; SlotConfig
</span><a href="../../../../cardano-node-emulator/html/src"><span class="hs-identifier hs-var hs-var">pSlotConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680390074"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><span class="annottext">WalletMsg -&gt; Eff '[LogMsg WalletMsg, IO] ()
forall a (effs :: [* -&gt; *]).
Member (LogMsg a) effs =&gt;
a -&gt; Eff effs ()
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">logInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(WalletMsg -&gt; Eff '[LogMsg WalletMsg, IO] ())
-&gt; WalletMsg -&gt; Eff '[LogMsg WalletMsg, IO] ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Port -&gt; WalletMsg
</span><a href="Cardano.Wallet.Mock.Types.html#StartingWallet"><span class="hs-identifier hs-var">StartingWallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Port
</span><a href="Cardano.Wallet.Mock.Types.html#Port"><span class="hs-identifier hs-var">Port</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680390056"><span class="hs-identifier hs-var">servicePort</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; Eff '[LogMsg WalletMsg, IO] ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; Eff '[LogMsg WalletMsg, IO] ())
-&gt; IO () -&gt; Eff '[LogMsg WalletMsg, IO] ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Settings -&gt; Application -&gt; IO ()
</span><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier hs-var">Warp.runSettings</span></a></span><span> </span><span class="annot"><span class="annottext">Settings
</span><a href="#local-6989586621680390054"><span class="hs-identifier hs-var">warpSettings</span></a></span><span>
</span><span id="line-76"></span><span>           </span><span class="annot"><span class="annottext">(Application -&gt; IO ()) -&gt; Application -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO WalletMsg
-&gt; TxSendHandle
-&gt; ChainSyncHandle
-&gt; ClientEnv
-&gt; MVar Wallets
-&gt; Params
-&gt; Application
</span><a href="Cardano.Wallet.Mock.Server.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO WalletMsg
</span><a href="#local-6989586621680390077"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-77"></span><span>                 </span><span class="annot"><span class="annottext">TxSendHandle
</span><a href="#local-6989586621680390061"><span class="hs-identifier hs-var">txSendHandle</span></a></span><span>
</span><span id="line-78"></span><span>                 </span><span class="annot"><span class="annottext">ChainSyncHandle
</span><a href="#local-6989586621680390059"><span class="hs-identifier hs-var">chainSyncHandle</span></a></span><span>
</span><span id="line-79"></span><span>                 </span><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680390070"><span class="hs-identifier hs-var">chainIndexEnv</span></a></span><span>
</span><span id="line-80"></span><span>                 </span><span class="annot"><span class="annottext">MVar Wallets
</span><a href="#local-6989586621680390062"><span class="hs-identifier hs-var">mVarState</span></a></span><span>
</span><span id="line-81"></span><span>                 </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680390074"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>        </span><span id="local-6989586621680390056"><span class="annot"><span class="annottext">servicePort :: Int
</span><a href="#local-6989586621680390056"><span class="hs-identifier hs-var hs-var">servicePort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BaseUrl -&gt; Int
</span><a href="../file:///nix/store/bp0ml9hvqnwczc48023rn371h6pzz2r6-servant-client-core-lib-servant-client-core-0.18.3-haddock-doc/share/doc/servant-client-core/html/src"><span class="hs-identifier hs-var hs-var">baseUrlPort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WalletUrl -&gt; BaseUrl
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">WalletUrl
</span><a href="#local-6989586621680390076"><span class="hs-identifier hs-var">baseUrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>        </span><span id="local-6989586621680390054"><span class="annot"><span class="annottext">warpSettings :: Settings
</span><a href="#local-6989586621680390054"><span class="hs-identifier hs-var hs-var">warpSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Settings
</span><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier hs-var">Warp.defaultSettings</span></a></span><span> </span><span class="annot"><span class="annottext">Settings -&gt; (Settings -&gt; Settings) -&gt; Settings
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Settings -&gt; Settings
</span><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier hs-var">Warp.setPort</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680390056"><span class="hs-identifier hs-var">servicePort</span></a></span><span> </span><span class="annot"><span class="annottext">Settings -&gt; (Settings -&gt; Settings) -&gt; Settings
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; Settings -&gt; Settings
</span><a href="../file:///nix/store/xr1qwbfgn013dz6gycdc4wk2n2a753kz-warp-lib-warp-3.3.23-haddock-doc/share/doc/warp/html/src"><span class="hs-identifier hs-var">Warp.setBeforeMainLoop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Availability -&gt; IO ()
forall (m :: * -&gt; *). MonadIO m =&gt; Availability -&gt; m ()
</span><a href="Control.Concurrent.Availability.html#available"><span class="hs-identifier hs-var">available</span></a></span><span> </span><span class="annot"><span class="annottext">Availability
</span><a href="#local-6989586621680390072"><span class="hs-identifier hs-var">availability</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>        </span><span id="local-6989586621680390069"><span class="annot"><span class="annottext">buildEnv :: BaseUrl -&gt; ManagerSettings -&gt; m ClientEnv
</span><a href="#local-6989586621680390069"><span class="hs-identifier hs-var hs-var">buildEnv</span></a></span></span><span> </span><span id="local-6989586621680390050"><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621680390050"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span id="local-6989586621680390049"><span class="annot"><span class="annottext">ManagerSettings
</span><a href="#local-6989586621680390049"><span class="hs-identifier hs-var">settings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO ClientEnv -&gt; m ClientEnv
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span>
</span><span id="line-87"></span><span>            </span><span class="annot"><span class="annottext">(IO ClientEnv -&gt; m ClientEnv) -&gt; IO ClientEnv -&gt; m ClientEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ManagerSettings -&gt; IO Manager
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">newManager</span></a></span><span> </span><span class="annot"><span class="annottext">ManagerSettings
</span><a href="#local-6989586621680390049"><span class="hs-identifier hs-var">settings</span></a></span><span> </span><span class="annot"><span class="annottext">IO Manager -&gt; (Manager -&gt; IO ClientEnv) -&gt; IO ClientEnv
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680390048"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621680390048"><span class="hs-identifier hs-var">mgr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ClientEnv -&gt; IO ClientEnv
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(ClientEnv -&gt; IO ClientEnv) -&gt; ClientEnv -&gt; IO ClientEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Manager -&gt; BaseUrl -&gt; ClientEnv
</span><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-var">mkClientEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621680390048"><span class="hs-identifier hs-var">mgr</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621680390050"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-88"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_9pGM1GZ2KJXICYm2Ie8TLb"></span><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies    #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs                 #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase            #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns        #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE NumericUnderscores    #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE PartialTypeSignatures #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes            #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards       #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE StrictData            #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications      #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators         #-}</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-partial-type-signatures #-}</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.PAB.App</span><span class="hs-special">(</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#App"><span class="hs-identifier">App</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#runApp"><span class="hs-identifier">runApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier">AppEnv</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#StorageBackend"><span class="hs-identifier">StorageBackend</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><span class="hs-comment">-- * App actions</span></span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#migrate"><span class="hs-identifier">migrate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#dbConnect"><span class="hs-identifier">dbConnect</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Plutus.PAB.App.html#handleContractDefinition"><span class="hs-identifier">handleContractDefinition</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.NetworkId.Extra.html"><span class="hs-identifier">Cardano.Api.NetworkId.Extra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.NetworkId.Extra.html#NetworkIdWrapper"><span class="hs-identifier">NetworkIdWrapper</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.NetworkId.Extra.html#unNetworkIdWrapper"><span class="hs-identifier">unNetworkIdWrapper</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.BM.Trace</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Trace</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">logDebug</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.ChainIndex.Types.html"><span class="hs-identifier">Cardano.ChainIndex.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ChainIndex</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Client.html"><span class="hs-identifier">Cardano.Node.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Client.html#handleNodeClientClient"><span class="hs-identifier">handleNodeClientClient</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Client.html#runChainSyncWithCfg"><span class="hs-identifier">runChainSyncWithCfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Params.html"><span class="hs-identifier">Cardano.Node.Params</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Params</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html"><span class="hs-identifier">Cardano.Node.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Types.html#ChainSyncHandle"><span class="hs-identifier">ChainSyncHandle</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#NodeMode"><span class="hs-identifier">NodeMode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Types.html#MockNode"><span class="hs-identifier">MockNode</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>                           </span><span class="annot"><a href="Cardano.Node.Types.html#PABServerConfig"><span class="hs-identifier">PABServerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Types.html#PABServerConfig"><span class="hs-identifier">PABServerConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#pscBaseUrl"><span class="hs-identifier">pscBaseUrl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#pscNetworkId"><span class="hs-identifier">pscNetworkId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#pscNodeMode"><span class="hs-identifier">pscNodeMode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#pscSocketPath"><span class="hs-identifier">pscSocketPath</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Protocol.Socket.Mock.Client.html"><span class="hs-identifier">Cardano.Protocol.Socket.Mock.Client</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MockClient</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.LocalClient.html"><span class="hs-identifier">Cardano.Wallet.LocalClient</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LocalWalletClient</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Mock.Client.html"><span class="hs-identifier">Cardano.Wallet.Mock.Client</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WalletMockClient</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.RemoteClient.html"><span class="hs-identifier">Cardano.Wallet.RemoteClient</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RemoteWalletClient</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Types.html"><span class="hs-identifier">Cardano.Wallet.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier">preview</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator">(^?!)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">void</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Eff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">LastMember</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Member</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">interpret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">reinterpret</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">reinterpret2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">reinterpretN</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator">(~&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Error</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">handleError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">throwError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Beam.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">handleBeam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Beam.Postgres</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Postgres</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">DbConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">runBeam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Beam.Sqlite</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Sqlite</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">DbConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">runBeam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">Control.Monad.Freer.Extras.Log</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">LogMsg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier">mapLog</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Control.Monad.Freer.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">Reader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">ask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier">runReader</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MonadIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">liftIO</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier">Data.Pool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier">Pool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier">Data.Pool</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pool</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">pack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier">unpack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/npv4h8527136mn2csxb46fmf9v3glkjj-beam-migrate-lib-beam-migrate-0.5.1.2-haddock-doc/share/doc/beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Simple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/npv4h8527136mn2csxb46fmf9v3glkjj-beam-migrate-lib-beam-migrate-0.5.1.2-haddock-doc/share/doc/beam-migrate/html/src"><span class="hs-identifier">autoMigrate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier">Database.Beam.Postgres</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Postgres</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier">Database.Beam.Postgres.Migrate</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Postgres</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier">Database.Beam.Sqlite</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Sqlite</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier">Database.Beam.Sqlite.Migrate</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Sqlite</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/b6yy9siiwmm7jl9mla9asdhq1ck23cq8-sqlite-simple-lib-sqlite-simple-0.4.18.2-haddock-doc/share/doc/sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Sqlite</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">Network.HTTP.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">ManagerSettings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">managerResponseTimeout</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">managerModifyRequest</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">newManager</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>                            </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">responseTimeoutMicro</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier">setRequestIgnoreStatus</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/kazaiqbn4i00q6ih11907d9ifd8lcqli-http-client-tls-lib-http-client-tls-0.3.6.1-haddock-doc/share/doc/http-client-tls/html/src"><span class="hs-identifier">Network.HTTP.Client.TLS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/kazaiqbn4i00q6ih11907d9ifd8lcqli-http-client-tls-lib-http-client-tls-0.3.6.1-haddock-doc/share/doc/http-client-tls/html/src"><span class="hs-identifier">tlsManagerSettings</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">Plutus.ChainIndex.Client</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ChainIndex</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.html"><span class="hs-identifier">Plutus.PAB.Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Core.html#EffectHandlers"><span class="hs-identifier">EffectHandlers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Core.html#EffectHandlers"><span class="hs-identifier">EffectHandlers</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.html#PABAction"><span class="hs-identifier">PABAction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.html"><span class="hs-identifier">Plutus.PAB.Core</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.ContractInstance.BlockchainEnv.html"><span class="hs-identifier">Plutus.PAB.Core.ContractInstance.BlockchainEnv</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BlockchainEnv</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.ContractInstance.STM.html"><span class="hs-identifier">Plutus.PAB.Core.ContractInstance.STM</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Instances</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Core.ContractInstance.STM.html#InstancesState"><span class="hs-identifier">InstancesState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.ContractInstance.STM.html#emptyInstancesState"><span class="hs-identifier">emptyInstancesState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Beam.ContractStore.html"><span class="hs-identifier">Plutus.PAB.Db.Beam.ContractStore</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BeamEff</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Memory.ContractStore.html"><span class="hs-identifier">Plutus.PAB.Db.Memory.ContractStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Db.Memory.ContractStore.html#InMemInstances"><span class="hs-identifier">InMemInstances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Memory.ContractStore.html#initialInMemInstances"><span class="hs-identifier">initialInMemInstances</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Memory.ContractStore.html"><span class="hs-identifier">Plutus.PAB.Db.Memory.ContractStore</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">InMem</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Schema.html"><span class="hs-identifier">Plutus.PAB.Db.Schema</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Db.Schema.html#checkedPostgresDb"><span class="hs-identifier">checkedPostgresDb</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Schema.html#checkedSqliteDb"><span class="hs-identifier">checkedSqliteDb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.html"><span class="hs-identifier">Plutus.PAB.Effects.Contract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.html#ContractDefinition"><span class="hs-identifier">ContractDefinition</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.html#AddDefinition"><span class="hs-identifier">AddDefinition</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.html#GetDefinitions"><span class="hs-identifier">GetDefinitions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html"><span class="hs-identifier">Plutus.PAB.Effects.Contract.Builtin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier">Builtin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier">BuiltinHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier">BuiltinHandler</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#contractHandler"><span class="hs-identifier">contractHandler</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>                                            </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier">HasDefinitions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#getDefinitions"><span class="hs-identifier">getDefinitions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.Monitoring.html"><span class="hs-identifier">Plutus.PAB.Monitoring.Monitoring</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">convertLog</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">handleLogMsgTrace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html"><span class="hs-identifier">Plutus.PAB.Monitoring.PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier">SMultiAgent</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABMultiAgentMsg"><span class="hs-identifier">PABMultiAgentMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#BeamLogItem"><span class="hs-identifier">BeamLogItem</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#UserLog"><span class="hs-identifier">UserLog</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#WalletClient"><span class="hs-identifier">WalletClient</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>                                        </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#WalletClientMsg"><span class="hs-identifier">WalletClientMsg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Timeout.html"><span class="hs-identifier">Plutus.PAB.Timeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Timeout.html#Timeout"><span class="hs-identifier">Timeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Timeout.html#Timeout"><span class="hs-identifier">Timeout</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html"><span class="hs-identifier">Plutus.PAB.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#ChainQueryConfig"><span class="hs-identifier">ChainQueryConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#ChainQueryEnv"><span class="hs-identifier">ChainQueryEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier">Config</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DBConnection"><span class="hs-identifier">DBConnection</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DbConfig"><span class="hs-identifier">DbConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>                         </span><span class="annot"><a href="Plutus.PAB.Types.html#PABError"><span class="hs-identifier">PABError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#BeamEffectError"><span class="hs-identifier">BeamEffectError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#ChainIndexError"><span class="hs-identifier">ChainIndexError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#NodeClientError"><span class="hs-identifier">NodeClientError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#RemoteWalletWithMockNodeError"><span class="hs-identifier">RemoteWalletWithMockNodeError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#WalletClientError"><span class="hs-identifier">WalletClientError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#WalletError"><span class="hs-identifier">WalletError</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>                         </span><span class="annot"><a href="Plutus.PAB.Types.html#WebserverConfig"><span class="hs-identifier">WebserverConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#WebserverConfig"><span class="hs-identifier">WebserverConfig</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#_PostgresPool"><span class="hs-identifier">_PostgresPool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#_SqlitePool"><span class="hs-identifier">_SqlitePool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#chainQueryConfig"><span class="hs-identifier">chainQueryConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#dbConfig"><span class="hs-identifier">dbConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>                         </span><span class="annot"><a href="Plutus.PAB.Types.html#endpointTimeout"><span class="hs-identifier">endpointTimeout</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#getBlockfrostEnv"><span class="hs-identifier">getBlockfrostEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#getChainIndexEnv"><span class="hs-identifier">getChainIndexEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier">nodeServerConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#pabWebserverConfig"><span class="hs-identifier">pabWebserverConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>                         </span><span class="annot"><a href="Plutus.PAB.Types.html#waitStatusTimeout"><span class="hs-identifier">waitStatusTimeout</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#walletServerConfig"><span class="hs-identifier">walletServerConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier">Servant.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier">ClientEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bp0ml9hvqnwczc48023rn371h6pzz2r6-servant-client-core-lib-servant-client-core-0.18.3-haddock-doc/share/doc/servant-client-core/html/src"><span class="hs-identifier">ClientError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier">mkClientEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.API</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">NodeClientEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Effects</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">WalletEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Emulator.Wallet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">WalletAPIError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Wallet.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">ContractInstanceId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier">Database.Beam.Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier">Postgres</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier">Database.Beam.Sqlite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier">Sqlite</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier">Plutus.Blockfrost.Client</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BlockfrostClient</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier">Plutus.Blockfrost.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BF</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier">BlockfrostConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier">bfTokenPath</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier">BlockfrostEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">------------------------------------------------------------</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | Application environment with a contract type `a`.</span><span>
</span><span id="line-105"></span><span class="hs-keyword">data</span><span> </span><span id="AppEnv"><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-var">AppEnv</span></a></span></span><span> </span><span id="local-6989586621680394964"><span class="annot"><a href="#local-6989586621680394964"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>    </span><span id="AppEnv"><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-var">AppEnv</span></a></span></span><span>
</span><span id="line-107"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="dbPool"><span class="annot"><span class="annottext">AppEnv a -&gt; DBConnection
</span><a href="Plutus.PAB.App.html#dbPool"><span class="hs-identifier hs-var hs-var">dbPool</span></a></span></span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DBConnection"><span class="hs-identifier hs-type">DBConnection</span></a></span><span>
</span><span id="line-108"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="walletClientEnv"><span class="annot"><span class="annottext">AppEnv a -&gt; Maybe ClientEnv
</span><a href="Plutus.PAB.App.html#walletClientEnv"><span class="hs-identifier hs-var hs-var">walletClientEnv</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span> </span><span class="hs-comment">-- ^ No 'ClientEnv' when in the remote client setting.</span><span>
</span><span id="line-109"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="nodeClientEnv"><span class="annot"><span class="annottext">AppEnv a -&gt; ClientEnv
</span><a href="Plutus.PAB.App.html#nodeClientEnv"><span class="hs-identifier hs-var hs-var">nodeClientEnv</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span>
</span><span id="line-110"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="chainQueryEnv"><span class="annot"><span class="annottext">AppEnv a -&gt; ChainQueryEnv
</span><a href="Plutus.PAB.App.html#chainQueryEnv"><span class="hs-identifier hs-var hs-var">chainQueryEnv</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#ChainQueryEnv"><span class="hs-identifier hs-type">ChainQueryEnv</span></a></span><span>
</span><span id="line-111"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="txSendHandle"><span class="annot"><span class="annottext">AppEnv a -&gt; Maybe TxSendHandle
</span><a href="Plutus.PAB.App.html#txSendHandle"><span class="hs-identifier hs-var hs-var">txSendHandle</span></a></span></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Protocol.Socket.Mock.Client.html#TxSendHandle"><span class="hs-identifier hs-type">MockClient.TxSendHandle</span></a></span><span> </span><span class="hs-comment">-- No 'TxSendHandle' required when connecting to the real node.</span><span>
</span><span id="line-112"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="chainSyncHandle"><span class="annot"><span class="annottext">AppEnv a -&gt; ChainSyncHandle
</span><a href="Plutus.PAB.App.html#chainSyncHandle"><span class="hs-identifier hs-var hs-var">chainSyncHandle</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#ChainSyncHandle"><span class="hs-identifier hs-type">ChainSyncHandle</span></a></span><span>
</span><span id="line-113"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="appConfig"><span class="annot"><span class="annottext">AppEnv a -&gt; Config
</span><a href="Plutus.PAB.App.html#appConfig"><span class="hs-identifier hs-var hs-var">appConfig</span></a></span></span><span>             </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-114"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="appTrace"><span class="annot"><span class="annottext">AppEnv a -&gt; Trace IO (PABLogMsg (Builtin a))
</span><a href="Plutus.PAB.App.html#appTrace"><span class="hs-identifier hs-var hs-var">appTrace</span></a></span></span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394964"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="appInMemContractStore"><span class="annot"><span class="annottext">AppEnv a -&gt; InMemInstances (Builtin a)
</span><a href="Plutus.PAB.App.html#appInMemContractStore"><span class="hs-identifier hs-var hs-var">appInMemContractStore</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Db.Memory.ContractStore.html#InMemInstances"><span class="hs-identifier hs-type">InMemInstances</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394964"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><a href="Plutus.PAB.App.html#appEffectHandlers"><span class="hs-identifier hs-type">appEffectHandlers</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680394816"><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier hs-type">HasDefinitions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.App.html#StorageBackend"><span class="hs-identifier hs-type">StorageBackend</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier hs-type">BuiltinHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.html#EffectHandlers"><span class="hs-identifier hs-type">EffectHandlers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span id="appEffectHandlers"><span class="annot"><span class="annottext">appEffectHandlers :: StorageBackend
-&gt; Config
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; BuiltinHandler a
-&gt; EffectHandlers (Builtin a) (AppEnv a)
</span><a href="Plutus.PAB.App.html#appEffectHandlers"><span class="hs-identifier hs-var hs-var">appEffectHandlers</span></a></span></span><span> </span><span id="local-6989586621680394644"><span class="annot"><span class="annottext">StorageBackend
</span><a href="#local-6989586621680394644"><span class="hs-identifier hs-var">storageBackend</span></a></span></span><span> </span><span id="local-6989586621680394643"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621680394642"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier hs-type">BuiltinHandler</span></a></span><span class="hs-special">{</span><span id="local-6989586621680394641"><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
(Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs) =&gt;
ContractEffect (Builtin a) ~&gt; Eff effs
contractHandler :: forall (effs :: [* -&gt; *]).
(Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs) =&gt;
ContractEffect (Builtin a) ~&gt; Eff effs
contractHandler :: forall a.
BuiltinHandler a
-&gt; forall (effs :: [* -&gt; *]).
   (Member (Error PABError) effs,
    Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs) =&gt;
   ContractEffect (Builtin a) ~&gt; Eff effs
</span><a href="#local-6989586621680394641"><span class="hs-identifier hs-var hs-var">contractHandler</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="annottext">EffectHandlers :: forall t env.
(forall (effs :: [* -&gt; *]).
 (Member (Error PABError) effs, LastMember IO effs) =&gt;
 Eff effs (InstancesState, BlockchainEnv, env))
-&gt; (forall (effs :: [* -&gt; *]).
    (Member (Reader (PABEnvironment t env)) effs,
     Member TimeEffect effs, Member (Error PABError) effs,
     LastMember IO effs) =&gt;
    Eff (LogMsg (PABMultiAgentMsg t) : effs) ~&gt; Eff effs)
-&gt; (forall (effs :: [* -&gt; *]).
    (Member (Reader (PABEnvironment t env)) effs,
     Member (Error PABError) effs, Member TimeEffect effs,
     Member (LogMsg (PABMultiAgentMsg t)) effs, LastMember IO effs) =&gt;
    Eff (ContractStore t : effs) ~&gt; Eff effs)
-&gt; (forall (effs :: [* -&gt; *]).
    (Member (Reader (PABEnvironment t env)) effs,
     Member (Error PABError) effs, Member TimeEffect effs,
     Member (LogMsg (PABMultiAgentMsg t)) effs, LastMember IO effs) =&gt;
    Eff (ContractEffect t : effs) ~&gt; Eff effs)
-&gt; (forall (effs :: [* -&gt; *]).
    (Member (Reader (PABEnvironment t env)) effs,
     Member (Error PABError) effs, Member TimeEffect effs,
     Member (LogMsg (PABMultiAgentMsg t)) effs, LastMember IO effs) =&gt;
    Eff (ContractDefinition t : effs) ~&gt; Eff effs)
-&gt; (forall (effs :: [* -&gt; *]).
    (Member (Reader (PABEnvironment t env)) effs,
     Member (Error PABError) effs, Member TimeEffect effs,
     Member (LogMsg (PABMultiAgentMsg t)) effs, LastMember IO effs) =&gt;
    Wallet
    -&gt; Maybe ContractInstanceId
    -&gt; Eff
         (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs)
       ~&gt; Eff effs)
-&gt; PABAction t env ()
-&gt; PABAction t env ()
-&gt; EffectHandlers t env
</span><a href="Plutus.PAB.Core.html#EffectHandlers"><span class="hs-identifier hs-type">EffectHandlers</span></a></span><span>
</span><span id="line-132"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">initialiseEnvironment :: forall (effs :: [* -&gt; *]).
(Member (Error PABError) effs, LastMember IO effs) =&gt;
Eff effs (InstancesState, BlockchainEnv, AppEnv a)
</span><a href="Plutus.PAB.Core.html#initialiseEnvironment"><span class="hs-identifier hs-var">initialiseEnvironment</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-133"></span><span>            </span><span id="local-6989586621680394639"><span class="annot"><span class="annottext">AppEnv a
</span><a href="#local-6989586621680394639"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (AppEnv a) -&gt; Eff effs (AppEnv a)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (AppEnv a) -&gt; Eff effs (AppEnv a))
-&gt; IO (AppEnv a) -&gt; Eff effs (AppEnv a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Config -&gt; IO (AppEnv a)
forall a.
Trace IO (PABLogMsg (Builtin a)) -&gt; Config -&gt; IO (AppEnv a)
</span><a href="Plutus.PAB.App.html#mkEnv"><span class="hs-identifier hs-var">mkEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-134"></span><span>            </span><span id="local-6989586621680394637"><span class="annot"><span class="annottext">InstancesState
</span><a href="#local-6989586621680394637"><span class="hs-identifier hs-var">instancesState</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO InstancesState -&gt; Eff effs InstancesState
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO InstancesState
</span><a href="Plutus.PAB.Core.ContractInstance.STM.html#emptyInstancesState"><span class="hs-identifier hs-var">Instances.emptyInstancesState</span></a></span><span>
</span><span id="line-135"></span><span>            </span><span id="local-6989586621680394636"><span class="annot"><span class="annottext">BlockchainEnv
</span><a href="#local-6989586621680394636"><span class="hs-identifier hs-var">blockchainEnv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO BlockchainEnv -&gt; Eff effs BlockchainEnv
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO BlockchainEnv -&gt; Eff effs BlockchainEnv)
-&gt; IO BlockchainEnv -&gt; Eff effs BlockchainEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; InstancesState -&gt; IO BlockchainEnv
</span><a href="Plutus.PAB.Core.ContractInstance.BlockchainEnv.html#startNodeClient"><span class="hs-identifier hs-var">BlockchainEnv.startNodeClient</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">InstancesState
</span><a href="#local-6989586621680394637"><span class="hs-identifier hs-var">instancesState</span></a></span><span>
</span><span id="line-136"></span><span>            </span><span class="annot"><span class="annottext">(InstancesState, BlockchainEnv, AppEnv a)
-&gt; Eff effs (InstancesState, BlockchainEnv, AppEnv a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InstancesState
</span><a href="#local-6989586621680394637"><span class="hs-identifier hs-var">instancesState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockchainEnv
</span><a href="#local-6989586621680394636"><span class="hs-identifier hs-var">blockchainEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AppEnv a
</span><a href="#local-6989586621680394639"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">handleLogMessages :: forall (effs :: [* -&gt; *]).
(Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs,
 Member TimeEffect effs, Member (Error PABError) effs,
 LastMember IO effs) =&gt;
Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleLogMessages"><span class="hs-identifier hs-var">handleLogMessages</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-139"></span><span>            </span><span class="annot"><span class="annottext">(LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs)
-&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
-&gt; LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs
forall a (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m) =&gt;
Trace m a -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">handleLogMsgTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>            </span><span class="annot"><span class="annottext">(Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x -&gt; Eff effs x)
-&gt; (Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
    -&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x)
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg (PABMultiAgentMsg (Builtin a))
 ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs))
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; LogMsg (PABMultiAgentMsg (Builtin a))
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">handleContractEffect :: forall (effs :: [* -&gt; *]).
(Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs,
 Member (Error PABError) effs, Member TimeEffect effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs,
 LastMember IO effs) =&gt;
Eff (ContractEffect (Builtin a) : effs) ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleContractEffect"><span class="hs-identifier hs-var">handleContractEffect</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-143"></span><span>            </span><span class="annot"><span class="annottext">(LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs)
-&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
-&gt; LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs
forall a (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m) =&gt;
Trace m a -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">handleLogMsgTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>            </span><span class="annot"><span class="annottext">(Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x -&gt; Eff effs x)
-&gt; (Eff (ContractEffect (Builtin a) : effs) x
    -&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractEffect (Builtin a) : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ContractEffect (Builtin a)
 ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs))
-&gt; Eff (ContractEffect (Builtin a) : effs)
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
(Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs) =&gt;
ContractEffect (Builtin a) ~&gt; Eff effs
ContractEffect (Builtin a)
~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
</span><a href="#local-6989586621680394641"><span class="hs-identifier hs-var">contractHandler</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">handleContractStoreEffect :: forall (effs :: [* -&gt; *]).
(Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs,
 Member (Error PABError) effs, Member TimeEffect effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs,
 LastMember IO effs) =&gt;
Eff (ContractStore (Builtin a) : effs) ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleContractStoreEffect"><span class="hs-identifier hs-var">handleContractStoreEffect</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-147"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StorageBackend
</span><a href="#local-6989586621680394644"><span class="hs-identifier hs-var">storageBackend</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-148"></span><span>            </span><span class="annot"><span class="annottext">StorageBackend
</span><a href="Plutus.PAB.App.html#InMemoryBackend"><span class="hs-identifier hs-var">InMemoryBackend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-149"></span><span>              </span><span class="annot"><span class="annottext">(Reader (AppEnv a) ~&gt; Eff effs)
-&gt; Eff (Reader (AppEnv a) : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>              </span><span class="annot"><span class="annottext">(Eff (Reader (AppEnv a) : effs) x -&gt; Eff effs x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff (Reader (AppEnv a) : effs) x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (InMemInstances (Builtin a))
 ~&gt; Eff (Reader (AppEnv a) : effs))
-&gt; Eff
     (Reader (InMemInstances (Builtin a)) : Reader (AppEnv a) : effs)
   ~&gt; Eff (Reader (AppEnv a) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; InMemInstances (Builtin a))
-&gt; Reader (InMemInstances (Builtin a))
   ~&gt; Eff (Reader (AppEnv a) : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; InMemInstances (Builtin a)
forall a. AppEnv a -&gt; InMemInstances (Builtin a)
</span><a href="Plutus.PAB.App.html#appInMemContractStore"><span class="hs-identifier hs-var hs-var">appInMemContractStore</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>              </span><span class="annot"><span class="annottext">(Eff
   (Reader (InMemInstances (Builtin a)) : Reader (AppEnv a) : effs) x
 -&gt; Eff (Reader (AppEnv a) : effs) x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (Reader (InMemInstances (Builtin a)) : Reader (AppEnv a) : effs) x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff (Reader (AppEnv a) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ContractStore (Builtin a)
 ~&gt; Eff
      (Reader (InMemInstances (Builtin a)) : Reader (AppEnv a) : effs))
-&gt; Eff (ContractStore (Builtin a) : effs)
   ~&gt; Eff
        (Reader (InMemInstances (Builtin a)) : Reader (AppEnv a) : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *)
       (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : h : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : h : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret2</span></a></span><span> </span><span class="annot"><span class="annottext">ContractStore (Builtin a)
~&gt; Eff
     (Reader (InMemInstances (Builtin a)) : Reader (AppEnv a) : effs)
forall t (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader (InMemInstances t)) effs,
 Member (Error PABError) effs) =&gt;
ContractStore t ~&gt; Eff effs
</span><a href="Plutus.PAB.Db.Memory.ContractStore.html#handleContractStore"><span class="hs-identifier hs-var">InMem.handleContractStore</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>            </span><span class="annot"><span class="annottext">StorageBackend
</span><a href="Plutus.PAB.App.html#BeamBackend"><span class="hs-identifier hs-var">BeamBackend</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-154"></span><span>              </span><span class="annot"><span class="annottext">(LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs)
-&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
-&gt; LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs
forall a (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m) =&gt;
Trace m a -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">handleLogMsgTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>              </span><span class="annot"><span class="annottext">(Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x -&gt; Eff effs x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg (PABMultiAgentMsg (Builtin a))
 ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs))
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; LogMsg (PABMultiAgentMsg (Builtin a))
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>              </span><span class="annot"><span class="annottext">(Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
 -&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
 -&gt; (BeamError
     -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
 -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (BeamError
    -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff
     (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
-&gt; (BeamError
    -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABError -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(PABError -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (BeamError -&gt; PABError)
-&gt; BeamError
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BeamError -&gt; PABError
</span><a href="Plutus.PAB.Types.html#BeamEffectError"><span class="hs-identifier hs-var">BeamEffectError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>              </span><span class="annot"><span class="annottext">(Eff
   (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
 -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff
      (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>              </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff
     (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Config -&gt; DbConfig
</span><a href="Plutus.PAB.Types.html#dbConfig"><span class="hs-identifier hs-var hs-var">dbConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-159"></span><span>                    </span><span class="annot"><a href="Plutus.PAB.Types.html#SqliteDB"><span class="hs-identifier hs-type">SqliteDB</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-160"></span><span>                          </span><span class="annot"><span class="annottext">(Reader (Pool Connection)
 ~&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; Pool Connection)
-&gt; Reader (Pool Connection)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DBConnection
-&gt; Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
-&gt; Pool Connection
forall s a. HasCallStack =&gt; s -&gt; Getting (Endo a) s a -&gt; a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator hs-var">^?!</span></a></span><span class="annot"><span class="annottext">Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
Prism' DBConnection (Pool Connection)
</span><a href="Plutus.PAB.Types.html#_SqlitePool"><span class="hs-identifier hs-var">_SqlitePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DBConnection -&gt; Pool Connection)
-&gt; (AppEnv a -&gt; DBConnection) -&gt; AppEnv a -&gt; Pool Connection
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; DBConnection
forall a. AppEnv a -&gt; DBConnection
</span><a href="Plutus.PAB.App.html#dbPool"><span class="hs-identifier hs-var hs-var">dbPool</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>                        </span><span class="annot"><span class="annottext">(Eff
   (Reader (Pool Connection)
      : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(BeamEffect Sqlite
 ~&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (BeamEffect Sqlite
        : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Trace IO BeamLog
 -&gt; SqliteM
    ~&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Trace IO BeamLog
-&gt; BeamEffect Sqlite
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall dbt (dbM :: * -&gt; *) (effs :: [* -&gt; *]).
(BeamSqlBackend dbt, MonadBeam dbt dbM,
 BeamHasInsertOnConflict dbt) =&gt;
(Trace IO BeamLog -&gt; dbM ~&gt; Eff effs)
-&gt; Trace IO BeamLog -&gt; BeamEffect dbt ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">handleBeam</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO BeamLog
-&gt; SqliteM
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader (Pool Connection)) effs) =&gt;
Trace IO BeamLog -&gt; SqliteM ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">Sqlite.runBeam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(BeamLog -&gt; PABLogMsg (Builtin a))
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; Trace IO BeamLog
forall a b (m :: * -&gt; *). (a -&gt; b) -&gt; Trace m b -&gt; Trace m a
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">convertLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span> </span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; (BeamLog -&gt; PABMultiAgentMsg (Builtin a))
-&gt; BeamLog
-&gt; PABLogMsg (Builtin a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BeamLog -&gt; PABMultiAgentMsg (Builtin a)
forall t. BeamLog -&gt; PABMultiAgentMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#BeamLogItem"><span class="hs-identifier hs-var">BeamLogItem</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>                        </span><span class="annot"><span class="annottext">(Eff
   (BeamEffect Sqlite
      : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (BeamEffect Sqlite
            : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ContractStore (Builtin a)
 ~&gt; Eff
      ('[BeamEffect Sqlite, Reader (Pool Connection), Reader (AppEnv a),
         Error BeamError, LogMsg (PABMultiAgentMsg (Builtin a))]
       :++: effs))
-&gt; Eff (ContractStore (Builtin a) : effs)
   ~&gt; Eff
        ('[BeamEffect Sqlite, Reader (Pool Connection), Reader (AppEnv a),
           Error BeamError, LogMsg (PABMultiAgentMsg (Builtin a))]
         :++: effs)
forall (gs :: [* -&gt; *]) (f :: * -&gt; *) (effs :: [* -&gt; *]).
Weakens gs =&gt;
(f ~&gt; Eff (gs :++: effs)) -&gt; Eff (f : effs) ~&gt; Eff (gs :++: effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpretN</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (effs :: [* -&gt; *]).
(FromBackendRow Sqlite Text, FromBackendRow Sqlite Bool,
 FromBackendRow Sqlite SqlNull,
 HasSqlValueSyntax (Synt Sqlite) (Maybe Text),
 HasSqlValueSyntax (Synt Sqlite) Text,
 HasSqlValueSyntax (Synt Sqlite) Bool,
 HasSqlEqualityCheck Sqlite Text, HasSqlEqualityCheck Sqlite Bool,
 HasQBuilder Sqlite, Member (BeamEffect Sqlite) effs,
 Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs, ToJSON a,
 FromJSON a, HasDefinitions a, Typeable a) =&gt;
ContractStore (Builtin a) ~&gt; Eff effs
forall dbt a (effs :: [* -&gt; *]).
(FromBackendRow dbt Text, FromBackendRow dbt Bool,
 FromBackendRow dbt SqlNull,
 HasSqlValueSyntax (Synt dbt) (Maybe Text),
 HasSqlValueSyntax (Synt dbt) Text,
 HasSqlValueSyntax (Synt dbt) Bool, HasSqlEqualityCheck dbt Text,
 HasSqlEqualityCheck dbt Bool, HasQBuilder dbt,
 Member (BeamEffect dbt) effs, Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs, ToJSON a,
 FromJSON a, HasDefinitions a, Typeable a) =&gt;
ContractStore (Builtin a) ~&gt; Eff effs
</span><a href="Plutus.PAB.Db.Beam.ContractStore.html#handleContractStore"><span class="hs-identifier hs-var">BeamEff.handleContractStore</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier hs-type">Sqlite</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>                    </span><span class="annot"><a href="Plutus.PAB.Types.html#PostgresDB"><span class="hs-identifier hs-type">PostgresDB</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-164"></span><span>                          </span><span class="annot"><span class="annottext">(Reader (Pool Connection)
 ~&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; Pool Connection)
-&gt; Reader (Pool Connection)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DBConnection
-&gt; Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
-&gt; Pool Connection
forall s a. HasCallStack =&gt; s -&gt; Getting (Endo a) s a -&gt; a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator hs-var">^?!</span></a></span><span class="annot"><span class="annottext">Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
Prism' DBConnection (Pool Connection)
</span><a href="Plutus.PAB.Types.html#_PostgresPool"><span class="hs-identifier hs-var">_PostgresPool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DBConnection -&gt; Pool Connection)
-&gt; (AppEnv a -&gt; DBConnection) -&gt; AppEnv a -&gt; Pool Connection
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; DBConnection
forall a. AppEnv a -&gt; DBConnection
</span><a href="Plutus.PAB.App.html#dbPool"><span class="hs-identifier hs-var hs-var">dbPool</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>                        </span><span class="annot"><span class="annottext">(Eff
   (Reader (Pool Connection)
      : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(BeamEffect Postgres
 ~&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (BeamEffect Postgres
        : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Trace IO BeamLog
 -&gt; Pg
    ~&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Trace IO BeamLog
-&gt; BeamEffect Postgres
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall dbt (dbM :: * -&gt; *) (effs :: [* -&gt; *]).
(BeamSqlBackend dbt, MonadBeam dbt dbM,
 BeamHasInsertOnConflict dbt) =&gt;
(Trace IO BeamLog -&gt; dbM ~&gt; Eff effs)
-&gt; Trace IO BeamLog -&gt; BeamEffect dbt ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">handleBeam</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO BeamLog
-&gt; Pg
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader (Pool Connection)) effs) =&gt;
Trace IO BeamLog -&gt; Pg ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">Postgres.runBeam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(BeamLog -&gt; PABLogMsg (Builtin a))
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; Trace IO BeamLog
forall a b (m :: * -&gt; *). (a -&gt; b) -&gt; Trace m b -&gt; Trace m a
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">convertLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span> </span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; (BeamLog -&gt; PABMultiAgentMsg (Builtin a))
-&gt; BeamLog
-&gt; PABLogMsg (Builtin a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BeamLog -&gt; PABMultiAgentMsg (Builtin a)
forall t. BeamLog -&gt; PABMultiAgentMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#BeamLogItem"><span class="hs-identifier hs-var">BeamLogItem</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>                        </span><span class="annot"><span class="annottext">(Eff
   (BeamEffect Postgres
      : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractStore (Builtin a) : effs) x
    -&gt; Eff
         (BeamEffect Postgres
            : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractStore (Builtin a) : effs) x
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ContractStore (Builtin a)
 ~&gt; Eff
      ('[BeamEffect Postgres, Reader (Pool Connection),
         Reader (AppEnv a), Error BeamError,
         LogMsg (PABMultiAgentMsg (Builtin a))]
       :++: effs))
-&gt; Eff (ContractStore (Builtin a) : effs)
   ~&gt; Eff
        ('[BeamEffect Postgres, Reader (Pool Connection),
           Reader (AppEnv a), Error BeamError,
           LogMsg (PABMultiAgentMsg (Builtin a))]
         :++: effs)
forall (gs :: [* -&gt; *]) (f :: * -&gt; *) (effs :: [* -&gt; *]).
Weakens gs =&gt;
(f ~&gt; Eff (gs :++: effs)) -&gt; Eff (f : effs) ~&gt; Eff (gs :++: effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpretN</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a (effs :: [* -&gt; *]).
(FromBackendRow Postgres Text, FromBackendRow Postgres Bool,
 FromBackendRow Postgres SqlNull,
 HasSqlValueSyntax (Synt Postgres) (Maybe Text),
 HasSqlValueSyntax (Synt Postgres) Text,
 HasSqlValueSyntax (Synt Postgres) Bool,
 HasSqlEqualityCheck Postgres Text,
 HasSqlEqualityCheck Postgres Bool, HasQBuilder Postgres,
 Member (BeamEffect Postgres) effs, Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs, ToJSON a,
 FromJSON a, HasDefinitions a, Typeable a) =&gt;
ContractStore (Builtin a) ~&gt; Eff effs
forall dbt a (effs :: [* -&gt; *]).
(FromBackendRow dbt Text, FromBackendRow dbt Bool,
 FromBackendRow dbt SqlNull,
 HasSqlValueSyntax (Synt dbt) (Maybe Text),
 HasSqlValueSyntax (Synt dbt) Text,
 HasSqlValueSyntax (Synt dbt) Bool, HasSqlEqualityCheck dbt Text,
 HasSqlEqualityCheck dbt Bool, HasQBuilder dbt,
 Member (BeamEffect dbt) effs, Member (Error PABError) effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs, ToJSON a,
 FromJSON a, HasDefinitions a, Typeable a) =&gt;
ContractStore (Builtin a) ~&gt; Eff effs
</span><a href="Plutus.PAB.Db.Beam.ContractStore.html#handleContractStore"><span class="hs-identifier hs-var">BeamEff.handleContractStore</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier hs-type">Postgres</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">handleContractDefinitionEffect :: forall (effs :: [* -&gt; *]).
(Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs,
 Member (Error PABError) effs, Member TimeEffect effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs,
 LastMember IO effs) =&gt;
Eff (ContractDefinition (Builtin a) : effs) ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleContractDefinitionEffect"><span class="hs-identifier hs-var">handleContractDefinitionEffect</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-169"></span><span>            </span><span class="annot"><span class="annottext">(LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs)
-&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) ~&gt; Eff effs
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
-&gt; LogMsg (PABLogMsg (Builtin a)) ~&gt; Eff effs
forall a (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m) =&gt;
Trace m a -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">handleLogMsgTrace</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>            </span><span class="annot"><span class="annottext">(Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x -&gt; Eff effs x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg (PABMultiAgentMsg (Builtin a))
 ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs))
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; LogMsg (PABMultiAgentMsg (Builtin a))
   ~&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs)
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>            </span><span class="annot"><span class="annottext">(Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
 -&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff (LogMsg (PABLogMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
 -&gt; (BeamError
     -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
 -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (BeamError
    -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff
     (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
-&gt; (BeamError
    -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABError -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(PABError -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (BeamError -&gt; PABError)
-&gt; BeamError
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BeamError -&gt; PABError
</span><a href="Plutus.PAB.Types.html#BeamEffectError"><span class="hs-identifier hs-var">BeamEffectError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
 -&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff (LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Config -&gt; DbConfig
</span><a href="Plutus.PAB.Types.html#dbConfig"><span class="hs-identifier hs-var hs-var">dbConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-173"></span><span>                  </span><span class="annot"><a href="Plutus.PAB.Types.html#SqliteDB"><span class="hs-identifier hs-type">SqliteDB</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff
      (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>                                </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff
     (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (Pool Connection)
 ~&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; Pool Connection)
-&gt; Reader (Pool Connection)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DBConnection
-&gt; Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
-&gt; Pool Connection
forall s a. HasCallStack =&gt; s -&gt; Getting (Endo a) s a -&gt; a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator hs-var">^?!</span></a></span><span class="annot"><span class="annottext">Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
Prism' DBConnection (Pool Connection)
</span><a href="Plutus.PAB.Types.html#_SqlitePool"><span class="hs-identifier hs-var">_SqlitePool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DBConnection -&gt; Pool Connection)
-&gt; (AppEnv a -&gt; DBConnection) -&gt; AppEnv a -&gt; Pool Connection
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; DBConnection
forall a. AppEnv a -&gt; DBConnection
</span><a href="Plutus.PAB.App.html#dbPool"><span class="hs-identifier hs-var hs-var">dbPool</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>                                </span><span class="annot"><span class="annottext">(Eff
   (Reader (Pool Connection)
      : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(BeamEffect Sqlite
 ~&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (BeamEffect Sqlite
        : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Trace IO BeamLog
 -&gt; SqliteM
    ~&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Trace IO BeamLog
-&gt; BeamEffect Sqlite
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall dbt (dbM :: * -&gt; *) (effs :: [* -&gt; *]).
(BeamSqlBackend dbt, MonadBeam dbt dbM,
 BeamHasInsertOnConflict dbt) =&gt;
(Trace IO BeamLog -&gt; dbM ~&gt; Eff effs)
-&gt; Trace IO BeamLog -&gt; BeamEffect dbt ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">handleBeam</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO BeamLog
-&gt; SqliteM
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader (Pool Connection)) effs) =&gt;
Trace IO BeamLog -&gt; SqliteM ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">Sqlite.runBeam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(BeamLog -&gt; PABLogMsg (Builtin a))
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; Trace IO BeamLog
forall a b (m :: * -&gt; *). (a -&gt; b) -&gt; Trace m b -&gt; Trace m a
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">convertLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span> </span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; (BeamLog -&gt; PABMultiAgentMsg (Builtin a))
-&gt; BeamLog
-&gt; PABLogMsg (Builtin a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BeamLog -&gt; PABMultiAgentMsg (Builtin a)
forall t. BeamLog -&gt; PABMultiAgentMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#BeamLogItem"><span class="hs-identifier hs-var">BeamLogItem</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>                                </span><span class="annot"><span class="annottext">(Eff
   (BeamEffect Sqlite
      : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (BeamEffect Sqlite
            : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ContractDefinition (Builtin a)
 ~&gt; Eff
      ('[BeamEffect Sqlite, Reader (Pool Connection), Reader (AppEnv a),
         Error BeamError, LogMsg (PABMultiAgentMsg (Builtin a))]
       :++: effs))
-&gt; Eff (ContractDefinition (Builtin a) : effs)
   ~&gt; Eff
        ('[BeamEffect Sqlite, Reader (Pool Connection), Reader (AppEnv a),
           Error BeamError, LogMsg (PABMultiAgentMsg (Builtin a))]
         :++: effs)
forall (gs :: [* -&gt; *]) (f :: * -&gt; *) (effs :: [* -&gt; *]).
Weakens gs =&gt;
(f ~&gt; Eff (gs :++: effs)) -&gt; Eff (f : effs) ~&gt; Eff (gs :++: effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpretN</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">ContractDefinition (Builtin a)
~&gt; Eff
     ('[BeamEffect Sqlite, Reader (Pool Connection), Reader (AppEnv a),
        Error BeamError, LogMsg (PABMultiAgentMsg (Builtin a))]
      :++: effs)
forall a (effs :: [* -&gt; *]).
HasDefinitions a =&gt;
ContractDefinition (Builtin a) ~&gt; Eff effs
</span><a href="Plutus.PAB.App.html#handleContractDefinition"><span class="hs-identifier hs-var">handleContractDefinition</span></a></span><span>
</span><span id="line-177"></span><span>                  </span><span class="annot"><a href="Plutus.PAB.Types.html#PostgresDB"><span class="hs-identifier hs-type">PostgresDB</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff
      (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>                                </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff
     (Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (Pool Connection)
 ~&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; Pool Connection)
-&gt; Reader (Pool Connection)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DBConnection
-&gt; Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
-&gt; Pool Connection
forall s a. HasCallStack =&gt; s -&gt; Getting (Endo a) s a -&gt; a
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-operator hs-var">^?!</span></a></span><span class="annot"><span class="annottext">Getting (Endo (Pool Connection)) DBConnection (Pool Connection)
Prism' DBConnection (Pool Connection)
</span><a href="Plutus.PAB.Types.html#_PostgresPool"><span class="hs-identifier hs-var">_PostgresPool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DBConnection -&gt; Pool Connection)
-&gt; (AppEnv a -&gt; DBConnection) -&gt; AppEnv a -&gt; Pool Connection
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; DBConnection
forall a. AppEnv a -&gt; DBConnection
</span><a href="Plutus.PAB.App.html#dbPool"><span class="hs-identifier hs-var hs-var">dbPool</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>                                </span><span class="annot"><span class="annottext">(Eff
   (Reader (Pool Connection)
      : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Error BeamError : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(BeamEffect Postgres
 ~&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Eff
     (BeamEffect Postgres
        : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Trace IO BeamLog
 -&gt; Pg
    ~&gt; Eff
         (Reader (Pool Connection)
            : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs))
-&gt; Trace IO BeamLog
-&gt; BeamEffect Postgres
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall dbt (dbM :: * -&gt; *) (effs :: [* -&gt; *]).
(BeamSqlBackend dbt, MonadBeam dbt dbM,
 BeamHasInsertOnConflict dbt) =&gt;
(Trace IO BeamLog -&gt; dbM ~&gt; Eff effs)
-&gt; Trace IO BeamLog -&gt; BeamEffect dbt ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">handleBeam</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO BeamLog
-&gt; Pg
   ~&gt; Eff
        (Reader (Pool Connection)
           : Reader (AppEnv a) : Error BeamError
           : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader (Pool Connection)) effs) =&gt;
Trace IO BeamLog -&gt; Pg ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">Postgres.runBeam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(BeamLog -&gt; PABLogMsg (Builtin a))
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; Trace IO BeamLog
forall a b (m :: * -&gt; *). (a -&gt; b) -&gt; Trace m b -&gt; Trace m a
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">convertLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a)
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span> </span><span class="annot"><span class="annottext">(PABMultiAgentMsg (Builtin a) -&gt; PABLogMsg (Builtin a))
-&gt; (BeamLog -&gt; PABMultiAgentMsg (Builtin a))
-&gt; BeamLog
-&gt; PABLogMsg (Builtin a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BeamLog -&gt; PABMultiAgentMsg (Builtin a)
forall t. BeamLog -&gt; PABMultiAgentMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#BeamLogItem"><span class="hs-identifier hs-var">BeamLogItem</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394642"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>                                </span><span class="annot"><span class="annottext">(Eff
   (BeamEffect Postgres
      : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
      : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
   x
 -&gt; Eff
      (Reader (Pool Connection)
         : Reader (AppEnv a) : Error BeamError
         : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
      x)
-&gt; (Eff (ContractDefinition (Builtin a) : effs) x
    -&gt; Eff
         (BeamEffect Postgres
            : Reader (Pool Connection) : Reader (AppEnv a) : Error BeamError
            : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
         x)
-&gt; Eff (ContractDefinition (Builtin a) : effs) x
-&gt; Eff
     (Reader (Pool Connection)
        : Reader (AppEnv a) : Error BeamError
        : LogMsg (PABMultiAgentMsg (Builtin a)) : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ContractDefinition (Builtin a)
 ~&gt; Eff
      ('[BeamEffect Postgres, Reader (Pool Connection),
         Reader (AppEnv a), Error BeamError,
         LogMsg (PABMultiAgentMsg (Builtin a))]
       :++: effs))
-&gt; Eff (ContractDefinition (Builtin a) : effs)
   ~&gt; Eff
        ('[BeamEffect Postgres, Reader (Pool Connection),
           Reader (AppEnv a), Error BeamError,
           LogMsg (PABMultiAgentMsg (Builtin a))]
         :++: effs)
forall (gs :: [* -&gt; *]) (f :: * -&gt; *) (effs :: [* -&gt; *]).
Weakens gs =&gt;
(f ~&gt; Eff (gs :++: effs)) -&gt; Eff (f : effs) ~&gt; Eff (gs :++: effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpretN</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">ContractDefinition (Builtin a)
~&gt; Eff
     ('[BeamEffect Postgres, Reader (Pool Connection),
        Reader (AppEnv a), Error BeamError,
        LogMsg (PABMultiAgentMsg (Builtin a))]
      :++: effs)
forall a (effs :: [* -&gt; *]).
HasDefinitions a =&gt;
ContractDefinition (Builtin a) ~&gt; Eff effs
</span><a href="Plutus.PAB.App.html#handleContractDefinition"><span class="hs-identifier hs-var">handleContractDefinition</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">handleServicesEffects :: forall (effs :: [* -&gt; *]).
(Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs,
 Member (Error PABError) effs, Member TimeEffect effs,
 Member (LogMsg (PABMultiAgentMsg (Builtin a))) effs,
 LastMember IO effs) =&gt;
Wallet
-&gt; Maybe ContractInstanceId
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleServicesEffects"><span class="hs-identifier hs-var">handleServicesEffects</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680394619"><span class="annot"><span class="annottext">Wallet
</span><a href="#local-6989586621680394619"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621680394618"><span class="annot"><span class="annottext">Maybe ContractInstanceId
</span><a href="#local-6989586621680394618"><span class="hs-identifier hs-var">cidM</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-183"></span><span>            </span><span class="hs-comment">-- handle 'NodeClientEffect'</span><span>
</span><span id="line-184"></span><span>            </span><span class="annot"><span class="annottext">(Eff (Error ClientError : effs) x
 -&gt; (ClientError -&gt; Eff effs x) -&gt; Eff effs x)
-&gt; (ClientError -&gt; Eff effs x)
-&gt; Eff (Error ClientError : effs) x
-&gt; Eff effs x
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (Error ClientError : effs) x
-&gt; (ClientError -&gt; Eff effs x) -&gt; Eff effs x
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABError -&gt; Eff effs x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(PABError -&gt; Eff effs x)
-&gt; (ClientError -&gt; PABError) -&gt; ClientError -&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ClientError -&gt; PABError
</span><a href="Plutus.PAB.Types.html#NodeClientError"><span class="hs-identifier hs-var">NodeClientError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>            </span><span class="annot"><span class="annottext">(Eff (Error ClientError : effs) x -&gt; Eff effs x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff (Error ClientError : effs) x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff effs x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a) ~&gt; Eff (Error ClientError : effs))
-&gt; Eff (Reader (AppEnv a) : Error ClientError : effs)
   ~&gt; Eff (Error ClientError : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>            </span><span class="annot"><span class="annottext">(Eff (Reader (AppEnv a) : Error ClientError : effs) x
 -&gt; Eff (Error ClientError : effs) x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff (Reader (AppEnv a) : Error ClientError : effs) x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff (Error ClientError : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader ChainSyncHandle
 ~&gt; Eff (Reader (AppEnv a) : Error ClientError : effs))
-&gt; Eff (Reader ChainSyncHandle : Error ClientError : effs)
   ~&gt; Eff (Reader (AppEnv a) : Error ClientError : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; ChainSyncHandle)
-&gt; Reader ChainSyncHandle
   ~&gt; Eff (Reader (AppEnv a) : Error ClientError : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Cardano.Node.Types.html#ChainSyncHandle"><span class="hs-identifier hs-type">ChainSyncHandle</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; ChainSyncHandle
forall a. AppEnv a -&gt; ChainSyncHandle
</span><a href="Plutus.PAB.App.html#chainSyncHandle"><span class="hs-identifier hs-var hs-var">chainSyncHandle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>            </span><span class="annot"><span class="annottext">(Eff (Reader ChainSyncHandle : Error ClientError : effs) x
 -&gt; Eff (Reader (AppEnv a) : Error ClientError : effs) x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff (Reader ChainSyncHandle : Error ClientError : effs) x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff (Reader (AppEnv a) : Error ClientError : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff (Reader ChainSyncHandle : Error ClientError : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : Reader ChainSyncHandle : Error ClientError : effs)
   ~&gt; Eff (Reader ChainSyncHandle : Error ClientError : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : Reader ChainSyncHandle : Error ClientError : effs)
   x
 -&gt; Eff (Reader ChainSyncHandle : Error ClientError : effs) x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : Reader ChainSyncHandle : Error ClientError : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff (Reader ChainSyncHandle : Error ClientError : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (Maybe TxSendHandle)
 ~&gt; Eff
      (Reader (AppEnv a)
         : Reader ChainSyncHandle : Error ClientError : effs))
-&gt; Eff
     (Reader (Maybe TxSendHandle)
        : Reader ChainSyncHandle : Error ClientError : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Reader ChainSyncHandle : Error ClientError : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; Maybe TxSendHandle)
-&gt; Reader (Maybe TxSendHandle)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Reader ChainSyncHandle : Error ClientError : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Protocol.Socket.Mock.Client.html#TxSendHandle"><span class="hs-identifier hs-type">MockClient.TxSendHandle</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; Maybe TxSendHandle
forall a. AppEnv a -&gt; Maybe TxSendHandle
</span><a href="Plutus.PAB.App.html#txSendHandle"><span class="hs-identifier hs-var hs-var">txSendHandle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (Maybe TxSendHandle)
      : Reader ChainSyncHandle : Error ClientError : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Reader ChainSyncHandle : Error ClientError : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (Maybe TxSendHandle)
            : Reader ChainSyncHandle : Error ClientError : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Reader ChainSyncHandle : Error ClientError : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff
      (Reader (Maybe TxSendHandle)
         : Reader ChainSyncHandle : Error ClientError : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
   ~&gt; Eff
        (Reader (Maybe TxSendHandle)
           : Reader ChainSyncHandle : Error ClientError : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
      : Error ClientError : effs)
   x
 -&gt; Eff
      (Reader (Maybe TxSendHandle)
         : Reader ChainSyncHandle : Error ClientError : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
            : Error ClientError : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (Maybe TxSendHandle)
        : Reader ChainSyncHandle : Error ClientError : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader ClientEnv
 ~&gt; Eff
      (Reader (AppEnv a)
         : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
         : Error ClientError : effs))
-&gt; Eff
     (Reader ClientEnv
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
           : Error ClientError : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; ClientEnv)
-&gt; Reader ClientEnv
   ~&gt; Eff
        (Reader (AppEnv a)
           : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
           : Error ClientError : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; ClientEnv
forall a. AppEnv a -&gt; ClientEnv
</span><a href="Plutus.PAB.App.html#nodeClientEnv"><span class="hs-identifier hs-var hs-var">nodeClientEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader ClientEnv
      : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
      : Error ClientError : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
         : Error ClientError : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader ClientEnv
            : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
            : Error ClientError : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(NodeClientEffect
 ~&gt; Eff
      ('[Reader ClientEnv, Reader (Maybe TxSendHandle),
         Reader ChainSyncHandle, Error ClientError]
       :++: effs))
-&gt; Eff (NodeClientEffect : effs)
   ~&gt; Eff
        ('[Reader ClientEnv, Reader (Maybe TxSendHandle),
           Reader ChainSyncHandle, Error ClientError]
         :++: effs)
forall (gs :: [* -&gt; *]) (f :: * -&gt; *) (effs :: [* -&gt; *]).
Weakens gs =&gt;
(f ~&gt; Eff (gs :++: effs)) -&gt; Eff (f : effs) ~&gt; Eff (gs :++: effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpretN</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span>
</span><span id="line-192"></span><span>              </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680394617"><span class="annot"><span class="annottext">NodeClientEffect x
</span><a href="#local-6989586621680394617"><span class="hs-identifier hs-var">nodeClientEffect</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-193"></span><span>                </span><span id="local-6989586621680394616"><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680394616"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Params
-&gt; Eff
     (Reader ClientEnv
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
     Params
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Params
 -&gt; Eff
      (Reader ClientEnv
         : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
         : Error ClientError : effs)
      Params)
-&gt; IO Params
-&gt; Eff
     (Reader ClientEnv
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
     Params
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PABServerConfig -&gt; IO Params
</span><a href="Cardano.Node.Params.html#fromPABServerConfig"><span class="hs-identifier hs-var">Params.fromPABServerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">(PABServerConfig -&gt; IO Params) -&gt; PABServerConfig -&gt; IO Params
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; PABServerConfig
</span><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier hs-var hs-var">nodeServerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-194"></span><span>                </span><span class="annot"><span class="annottext">Params
-&gt; NodeClientEffect x
-&gt; Eff
     (Reader ClientEnv
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
     x
forall (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m, Member (Error PABError) effs,
 Member (Reader (Maybe TxSendHandle)) effs,
 Member (Reader ChainSyncHandle) effs) =&gt;
Params -&gt; NodeClientEffect ~&gt; Eff effs
</span><a href="Cardano.Node.Client.html#handleNodeClientClient"><span class="hs-identifier hs-var">handleNodeClientClient</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">Params
</span><a href="#local-6989586621680394616"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">NodeClientEffect x
</span><a href="#local-6989586621680394617"><span class="hs-identifier hs-var">nodeClientEffect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>            </span><span class="hs-comment">-- handle 'ChainIndexEffect'</span><span>
</span><span id="line-197"></span><span>            </span><span class="annot"><span class="annottext">(Eff (NodeClientEffect : effs) x
 -&gt; Eff
      (Reader ClientEnv
         : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
         : Error ClientError : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff (NodeClientEffect : effs) x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader ClientEnv
        : Reader (Maybe TxSendHandle) : Reader ChainSyncHandle
        : Error ClientError : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (Error ClientError : NodeClientEffect : effs) x
 -&gt; (ClientError -&gt; Eff (NodeClientEffect : effs) x)
 -&gt; Eff (NodeClientEffect : effs) x)
-&gt; (ClientError -&gt; Eff (NodeClientEffect : effs) x)
-&gt; Eff (Error ClientError : NodeClientEffect : effs) x
-&gt; Eff (NodeClientEffect : effs) x
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff (Error ClientError : NodeClientEffect : effs) x
-&gt; (ClientError -&gt; Eff (NodeClientEffect : effs) x)
-&gt; Eff (NodeClientEffect : effs) x
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABError -&gt; Eff (NodeClientEffect : effs) x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(PABError -&gt; Eff (NodeClientEffect : effs) x)
-&gt; (ClientError -&gt; PABError)
-&gt; ClientError
-&gt; Eff (NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ClientError -&gt; PABError
</span><a href="Plutus.PAB.Types.html#ChainIndexError"><span class="hs-identifier hs-var">ChainIndexError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>            </span><span class="annot"><span class="annottext">(Eff (Error ClientError : NodeClientEffect : effs) x
 -&gt; Eff (NodeClientEffect : effs) x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff (Error ClientError : NodeClientEffect : effs) x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff (NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff (Error ClientError : NodeClientEffect : effs))
-&gt; Eff
     (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
   ~&gt; Eff (Error ClientError : NodeClientEffect : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs) x
 -&gt; Eff (Error ClientError : NodeClientEffect : effs) x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff (Error ClientError : NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Config -&gt; ChainQueryConfig
</span><a href="Plutus.PAB.Types.html#chainQueryConfig"><span class="hs-identifier hs-var hs-var">chainQueryConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-200"></span><span>                </span><span class="annot"><a href="Plutus.PAB.Types.html#ChainIndexConfig"><span class="hs-identifier hs-type">ChainIndexConfig</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Reader ClientEnv
 ~&gt; Eff
      (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs))
-&gt; Eff
     (Reader ClientEnv : Error ClientError : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; ClientEnv)
-&gt; Reader ClientEnv
   ~&gt; Eff
        (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainQueryEnv -&gt; ClientEnv
</span><a href="Plutus.PAB.Types.html#getChainIndexEnv"><span class="hs-identifier hs-var">getChainIndexEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainQueryEnv -&gt; ClientEnv)
-&gt; (AppEnv a -&gt; ChainQueryEnv) -&gt; AppEnv a -&gt; ClientEnv
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; ChainQueryEnv
forall a. AppEnv a -&gt; ChainQueryEnv
</span><a href="Plutus.PAB.App.html#chainQueryEnv"><span class="hs-identifier hs-var hs-var">chainQueryEnv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>                                    </span><span class="annot"><span class="annottext">(Eff
   (Reader ClientEnv : Error ClientError : NodeClientEffect : effs) x
 -&gt; Eff
      (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
      x)
-&gt; (Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader ClientEnv : Error ClientError : NodeClientEffect : effs) x)
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexQueryEffect
 ~&gt; Eff
      (Reader ClientEnv : Error ClientError : NodeClientEffect : effs))
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader ClientEnv : Error ClientError : NodeClientEffect : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *)
       (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : h : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : h : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader ClientEnv) effs, MonadIO IO,
 Member (Error ClientError) effs) =&gt;
ChainIndexQueryEffect ~&gt; Eff effs
forall (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, Member (Reader ClientEnv) effs, MonadIO m,
 Member (Error ClientError) effs) =&gt;
ChainIndexQueryEffect ~&gt; Eff effs
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">ChainIndex.handleChainIndexClient</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>                </span><span class="annot"><a href="Plutus.PAB.Types.html#BlockfrostConfig"><span class="hs-identifier hs-type">BlockfrostConfig</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Reader BlockfrostEnv
 ~&gt; Eff
      (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs))
-&gt; Eff
     (Reader BlockfrostEnv
        : Error ClientError : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; BlockfrostEnv)
-&gt; Reader BlockfrostEnv
   ~&gt; Eff
        (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier hs-type">BF.BlockfrostEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainQueryEnv -&gt; BlockfrostEnv
</span><a href="Plutus.PAB.Types.html#getBlockfrostEnv"><span class="hs-identifier hs-var">getBlockfrostEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainQueryEnv -&gt; BlockfrostEnv)
-&gt; (AppEnv a -&gt; ChainQueryEnv) -&gt; AppEnv a -&gt; BlockfrostEnv
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; ChainQueryEnv
forall a. AppEnv a -&gt; ChainQueryEnv
</span><a href="Plutus.PAB.App.html#chainQueryEnv"><span class="hs-identifier hs-var hs-var">chainQueryEnv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>                                    </span><span class="annot"><span class="annottext">(Eff
   (Reader BlockfrostEnv
      : Error ClientError : NodeClientEffect : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
      x)
-&gt; (Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader BlockfrostEnv
            : Error ClientError : NodeClientEffect : effs)
         x)
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainIndexQueryEffect
 ~&gt; Eff
      (Reader BlockfrostEnv
         : Error ClientError : NodeClientEffect : effs))
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader BlockfrostEnv
           : Error ClientError : NodeClientEffect : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (h :: * -&gt; *)
       (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : h : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : h : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member (Reader BlockfrostEnv) effs,
 MonadIO IO) =&gt;
ChainIndexQueryEffect ~&gt; Eff effs
forall (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, Member (Reader BlockfrostEnv) effs,
 MonadIO m) =&gt;
ChainIndexQueryEffect ~&gt; Eff effs
</span><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier hs-var">BlockfrostClient.handleBlockfrostClient</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>            </span><span class="hs-comment">-- handle 'WalletEffect'</span><span>
</span><span id="line-206"></span><span>            </span><span class="annot"><span class="annottext">(Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
 -&gt; Eff
      (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a) : Error ClientError : NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Error ClientError
      : ChainIndexQueryEffect : NodeClientEffect : effs)
   x
 -&gt; (ClientError
     -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
 -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
-&gt; (ClientError
    -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
-&gt; Eff
     (Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Error ClientError
     : ChainIndexQueryEffect : NodeClientEffect : effs)
  x
-&gt; (ClientError
    -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABError -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(PABError
 -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
-&gt; (ClientError -&gt; PABError)
-&gt; ClientError
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ClientError -&gt; PABError
</span><a href="Plutus.PAB.Types.html#WalletClientError"><span class="hs-identifier hs-var">WalletClientError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Error ClientError
      : ChainIndexQueryEffect : NodeClientEffect : effs)
   x
 -&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Error ClientError
            : ChainIndexQueryEffect : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff (ChainIndexQueryEffect : NodeClientEffect : effs) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff
   (Error WalletAPIError
      : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
      : effs)
   x
 -&gt; (WalletAPIError
     -&gt; Eff
          (Error ClientError
             : ChainIndexQueryEffect : NodeClientEffect : effs)
          x)
 -&gt; Eff
      (Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs)
      x)
-&gt; (WalletAPIError
    -&gt; Eff
         (Error ClientError
            : ChainIndexQueryEffect : NodeClientEffect : effs)
         x)
-&gt; Eff
     (Error WalletAPIError
        : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
        : effs)
     x
-&gt; Eff
     (Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Eff
  (Error WalletAPIError
     : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
     : effs)
  x
-&gt; (WalletAPIError
    -&gt; Eff
         (Error ClientError
            : ChainIndexQueryEffect : NodeClientEffect : effs)
         x)
-&gt; Eff
     (Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall e (effs :: [* -&gt; *]) a.
Eff (Error e : effs) a -&gt; (e -&gt; Eff effs a) -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABError
-&gt; Eff
     (Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">(PABError
 -&gt; Eff
      (Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs)
      x)
-&gt; (WalletAPIError -&gt; PABError)
-&gt; WalletAPIError
-&gt; Eff
     (Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">WalletAPIError -&gt; PABError
</span><a href="Plutus.PAB.Types.html#WalletError"><span class="hs-identifier hs-var">WalletError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Error WalletAPIError
      : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
      : effs)
   x
 -&gt; Eff
      (Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Error WalletAPIError
            : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
            : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogMsg WalletClientMsg
 ~&gt; Eff
      (Error WalletAPIError
         : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
         : effs))
-&gt; Eff
     (LogMsg WalletClientMsg
        : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
        : NodeClientEffect : effs)
   ~&gt; Eff
        (Error WalletAPIError
           : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
           : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(WalletClientMsg -&gt; PABMultiAgentMsg (Builtin a))
-&gt; LogMsg WalletClientMsg
   ~&gt; Eff
        (Error WalletAPIError
           : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
           : effs)
forall a b (effs :: [* -&gt; *]).
Member (LogMsg b) effs =&gt;
(a -&gt; b) -&gt; LogMsg a ~&gt; Eff effs
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var">mapLog</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABMultiAgentMsg"><span class="hs-identifier hs-type">PABMultiAgentMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WalletClientMsg -&gt; PABMultiAgentMsg (Builtin a)
forall t. WalletClientMsg -&gt; PABMultiAgentMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#WalletClient"><span class="hs-identifier hs-var">WalletClient</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (LogMsg WalletClientMsg
      : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
      : NodeClientEffect : effs)
   x
 -&gt; Eff
      (Error WalletAPIError
         : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
         : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (LogMsg WalletClientMsg
            : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
            : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Error WalletAPIError
        : Error ClientError : ChainIndexQueryEffect : NodeClientEffect
        : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff
      (LogMsg WalletClientMsg
         : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
         : NodeClientEffect : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff
        (LogMsg WalletClientMsg
           : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
           : NodeClientEffect : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
      : ChainIndexQueryEffect : NodeClientEffect : effs)
   x
 -&gt; Eff
      (LogMsg WalletClientMsg
         : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
         : NodeClientEffect : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
            : ChainIndexQueryEffect : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (LogMsg WalletClientMsg
        : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
        : NodeClientEffect : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (Maybe ClientEnv)
 ~&gt; Eff
      (Reader (AppEnv a)
         : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs))
-&gt; Eff
     (Reader (Maybe ClientEnv)
        : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
           : ChainIndexQueryEffect : NodeClientEffect : effs)
forall (f :: * -&gt; *) (g :: * -&gt; *) (effs :: [* -&gt; *]).
(f ~&gt; Eff (g : effs)) -&gt; Eff (f : effs) ~&gt; Eff (g : effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AppEnv a -&gt; Maybe ClientEnv)
-&gt; Reader (Maybe ClientEnv)
   ~&gt; Eff
        (Reader (AppEnv a)
           : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
           : ChainIndexQueryEffect : NodeClientEffect : effs)
forall f g (effs :: [* -&gt; *]).
Member (Reader f) effs =&gt;
(f -&gt; g) -&gt; Reader g ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleMappedReader"><span class="hs-identifier hs-var">Core.handleMappedReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AppEnv a -&gt; Maybe ClientEnv
forall a. AppEnv a -&gt; Maybe ClientEnv
</span><a href="Plutus.PAB.App.html#walletClientEnv"><span class="hs-identifier hs-var hs-var">walletClientEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (Maybe ClientEnv)
      : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
      : ChainIndexQueryEffect : NodeClientEffect : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (Maybe ClientEnv)
            : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
            : ChainIndexQueryEffect : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader (AppEnv a)
 ~&gt; Eff
      (Reader (Maybe ClientEnv)
         : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs))
-&gt; Eff
     (Reader (AppEnv a)
        : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
        : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
        : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader (Maybe ClientEnv)
           : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
           : ChainIndexQueryEffect : NodeClientEffect : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader (AppEnv a) ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader env ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleUserEnvReader"><span class="hs-identifier hs-var">Core.handleUserEnvReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader (AppEnv a)
      : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
      : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
      : NodeClientEffect : effs)
   x
 -&gt; Eff
      (Reader (Maybe ClientEnv)
         : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
         : ChainIndexQueryEffect : NodeClientEffect : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader (AppEnv a)
            : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
            : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
            : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (Maybe ClientEnv)
        : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Reader InstancesState
 ~&gt; Eff
      (Reader (AppEnv a)
         : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
         : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
         : NodeClientEffect : effs))
-&gt; Eff
     (Reader InstancesState
        : Reader (AppEnv a) : Reader (Maybe ClientEnv)
        : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
        : ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff
        (Reader (AppEnv a)
           : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
           : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
           : NodeClientEffect : effs)
forall (eff :: * -&gt; *) (effs :: [* -&gt; *]).
(eff ~&gt; Eff effs) -&gt; Eff (eff : effs) ~&gt; Eff effs
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment (Builtin a) (AppEnv a))) effs =&gt;
Reader InstancesState ~&gt; Eff effs
forall t env (effs :: [* -&gt; *]).
Member (Reader (PABEnvironment t env)) effs =&gt;
Reader InstancesState ~&gt; Eff effs
</span><a href="Plutus.PAB.Core.html#handleInstancesStateReader"><span class="hs-identifier hs-var">Core.handleInstancesStateReader</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394816"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>            </span><span class="annot"><span class="annottext">(Eff
   (Reader InstancesState
      : Reader (AppEnv a) : Reader (Maybe ClientEnv)
      : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
      : ChainIndexQueryEffect : NodeClientEffect : effs)
   x
 -&gt; Eff
      (Reader (AppEnv a)
         : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
         : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
         : NodeClientEffect : effs)
      x)
-&gt; (Eff
      (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
    -&gt; Eff
         (Reader InstancesState
            : Reader (AppEnv a) : Reader (Maybe ClientEnv)
            : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
            : ChainIndexQueryEffect : NodeClientEffect : effs)
         x)
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs) x
-&gt; Eff
     (Reader (AppEnv a)
        : Reader (Maybe ClientEnv) : LogMsg WalletClientMsg
        : Error WalletAPIError : Error ClientError : ChainIndexQueryEffect
        : NodeClientEffect : effs)
     x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(WalletEffect
 ~&gt; Eff
      ('[Reader InstancesState, Reader (AppEnv a),
         Reader (Maybe ClientEnv), LogMsg WalletClientMsg,
         Error WalletAPIError, Error ClientError]
       :++: (ChainIndexQueryEffect : NodeClientEffect : effs)))
-&gt; Eff
     (WalletEffect : ChainIndexQueryEffect : NodeClientEffect : effs)
   ~&gt; Eff
        ('[Reader InstancesState, Reader (AppEnv a),
           Reader (Maybe ClientEnv), LogMsg WalletClientMsg,
           Error WalletAPIError, Error ClientError]
         :++: (ChainIndexQueryEffect : NodeClientEffect : effs))
forall (gs :: [* -&gt; *]) (f :: * -&gt; *) (effs :: [* -&gt; *]).
Weakens gs =&gt;
(f ~&gt; Eff (gs :++: effs)) -&gt; Eff (f : effs) ~&gt; Eff (gs :++: effs)
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">reinterpretN</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PABServerConfig
-&gt; Maybe ContractInstanceId
-&gt; Wallet
-&gt; WalletEffect
   ~&gt; Eff
        (Reader InstancesState
           : Reader (AppEnv a) : Reader (Maybe ClientEnv)
           : LogMsg WalletClientMsg : Error WalletAPIError : Error ClientError
           : ChainIndexQueryEffect : NodeClientEffect : effs)
forall (effs :: [* -&gt; *]).
(LastMember IO effs, Member NodeClientEffect effs,
 Member (Error ClientError) effs,
 Member (Error WalletAPIError) effs, Member (Error PABError) effs,
 Member (Reader (Maybe ClientEnv)) effs,
 Member (LogMsg WalletClientMsg) effs,
 Member (Reader InstancesState) effs) =&gt;
PABServerConfig
-&gt; Maybe ContractInstanceId -&gt; Wallet -&gt; WalletEffect ~&gt; Eff effs
</span><a href="Plutus.PAB.App.html#handleWalletEffect"><span class="hs-identifier hs-var">handleWalletEffect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Config -&gt; PABServerConfig
</span><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier hs-var hs-var">nodeServerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394643"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe ContractInstanceId
</span><a href="#local-6989586621680394618"><span class="hs-identifier hs-var">cidM</span></a></span><span> </span><span class="annot"><span class="annottext">Wallet
</span><a href="#local-6989586621680394619"><span class="hs-identifier hs-var">wallet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">onStartup :: PABAction (Builtin a) (AppEnv a) ()
</span><a href="Plutus.PAB.Core.html#onStartup"><span class="hs-identifier hs-var">onStartup</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PABAction (Builtin a) (AppEnv a) ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">onShutdown :: PABAction (Builtin a) (AppEnv a) ()
</span><a href="Plutus.PAB.Core.html#onShutdown"><span class="hs-identifier hs-var">onShutdown</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; PABAction (Builtin a) (AppEnv a) ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Plutus.PAB.App.html#handleWalletEffect"><span class="hs-identifier hs-type">handleWalletEffect</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680394840"><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">LastMember</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">NodeClientEffect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bp0ml9hvqnwczc48023rn371h6pzz2r6-servant-client-core-lib-servant-client-core-0.18.3-haddock-doc/share/doc/servant-client-core/html/src"><span class="hs-identifier hs-type">ClientError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">WalletAPIError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#PABError"><span class="hs-identifier hs-type">PABError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">LogMsg</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#WalletClientMsg"><span class="hs-identifier hs-type">WalletClientMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Member</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Core.ContractInstance.STM.html#InstancesState"><span class="hs-identifier hs-type">InstancesState</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#PABServerConfig"><span class="hs-identifier hs-type">PABServerConfig</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">ContractInstanceId</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">Wallet</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-type">WalletEffect</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394840"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-236"></span><span id="handleWalletEffect"><span class="annot"><span class="annottext">handleWalletEffect :: PABServerConfig
-&gt; Maybe ContractInstanceId -&gt; Wallet -&gt; WalletEffect ~&gt; Eff effs
</span><a href="Plutus.PAB.App.html#handleWalletEffect"><span class="hs-identifier hs-var hs-var">handleWalletEffect</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#PABServerConfig"><span class="hs-identifier hs-type">PABServerConfig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pscNodeMode :: PABServerConfig -&gt; NodeMode
</span><a href="Cardano.Node.Types.html#pscNodeMode"><span class="hs-identifier hs-var">pscNodeMode</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NodeMode
</span><a href="Cardano.Node.Types.html#MockNode"><span class="hs-identifier hs-var">MockNode</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">Maybe ContractInstanceId
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680394606"><span class="annot"><span class="annottext">Wallet
</span><a href="#local-6989586621680394606"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621680394605"><span class="annot"><span class="annottext">WalletEffect x
</span><a href="#local-6989586621680394605"><span class="hs-identifier hs-var">eff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621680394604"><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="#local-6989586621680394604"><span class="hs-identifier hs-var">clientEnvM</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (Maybe ClientEnv)) effs =&gt;
Eff effs (Maybe ClientEnv)
forall r (effs :: [* -&gt; *]). Member (Reader r) effs =&gt; Eff effs r
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="#local-6989586621680394604"><span class="hs-identifier hs-var">clientEnvM</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-239"></span><span>        </span><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PABError -&gt; Eff effs x
forall e (effs :: [* -&gt; *]) a.
Member (Error e) effs =&gt;
e -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">throwError</span></a></span><span> </span><span class="annot"><span class="annottext">PABError
</span><a href="Plutus.PAB.Types.html#RemoteWalletWithMockNodeError"><span class="hs-identifier hs-var">RemoteWalletWithMockNodeError</span></a></span><span>
</span><span id="line-240"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680394603"><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680394603"><span class="hs-identifier hs-var">clientEnv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-241"></span><span>            </span><span class="annot"><span class="annottext">ClientEnv -&gt; Eff (Reader ClientEnv : effs) x -&gt; Eff effs x
forall r (effs :: [* -&gt; *]) a.
r -&gt; Eff (Reader r : effs) a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runReader</span></a></span><span> </span><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680394603"><span class="hs-identifier hs-var">clientEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (Reader ClientEnv : effs) x -&gt; Eff effs x)
-&gt; Eff (Reader ClientEnv : effs) x -&gt; Eff effs x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Wallet -&gt; WalletEffect x -&gt; Eff (Reader ClientEnv : effs) x
forall (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m, Member (Error ClientError) effs,
 Member (Error WalletAPIError) effs,
 Member (Reader ClientEnv) effs) =&gt;
Wallet -&gt; WalletEffect ~&gt; Eff effs
</span><a href="Cardano.Wallet.Mock.Client.html#handleWalletClient"><span class="hs-identifier hs-var">WalletMockClient.handleWalletClient</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">Wallet
</span><a href="#local-6989586621680394606"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">WalletEffect x
</span><a href="#local-6989586621680394605"><span class="hs-identifier hs-var">eff</span></a></span><span>
</span><span id="line-242"></span><span class="annot"><a href="Plutus.PAB.App.html#handleWalletEffect"><span class="hs-identifier hs-var">handleWalletEffect</span></a></span><span> </span><span id="local-6989586621680394601"><span class="annot"><span class="annottext">PABServerConfig
</span><a href="#local-6989586621680394601"><span class="hs-identifier hs-var">nodeCfg</span></a></span></span><span> </span><span id="local-6989586621680394600"><span class="annot"><span class="annottext">Maybe ContractInstanceId
</span><a href="#local-6989586621680394600"><span class="hs-identifier hs-var">cidM</span></a></span></span><span> </span><span id="local-6989586621680394599"><span class="annot"><span class="annottext">Wallet
</span><a href="#local-6989586621680394599"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621680394598"><span class="annot"><span class="annottext">WalletEffect x
</span><a href="#local-6989586621680394598"><span class="hs-identifier hs-var">eff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621680394597"><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="#local-6989586621680394597"><span class="hs-identifier hs-var">clientEnvM</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (effs :: [* -&gt; *]).
Member (Reader (Maybe ClientEnv)) effs =&gt;
Eff effs (Maybe ClientEnv)
forall r (effs :: [* -&gt; *]). Member (Reader r) effs =&gt; Eff effs r
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-type">ClientEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="#local-6989586621680394597"><span class="hs-identifier hs-var">clientEnvM</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ContractInstanceId -&gt; WalletEffect x -&gt; Eff effs x
forall (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m, Member NodeClientEffect effs,
 Member (Error WalletAPIError) effs,
 Member (Reader InstancesState) effs) =&gt;
Maybe ContractInstanceId -&gt; WalletEffect ~&gt; Eff effs
</span><a href="Cardano.Wallet.RemoteClient.html#handleWalletClient"><span class="hs-identifier hs-var">RemoteWalletClient.handleWalletClient</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ContractInstanceId
</span><a href="#local-6989586621680394600"><span class="hs-identifier hs-var">cidM</span></a></span><span> </span><span class="annot"><span class="annottext">WalletEffect x
</span><a href="#local-6989586621680394598"><span class="hs-identifier hs-var">eff</span></a></span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680394595"><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680394595"><span class="hs-identifier hs-var">clientEnv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><span class="annottext">ClientEnv -&gt; Eff (Reader ClientEnv : effs) x -&gt; Eff effs x
forall r (effs :: [* -&gt; *]) a.
r -&gt; Eff (Reader r : effs) a -&gt; Eff effs a
</span><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-var">runReader</span></a></span><span> </span><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680394595"><span class="hs-identifier hs-var">clientEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff (Reader ClientEnv : effs) x -&gt; Eff effs x)
-&gt; Eff (Reader ClientEnv : effs) x -&gt; Eff effs x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PABServerConfig
-&gt; Wallet -&gt; WalletEffect x -&gt; Eff (Reader ClientEnv : effs) x
forall (m :: * -&gt; *) (effs :: [* -&gt; *]).
(LastMember m effs, MonadIO m, Member NodeClientEffect effs,
 Member (Error ClientError) effs,
 Member (Error WalletAPIError) effs, Member (Reader ClientEnv) effs,
 Member (LogMsg WalletClientMsg) effs) =&gt;
PABServerConfig -&gt; Wallet -&gt; WalletEffect ~&gt; Eff effs
</span><a href="Cardano.Wallet.LocalClient.html#handleWalletClient"><span class="hs-identifier hs-var">LocalWalletClient.handleWalletClient</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">PABServerConfig
</span><a href="#local-6989586621680394601"><span class="hs-identifier hs-var">nodeCfg</span></a></span><span> </span><span class="annot"><span class="annottext">Wallet
</span><a href="#local-6989586621680394599"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">WalletEffect x
</span><a href="#local-6989586621680394598"><span class="hs-identifier hs-var">eff</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="annot"><a href="Plutus.PAB.App.html#runApp"><span class="hs-identifier hs-type">runApp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680394593"><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680394592"><span class="annot"><a href="#local-6989586621680394592"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier hs-type">HasDefinitions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.App.html#StorageBackend"><span class="hs-identifier hs-type">StorageBackend</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Top-level tracer</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier hs-type">BuiltinHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-comment">-- ^ Client configuration</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.App.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394593"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394592"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-comment">-- ^ Action</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#PABError"><span class="hs-identifier hs-type">PABError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394592"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span id="runApp"><span class="annot"><span class="annottext">runApp :: StorageBackend
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; BuiltinHandler a
-&gt; Config
-&gt; App a b
-&gt; IO (Either PABError b)
</span><a href="Plutus.PAB.App.html#runApp"><span class="hs-identifier hs-var hs-var">runApp</span></a></span></span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621680394591"><span class="annot"><span class="annottext">StorageBackend
</span><a href="#local-6989586621680394591"><span class="hs-identifier hs-var">storageBackend</span></a></span></span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621680394590"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394590"><span class="hs-identifier hs-var">trace</span></a></span></span><span>
</span><span id="line-265"></span><span>    </span><span id="local-6989586621680394589"><span class="annot"><span class="annottext">BuiltinHandler a
</span><a href="#local-6989586621680394589"><span class="hs-identifier hs-var">contractHandler</span></a></span></span><span>
</span><span id="line-266"></span><span>    </span><span id="local-6989586621680394588"><span class="annot"><span class="annottext">config :: Config
</span><a href="#local-6989586621680394588"><span class="hs-identifier hs-var">config</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pabWebserverConfig :: Config -&gt; WebserverConfig
</span><a href="Plutus.PAB.Types.html#pabWebserverConfig"><span class="hs-identifier hs-var">pabWebserverConfig</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="Plutus.PAB.Types.html#WebserverConfig"><span class="hs-identifier hs-type">WebserverConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621680394587"><span class="annot"><span class="annottext">Maybe Second
endpointTimeout :: Maybe Second
endpointTimeout :: WebserverConfig -&gt; Maybe Second
</span><a href="#local-6989586621680394587"><span class="hs-identifier hs-var hs-var">endpointTimeout</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394586"><span class="annot"><span class="annottext">Maybe Second
waitStatusTimeout :: Maybe Second
waitStatusTimeout :: WebserverConfig -&gt; Maybe Second
</span><a href="#local-6989586621680394586"><span class="hs-identifier hs-var hs-var">waitStatusTimeout</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><span class="annottext">Timeout
-&gt; Timeout
-&gt; EffectHandlers (Builtin a) (AppEnv a)
-&gt; App a b
-&gt; IO (Either PABError b)
forall t env a.
Timeout
-&gt; Timeout
-&gt; EffectHandlers t env
-&gt; PABAction t env a
-&gt; IO (Either PABError a)
</span><a href="Plutus.PAB.Core.html#runPAB"><span class="hs-identifier hs-var">Core.runPAB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Second -&gt; Timeout
</span><a href="Plutus.PAB.Timeout.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Second
</span><a href="#local-6989586621680394587"><span class="hs-identifier hs-var">endpointTimeout</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Second -&gt; Timeout
</span><a href="Plutus.PAB.Timeout.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Second
</span><a href="#local-6989586621680394586"><span class="hs-identifier hs-var">waitStatusTimeout</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StorageBackend
-&gt; Config
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; BuiltinHandler a
-&gt; EffectHandlers (Builtin a) (AppEnv a)
forall a.
(FromJSON a, ToJSON a, HasDefinitions a, Typeable a) =&gt;
StorageBackend
-&gt; Config
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; BuiltinHandler a
-&gt; EffectHandlers (Builtin a) (AppEnv a)
</span><a href="Plutus.PAB.App.html#appEffectHandlers"><span class="hs-identifier hs-var">appEffectHandlers</span></a></span><span> </span><span class="annot"><span class="annottext">StorageBackend
</span><a href="#local-6989586621680394591"><span class="hs-identifier hs-var">storageBackend</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394588"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394590"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinHandler a
</span><a href="#local-6989586621680394589"><span class="hs-identifier hs-var">contractHandler</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-keyword">type</span><span> </span><span id="App"><span class="annot"><a href="Plutus.PAB.App.html#App"><span class="hs-identifier hs-var">App</span></a></span></span><span> </span><span id="local-6989586621680394584"><span class="annot"><a href="#local-6989586621680394584"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680394583"><span class="annot"><a href="#local-6989586621680394583"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutus.PAB.Core.html#PABAction"><span class="hs-identifier hs-type">PABAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394584"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394584"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680394583"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-keyword">data</span><span> </span><span id="StorageBackend"><span class="annot"><a href="Plutus.PAB.App.html#StorageBackend"><span class="hs-identifier hs-var">StorageBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BeamBackend"><span class="annot"><a href="Plutus.PAB.App.html#BeamBackend"><span class="hs-identifier hs-var">BeamBackend</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="InMemoryBackend"><span class="annot"><a href="Plutus.PAB.App.html#InMemoryBackend"><span class="hs-identifier hs-var">InMemoryBackend</span></a></span></span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680394579"><span id="local-6989586621680394581"><span class="annot"><span class="annottext">StorageBackend -&gt; StorageBackend -&gt; Bool
(StorageBackend -&gt; StorageBackend -&gt; Bool)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; Bool) -&gt; Eq StorageBackend
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: StorageBackend -&gt; StorageBackend -&gt; Bool
$c/= :: StorageBackend -&gt; StorageBackend -&gt; Bool
== :: StorageBackend -&gt; StorageBackend -&gt; Bool
$c== :: StorageBackend -&gt; StorageBackend -&gt; Bool
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394563"><span id="local-6989586621680394565"><span id="local-6989586621680394567"><span id="local-6989586621680394569"><span id="local-6989586621680394571"><span id="local-6989586621680394573"><span id="local-6989586621680394575"><span class="annot"><span class="annottext">Eq StorageBackend
Eq StorageBackend
-&gt; (StorageBackend -&gt; StorageBackend -&gt; Ordering)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; Bool)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; Bool)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; Bool)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; Bool)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; StorageBackend)
-&gt; (StorageBackend -&gt; StorageBackend -&gt; StorageBackend)
-&gt; Ord StorageBackend
StorageBackend -&gt; StorageBackend -&gt; Bool
StorageBackend -&gt; StorageBackend -&gt; Ordering
StorageBackend -&gt; StorageBackend -&gt; StorageBackend
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: StorageBackend -&gt; StorageBackend -&gt; StorageBackend
$cmin :: StorageBackend -&gt; StorageBackend -&gt; StorageBackend
max :: StorageBackend -&gt; StorageBackend -&gt; StorageBackend
$cmax :: StorageBackend -&gt; StorageBackend -&gt; StorageBackend
&gt;= :: StorageBackend -&gt; StorageBackend -&gt; Bool
$c&gt;= :: StorageBackend -&gt; StorageBackend -&gt; Bool
&gt; :: StorageBackend -&gt; StorageBackend -&gt; Bool
$c&gt; :: StorageBackend -&gt; StorageBackend -&gt; Bool
&lt;= :: StorageBackend -&gt; StorageBackend -&gt; Bool
$c&lt;= :: StorageBackend -&gt; StorageBackend -&gt; Bool
&lt; :: StorageBackend -&gt; StorageBackend -&gt; Bool
$c&lt; :: StorageBackend -&gt; StorageBackend -&gt; Bool
compare :: StorageBackend -&gt; StorageBackend -&gt; Ordering
$ccompare :: StorageBackend -&gt; StorageBackend -&gt; Ordering
$cp1Ord :: Eq StorageBackend
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394556"><span id="local-6989586621680394558"><span id="local-6989586621680394560"><span class="annot"><span class="annottext">Int -&gt; StorageBackend -&gt; ShowS
[StorageBackend] -&gt; ShowS
StorageBackend -&gt; String
(Int -&gt; StorageBackend -&gt; ShowS)
-&gt; (StorageBackend -&gt; String)
-&gt; ([StorageBackend] -&gt; ShowS)
-&gt; Show StorageBackend
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [StorageBackend] -&gt; ShowS
$cshowList :: [StorageBackend] -&gt; ShowS
show :: StorageBackend -&gt; String
$cshow :: StorageBackend -&gt; String
showsPrec :: Int -&gt; StorageBackend -&gt; ShowS
$cshowsPrec :: Int -&gt; StorageBackend -&gt; ShowS
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span id="local-6989586621680394999"><span class="annot"><a href="Plutus.PAB.App.html#mkEnv"><span class="hs-identifier hs-type">mkEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394999"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394999"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-275"></span><span id="mkEnv"><span class="annot"><span class="annottext">mkEnv :: Trace IO (PABLogMsg (Builtin a)) -&gt; Config -&gt; IO (AppEnv a)
</span><a href="Plutus.PAB.App.html#mkEnv"><span class="hs-identifier hs-var hs-var">mkEnv</span></a></span></span><span> </span><span id="local-6989586621680394554"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394554"><span class="hs-identifier hs-var">appTrace</span></a></span></span><span> </span><span id="local-6989586621680394553"><span class="annot"><span class="annottext">appConfig :: Config
</span><a href="#local-6989586621680394553"><span class="hs-identifier hs-var">appConfig</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680394552"><span class="annot"><span class="annottext">DbConfig
dbConfig :: DbConfig
dbConfig :: Config -&gt; DbConfig
</span><a href="#local-6989586621680394552"><span class="hs-identifier hs-var hs-var">dbConfig</span></a></span></span><span>
</span><span id="line-276"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nodeServerConfig :: Config -&gt; PABServerConfig
</span><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier hs-var">nodeServerConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html#PABServerConfig"><span class="hs-identifier hs-type">PABServerConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621680394551"><span class="annot"><span class="annottext">BaseUrl
pscBaseUrl :: BaseUrl
pscBaseUrl :: PABServerConfig -&gt; BaseUrl
</span><a href="#local-6989586621680394551"><span class="hs-identifier hs-var hs-var">pscBaseUrl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394550"><span class="annot"><span class="annottext">String
pscSocketPath :: String
pscSocketPath :: PABServerConfig -&gt; String
</span><a href="#local-6989586621680394550"><span class="hs-identifier hs-var hs-var">pscSocketPath</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394549"><span class="annot"><span class="annottext">NodeMode
pscNodeMode :: NodeMode
pscNodeMode :: PABServerConfig -&gt; NodeMode
</span><a href="#local-6989586621680394549"><span class="hs-identifier hs-var hs-var">pscNodeMode</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394548"><span class="annot"><span class="annottext">NetworkIdWrapper
pscNetworkId :: NetworkIdWrapper
pscNetworkId :: PABServerConfig -&gt; NetworkIdWrapper
</span><a href="#local-6989586621680394548"><span class="hs-identifier hs-var hs-var">pscNetworkId</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-277"></span><span>             </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394547"><span class="annot"><span class="annottext">WalletConfig
walletServerConfig :: WalletConfig
walletServerConfig :: Config -&gt; WalletConfig
</span><a href="#local-6989586621680394547"><span class="hs-identifier hs-var hs-var">walletServerConfig</span></a></span></span><span>
</span><span id="line-278"></span><span>             </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394546"><span class="annot"><span class="annottext">ChainQueryConfig
chainQueryConfig :: ChainQueryConfig
chainQueryConfig :: Config -&gt; ChainQueryConfig
</span><a href="#local-6989586621680394546"><span class="hs-identifier hs-var hs-var">chainQueryConfig</span></a></span></span><span>
</span><span id="line-279"></span><span>             </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-280"></span><span>    </span><span id="local-6989586621680394545"><span class="annot"><span class="annottext">Maybe ClientEnv
</span><a href="#local-6989586621680394545"><span class="hs-identifier hs-var">walletClientEnv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe ClientEnv)
-&gt; (LocalWalletSettings -&gt; IO (Maybe ClientEnv))
-&gt; Maybe LocalWalletSettings
-&gt; IO (Maybe ClientEnv)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ClientEnv -&gt; IO (Maybe ClientEnv)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ClientEnv
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ClientEnv -&gt; Maybe ClientEnv)
-&gt; IO ClientEnv -&gt; IO (Maybe ClientEnv)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">ClientEnv -&gt; Maybe ClientEnv
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(IO ClientEnv -&gt; IO (Maybe ClientEnv))
-&gt; (LocalWalletSettings -&gt; IO ClientEnv)
-&gt; LocalWalletSettings
-&gt; IO (Maybe ClientEnv)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LocalWalletSettings -&gt; IO ClientEnv
forall (f :: * -&gt; *) a.
(MonadIO f, Coercible a BaseUrl) =&gt;
a -&gt; f ClientEnv
</span><a href="#local-6989586621680394543"><span class="hs-identifier hs-var">clientEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe LocalWalletSettings -&gt; IO (Maybe ClientEnv))
-&gt; Maybe LocalWalletSettings -&gt; IO (Maybe ClientEnv)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (First LocalWalletSettings) WalletConfig LocalWalletSettings
-&gt; WalletConfig -&gt; Maybe LocalWalletSettings
forall s (m :: * -&gt; *) a.
MonadReader s m =&gt;
Getting (First a) s a -&gt; m (Maybe a)
</span><a href="../file:///nix/store/lwkxqy8dgzjvz62gfx89dnvl9mm03scy-lens-lib-lens-4.19.2-haddock-doc/share/doc/lens/html/src"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (First LocalWalletSettings) WalletConfig LocalWalletSettings
Prism' WalletConfig LocalWalletSettings
</span><a href="Cardano.Wallet.Types.html#_LocalWalletConfig"><span class="hs-identifier hs-var">Wallet._LocalWalletConfig</span></a></span><span> </span><span class="annot"><span class="annottext">WalletConfig
</span><a href="#local-6989586621680394547"><span class="hs-identifier hs-var">walletServerConfig</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621680394541"><span class="annot"><span class="annottext">ClientEnv
</span><a href="#local-6989586621680394541"><span class="hs-identifier hs-var">nodeClientEnv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BaseUrl -&gt; IO ClientEnv
forall (f :: * -&gt; *) a.
(MonadIO f, Coercible a BaseUrl) =&gt;
a -&gt; f ClientEnv
</span><a href="#local-6989586621680394543"><span class="hs-identifier hs-var">clientEnv</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621680394551"><span class="hs-identifier hs-var">pscBaseUrl</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621680394540"><span class="annot"><span class="annottext">ChainQueryEnv
</span><a href="#local-6989586621680394540"><span class="hs-identifier hs-var">chainQueryEnv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ChainQueryEnv
</span><a href="#local-6989586621680394539"><span class="hs-identifier hs-var">mkChainQueryEnv</span></a></span><span>
</span><span id="line-283"></span><span>    </span><span id="local-6989586621680394538"><span class="annot"><span class="annottext">DBConnection
</span><a href="#local-6989586621680394538"><span class="hs-identifier hs-var">dbPool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO DBConnection
forall a.
DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO DBConnection
</span><a href="Plutus.PAB.App.html#dbConnect"><span class="hs-identifier hs-var">dbConnect</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394552"><span class="hs-identifier hs-var">dbConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394554"><span class="hs-identifier hs-var">appTrace</span></a></span><span>
</span><span id="line-284"></span><span>    </span><span id="local-6989586621680394537"><span class="annot"><span class="annottext">Maybe TxSendHandle
</span><a href="#local-6989586621680394537"><span class="hs-identifier hs-var">txSendHandle</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NodeMode
</span><a href="#local-6989586621680394549"><span class="hs-identifier hs-var">pscNodeMode</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="annottext">NodeMode
</span><a href="Cardano.Node.Types.html#MockNode"><span class="hs-identifier hs-var">MockNode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (Maybe TxSendHandle) -&gt; IO (Maybe TxSendHandle)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe TxSendHandle) -&gt; IO (Maybe TxSendHandle))
-&gt; IO (Maybe TxSendHandle) -&gt; IO (Maybe TxSendHandle)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxSendHandle -&gt; Maybe TxSendHandle
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(TxSendHandle -&gt; Maybe TxSendHandle)
-&gt; IO TxSendHandle -&gt; IO (Maybe TxSendHandle)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO TxSendHandle
</span><a href="Cardano.Protocol.Socket.Mock.Client.html#runTxSender"><span class="hs-identifier hs-var">MockClient.runTxSender</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680394550"><span class="hs-identifier hs-var">pscSocketPath</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">NodeMode
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe TxSendHandle -&gt; IO (Maybe TxSendHandle)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TxSendHandle
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-comment">-- This is for access to the slot number in the interpreter</span><span>
</span><span id="line-289"></span><span>    </span><span id="local-6989586621680394534"><span class="annot"><span class="annottext">ChainSyncHandle
</span><a href="#local-6989586621680394534"><span class="hs-identifier hs-var">chainSyncHandle</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PABServerConfig -&gt; IO ChainSyncHandle
</span><a href="Cardano.Node.Client.html#runChainSyncWithCfg"><span class="hs-identifier hs-var">runChainSyncWithCfg</span></a></span><span> </span><span class="annot"><span class="annottext">(PABServerConfig -&gt; IO ChainSyncHandle)
-&gt; PABServerConfig -&gt; IO ChainSyncHandle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; PABServerConfig
</span><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier hs-var hs-var">nodeServerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680394553"><span class="hs-identifier hs-var">appConfig</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621680394533"><span class="annot"><span class="annottext">InMemInstances (Builtin a)
</span><a href="#local-6989586621680394533"><span class="hs-identifier hs-var">appInMemContractStore</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (InMemInstances (Builtin a)) -&gt; IO (InMemInstances (Builtin a))
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO (InMemInstances (Builtin a))
forall t. IO (InMemInstances t)
</span><a href="Plutus.PAB.Db.Memory.ContractStore.html#initialInMemInstances"><span class="hs-identifier hs-var">initialInMemInstances</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><span class="annottext">AppEnv a -&gt; IO (AppEnv a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">AppEnv :: forall a.
DBConnection
-&gt; Maybe ClientEnv
-&gt; ClientEnv
-&gt; ChainQueryEnv
-&gt; Maybe TxSendHandle
-&gt; ChainSyncHandle
-&gt; Config
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; InMemInstances (Builtin a)
-&gt; AppEnv a
</span><a href="Plutus.PAB.App.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Maybe ClientEnv
Maybe TxSendHandle
ChainSyncHandle
Trace IO (PABLogMsg (Builtin a))
ClientEnv
Config
ChainQueryEnv
DBConnection
InMemInstances (Builtin a)
appInMemContractStore :: InMemInstances (Builtin a)
chainSyncHandle :: ChainSyncHandle
txSendHandle :: Maybe TxSendHandle
dbPool :: DBConnection
chainQueryEnv :: ChainQueryEnv
nodeClientEnv :: ClientEnv
walletClientEnv :: Maybe ClientEnv
appConfig :: Config
appTrace :: Trace IO (PABLogMsg (Builtin a))
appInMemContractStore :: InMemInstances (Builtin a)
appTrace :: Trace IO (PABLogMsg (Builtin a))
appConfig :: Config
chainSyncHandle :: ChainSyncHandle
txSendHandle :: Maybe TxSendHandle
chainQueryEnv :: ChainQueryEnv
nodeClientEnv :: ClientEnv
walletClientEnv :: Maybe ClientEnv
dbPool :: DBConnection
</span><a href="#local-6989586621680394533"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>    </span><span id="local-6989586621680394543"><span class="annot"><span class="annottext">clientEnv :: a -&gt; f ClientEnv
</span><a href="#local-6989586621680394543"><span class="hs-identifier hs-var hs-var">clientEnv</span></a></span></span><span> </span><span id="local-6989586621680394532"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680394532"><span class="hs-identifier hs-var">baseUrl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Manager -&gt; BaseUrl -&gt; ClientEnv
</span><a href="../file:///nix/store/1sck64pppkkmjhaxww80pwmibr51710s-servant-client-lib-servant-client-0.18.3-haddock-doc/share/doc/servant-client/html/src"><span class="hs-identifier hs-var">mkClientEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(Manager -&gt; BaseUrl -&gt; ClientEnv)
-&gt; f Manager -&gt; f (BaseUrl -&gt; ClientEnv)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO Manager -&gt; f Manager
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO Manager
</span><a href="#local-6989586621680394531"><span class="hs-identifier hs-var">mkManager</span></a></span><span> </span><span class="annot"><span class="annottext">f (BaseUrl -&gt; ClientEnv) -&gt; f BaseUrl -&gt; f ClientEnv
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl -&gt; f BaseUrl
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; BaseUrl
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680394532"><span class="hs-identifier hs-var">baseUrl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621680394531"><span class="annot"><span class="annottext">mkManager :: IO Manager
</span><a href="#local-6989586621680394531"><span class="hs-identifier hs-var hs-var">mkManager</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>        </span><span class="annot"><span class="annottext">ManagerSettings -&gt; IO Manager
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">newManager</span></a></span><span> </span><span class="annot"><span class="annottext">(ManagerSettings -&gt; IO Manager) -&gt; ManagerSettings -&gt; IO Manager
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-297"></span><span>        </span><span class="annot"><span class="annottext">ManagerSettings
</span><a href="../file:///nix/store/kazaiqbn4i00q6ih11907d9ifd8lcqli-http-client-tls-lib-http-client-tls-0.3.6.1-haddock-doc/share/doc/http-client-tls/html/src"><span class="hs-identifier hs-var">tlsManagerSettings</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">managerModifyRequest :: Request -&gt; IO Request
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">managerModifyRequest</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Request -&gt; IO Request
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Request -&gt; IO Request)
-&gt; (Request -&gt; Request) -&gt; Request -&gt; IO Request
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Request -&gt; Request
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">setRequestIgnoreStatus</span></a></span><span>
</span><span id="line-298"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">managerResponseTimeout :: ResponseTimeout
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">managerResponseTimeout</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ResponseTimeout
</span><a href="../file:///nix/store/492bapj3ba14hw6h4z0nh1b52lmsbxxr-http-client-lib-http-client-0.7.13.1-haddock-doc/share/doc/http-client/html/src"><span class="hs-identifier hs-var">responseTimeoutMicro</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">60_000_000</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><a href="#local-6989586621680394539"><span class="hs-identifier hs-type">mkChainQueryEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#ChainQueryEnv"><span class="hs-identifier hs-type">ChainQueryEnv</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621680394539"><span class="annot"><span class="annottext">mkChainQueryEnv :: IO ChainQueryEnv
</span><a href="#local-6989586621680394539"><span class="hs-identifier hs-var hs-var">mkChainQueryEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ChainQueryConfig
</span><a href="#local-6989586621680394546"><span class="hs-identifier hs-var">chainQueryConfig</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><a href="Plutus.PAB.Types.html#ChainIndexConfig"><span class="hs-identifier hs-type">ChainIndexConfig</span></a></span><span> </span><span id="local-6989586621680394530"><span class="annot"><span class="annottext">ChainIndexConfig
</span><a href="#local-6989586621680394530"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ClientEnv -&gt; ChainQueryEnv
</span><a href="Plutus.PAB.Types.html#ChainIndexEnv"><span class="hs-identifier hs-var">ChainIndexEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(ClientEnv -&gt; ChainQueryEnv) -&gt; IO ClientEnv -&gt; IO ChainQueryEnv
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexUrl -&gt; IO ClientEnv
forall (f :: * -&gt; *) a.
(MonadIO f, Coercible a BaseUrl) =&gt;
a -&gt; f ClientEnv
</span><a href="#local-6989586621680394543"><span class="hs-identifier hs-var">clientEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ChainIndexConfig -&gt; ChainIndexUrl
</span><a href="Cardano.ChainIndex.Types.html#ciBaseUrl"><span class="hs-identifier hs-var hs-var">ChainIndex.ciBaseUrl</span></a></span><span> </span><span class="annot"><span class="annottext">ChainIndexConfig
</span><a href="#local-6989586621680394530"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>        </span><span class="annot"><a href="Plutus.PAB.Types.html#BlockfrostConfig"><span class="hs-identifier hs-type">BlockfrostConfig</span></a></span><span> </span><span id="local-6989586621680394527"><span class="annot"><span class="annottext">BlockfrostConfig
</span><a href="#local-6989586621680394527"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ChainQueryEnv -&gt; IO ChainQueryEnv
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainQueryEnv -&gt; IO ChainQueryEnv)
-&gt; ChainQueryEnv -&gt; IO ChainQueryEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostEnv -&gt; ChainQueryEnv
</span><a href="Plutus.PAB.Types.html#BlockfrostEnv"><span class="hs-identifier hs-var">BlockfrostEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockfrostEnv -&gt; ChainQueryEnv) -&gt; BlockfrostEnv -&gt; ChainQueryEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-304"></span><span>            </span><span class="annot"><span class="annottext">BlockfrostEnv :: String -&gt; NetworkId -&gt; BlockfrostEnv
</span><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier hs-type">BF.BlockfrostEnv</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">envBfTokenPath :: String
</span><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier hs-var">envBfTokenPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BlockfrostConfig -&gt; String
</span><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier hs-var hs-var">BF.bfTokenPath</span></a></span><span> </span><span class="annot"><span class="annottext">BlockfrostConfig
</span><a href="#local-6989586621680394527"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-305"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">envNetworkId :: NetworkId
</span><a href="../../../../pab-blockfrost/html/src"><span class="hs-identifier hs-var">envNetworkId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkIdWrapper -&gt; NetworkId
</span><a href="Cardano.Api.NetworkId.Extra.html#unNetworkIdWrapper"><span class="hs-identifier hs-var hs-var">unNetworkIdWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkIdWrapper
</span><a href="#local-6989586621680394548"><span class="hs-identifier hs-var">pscNetworkId</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span id="local-6989586621680394763"><span class="annot"><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-type">logDebugString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394763"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-308"></span><span id="logDebugString"><span class="annot"><span class="annottext">logDebugString :: Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var hs-var">logDebugString</span></a></span></span><span> </span><span id="local-6989586621680394521"><span class="annot"><span class="annottext">Trace IO (PABLogMsg t)
</span><a href="#local-6989586621680394521"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg t) -&gt; PABLogMsg t -&gt; IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; Trace m a -&gt; a -&gt; m ()
</span><span class="hs-identifier hs-var">logDebug</span></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg t)
</span><a href="#local-6989586621680394521"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">(PABLogMsg t -&gt; IO ()) -&gt; (Text -&gt; PABLogMsg t) -&gt; Text -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PABMultiAgentMsg t -&gt; PABLogMsg t
forall t. PABMultiAgentMsg t -&gt; PABLogMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#SMultiAgent"><span class="hs-identifier hs-var">SMultiAgent</span></a></span><span> </span><span class="annot"><span class="annottext">(PABMultiAgentMsg t -&gt; PABLogMsg t)
-&gt; (Text -&gt; PABMultiAgentMsg t) -&gt; Text -&gt; PABLogMsg t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PABMultiAgentMsg t
forall t. Text -&gt; PABMultiAgentMsg t
</span><a href="Plutus.PAB.Monitoring.PABLogMsg.html#UserLog"><span class="hs-identifier hs-var">UserLog</span></a></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span id="local-6989586621680394792"><span class="annot"><a href="Plutus.PAB.App.html#dbConnect"><span class="hs-identifier hs-type">dbConnect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DbConfig"><span class="hs-identifier hs-type">DbConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394792"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DBConnection"><span class="hs-identifier hs-type">DBConnection</span></a></span></span><span>
</span><span id="line-311"></span><span id="dbConnect"><span class="annot"><span class="annottext">dbConnect :: DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO DBConnection
</span><a href="Plutus.PAB.App.html#dbConnect"><span class="hs-identifier hs-var hs-var">dbConnect</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#PostgresDB"><span class="hs-identifier hs-type">PostgresDB</span></a></span><span> </span><span id="local-6989586621680394520"><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394520"><span class="hs-identifier hs-var">db</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680394519"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394519"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pool Connection -&gt; DBConnection
</span><a href="Plutus.PAB.Types.html#PostgresPool"><span class="hs-identifier hs-var">PostgresPool</span></a></span><span> </span><span class="annot"><span class="annottext">(Pool Connection -&gt; DBConnection)
-&gt; IO (Pool Connection) -&gt; IO DBConnection
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
forall a.
DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
</span><a href="Plutus.PAB.App.html#dbConnectPostgres"><span class="hs-identifier hs-var">dbConnectPostgres</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394520"><span class="hs-identifier hs-var">db</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394519"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-312"></span><span class="annot"><a href="Plutus.PAB.App.html#dbConnect"><span class="hs-identifier hs-var">dbConnect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#SqliteDB"><span class="hs-identifier hs-type">SqliteDB</span></a></span><span> </span><span id="local-6989586621680394516"><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394516"><span class="hs-identifier hs-var">db</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680394515"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394515"><span class="hs-identifier hs-var">trace</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pool Connection -&gt; DBConnection
</span><a href="Plutus.PAB.Types.html#SqlitePool"><span class="hs-identifier hs-var">SqlitePool</span></a></span><span> </span><span class="annot"><span class="annottext">(Pool Connection -&gt; DBConnection)
-&gt; IO (Pool Connection) -&gt; IO DBConnection
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
forall a.
DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
</span><a href="Plutus.PAB.App.html#dbConnectSqlite"><span class="hs-identifier hs-var">dbConnectSqlite</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394516"><span class="hs-identifier hs-var">db</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394515"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span id="local-6989586621680394512"><span class="annot"><a href="Plutus.PAB.App.html#migrate"><span class="hs-identifier hs-type">migrate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DbConfig"><span class="hs-identifier hs-type">DbConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394512"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-315"></span><span id="migrate"><span class="annot"><span class="annottext">migrate :: DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
</span><a href="Plutus.PAB.App.html#migrate"><span class="hs-identifier hs-var hs-var">migrate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#PostgresDB"><span class="hs-identifier hs-type">PostgresDB</span></a></span><span> </span><span id="local-6989586621680394511"><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394511"><span class="hs-identifier hs-var">db</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ())
-&gt; (Trace IO (PABLogMsg (Builtin a)) -&gt; IO ())
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
forall a. DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
</span><a href="Plutus.PAB.App.html#migratePostgres"><span class="hs-identifier hs-var">migratePostgres</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394511"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-316"></span><span class="annot"><a href="Plutus.PAB.App.html#migrate"><span class="hs-identifier hs-var">migrate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#SqliteDB"><span class="hs-identifier hs-type">SqliteDB</span></a></span><span> </span><span id="local-6989586621680394509"><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394509"><span class="hs-identifier hs-var">db</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ())
-&gt; (Trace IO (PABLogMsg (Builtin a)) -&gt; IO ())
-&gt; Trace IO (PABLogMsg (Builtin a))
-&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
forall a. DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
</span><a href="Plutus.PAB.App.html#migrateSqlite"><span class="hs-identifier hs-var">migrateSqlite</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394509"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">-- POSTGRES</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- | Initialize/update the database to hold our effects.</span><span>
</span><span id="line-320"></span><span id="local-6989586621680394766"><span class="annot"><a href="Plutus.PAB.App.html#migratePostgres"><span class="hs-identifier hs-type">migratePostgres</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">Postgres.DbConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394766"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-321"></span><span id="migratePostgres"><span class="annot"><span class="annottext">migratePostgres :: DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
</span><a href="Plutus.PAB.App.html#migratePostgres"><span class="hs-identifier hs-var hs-var">migratePostgres</span></a></span></span><span> </span><span id="local-6989586621680394507"><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394507"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621680394506"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394506"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-322"></span><span>    </span><span id="local-6989586621680394505"><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394505"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
forall a.
DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
</span><a href="Plutus.PAB.App.html#dbConnectPostgres"><span class="hs-identifier hs-var">dbConnectPostgres</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394507"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394506"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Text -&gt; IO ()
forall t. Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var">logDebugString</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394506"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Running beam migration&quot;</span></span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="annottext">Pool Connection -&gt; (Connection -&gt; IO ()) -&gt; IO ()
forall a r. Pool a -&gt; (a -&gt; IO r) -&gt; IO r
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.withResource</span></a></span><span> </span><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394505"><span class="hs-identifier hs-var">pool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Connection -&gt; IO ()
forall a. Trace IO (PABLogMsg (Builtin a)) -&gt; Connection -&gt; IO ()
</span><a href="Plutus.PAB.App.html#runBeamMigrationPostgres"><span class="hs-identifier hs-var">runBeamMigrationPostgres</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394506"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span id="local-6989586621680394760"><span class="annot"><a href="Plutus.PAB.App.html#runBeamMigrationPostgres"><span class="hs-identifier hs-type">runBeamMigrationPostgres</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394760"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-type">Postgres.Connection</span></a></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-330"></span><span id="runBeamMigrationPostgres"><span class="annot"><span class="annottext">runBeamMigrationPostgres :: Trace IO (PABLogMsg (Builtin a)) -&gt; Connection -&gt; IO ()
</span><a href="Plutus.PAB.App.html#runBeamMigrationPostgres"><span class="hs-identifier hs-var hs-var">runBeamMigrationPostgres</span></a></span></span><span> </span><span id="local-6989586621680394502"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394502"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span id="local-6989586621680394501"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621680394501"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; Connection -&gt; Pg () -&gt; IO ()
forall a. (String -&gt; IO ()) -&gt; Connection -&gt; Pg a -&gt; IO a
</span><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier hs-var">Postgres.runBeamPostgresDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Text -&gt; IO ()
forall t. Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var">logDebugString</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394502"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; IO ()) -&gt; (String -&gt; Text) -&gt; String -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621680394501"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">(Pg () -&gt; IO ()) -&gt; Pg () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-331"></span><span>  </span><span class="annot"><span class="annottext">BeamMigrationBackend Postgres Pg
-&gt; CheckedDatabaseSettings Postgres Db -&gt; Pg ()
forall be (db :: (* -&gt; *) -&gt; *) (m :: * -&gt; *).
(Database be db, MonadFail m) =&gt;
BeamMigrationBackend be m -&gt; CheckedDatabaseSettings be db -&gt; m ()
</span><a href="../file:///nix/store/npv4h8527136mn2csxb46fmf9v3glkjj-beam-migrate-lib-beam-migrate-0.5.1.2-haddock-doc/share/doc/beam-migrate/html/src"><span class="hs-identifier hs-var">autoMigrate</span></a></span><span> </span><span class="annot"><span class="annottext">BeamMigrationBackend Postgres Pg
</span><a href="../file:///nix/store/zcypz0848b3j11jnm1gmvcmaky0psf13-beam-postgres-lib-beam-postgres-0.5.2.1-haddock-doc/share/doc/beam-postgres/html/src"><span class="hs-identifier hs-var">Postgres.migrationBackend</span></a></span><span> </span><span class="annot"><span class="annottext">CheckedDatabaseSettings Postgres Db
</span><a href="Plutus.PAB.Db.Schema.html#checkedPostgresDb"><span class="hs-identifier hs-var">checkedPostgresDb</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-comment">-- | Connect to the database.</span><span>
</span><span id="line-334"></span><span id="local-6989586621680394771"><span class="annot"><a href="Plutus.PAB.App.html#dbConnectPostgres"><span class="hs-identifier hs-type">dbConnectPostgres</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">Postgres.DbConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394771"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-type">Pool</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-type">Postgres.Connection</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-335"></span><span id="dbConnectPostgres"><span class="annot"><span class="annottext">dbConnectPostgres :: DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
</span><a href="Plutus.PAB.App.html#dbConnectPostgres"><span class="hs-identifier hs-var hs-var">dbConnectPostgres</span></a></span></span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">Postgres.DbConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621680394491"><span id="local-6989586621680394492"><span id="local-6989586621680394493"><span id="local-6989586621680394494"><span id="local-6989586621680394495"><span id="local-6989586621680394496"><span id="local-6989586621680394497"><span class="annot"><span class="annottext">Int
Word16
Text
dbConfigUser :: DbConfig -&gt; Text
dbConfigPass :: DbConfig -&gt; Text
dbConfigHost :: DbConfig -&gt; Text
dbConfigPort :: DbConfig -&gt; Word16
dbConfigDatabase :: DbConfig -&gt; Text
dbConfigPoolSize :: DbConfig -&gt; Int
dbConfigMarconiFile :: DbConfig -&gt; Text
dbConfigMarconiFile :: Text
dbConfigPoolSize :: Int
dbConfigDatabase :: Text
dbConfigPort :: Word16
dbConfigHost :: Text
dbConfigPass :: Text
dbConfigUser :: Text
</span><a href="../../../../freer-extras/html/src"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680394483"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394483"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-336"></span><span>  </span><span id="local-6989586621680394482"><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394482"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PoolConfig Connection -&gt; IO (Pool Connection)
forall a. PoolConfig a -&gt; IO (Pool a)
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.newPool</span></a></span><span> </span><span class="annot"><span class="annottext">PoolConfig :: forall a. IO a -&gt; (a -&gt; IO ()) -&gt; Double -&gt; Int -&gt; PoolConfig a
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-type">Pool.PoolConfig</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">createResource :: IO Connection
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.createResource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConnectInfo -&gt; IO Connection
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.connect</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectInfo :: String -&gt; Word16 -&gt; String -&gt; String -&gt; String -&gt; ConnectInfo
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-type">Postgres.ConnectInfo</span></a></span><span>
</span><span id="line-338"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">connectHost :: String
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.connectHost</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394495"><span class="hs-identifier hs-var">dbConfigHost</span></a></span><span>
</span><span id="line-339"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">connectPort :: Word16
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.connectPort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621680394494"><span class="hs-identifier hs-var">dbConfigPort</span></a></span><span>
</span><span id="line-340"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">connectUser :: String
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.connectUser</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394497"><span class="hs-identifier hs-var">dbConfigUser</span></a></span><span>
</span><span id="line-341"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">connectPassword :: String
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.connectPassword</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394496"><span class="hs-identifier hs-var">dbConfigPass</span></a></span><span>
</span><span id="line-342"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">connectDatabase :: String
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.connectDatabase</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394493"><span class="hs-identifier hs-var">dbConfigDatabase</span></a></span><span>
</span><span id="line-343"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">freeResource :: Connection -&gt; IO ()
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.freeResource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><a href="../file:///nix/store/isb0glwzxn9q9l05lhyn3qkhm3q36sfr-postgresql-simple-lib-postgresql-simple-0.6.5-haddock-doc/share/doc/postgresql-simple/html/src"><span class="hs-identifier hs-var">Postgres.close</span></a></span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">poolCacheTTL :: Double
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.poolCacheTTL</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">5_000_000</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">poolMaxResources :: Int
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.poolMaxResources</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680394492"><span class="hs-identifier hs-var">dbConfigPoolSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Text -&gt; IO ()
forall t. Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var">logDebugString</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394483"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; IO ()) -&gt; Text -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Connecting to DB: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394466"><span class="hs-identifier hs-var">databaseStr</span></a></span><span>
</span><span id="line-349"></span><span>  </span><span class="annot"><span class="annottext">Pool Connection -&gt; IO (Pool Connection)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394482"><span class="hs-identifier hs-var">pool</span></a></span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><a href="#local-6989586621680394466"><span class="hs-identifier hs-type">databaseStr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-352"></span><span>    </span><span id="local-6989586621680394466"><span class="annot"><span class="annottext">databaseStr :: Text
</span><a href="#local-6989586621680394466"><span class="hs-identifier hs-var hs-var">databaseStr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394495"><span class="hs-identifier hs-var">dbConfigHost</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (Word16 -&gt; String) -&gt; Word16 -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621680394494"><span class="hs-identifier hs-var">dbConfigPort</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-comment">-- SQLITE</span><span>
</span><span id="line-355"></span><span id="local-6989586621680394765"><span class="annot"><a href="Plutus.PAB.App.html#migrateSqlite"><span class="hs-identifier hs-type">migrateSqlite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">Sqlite.DbConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394765"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-356"></span><span id="migrateSqlite"><span class="annot"><span class="annottext">migrateSqlite :: DbConfig -&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO ()
</span><a href="Plutus.PAB.App.html#migrateSqlite"><span class="hs-identifier hs-var hs-var">migrateSqlite</span></a></span></span><span> </span><span id="local-6989586621680394464"><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394464"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621680394463"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394463"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621680394462"><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394462"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
forall a.
DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
</span><a href="Plutus.PAB.App.html#dbConnectSqlite"><span class="hs-identifier hs-var">dbConnectSqlite</span></a></span><span> </span><span class="annot"><span class="annottext">DbConfig
</span><a href="#local-6989586621680394464"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394463"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Text -&gt; IO ()
forall t. Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var">logDebugString</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394463"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Running beam migration&quot;</span></span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><span class="annottext">Pool Connection -&gt; (Connection -&gt; IO ()) -&gt; IO ()
forall a r. Pool a -&gt; (a -&gt; IO r) -&gt; IO r
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.withResource</span></a></span><span> </span><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394462"><span class="hs-identifier hs-var">pool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Connection -&gt; IO ()
forall a. Trace IO (PABLogMsg (Builtin a)) -&gt; Connection -&gt; IO ()
</span><a href="Plutus.PAB.App.html#runBeamMigrationSqlite"><span class="hs-identifier hs-var">runBeamMigrationSqlite</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394463"><span class="hs-identifier hs-var">trace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span id="local-6989586621680394742"><span class="annot"><a href="Plutus.PAB.App.html#runBeamMigrationSqlite"><span class="hs-identifier hs-type">runBeamMigrationSqlite</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394742"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/b6yy9siiwmm7jl9mla9asdhq1ck23cq8-sqlite-simple-lib-sqlite-simple-0.4.18.2-haddock-doc/share/doc/sqlite-simple/html/src"><span class="hs-identifier hs-type">Sqlite.Connection</span></a></span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-365"></span><span id="runBeamMigrationSqlite"><span class="annot"><span class="annottext">runBeamMigrationSqlite :: Trace IO (PABLogMsg (Builtin a)) -&gt; Connection -&gt; IO ()
</span><a href="Plutus.PAB.App.html#runBeamMigrationSqlite"><span class="hs-identifier hs-var hs-var">runBeamMigrationSqlite</span></a></span></span><span> </span><span id="local-6989586621680394460"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394460"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span id="local-6989586621680394459"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621680394459"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; Connection -&gt; SqliteM () -&gt; IO ()
forall a. (String -&gt; IO ()) -&gt; Connection -&gt; SqliteM a -&gt; IO a
</span><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier hs-var">Sqlite.runBeamSqliteDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Text -&gt; IO ()
forall t. Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var">logDebugString</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394460"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; IO ()) -&gt; (String -&gt; Text) -&gt; String -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621680394459"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteM () -&gt; IO ()) -&gt; SqliteM () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><span class="annottext">BeamMigrationBackend Sqlite SqliteM
-&gt; CheckedDatabaseSettings Sqlite Db -&gt; SqliteM ()
forall be (db :: (* -&gt; *) -&gt; *) (m :: * -&gt; *).
(Database be db, MonadFail m) =&gt;
BeamMigrationBackend be m -&gt; CheckedDatabaseSettings be db -&gt; m ()
</span><a href="../file:///nix/store/npv4h8527136mn2csxb46fmf9v3glkjj-beam-migrate-lib-beam-migrate-0.5.1.2-haddock-doc/share/doc/beam-migrate/html/src"><span class="hs-identifier hs-var">autoMigrate</span></a></span><span> </span><span class="annot"><span class="annottext">BeamMigrationBackend Sqlite SqliteM
</span><a href="../file:///nix/store/c2ys4mf3ij618ysqljn71b9gp0j0imn5-beam-sqlite-lib-beam-sqlite-0.5.1.2-haddock-doc/share/doc/beam-sqlite/html/src"><span class="hs-identifier hs-var">Sqlite.migrationBackend</span></a></span><span> </span><span class="annot"><span class="annottext">CheckedDatabaseSettings Sqlite Db
</span><a href="Plutus.PAB.Db.Schema.html#checkedSqliteDb"><span class="hs-identifier hs-var">checkedSqliteDb</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span id="local-6989586621680394770"><span class="annot"><a href="Plutus.PAB.App.html#dbConnectSqlite"><span class="hs-identifier hs-type">dbConnectSqlite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">Sqlite.DbConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#PABLogMsg"><span class="hs-identifier hs-type">PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394770"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-type">Pool</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/b6yy9siiwmm7jl9mla9asdhq1ck23cq8-sqlite-simple-lib-sqlite-simple-0.4.18.2-haddock-doc/share/doc/sqlite-simple/html/src"><span class="hs-identifier hs-type">Sqlite.Connection</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-369"></span><span id="dbConnectSqlite"><span class="annot"><span class="annottext">dbConnectSqlite :: DbConfig
-&gt; Trace IO (PABLogMsg (Builtin a)) -&gt; IO (Pool Connection)
</span><a href="Plutus.PAB.App.html#dbConnectSqlite"><span class="hs-identifier hs-var hs-var">dbConnectSqlite</span></a></span></span><span> </span><span class="annot"><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-type">Sqlite.DbConfig</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621680394455"><span class="annot"><span class="annottext">Text
dbConfigFile :: DbConfig -&gt; Text
dbConfigFile :: Text
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var hs-var">dbConfigFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680394453"><span class="annot"><span class="annottext">Int
dbConfigPoolSize :: DbConfig -&gt; Int
dbConfigPoolSize :: Int
</span><a href="../../../../freer-extras/html/src"><span class="hs-identifier hs-var hs-var">dbConfigPoolSize</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680394451"><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394451"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-370"></span><span>  </span><span id="local-6989586621680394450"><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394450"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PoolConfig Connection -&gt; IO (Pool Connection)
forall a. PoolConfig a -&gt; IO (Pool a)
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.newPool</span></a></span><span> </span><span class="annot"><span class="annottext">PoolConfig :: forall a. IO a -&gt; (a -&gt; IO ()) -&gt; Double -&gt; Int -&gt; PoolConfig a
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-type">Pool.PoolConfig</span></a></span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">createResource :: IO Connection
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.createResource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Connection
</span><a href="../file:///nix/store/b6yy9siiwmm7jl9mla9asdhq1ck23cq8-sqlite-simple-lib-sqlite-simple-0.4.18.2-haddock-doc/share/doc/sqlite-simple/html/src"><span class="hs-identifier hs-var">Sqlite.open</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO Connection) -&gt; String -&gt; IO Connection
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../file:///nix/store/71gg7bx8f4jr17lsf2w77qrjmdg3xvan-text-lib-text-1.2.4.1-haddock-doc/share/doc/text/html/src"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394455"><span class="hs-identifier hs-var">dbConfigFile</span></a></span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">freeResource :: Connection -&gt; IO ()
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.freeResource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><a href="../file:///nix/store/b6yy9siiwmm7jl9mla9asdhq1ck23cq8-sqlite-simple-lib-sqlite-simple-0.4.18.2-haddock-doc/share/doc/sqlite-simple/html/src"><span class="hs-identifier hs-var">Sqlite.close</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">poolCacheTTL :: Double
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.poolCacheTTL</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">5_000_000</span></span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">poolMaxResources :: Int
</span><a href="../file:///nix/store/zxq0h870rlfkadlbglxsnlfqnd0xfp5v-resource-pool-lib-resource-pool-0.3.1.0-haddock-doc/share/doc/resource-pool/html/src"><span class="hs-identifier hs-var">Pool.poolMaxResources</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680394453"><span class="hs-identifier hs-var">dbConfigPoolSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-376"></span><span>  </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a)) -&gt; Text -&gt; IO ()
forall t. Trace IO (PABLogMsg t) -&gt; Text -&gt; IO ()
</span><a href="Plutus.PAB.App.html#logDebugString"><span class="hs-identifier hs-var">logDebugString</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PABLogMsg (Builtin a))
</span><a href="#local-6989586621680394451"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; IO ()) -&gt; Text -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Connecting to DB: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680394455"><span class="hs-identifier hs-var">dbConfigFile</span></a></span><span>
</span><span id="line-377"></span><span>  </span><span class="annot"><span class="annottext">Pool Connection -&gt; IO (Pool Connection)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Pool Connection
</span><a href="#local-6989586621680394450"><span class="hs-identifier hs-var">pool</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="annot"><a href="Plutus.PAB.App.html#handleContractDefinition"><span class="hs-identifier hs-type">handleContractDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680394883"><span class="annot"><a href="#local-6989586621680394883"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621680394882"><span class="annot"><a href="#local-6989586621680394882"><span class="hs-identifier hs-type">effs</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier hs-type">HasDefinitions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394883"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.html#ContractDefinition"><span class="hs-identifier hs-type">ContractDefinition</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394883"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>  </span><span class="annot"><a href="../file:///nix/store/nkim7nifcqpdb4r433zhbv94ima3fwqb-natural-transformation-lib-natural-transformation-0.4-haddock-doc/share/doc/natural-transformation/html/src"><span class="hs-operator hs-type">~&gt;</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/bvsf6n0jyy81dv6f71yfdy6shyr2f8sf-freer-simple-lib-freer-simple-1.2.1.2-haddock-doc/share/doc/freer-simple/html/src"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680394882"><span class="hs-identifier hs-type">effs</span></a></span><span>
</span><span id="line-383"></span><span id="handleContractDefinition"><span class="annot"><span class="annottext">handleContractDefinition :: ContractDefinition (Builtin a) ~&gt; Eff effs
</span><a href="Plutus.PAB.App.html#handleContractDefinition"><span class="hs-identifier hs-var hs-var">handleContractDefinition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-384"></span><span>  </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.html#AddDefinition"><span class="hs-identifier hs-type">AddDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">ContractDef (Builtin a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; Eff effs ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>  </span><span class="annot"><span class="annottext">ContractDefinition (Builtin a) x
</span><a href="Plutus.PAB.Effects.Contract.html#GetDefinitions"><span class="hs-identifier hs-var">GetDefinitions</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Eff effs [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
forall a. HasDefinitions a =&gt; [a]
</span><a href="Plutus.PAB.Effects.Contract.Builtin.html#getDefinitions"><span class="hs-identifier hs-var">getDefinitions</span></a></span><span>
</span><span id="line-386"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ApplicativeDo         #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia           #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns        #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes            #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.PAB.Run</span><span>
</span><span id="line-13"></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.html#runWith"><span class="hs-identifier">runWith</span></a></span><span>
</span><span id="line-14"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.html#runWithOpts"><span class="hs-identifier">runWithOpts</span></a></span><span>
</span><span id="line-15"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/iy3ryny1hk36svkgz5ggpq9p1a93fq5c-lobemo-backend-ekg-lib-lobemo-backend-ekg-0.1.0.1-haddock-doc/share/doc/lobemo-backend-ekg/html/src"><span class="hs-identifier">Cardano.BM.Backend.EKGView</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">EKGView</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.BM.Configuration.Model</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CM</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.BM.Data.Trace</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Trace</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.BM.Plugin</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">loadPlugin</span></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.BM.Setup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">setupTrace_</span></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Node.Types.html"><span class="hs-identifier">Cardano.Node.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Node.Types.html#pscPassphrase"><span class="hs-identifier">pscPassphrase</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Alternative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;|&gt;)</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Concurrent.Availability.html"><span class="hs-identifier">Control.Concurrent.Availability</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Concurrent.Availability.html#newToken"><span class="hs-identifier">newToken</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">when</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">liftIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2asw7plc1yllcl4zg8wsh6r9qjcajryd-monad-logger-lib-monad-logger-0.3.37-haddock-doc/share/doc/monad-logger/html/src"><span class="hs-identifier">Control.Monad.Logger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2asw7plc1yllcl4zg8wsh6r9qjcajryd-monad-logger-lib-monad-logger-0.3.37-haddock-doc/share/doc/monad-logger/html/src"><span class="hs-identifier">logErrorN</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2asw7plc1yllcl4zg8wsh6r9qjcajryd-monad-logger-lib-monad-logger-0.3.37-haddock-doc/share/doc/monad-logger/html/src"><span class="hs-identifier">runStdoutLoggingT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">for_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/vpm50j3dwjzfg00shy71mwawvv796qgi-openapi3-lib-openapi3-3.2.3-haddock-doc/share/doc/openapi3/html/src"><span class="hs-identifier">Data.OpenApi.Schema</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OpenApi</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">Data.Text.Extras</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-contract/html/src"><span class="hs-identifier">tshow</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/lxv7fnjjdklpsq3ancib1r8d0jspxixn-yaml-lib-yaml-0.11.8.0-haddock-doc/share/doc/yaml/html/src"><span class="hs-identifier">Data.Yaml</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/lxv7fnjjdklpsq3ancib1r8d0jspxixn-yaml-lib-yaml-0.11.8.0-haddock-doc/share/doc/yaml/html/src"><span class="hs-identifier">decodeFileThrow</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">Plutus.Monitoring.Util</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">PrettyObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">PrettyObject</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier">convertLog</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html"><span class="hs-identifier">Plutus.PAB.Effects.Contract.Builtin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier">Builtin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier">BuiltinHandler</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier">HasDefinitions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.Config.html"><span class="hs-identifier">Plutus.PAB.Monitoring.Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.Config.html#defaultConfig"><span class="hs-identifier">defaultConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.Config.html#loadConfig"><span class="hs-identifier">loadConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html"><span class="hs-identifier">Plutus.PAB.Monitoring.PABLogMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#AppMsg"><span class="hs-identifier">AppMsg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html"><span class="hs-identifier">Plutus.PAB.Run.Cli</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ConfigCommandArgs"><span class="hs-identifier">ConfigCommandArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ConfigCommandArgs"><span class="hs-identifier">ConfigCommandArgs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ccaAvailability"><span class="hs-identifier">ccaAvailability</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ccaLoggingConfig"><span class="hs-identifier">ccaLoggingConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ccaPABConfig"><span class="hs-identifier">ccaPABConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>                           </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ccaStorageBackend"><span class="hs-identifier">ccaStorageBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#ccaTrace"><span class="hs-identifier">ccaTrace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.Cli.html#runConfigCommand"><span class="hs-identifier">runConfigCommand</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.CommandParser.html"><span class="hs-identifier">Plutus.PAB.Run.CommandParser</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html"><span class="hs-identifier">Plutus.PAB.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier">Config</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#DevelopmentOptions"><span class="hs-identifier">DevelopmentOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#pabResumeFrom"><span class="hs-identifier">pabResumeFrom</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#pabRollbackHistory"><span class="hs-identifier">pabRollbackHistory</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>                         </span><span class="annot"><a href="Plutus.PAB.Types.html#PABError"><span class="hs-identifier">PABError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Types.html#MissingConfigFileOption"><span class="hs-identifier">MissingConfigFileOption</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#developmentOptions"><span class="hs-identifier">developmentOptions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier">nodeServerConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier">pretty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/b04nrk4i8h9kq5glikqcildam8xwyw84-servant-server-lib-servant-server-0.18.3-haddock-doc/share/doc/servant-server/html/src"><span class="hs-identifier">Servant</span></a></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">System.Exit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">ExitCode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">ExitFailure</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">exitWith</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-comment">-- | PAB entry point for a contract type `a`.</span><span>
</span><span id="line-47"></span><span class="annot"><a href="Plutus.PAB.Run.html#runWith"><span class="hs-identifier hs-type">runWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680396481"><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-type">Servant.MimeUnrender</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-type">Servant.JSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier hs-type">HasDefinitions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/vpm50j3dwjzfg00shy71mwawvv796qgi-openapi3-lib-openapi3-3.2.3-haddock-doc/share/doc/openapi3/html/src"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier hs-type">BuiltinHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396481"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- ^ Builtin contract handler. Can be created with 'Plutus.PAB.Effects.Contract.Builtin.handleBuiltin'.</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span id="runWith"><span class="annot"><span class="annottext">runWith :: BuiltinHandler a -&gt; IO ()
</span><a href="Plutus.PAB.Run.html#runWith"><span class="hs-identifier hs-var hs-var">runWith</span></a></span></span><span> </span><span id="local-6989586621680396480"><span class="annot"><span class="annottext">BuiltinHandler a
</span><a href="#local-6989586621680396480"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO AppOpts
</span><a href="Plutus.PAB.Run.CommandParser.html#parseOptions"><span class="hs-identifier hs-var">parseOptions</span></a></span><span> </span><span class="annot"><span class="annottext">IO AppOpts -&gt; (AppOpts -&gt; IO ()) -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinHandler a -&gt; Maybe Config -&gt; AppOpts -&gt; IO ()
forall a.
(Show a, Ord a, FromJSON a, ToJSON a, Pretty a,
 MimeUnrender JSON a, HasDefinitions a, ToSchema a) =&gt;
BuiltinHandler a -&gt; Maybe Config -&gt; AppOpts -&gt; IO ()
</span><a href="Plutus.PAB.Run.html#runWithOpts"><span class="hs-identifier hs-var">runWithOpts</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinHandler a
</span><a href="#local-6989586621680396480"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Config
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- | Helper function to launch a complete PAB (all the necessary services)</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- that can be interacted over the API endpoints defined in</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- 'PAB.Webserver.Server'.</span><span>
</span><span id="line-64"></span><span class="annot"><a href="Plutus.PAB.Run.html#runWithOpts"><span class="hs-identifier hs-type">runWithOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621680396606"><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/2m29g1mlr4lg9v93x77b5w3l6pyhq2vj-aeson-lib-aeson-2.0.2.0-haddock-doc/share/doc/aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-type">Servant.MimeUnrender</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/vyn800dwc7jzx9nlwjw9m6vsd46p5skc-servant-lib-servant-0.18.3-haddock-doc/share/doc/servant/html/src"><span class="hs-identifier hs-type">Servant.JSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#HasDefinitions"><span class="hs-identifier hs-type">HasDefinitions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/vpm50j3dwjzfg00shy71mwawvv796qgi-openapi3-lib-openapi3-3.2.3-haddock-doc/share/doc/openapi3/html/src"><span class="hs-identifier hs-type">OpenApi.ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#BuiltinHandler"><span class="hs-identifier hs-type">BuiltinHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-comment">-- ^ Optional config override to use in preference to the one in AppOpts</span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutus.PAB.Run.CommandParser.html#AppOpts"><span class="hs-identifier hs-type">AppOpts</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span id="runWithOpts"><span class="annot"><span class="annottext">runWithOpts :: BuiltinHandler a -&gt; Maybe Config -&gt; AppOpts -&gt; IO ()
</span><a href="Plutus.PAB.Run.html#runWithOpts"><span class="hs-identifier hs-var hs-var">runWithOpts</span></a></span></span><span> </span><span id="local-6989586621680396478"><span class="annot"><span class="annottext">BuiltinHandler a
</span><a href="#local-6989586621680396478"><span class="hs-identifier hs-var">userContractHandler</span></a></span></span><span> </span><span id="local-6989586621680396477"><span class="annot"><span class="annottext">Maybe Config
</span><a href="#local-6989586621680396477"><span class="hs-identifier hs-var">mc</span></a></span></span><span> </span><span class="annot"><a href="Plutus.PAB.Run.CommandParser.html#AppOpts"><span class="hs-identifier hs-type">AppOpts</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621680396475"><span class="annot"><span class="annottext">Maybe Severity
minLogLevel :: AppOpts -&gt; Maybe Severity
minLogLevel :: Maybe Severity
</span><a href="Plutus.PAB.Run.CommandParser.html#minLogLevel"><span class="hs-identifier hs-var hs-var">minLogLevel</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396473"><span class="annot"><span class="annottext">Maybe Int
rollbackHistory :: AppOpts -&gt; Maybe Int
rollbackHistory :: Maybe Int
</span><a href="Plutus.PAB.Run.CommandParser.html#rollbackHistory"><span class="hs-identifier hs-var hs-var">rollbackHistory</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396471"><span class="annot"><span class="annottext">Point
resumeFrom :: AppOpts -&gt; Point
resumeFrom :: Point
</span><a href="Plutus.PAB.Run.CommandParser.html#resumeFrom"><span class="hs-identifier hs-var hs-var">resumeFrom</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396469"><span class="annot"><span class="annottext">Maybe FilePath
logConfigPath :: AppOpts -&gt; Maybe FilePath
logConfigPath :: Maybe FilePath
</span><a href="Plutus.PAB.Run.CommandParser.html#logConfigPath"><span class="hs-identifier hs-var hs-var">logConfigPath</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396467"><span class="annot"><span class="annottext">Maybe Text
passphrase :: AppOpts -&gt; Maybe Text
passphrase :: Maybe Text
</span><a href="Plutus.PAB.Run.CommandParser.html#passphrase"><span class="hs-identifier hs-var hs-var">passphrase</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396465"><span class="annot"><span class="annottext">Bool
runEkgServer :: AppOpts -&gt; Bool
runEkgServer :: Bool
</span><a href="Plutus.PAB.Run.CommandParser.html#runEkgServer"><span class="hs-identifier hs-var hs-var">runEkgServer</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396463"><span class="annot"><span class="annottext">ConfigCommand
cmd :: AppOpts -&gt; ConfigCommand
cmd :: ConfigCommand
</span><a href="Plutus.PAB.Run.CommandParser.html#cmd"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396461"><span class="annot"><span class="annottext">Maybe FilePath
configPath :: AppOpts -&gt; Maybe FilePath
configPath :: Maybe FilePath
</span><a href="Plutus.PAB.Run.CommandParser.html#configPath"><span class="hs-identifier hs-var hs-var">configPath</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396459"><span class="annot"><span class="annottext">StorageBackend
storageBackend :: AppOpts -&gt; StorageBackend
storageBackend :: StorageBackend
</span><a href="Plutus.PAB.Run.CommandParser.html#storageBackend"><span class="hs-identifier hs-var hs-var">storageBackend</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-comment">-- Parse config files and initialize logging</span><span>
</span><span id="line-80"></span><span>    </span><span id="local-6989586621680396457"><span class="annot"><span class="annottext">Configuration
</span><a href="#local-6989586621680396457"><span class="hs-identifier hs-var">logConfig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Configuration
-&gt; (FilePath -&gt; IO Configuration)
-&gt; Maybe FilePath
-&gt; IO Configuration
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">IO Configuration
</span><a href="Plutus.PAB.Monitoring.Config.html#defaultConfig"><span class="hs-identifier hs-var">defaultConfig</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO Configuration
</span><a href="Plutus.PAB.Monitoring.Config.html#loadConfig"><span class="hs-identifier hs-var">loadConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621680396469"><span class="hs-identifier hs-var">logConfigPath</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><span class="annottext">Maybe Severity -&gt; (Severity -&gt; IO ()) -&gt; IO ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Severity
</span><a href="#local-6989586621680396475"><span class="hs-identifier hs-var">minLogLevel</span></a></span><span> </span><span class="annot"><span class="annottext">((Severity -&gt; IO ()) -&gt; IO ()) -&gt; (Severity -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680396455"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621680396455"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Configuration -&gt; Severity -&gt; IO ()
</span><span class="hs-identifier hs-var">CM.setMinSeverity</span></span><span> </span><span class="annot"><span class="annottext">Configuration
</span><a href="#local-6989586621680396457"><span class="hs-identifier hs-var">logConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621680396455"><span class="hs-identifier hs-var">ll</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680396453"><span class="annot"><span class="annottext">Trace IO (PrettyObject (AppMsg (Builtin a)))
</span><a href="#local-6989586621680396453"><span class="hs-identifier hs-var">trace</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Trace</span></span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-type">PrettyObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Monitoring.PABLogMsg.html#AppMsg"><span class="hs-identifier hs-type">AppMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutus.PAB.Effects.Contract.Builtin.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680396606"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396452"><span class="annot"><span class="annottext">Switchboard (PrettyObject (AppMsg (Builtin a)))
</span><a href="#local-6989586621680396452"><span class="hs-identifier hs-var">switchboard</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Configuration
-&gt; Text
-&gt; IO
     (Trace IO (PrettyObject (AppMsg (Builtin a))),
      Switchboard (PrettyObject (AppMsg (Builtin a))))
forall (m :: * -&gt; *) a.
(MonadIO m, ToJSON a, FromJSON a, ToObject a) =&gt;
Configuration -&gt; Text -&gt; m (Trace m a, Switchboard a)
</span><span class="hs-identifier hs-var">setupTrace_</span></span><span> </span><span class="annot"><span class="annottext">Configuration
</span><a href="#local-6989586621680396457"><span class="hs-identifier hs-var">logConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;pab&quot;</span></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-comment">-- enable EKG backend</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680396465"><span class="hs-identifier hs-var">runEkgServer</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Configuration
-&gt; Trace IO (PrettyObject (AppMsg (Builtin a)))
-&gt; Switchboard (PrettyObject (AppMsg (Builtin a)))
-&gt; IO (Plugin (PrettyObject (AppMsg (Builtin a))))
forall (s :: * -&gt; *) a.
(IsEffectuator s a, ToJSON a, FromJSON a) =&gt;
Configuration -&gt; Trace IO a -&gt; s a -&gt; IO (Plugin a)
</span><a href="../file:///nix/store/iy3ryny1hk36svkgz5ggpq9p1a93fq5c-lobemo-backend-ekg-lib-lobemo-backend-ekg-0.1.0.1-haddock-doc/share/doc/lobemo-backend-ekg/html/src"><span class="hs-identifier hs-var">EKGView.plugin</span></a></span><span> </span><span class="annot"><span class="annottext">Configuration
</span><a href="#local-6989586621680396457"><span class="hs-identifier hs-var">logConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PrettyObject (AppMsg (Builtin a)))
</span><a href="#local-6989586621680396453"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">Switchboard (PrettyObject (AppMsg (Builtin a)))
</span><a href="#local-6989586621680396452"><span class="hs-identifier hs-var">switchboard</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Plugin (PrettyObject (AppMsg (Builtin a))))
-&gt; (Plugin (PrettyObject (AppMsg (Builtin a))) -&gt; IO ()) -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Switchboard (PrettyObject (AppMsg (Builtin a)))
-&gt; Plugin (PrettyObject (AppMsg (Builtin a))) -&gt; IO ()
forall a. Switchboard a -&gt; Plugin a -&gt; IO ()
</span><span class="hs-identifier hs-var">loadPlugin</span></span><span> </span><span class="annot"><span class="annottext">Switchboard (PrettyObject (AppMsg (Builtin a)))
</span><a href="#local-6989586621680396452"><span class="hs-identifier hs-var">switchboard</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-comment">-- obtain token for signaling service readiness</span><span>
</span><span id="line-88"></span><span>    </span><span id="local-6989586621680396450"><span class="annot"><span class="annottext">Availability
</span><a href="#local-6989586621680396450"><span class="hs-identifier hs-var">serviceAvailability</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Availability
forall (m :: * -&gt; *). MonadIO m =&gt; m Availability
</span><a href="Control.Concurrent.Availability.html#newToken"><span class="hs-identifier hs-var">newToken</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621680396449"><span class="annot"><span class="annottext">Either PABError Config
</span><a href="#local-6989586621680396449"><span class="hs-identifier hs-var">pabConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#PABError"><span class="hs-identifier hs-type">PABError</span></a></span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Config
</span><a href="#local-6989586621680396477"><span class="hs-identifier hs-var">mc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680396448"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680396448"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either PABError Config -&gt; IO (Either PABError Config)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either PABError Config -&gt; IO (Either PABError Config))
-&gt; Either PABError Config -&gt; IO (Either PABError Config)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; Either PABError Config
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680396448"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><span class="annottext">Maybe Config
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-93"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621680396461"><span class="hs-identifier hs-var">configPath</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-94"></span><span>            </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either PABError Config -&gt; IO (Either PABError Config)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either PABError Config -&gt; IO (Either PABError Config))
-&gt; Either PABError Config -&gt; IO (Either PABError Config)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PABError -&gt; Either PABError Config
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">PABError
</span><a href="Plutus.PAB.Types.html#MissingConfigFileOption"><span class="hs-identifier hs-var">MissingConfigFileOption</span></a></span><span>
</span><span id="line-95"></span><span>            </span><span class="annot"><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680396447"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621680396447"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Config -&gt; Either PABError Config
forall a b. b -&gt; Either a b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(Config -&gt; Either PABError Config)
-&gt; IO Config -&gt; IO (Either PABError Config)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO Config -&gt; IO Config
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Config -&gt; IO Config) -&gt; IO Config -&gt; IO Config
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; IO Config
forall (m :: * -&gt; *) a. (MonadIO m, FromJSON a) =&gt; FilePath -&gt; m a
</span><a href="../file:///nix/store/lxv7fnjjdklpsq3ancib1r8d0jspxixn-yaml-lib-yaml-0.11.8.0-haddock-doc/share/doc/yaml/html/src"><span class="hs-identifier hs-var">decodeFileThrow</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621680396447"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680396445"><span class="annot"><span class="annottext">mkNodeServerConfig :: PABServerConfig -&gt; PABServerConfig
</span><a href="#local-6989586621680396445"><span class="hs-identifier hs-var hs-var">mkNodeServerConfig</span></a></span></span><span> </span><span id="local-6989586621680396444"><span class="annot"><span class="annottext">PABServerConfig
</span><a href="#local-6989586621680396444"><span class="hs-identifier hs-var">nodeServerConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>            </span><span class="annot"><span class="annottext">PABServerConfig
</span><a href="#local-6989586621680396444"><span class="hs-identifier hs-var">nodeServerConfig</span></a></span><span>
</span><span id="line-99"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pscPassphrase :: Maybe Text
</span><a href="Cardano.Node.Types.html#pscPassphrase"><span class="hs-identifier hs-var">pscPassphrase</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621680396467"><span class="hs-identifier hs-var">passphrase</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Maybe Text -&gt; Maybe Text
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PABServerConfig -&gt; Maybe Text
</span><a href="Cardano.Node.Types.html#pscPassphrase"><span class="hs-identifier hs-var hs-var">pscPassphrase</span></a></span><span> </span><span class="annot"><span class="annottext">PABServerConfig
</span><a href="#local-6989586621680396444"><span class="hs-identifier hs-var">nodeServerConfig</span></a></span><span>
</span><span id="line-100"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-101"></span><span>        </span><span id="local-6989586621680396443"><span class="annot"><span class="annottext">mkDevOpts :: DevelopmentOptions -&gt; DevelopmentOptions
</span><a href="#local-6989586621680396443"><span class="hs-identifier hs-var hs-var">mkDevOpts</span></a></span></span><span> </span><span id="local-6989586621680396442"><span class="annot"><span class="annottext">DevelopmentOptions
</span><a href="#local-6989586621680396442"><span class="hs-identifier hs-var">developmentOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>            </span><span class="annot"><span class="annottext">DevelopmentOptions
</span><a href="#local-6989586621680396442"><span class="hs-identifier hs-var">developmentOptions</span></a></span><span>
</span><span id="line-103"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pabRollbackHistory :: Maybe Int
</span><a href="Plutus.PAB.Types.html#pabRollbackHistory"><span class="hs-identifier hs-var">pabRollbackHistory</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621680396473"><span class="hs-identifier hs-var">rollbackHistory</span></a></span><span>
</span><span id="line-104"></span><span>                                   </span><span class="annot"><span class="annottext">Maybe Int -&gt; Maybe Int -&gt; Maybe Int
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DevelopmentOptions -&gt; Maybe Int
</span><a href="Plutus.PAB.Types.html#pabRollbackHistory"><span class="hs-identifier hs-var hs-var">pabRollbackHistory</span></a></span><span> </span><span class="annot"><span class="annottext">DevelopmentOptions
</span><a href="#local-6989586621680396442"><span class="hs-identifier hs-var">developmentOptions</span></a></span><span>
</span><span id="line-105"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pabResumeFrom :: Point
</span><a href="Plutus.PAB.Types.html#pabResumeFrom"><span class="hs-identifier hs-var">pabResumeFrom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Point -&gt; Point -&gt; Point
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">max</span></a></span><span> </span><span class="annot"><span class="annottext">Point
</span><a href="#local-6989586621680396471"><span class="hs-identifier hs-var">resumeFrom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DevelopmentOptions -&gt; Point
</span><a href="Plutus.PAB.Types.html#pabResumeFrom"><span class="hs-identifier hs-var hs-var">pabResumeFrom</span></a></span><span> </span><span class="annot"><span class="annottext">DevelopmentOptions
</span><a href="#local-6989586621680396442"><span class="hs-identifier hs-var">developmentOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-108"></span><span>        </span><span id="local-6989586621680396440"><span class="annot"><span class="annottext">mkArgs :: Config -&gt; ConfigCommandArgs a
</span><a href="#local-6989586621680396440"><span class="hs-identifier hs-var hs-var">mkArgs</span></a></span></span><span> </span><span id="local-6989586621680396439"><span class="annot"><span class="annottext">config :: Config
</span><a href="#local-6989586621680396439"><span class="hs-identifier hs-var">config</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Plutus.PAB.Types.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span class="hs-special">{</span><span id="local-6989586621680396438"><span class="annot"><span class="annottext">PABServerConfig
nodeServerConfig :: PABServerConfig
nodeServerConfig :: Config -&gt; PABServerConfig
</span><a href="#local-6989586621680396438"><span class="hs-identifier hs-var hs-var">nodeServerConfig</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680396437"><span class="annot"><span class="annottext">DevelopmentOptions
developmentOptions :: DevelopmentOptions
developmentOptions :: Config -&gt; DevelopmentOptions
</span><a href="#local-6989586621680396437"><span class="hs-identifier hs-var hs-var">developmentOptions</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-109"></span><span>            </span><span class="annot"><span class="annottext">ConfigCommandArgs :: forall a.
Trace IO (AppMsg (Builtin a))
-&gt; Configuration
-&gt; Config
-&gt; Availability
-&gt; StorageBackend
-&gt; ConfigCommandArgs a
</span><a href="Plutus.PAB.Run.Cli.html#ConfigCommandArgs"><span class="hs-identifier hs-type">ConfigCommandArgs</span></a></span><span>
</span><span id="line-110"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ccaTrace :: Trace IO (AppMsg (Builtin a))
</span><a href="Plutus.PAB.Run.Cli.html#ccaTrace"><span class="hs-identifier hs-var">ccaTrace</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AppMsg (Builtin a) -&gt; PrettyObject (AppMsg (Builtin a)))
-&gt; Trace IO (PrettyObject (AppMsg (Builtin a)))
-&gt; Trace IO (AppMsg (Builtin a))
forall a b (m :: * -&gt; *). (a -&gt; b) -&gt; Trace m b -&gt; Trace m a
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">convertLog</span></a></span><span> </span><span class="annot"><span class="annottext">AppMsg (Builtin a) -&gt; PrettyObject (AppMsg (Builtin a))
forall t. t -&gt; PrettyObject t
</span><a href="../../../../plutus-chain-index-core/html/src"><span class="hs-identifier hs-var">PrettyObject</span></a></span><span> </span><span class="annot"><span class="annottext">Trace IO (PrettyObject (AppMsg (Builtin a)))
</span><a href="#local-6989586621680396453"><span class="hs-identifier hs-var">trace</span></a></span><span>
</span><span id="line-111"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ccaLoggingConfig :: Configuration
</span><a href="Plutus.PAB.Run.Cli.html#ccaLoggingConfig"><span class="hs-identifier hs-var">ccaLoggingConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Configuration
</span><a href="#local-6989586621680396457"><span class="hs-identifier hs-var">logConfig</span></a></span><span>
</span><span id="line-112"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ccaPABConfig :: Config
</span><a href="Plutus.PAB.Run.Cli.html#ccaPABConfig"><span class="hs-identifier hs-var">ccaPABConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>                    </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621680396439"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">nodeServerConfig :: PABServerConfig
</span><a href="Plutus.PAB.Types.html#nodeServerConfig"><span class="hs-identifier hs-var">nodeServerConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PABServerConfig -&gt; PABServerConfig
</span><a href="#local-6989586621680396445"><span class="hs-identifier hs-var">mkNodeServerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">PABServerConfig
</span><a href="#local-6989586621680396438"><span class="hs-identifier hs-var">nodeServerConfig</span></a></span><span>
</span><span id="line-114"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">developmentOptions :: DevelopmentOptions
</span><a href="Plutus.PAB.Types.html#developmentOptions"><span class="hs-identifier hs-var">developmentOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DevelopmentOptions -&gt; DevelopmentOptions
</span><a href="#local-6989586621680396443"><span class="hs-identifier hs-var">mkDevOpts</span></a></span><span> </span><span class="annot"><span class="annottext">DevelopmentOptions
</span><a href="#local-6989586621680396437"><span class="hs-identifier hs-var">developmentOptions</span></a></span><span>
</span><span id="line-115"></span><span>                           </span><span class="hs-special">}</span><span>
</span><span id="line-116"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ccaAvailability :: Availability
</span><a href="Plutus.PAB.Run.Cli.html#ccaAvailability"><span class="hs-identifier hs-var">ccaAvailability</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Availability
</span><a href="#local-6989586621680396450"><span class="hs-identifier hs-var">serviceAvailability</span></a></span><span>
</span><span id="line-117"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ccaStorageBackend :: StorageBackend
</span><a href="Plutus.PAB.Run.Cli.html#ccaStorageBackend"><span class="hs-identifier hs-var">ccaStorageBackend</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StorageBackend
</span><a href="#local-6989586621680396459"><span class="hs-identifier hs-var">storageBackend</span></a></span><span>
</span><span id="line-118"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-comment">-- execute parsed pab command and handle errors on faliure</span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621680396436"><span class="annot"><span class="annottext">Either PABError ()
</span><a href="#local-6989586621680396436"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either PABError (IO ()) -&gt; IO (Either PABError ())
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConfigCommandArgs a -&gt; IO ()
</span><a href="#local-6989586621680396434"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="annot"><span class="annottext">(ConfigCommandArgs a -&gt; IO ())
-&gt; (Config -&gt; ConfigCommandArgs a) -&gt; Config -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; ConfigCommandArgs a
</span><a href="#local-6989586621680396440"><span class="hs-identifier hs-var">mkArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(Config -&gt; IO ())
-&gt; Either PABError Config -&gt; Either PABError (IO ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Either PABError Config
</span><a href="#local-6989586621680396449"><span class="hs-identifier hs-var">pabConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><span class="annottext">(PABError -&gt; IO ()) -&gt; (() -&gt; IO ()) -&gt; Either PABError () -&gt; IO ()
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">PABError -&gt; IO ()
forall b. PABError -&gt; IO b
</span><a href="#local-6989586621680396431"><span class="hs-identifier hs-var">handleError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; () -&gt; IO ()
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; () -&gt; IO ()) -&gt; IO () -&gt; () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either PABError ()
</span><a href="#local-6989586621680396436"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-125"></span><span>        </span><span id="local-6989586621680396434"><span class="annot"><span class="annottext">run :: ConfigCommandArgs a -&gt; IO ()
</span><a href="#local-6989586621680396434"><span class="hs-identifier hs-var hs-var">run</span></a></span></span><span> </span><span id="local-6989586621680396429"><span class="annot"><span class="annottext">ConfigCommandArgs a
</span><a href="#local-6989586621680396429"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinHandler a -&gt; ConfigCommandArgs a -&gt; ConfigCommand -&gt; IO ()
forall a.
(Ord a, Show a, ToJSON a, FromJSON a, Pretty a,
 MimeUnrender JSON a, HasDefinitions a, ToSchema a) =&gt;
BuiltinHandler a -&gt; ConfigCommandArgs a -&gt; ConfigCommand -&gt; IO ()
</span><a href="Plutus.PAB.Run.Cli.html#runConfigCommand"><span class="hs-identifier hs-var">runConfigCommand</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinHandler a
</span><a href="#local-6989586621680396478"><span class="hs-identifier hs-var">userContractHandler</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigCommandArgs a
</span><a href="#local-6989586621680396429"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigCommand
</span><a href="#local-6989586621680396463"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-126"></span><span>        </span><span id="local-6989586621680396431"><span class="annot"><span class="annottext">handleError :: PABError -&gt; IO b
</span><a href="#local-6989586621680396431"><span class="hs-identifier hs-var hs-var">handleError</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680396428"><span class="annot"><span class="annottext">PABError
</span><a href="#local-6989586621680396428"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutus.PAB.Types.html#PABError"><span class="hs-identifier hs-type">PABError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-127"></span><span>            </span><span class="annot"><span class="annottext">LoggingT IO () -&gt; IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; LoggingT m a -&gt; m a
</span><a href="../file:///nix/store/2asw7plc1yllcl4zg8wsh6r9qjcajryd-monad-logger-lib-monad-logger-0.3.37-haddock-doc/share/doc/monad-logger/html/src"><span class="hs-identifier hs-var">runStdoutLoggingT</span></a></span><span> </span><span class="annot"><span class="annottext">(LoggingT IO () -&gt; IO ()) -&gt; LoggingT IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; LoggingT IO ()
forall (m :: * -&gt; *). MonadLogger m =&gt; Text -&gt; m ()
</span><a href="../file:///nix/store/2asw7plc1yllcl4zg8wsh6r9qjcajryd-monad-logger-lib-monad-logger-0.3.37-haddock-doc/share/doc/monad-logger/html/src"><span class="hs-identifier hs-var">logErrorN</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; LoggingT IO ())
-&gt; (PABError -&gt; Text) -&gt; PABError -&gt; LoggingT IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Doc Any -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="../../../../plutus-contract/html/src"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">(Doc Any -&gt; Text) -&gt; (PABError -&gt; Doc Any) -&gt; PABError -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PABError -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../file:///nix/store/sbv9pqjhqdwa0bq7cll6wmzgwjf0al3r-prettyprinter-lib-prettyprinter-1.7.1-haddock-doc/share/doc/prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PABError
</span><a href="#local-6989586621680396428"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-128"></span><span>            </span><span class="annot"><span class="annottext">ExitCode -&gt; IO b
forall a. ExitCode -&gt; IO a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">exitWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ExitCode
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ExitFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span></pre></body></html>
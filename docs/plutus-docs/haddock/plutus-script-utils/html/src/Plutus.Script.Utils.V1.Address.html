<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutus.Script.Utils.V1.Address</span><span>
</span><span id="line-2"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorAddress"><span class="hs-identifier">mkValidatorAddress</span></a></span><span>
</span><span id="line-3"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorCardanoAddress"><span class="hs-identifier">mkValidatorCardanoAddress</span></a></span><span>
</span><span id="line-4"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkMintingPolicyCardanoAddress"><span class="hs-identifier">mkMintingPolicyCardanoAddress</span></a></span><span>
</span><span id="line-5"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkStakeValidatorCardanoAddress"><span class="hs-identifier">mkStakeValidatorCardanoAddress</span></a></span><span>
</span><span id="line-6"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Script</span></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.V1.Scripts.html"><span class="hs-identifier">Plutus.Script.Utils.V1.Scripts</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PV1</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V1.Ledger.Api</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Address</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">ScriptCredential</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Script</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Validator</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">getMintingPolicy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>                             </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">getStakeValidator</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">getValidator</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorAddress"><span class="hs-pragma hs-type">mkValidatorAddress</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- | The address that should be used by a transaction output locked by the given</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Plutus V1 validator script.</span><span>
</span><span id="line-17"></span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorAddress"><span class="hs-identifier hs-type">mkValidatorAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Validator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-18"></span><span id="mkValidatorAddress"><span class="annot"><span class="annottext">mkValidatorAddress :: Validator -&gt; Address
</span><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorAddress"><span class="hs-identifier hs-var hs-var">mkValidatorAddress</span></a></span></span><span> </span><span id="local-6989586621679364851"><span class="annot"><span class="annottext">Validator
</span><a href="#local-6989586621679364851"><span class="hs-identifier hs-var">validator</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Credential -&gt; Maybe StakingCredential -&gt; Address
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ValidatorHash -&gt; Credential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">ScriptCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Validator -&gt; ValidatorHash
</span><a href="Plutus.Script.Utils.V1.Scripts.html#validatorHash"><span class="hs-identifier hs-var">PV1.validatorHash</span></a></span><span> </span><span class="annot"><span class="annottext">Validator
</span><a href="#local-6989586621679364851"><span class="hs-identifier hs-var">validator</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
forall a. Maybe a
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-comment">-- | Cardano address of a 'PV1.Validator' script.</span><span>
</span><span id="line-21"></span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorCardanoAddress"><span class="hs-identifier hs-type">mkValidatorCardanoAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.NetworkId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Validator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.AddressInEra</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.BabbageEra</span></a></span><span>
</span><span id="line-22"></span><span id="mkValidatorCardanoAddress"><span class="annot"><span class="annottext">mkValidatorCardanoAddress :: NetworkId -&gt; Validator -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#mkValidatorCardanoAddress"><span class="hs-identifier hs-var hs-var">mkValidatorCardanoAddress</span></a></span></span><span> </span><span id="local-6989586621679364849"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364849"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId -&gt; Script -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#toScriptAddress"><span class="hs-identifier hs-var">toScriptAddress</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364849"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">(Script -&gt; AddressInEra BabbageEra)
-&gt; (Validator -&gt; Script) -&gt; Validator -&gt; AddressInEra BabbageEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Validator -&gt; Script
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var hs-var">getValidator</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-comment">-- | Cardano address of a 'PV1.MintingPolicy' script.</span><span>
</span><span id="line-25"></span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkMintingPolicyCardanoAddress"><span class="hs-identifier hs-type">mkMintingPolicyCardanoAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.NetworkId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.MintingPolicy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.AddressInEra</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.BabbageEra</span></a></span><span>
</span><span id="line-26"></span><span id="mkMintingPolicyCardanoAddress"><span class="annot"><span class="annottext">mkMintingPolicyCardanoAddress :: NetworkId -&gt; MintingPolicy -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#mkMintingPolicyCardanoAddress"><span class="hs-identifier hs-var hs-var">mkMintingPolicyCardanoAddress</span></a></span></span><span> </span><span id="local-6989586621679364846"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364846"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId -&gt; Script -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#toScriptAddress"><span class="hs-identifier hs-var">toScriptAddress</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364846"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">(Script -&gt; AddressInEra BabbageEra)
-&gt; (MintingPolicy -&gt; Script)
-&gt; MintingPolicy
-&gt; AddressInEra BabbageEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MintingPolicy -&gt; Script
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var hs-var">getMintingPolicy</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- | Cardano address of a 'PV1.MintingPolicy' script.</span><span>
</span><span id="line-29"></span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#mkStakeValidatorCardanoAddress"><span class="hs-identifier hs-type">mkStakeValidatorCardanoAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.NetworkId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.StakeValidator</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.AddressInEra</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.BabbageEra</span></a></span><span>
</span><span id="line-30"></span><span id="mkStakeValidatorCardanoAddress"><span class="annot"><span class="annottext">mkStakeValidatorCardanoAddress :: NetworkId -&gt; StakeValidator -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#mkStakeValidatorCardanoAddress"><span class="hs-identifier hs-var hs-var">mkStakeValidatorCardanoAddress</span></a></span></span><span> </span><span id="local-6989586621679364845"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364845"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId -&gt; Script -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#toScriptAddress"><span class="hs-identifier hs-var">toScriptAddress</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364845"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">(Script -&gt; AddressInEra BabbageEra)
-&gt; (StakeValidator -&gt; Script)
-&gt; StakeValidator
-&gt; AddressInEra BabbageEra
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">StakeValidator -&gt; Script
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var hs-var">getStakeValidator</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-comment">-- | Convert a 'Script' to a 'cardano-api' address.</span><span>
</span><span id="line-33"></span><span class="hs-comment">--</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- For why we depend on `cardano-api`,</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- see note [Hash computation of datums, redeemers and scripts]</span><span>
</span><span id="line-36"></span><span class="annot"><a href="Plutus.Script.Utils.V1.Address.html#toScriptAddress"><span class="hs-identifier hs-type">toScriptAddress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.NetworkId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.AddressInEra</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-type">Script.BabbageEra</span></a></span><span>
</span><span id="line-37"></span><span id="toScriptAddress"><span class="annot"><span class="annottext">toScriptAddress :: NetworkId -&gt; Script -&gt; AddressInEra BabbageEra
</span><a href="Plutus.Script.Utils.V1.Address.html#toScriptAddress"><span class="hs-identifier hs-var hs-var">toScriptAddress</span></a></span></span><span> </span><span id="local-6989586621679364844"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364844"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span id="local-6989586621679364843"><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679364843"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; AddressInEra BabbageEra
forall era.
IsShelleyBasedEra era =&gt;
NetworkId
-&gt; PaymentCredential -&gt; StakeAddressReference -&gt; AddressInEra era
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">Script.makeShelleyAddressInEra</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679364844"><span class="hs-identifier hs-var">networkId</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; PaymentCredential
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">Script.PaymentCredentialByScript</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="annottext">(ScriptHash -&gt; PaymentCredential)
-&gt; (Script PlutusScriptV1 -&gt; ScriptHash)
-&gt; Script PlutusScriptV1
-&gt; PaymentCredential
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Script PlutusScriptV1 -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">Script.hashScript</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="annottext">(Script PlutusScriptV1 -&gt; PaymentCredential)
-&gt; Script PlutusScriptV1 -&gt; PaymentCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/sc7phsrhp1xzn7n38mdjvapkbif3753i-ghc-8.10.7-doc/share/doc/ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script -&gt; Script PlutusScriptV1
</span><a href="Plutus.Script.Utils.V1.Scripts.html#toCardanoApiScript"><span class="hs-identifier hs-var">PV1.toCardanoApiScript</span></a></span><span> </span><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679364843"><span class="hs-identifier hs-var">script</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><span class="annottext">StakeAddressReference
</span><a href="../file:///nix/store/r16vjy39pj2p47ag6d6qd397xdpngrlp-cardano-api-lib-cardano-api-1.35.4-haddock-doc/share/doc/cardano-api/html/src"><span class="hs-identifier hs-var">Script.NoStakeAddress</span></a></span><span>
</span><span id="line-43"></span></pre></body></html>
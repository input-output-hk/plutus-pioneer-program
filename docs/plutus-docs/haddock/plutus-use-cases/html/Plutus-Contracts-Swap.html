<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Plutus.Contracts.Swap</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">plutus-use-cases-1.1.0.0: Collection of smart contracts to develop the plutus/wallet interface</span><ul class="links" id="page-menu"><li><a href="src/Plutus.Contracts.Swap.html">Source</a></li><li><a href="../../share/doc/index.html">Contents</a></li><li><a href="../../share/doc/doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Plutus.Contracts.Swap</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Script</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Swap">Swap</a> = <a href="#v:Swap">Swap</a> {<ul class="subs"><li><a href="#v:swapNotionalAmt">swapNotionalAmt</a> :: !<a href="../../plutus-ledger/html/Ledger-Ada.html#t:Ada" title="Ledger.Ada">Ada</a></li><li><a href="#v:swapObservationTime">swapObservationTime</a> :: !<a href="../../plutus-ledger/html/Ledger.html#t:POSIXTime" title="Ledger">POSIXTime</a></li><li><a href="#v:swapFixedRate">swapFixedRate</a> :: !<a href="../../plutus-tx/html/PlutusTx-Ratio.html#t:Rational" title="PlutusTx.Ratio">Rational</a></li><li><a href="#v:swapFloatingRate">swapFloatingRate</a> :: !<a href="../../plutus-tx/html/PlutusTx-Ratio.html#t:Rational" title="PlutusTx.Ratio">Rational</a></li><li><a href="#v:swapMargin">swapMargin</a> :: !<a href="../../plutus-ledger/html/Ledger-Ada.html#t:Ada" title="Ledger.Ada">Ada</a></li><li><a href="#v:swapOracle">swapOracle</a> :: <a href="../../plutus-ledger/html/Ledger-Address.html#t:PaymentPubKey" title="Ledger.Address">PaymentPubKey</a></li></ul>}</li><li class="src short"><a href="#v:swapValidator">swapValidator</a> :: <a href="Plutus-Contracts-Swap.html#t:Swap" title="Plutus.Contracts.Swap">Swap</a> -&gt; <a href="../../plutus-ledger/html/Ledger-Typed-Scripts.html#t:Validator" title="Ledger.Typed.Scripts">Validator</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Swap" class="def">Swap</a> <a href="src/Plutus.Contracts.Swap.html#Swap" class="link">Source</a> <a href="#t:Swap" class="selflink">#</a></p><div class="doc"><p>A swap is an agreement to exchange cashflows at future dates. To keep
  things simple, this is an interest rate swap (meaning that the cashflows are
  interest payments on the same principal amount but with two different
  interest rates, of which one is fixed and one is floating (varying with
  time)) with only a single payment date.</p><p>At the beginning of the contract, the fixed rate is set to the expected
  future value of the floating rate (so if the floating rate behaves as
  expected, the two payments will be exactly equal).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Swap" class="def">Swap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:swapNotionalAmt" class="def">swapNotionalAmt</a> :: !<a href="../../plutus-ledger/html/Ledger-Ada.html#t:Ada" title="Ledger.Ada">Ada</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:swapObservationTime" class="def">swapObservationTime</a> :: !<a href="../../plutus-ledger/html/Ledger.html#t:POSIXTime" title="Ledger">POSIXTime</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:swapFixedRate" class="def">swapFixedRate</a> :: !<a href="../../plutus-tx/html/PlutusTx-Ratio.html#t:Rational" title="PlutusTx.Ratio">Rational</a></dfn><div class="doc"><p>Interest rate fixed at the beginning of the contract</p></div></li><li><dfn class="src"><a id="v:swapFloatingRate" class="def">swapFloatingRate</a> :: !<a href="../../plutus-tx/html/PlutusTx-Ratio.html#t:Rational" title="PlutusTx.Ratio">Rational</a></dfn><div class="doc"><p>Interest rate whose value will be observed (by an oracle) on the day
 of the payment</p></div></li><li><dfn class="src"><a id="v:swapMargin" class="def">swapMargin</a> :: !<a href="../../plutus-ledger/html/Ledger-Ada.html#t:Ada" title="Ledger.Ada">Ada</a></dfn><div class="doc"><p>Margin deposited at the beginning of the contract to protect against
 default (one party failing to pay)</p></div></li><li><dfn class="src"><a id="v:swapOracle" class="def">swapOracle</a> :: <a href="../../plutus-ledger/html/Ledger-Address.html#t:PaymentPubKey" title="Ledger.Address">PaymentPubKey</a></dfn><div class="doc"><p>Public key of the oracle (see note [Oracles] in [[Plutus.Contracts]]).
 Unsure why, but this field needs to be non-strict, otherwise GHC will try
 to unbox the datatype, which will result in a compilation error such as
 &quot;GHC Core to PLC plugin: E042:Error: Unsupported feature: Type constructor: GHC.Prim.Addr#&quot;</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Swap">Instances</h4><details id="i:Swap" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Swap:Lift:1"></span> <a href="../../plutus-tx/html/PlutusTx-Lift-Class.html#t:Lift" title="PlutusTx.Lift.Class">Lift</a> <a href="../../plutus-core/html/PlutusCore-Default.html#t:DefaultUni" title="PlutusCore.Default">DefaultUni</a> <a href="Plutus-Contracts-Swap.html#t:Swap" title="Plutus.Contracts.Swap">Swap</a></span> <a href="src/Plutus.Contracts.Swap.html#line-59" class="link">Source</a> <a href="#t:Swap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Swap:Lift:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contracts-Swap.html">Plutus.Contracts.Swap</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="Plutus-Contracts-Swap.html#t:Swap" title="Plutus.Contracts.Swap">Swap</a> -&gt; <a href="../../plutus-tx/html/PlutusTx-Lift-Class.html#t:RTCompile" title="PlutusTx.Lift.Class">RTCompile</a> <a href="../../plutus-core/html/PlutusCore-Default.html#t:DefaultUni" title="PlutusCore.Default">DefaultUni</a> fun (<a href="../../plutus-core/html/PlutusIR-Core-Type.html#t:Term" title="PlutusIR.Core.Type">Term</a> <a href="../../plutus-core/html/PlutusCore-Name.html#t:TyName" title="PlutusCore.Name">TyName</a> <a href="../../plutus-core/html/PlutusCore-Name.html#t:Name" title="PlutusCore.Name">Name</a> <a href="../../plutus-core/html/PlutusCore-Default.html#t:DefaultUni" title="PlutusCore.Default">DefaultUni</a> fun ()) <a href="../../plutus-tx/html/src" class="link">Source</a> <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Swap:Typeable:2"></span> <a href="../../plutus-tx/html/PlutusTx-Lift-Class.html#t:Typeable" title="PlutusTx.Lift.Class">Typeable</a> <a href="../../plutus-core/html/PlutusCore-Default.html#t:DefaultUni" title="PlutusCore.Default">DefaultUni</a> <a href="Plutus-Contracts-Swap.html#t:Swap" title="Plutus.Contracts.Swap">Swap</a></span> <a href="src/Plutus.Contracts.Swap.html#line-59" class="link">Source</a> <a href="#t:Swap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Swap:Typeable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Plutus-Contracts-Swap.html">Plutus.Contracts.Swap</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:typeRep">typeRep</a> :: <a href="file:///nix/store/0kjhf34aawmb0d0rl5sg2dgxxn1n9jbr-Cabal-lib-Cabal-3.2.1.0-haddock-doc/share/doc/Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Proxy" title="Distribution.Compat.Prelude.Internal">Proxy</a> <a href="Plutus-Contracts-Swap.html#t:Swap" title="Plutus.Contracts.Swap">Swap</a> -&gt; <a href="../../plutus-tx/html/PlutusTx-Lift-Class.html#t:RTCompile" title="PlutusTx.Lift.Class">RTCompile</a> <a href="../../plutus-core/html/PlutusCore-Default.html#t:DefaultUni" title="PlutusCore.Default">DefaultUni</a> fun (<a href="../../plutus-core/html/PlutusCore-Core.html#t:Type" title="PlutusCore.Core">Type</a> <a href="../../plutus-core/html/PlutusCore-Name.html#t:TyName" title="PlutusCore.Name">TyName</a> <a href="../../plutus-core/html/PlutusCore-Default.html#t:DefaultUni" title="PlutusCore.Default">DefaultUni</a> ()) <a href="../../plutus-tx/html/src" class="link">Source</a> <a href="#v:typeRep" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:1" id="g:1"><h1>Script</h1></a><div class="top"><p class="src"><a id="v:swapValidator" class="def">swapValidator</a> :: <a href="Plutus-Contracts-Swap.html#t:Swap" title="Plutus.Contracts.Swap">Swap</a> -&gt; <a href="../../plutus-ledger/html/Ledger-Typed-Scripts.html#t:Validator" title="Ledger.Typed.Scripts">Validator</a> <a href="src/Plutus.Contracts.Swap.html#swapValidator" class="link">Source</a> <a href="#v:swapValidator" class="selflink">#</a></p><div class="doc"><p>Validator script for the two transactions that initialise the swap.
   See note [Swap Transactions]
   See note [Contracts and Validator Scripts] in
       Language.Plutus.Coordination.Contracts</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>